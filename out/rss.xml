<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Hacker News: Front Page</title><link>https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml</link><description>Hacker News RSS</description><atom:link href="https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml" rel="self"/><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><language>en</language><lastBuildDate>Wed, 24 Dec 2025 11:10:51 +0000</lastBuildDate><item><title>We replaced H.264 streaming with JPEG screenshots (and it worked better)</title><link>https://blog.helix.ml/p/we-mass-deployed-15-year-old-screen</link><description>&lt;doc fingerprint="26854c146509ce1d"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;We Mass-Deployed 15-Year-Old Screen Sharing Technology and It's Actually Better&lt;/head&gt;
    &lt;head rend="h3"&gt;Or: How JPEG Screenshots Defeated Our Beautiful H.264 WebCodecs Pipeline&lt;/head&gt;
    &lt;p&gt;Part 2 of our video streaming saga. Read Part 1: How we replaced WebRTC with WebSockets →&lt;/p&gt;
    &lt;head rend="h2"&gt;The Year is 2025 and We’re Sending JPEGs&lt;/head&gt;
    &lt;p&gt;Let me tell you about the time we spent three months building a gorgeous, hardware-accelerated, WebCodecs-powered, 60fps H.264 streaming pipeline over WebSockets...&lt;/p&gt;
    &lt;p&gt;...and then replaced it with &lt;code&gt;grim | curl&lt;/code&gt; when the WiFi got a bit sketchy.&lt;/p&gt;
    &lt;p&gt;I wish I was joking.&lt;/p&gt;
    &lt;head rend="h2"&gt;Act I: Hubris (Also Known As “Enterprise Networking Exists”)&lt;/head&gt;
    &lt;p&gt;We’re building Helix, an AI platform where autonomous coding agents work in cloud sandboxes. Users need to watch their AI assistants work. Think “screen share, but the thing being shared is a robot writing code.”&lt;/p&gt;
    &lt;p&gt;Last week, we explained how we replaced WebRTC with a custom WebSocket streaming pipeline. This week: why that wasn’t enough.&lt;/p&gt;
    &lt;p&gt;The constraint that ruined everything: It has to work on enterprise networks.&lt;/p&gt;
    &lt;p&gt;You know what enterprise networks love? HTTP. HTTPS. Port 443. That’s it. That’s the list.&lt;/p&gt;
    &lt;p&gt;You know what enterprise networks hate?&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;UDP — Blocked. Deprioritized. Dropped. “Security risk.”&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;WebRTC — Requires TURN servers, which requires UDP, which is blocked&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Custom ports — Firewall says no&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;STUN/ICE — NAT traversal? In my corporate network? Absolutely not&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Literally anything fun — Denied by policy&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We tried WebRTC first. Worked great in dev. Worked great in our cloud. Deployed to an enterprise customer.&lt;/p&gt;
    &lt;p&gt;“The video doesn’t connect.”&lt;/p&gt;
    &lt;p&gt;checks network — Outbound UDP blocked. TURN server unreachable. ICE negotiation failing.&lt;/p&gt;
    &lt;p&gt;We could fight this. Set up TURN servers. Configure enterprise proxies. Work with IT departments.&lt;/p&gt;
    &lt;p&gt;Or we could accept reality: Everything must go through HTTPS on port 443.&lt;/p&gt;
    &lt;p&gt;So we built a pure WebSocket video pipeline:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;H.264 encoding via GStreamer + VA-API (hardware acceleration, baby)&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Binary frames over WebSocket (L7 only, works through any proxy)&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;WebCodecs API for hardware decoding in the browser&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;60fps at 40Mbps with sub-100ms latency&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We were so proud. We wrote Rust. We wrote TypeScript. We implemented our own binary protocol. We measured things in microseconds.&lt;/p&gt;
    &lt;p&gt;Then someone tried to use it from a coffee shop.&lt;/p&gt;
    &lt;head rend="h2"&gt;Act II: Denial&lt;/head&gt;
    &lt;p&gt;“The video is frozen.”&lt;/p&gt;
    &lt;p&gt;“Your WiFi is bad.”&lt;/p&gt;
    &lt;p&gt;“No, the video is definitely frozen. And now my keyboard isn’t working.”&lt;/p&gt;
    &lt;p&gt;checks the video&lt;/p&gt;
    &lt;p&gt;It’s showing what the AI was doing 30 seconds ago. And the delay is growing.&lt;/p&gt;
    &lt;p&gt;Turns out, 40Mbps video streams don’t appreciate 200ms+ network latency. Who knew.&lt;/p&gt;
    &lt;p&gt;When the network gets congested:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Frames buffer up in the TCP/WebSocket layer&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;They arrive in-order (thanks TCP!) but increasingly delayed&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Video falls further and further behind real-time&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;You’re watching the AI type code from 45 seconds ago&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;By the time you see a bug, the AI has already committed it to main&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Everything is terrible forever&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;“Just lower the bitrate,” you say. Great idea. Now it’s 10Mbps of blocky garbage that’s still 30 seconds behind.&lt;/p&gt;
    &lt;head rend="h2"&gt;Act III: Bargaining&lt;/head&gt;
    &lt;p&gt;We tried everything:&lt;/p&gt;
    &lt;p&gt;“What if we only send keyframes?”&lt;/p&gt;
    &lt;p&gt;This was our big brain moment. H.264 keyframes (IDR frames) are self-contained. No dependencies on previous frames. Just drop all the P-frames on the server side, send only keyframes, get ~1fps of corruption-free video. Perfect for low-bandwidth fallback!&lt;/p&gt;
    &lt;p&gt;We added a &lt;code&gt;keyframes_only&lt;/code&gt; flag. We modified the video decoder to check &lt;code&gt;FrameType::Idr&lt;/code&gt;. We set GOP to 60 (one keyframe per second at 60fps). We tested.&lt;/p&gt;
    &lt;p&gt;We got exactly ONE frame.&lt;/p&gt;
    &lt;p&gt;One single, beautiful, 1080p IDR frame. Then silence. Forever.&lt;/p&gt;
    &lt;code&gt;[WebSocket] Keyframe received (frame 121), sending
[WebSocket] ...
[WebSocket] ...
[WebSocket] It's been 14 seconds why is nothing else coming
[WebSocket] Failed to send audio frame: Closed&lt;/code&gt;
    &lt;p&gt;checks Wolf logs — encoder still running&lt;/p&gt;
    &lt;p&gt;checks GStreamer pipeline — frames being produced&lt;/p&gt;
    &lt;p&gt;checks Moonlight protocol layer — nothing coming through&lt;/p&gt;
    &lt;p&gt;We’re using Wolf, an excellent open-source game streaming server (seriously, the documentation is great). But our WebSocket streaming layer sits on top of the Moonlight protocol, which is reverse-engineered from NVIDIA GameStream. Somewhere in that protocol stack, something decides that if you’re not consuming P-frames, you’re not ready for more frames. Period.&lt;/p&gt;
    &lt;p&gt;We poked around for an hour or two, but without diving deep into the Moonlight protocol internals, we weren’t going to fix this. The protocol wanted all its frames, or no frames at all.&lt;/p&gt;
    &lt;p&gt;“What if we implement proper congestion control?”&lt;/p&gt;
    &lt;p&gt;looks at TCP congestion control literature&lt;/p&gt;
    &lt;p&gt;closes tab&lt;/p&gt;
    &lt;p&gt;“What if we just... don’t have bad WiFi?”&lt;/p&gt;
    &lt;p&gt;stares at enterprise firewall that’s throttling everything&lt;/p&gt;
    &lt;head rend="h2"&gt;Act IV: Depression&lt;/head&gt;
    &lt;p&gt;One late night, while debugging why the stream was frozen again, I opened our screenshot debugging endpoint in a browser tab:&lt;/p&gt;
    &lt;code&gt;GET /api/v1/external-agents/abc123/screenshot?format=jpeg&amp;amp;quality=70&lt;/code&gt;
    &lt;p&gt;The image loaded instantly.&lt;/p&gt;
    &lt;p&gt;A pristine, 150KB JPEG of the remote desktop. Crystal clear. No artifacts. No waiting for keyframes. No decoder state. Just... pixels.&lt;/p&gt;
    &lt;p&gt;I refreshed. Another instant image.&lt;/p&gt;
    &lt;p&gt;I mashed F5 like a degenerate. 5 FPS of perfect screenshots.&lt;/p&gt;
    &lt;p&gt;I looked at my beautiful WebCodecs pipeline. I looked at the JPEGs. I looked at the WebCodecs pipeline again.&lt;/p&gt;
    &lt;p&gt;No.&lt;/p&gt;
    &lt;p&gt;No, we are not doing this.&lt;/p&gt;
    &lt;p&gt;We are professionals. We implement proper video codecs. We don’t spam HTTP requests for individual frames like it’s 2009.&lt;/p&gt;
    &lt;head rend="h2"&gt;Act V: Acceptance&lt;/head&gt;
    &lt;code&gt;// Poll screenshots as fast as possible (capped at 10 FPS max)
const fetchScreenshot = async () =&amp;gt; {
  const response = await fetch(`/api/v1/external-agents/${sessionId}/screenshot`)
  const blob = await response.blob()
  screenshotImg.src = URL.createObjectURL(blob)
  setTimeout(fetchScreenshot, 100) // yolo
}&lt;/code&gt;
    &lt;p&gt;We did it. We’re sending JPEGs.&lt;/p&gt;
    &lt;p&gt;And you know what? It works perfectly.&lt;/p&gt;
    &lt;head rend="h2"&gt;Why JPEGs Actually Slap&lt;/head&gt;
    &lt;p&gt;Here’s the thing about our fancy H.264 pipeline:&lt;/p&gt;
    &lt;p&gt;A JPEG screenshot is self-contained. It either arrives complete, or it doesn’t. There’s no “partial decode.” There’s no “waiting for the next keyframe.” There’s no “decoder state corruption.”&lt;/p&gt;
    &lt;p&gt;When the network is bad, you get... fewer JPEGs. That’s it. The ones that arrive are perfect.&lt;/p&gt;
    &lt;p&gt;And the size! A 70% quality JPEG of a 1080p desktop is like 100-150KB. A single H.264 keyframe is 200-500KB. We’re sending LESS data per frame AND getting better reliability.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Hybrid: Have Your Cake and Eat It Too&lt;/head&gt;
    &lt;p&gt;We didn’t throw away the H.264 pipeline. We’re not complete animals.&lt;/p&gt;
    &lt;p&gt;Instead, we built adaptive switching:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Good connection (RTT &amp;lt; 150ms): Full 60fps H.264, hardware decoded, buttery smooth&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Bad connection detected: Pause video, switch to screenshot polling&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Connection recovers: User clicks to retry video&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The key insight: we still need the WebSocket for input.&lt;/p&gt;
    &lt;p&gt;Keyboard and mouse events are tiny. Like, 10 bytes each. The WebSocket handles those perfectly even on a garbage connection. We just needed to stop sending the massive video frames.&lt;/p&gt;
    &lt;p&gt;So we added one control message:&lt;/p&gt;
    &lt;p&gt;json&lt;/p&gt;
    &lt;code&gt;{"set_video_enabled": false}&lt;/code&gt;
    &lt;p&gt;Server receives this, stops sending video frames. Client polls screenshots instead. Input keeps flowing. Everyone’s happy.&lt;/p&gt;
    &lt;p&gt;15 lines of Rust. I am not joking.&lt;/p&gt;
    &lt;p&gt;rust&lt;/p&gt;
    &lt;code&gt;if !video_enabled.load(Ordering::Relaxed) {
    continue; // skip frame, it's screenshot time baby
}&lt;/code&gt;
    &lt;head rend="h2"&gt;The Oscillation Problem (Lol)&lt;/head&gt;
    &lt;p&gt;We almost shipped a hilarious bug.&lt;/p&gt;
    &lt;p&gt;When you stop sending video frames, the WebSocket becomes basically empty. Just tiny input events and occasional pings.&lt;/p&gt;
    &lt;p&gt;The latency drops dramatically.&lt;/p&gt;
    &lt;p&gt;Our adaptive mode sees low latency and thinks: “Oh nice! Connection recovered! Let’s switch back to video!”&lt;/p&gt;
    &lt;p&gt;Video resumes. 40Mbps floods the connection. Latency spikes. Mode switches to screenshots.&lt;/p&gt;
    &lt;p&gt;Latency drops. Mode switches to video.&lt;/p&gt;
    &lt;p&gt;Latency spikes. Mode switches to screenshots.&lt;/p&gt;
    &lt;p&gt;Forever. Every 2 seconds.&lt;/p&gt;
    &lt;p&gt;The fix was embarrassingly simple: once you fall back to screenshots, stay there until the user explicitly clicks to retry.&lt;/p&gt;
    &lt;code&gt;setAdaptiveLockedToScreenshots(true) // no oscillation for you&lt;/code&gt;
    &lt;p&gt;We show an amber icon and a message: “Video paused to save bandwidth. Click to retry.”&lt;/p&gt;
    &lt;p&gt;Problem solved. User is in control. No infinite loops.&lt;/p&gt;
    &lt;head rend="h2"&gt;Ubuntu Doesn’t Ship JPEG Support in grim Because Of Course It Doesn’t&lt;/head&gt;
    &lt;code&gt;$ grim -t jpeg screenshot.jpg
error: jpeg support disabled&lt;/code&gt;
    &lt;p&gt;Oh, you thought we were done? Cute.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;grim&lt;/code&gt; is a Wayland screenshot tool. Perfect for our needs. Supports JPEG output for smaller files.&lt;/p&gt;
    &lt;p&gt;Except Ubuntu compiles it without libjpeg.&lt;/p&gt;
    &lt;p&gt;incredible&lt;/p&gt;
    &lt;p&gt;So now our Dockerfile has a build stage that compiles grim from source:&lt;/p&gt;
    &lt;code&gt;FROM ubuntu:25.04 AS grim-build
RUN apt-get install -y meson ninja-build libjpeg-turbo8-dev ...
RUN git clone https://git.sr.ht/~emersion/grim &amp;amp;&amp;amp; \
    meson setup build -Djpeg=enabled &amp;amp;&amp;amp; \
    ninja -C build&lt;/code&gt;
    &lt;p&gt;We’re building a screenshot tool from source so we can send JPEGs in 2025. This is fine.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Final Architecture&lt;/head&gt;
    &lt;code&gt;┌─────────────────────────────────────────────────────────────┐
│                     User's Browser                          │
├─────────────────────────────────────────────────────────────┤
│  WebSocket (always connected)                               │
│  ├── Video frames (H.264) ──────────── when RTT &amp;lt; 150ms     │
│  ├── Input events (keyboard/mouse) ── always                │
│  └── Control messages ─────────────── {"set_video_enabled"} │
│                                                             │
│  HTTP (screenshot polling) ──────────── when RTT &amp;gt; 150ms    │
│  └── GET /screenshot?quality=70                             │
└─────────────────────────────────────────────────────────────┘&lt;/code&gt;
    &lt;p&gt;Good connection: 60fps H.264, hardware accelerated, beautiful&lt;/p&gt;
    &lt;p&gt;Bad connection: 2-10fps JPEGs, perfectly reliable, works everywhere&lt;/p&gt;
    &lt;p&gt;The screenshot quality adapts too:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;Frame took &amp;gt;500ms? Drop quality by 10%&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Frame took &amp;lt;300ms? Increase quality by 5%&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Target: minimum 2 FPS, always&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Lessons Learned&lt;/head&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Simple solutions often beat complex ones. Three months of H.264 pipeline work. One 2am hacking session the night before production deployment: “what if we just... screenshots?”&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Graceful degradation is a feature. Users don’t care about your codec. They care about seeing their screen and typing.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;WebSockets are for input, not necessarily video. The input path staying responsive is more important than video frames.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Ubuntu packages are missing random features. Always check. Or just build from source like it’s 2005.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Measure before optimizing. We assumed video streaming was the only option. It wasn’t.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Try It Yourself&lt;/head&gt;
    &lt;p&gt;Helix is source available: github.com/helixml/helix&lt;/p&gt;
    &lt;p&gt;The shameful-but-effective screenshot code:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;api/cmd/screenshot-server/main.go&lt;/code&gt;— 200 lines of Go that changed everything&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;MoonlightStreamViewer.tsx&lt;/code&gt;— React component with adaptive logic&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;websocket-stream.ts&lt;/code&gt;— WebSocket client with&lt;code&gt;setVideoEnabled()&lt;/code&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The beautiful H.264 pipeline we’re still proud of:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;moonlight-web-stream/&lt;/code&gt;— Rust WebSocket server&lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Still used when your WiFi doesn’t suck&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We’re building Helix, open-source AI infrastructure that works in the real world — even on terrible WiFi. We started by killing WebRTC, then we killed our replacement. Sometimes the 15-year-old solution is the right one.&lt;/p&gt;
    &lt;p&gt;Want to experience the joy of interacting with an agent desktop at 6 JPEGs a second yourself? Join us for the private beta on Discord:&lt;/p&gt;
    &lt;p&gt;Star us on GitHub: github.com/helixml/helix&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46367475</guid><pubDate>Tue, 23 Dec 2025 18:00:31 +0000</pubDate></item><item><title>Volvo Centum is Dalton Maag's new typeface for Volvo</title><link>https://www.wallpaper.com/design-interiors/corporate-design-branding/volvo-new-font-volvo-centum</link><description>&lt;doc fingerprint="d51e5267b557a443"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Volvo’s quest for safety has resulted in this new, ultra-legible in-car typeface, Volvo Centum&lt;/head&gt;
    &lt;p&gt;Dalton Maag designs a new sans serif typeface for the Swedish carmaker, Volvo Centum, building on the brand’s strong safety ethos&lt;/p&gt;
    &lt;p&gt;Volvo will celebrate its centennial in 2027 and the company is already starting to ramp up the celebrations. Last year saw the opening of the World of Volvo in Gothenburg, a vast circular timber structure designed by Scandinavian design specialists Henning Larsen.&lt;/p&gt;
    &lt;p&gt;2026 will see another significant design upheaval, albeit on a much smaller and less obvious scale. The arrival of a new brand typeface, Volvo Centum, manages to combine the company’s obvious love of modernist design with its obsessive pursuit of safety.&lt;/p&gt;
    &lt;p&gt;The work of London-based type design studio Dalton Maag, the new typeface is designed ‘to improve readability, sharpen attention, and promote a calmer, safety-focused driving experience.’&lt;/p&gt;
    &lt;p&gt;With so much information conveyed via screens – especially capacitive touch screens – legibility and clarity have become an essential component of a modern car’s HMI. Volvo Centum is a sans serif of exceptional clarity and simplicity, designed for what the company calls ‘glance-driven environments.’&lt;/p&gt;
    &lt;p&gt;The first car to be installed with Volvo Centum is the newly revised XC60 mid-size SUV and its upcoming all-new EX60 electric sibling. Over-the-air updates will then be used to roll out the typeface across millions of other cars.&lt;/p&gt;
    &lt;p&gt;If there’s been one criticism of Volvo in recent years, it’s that the company has off-loaded huge amounts of information and driver input onto a central touchscreen. Volvo was ahead of the curve in adopting Google’s Android in 2017 and were a key partner in the development of Android Auto. How this system dovetails with the new typeface remains to be seen.&lt;/p&gt;
    &lt;p&gt;Dalton Maag faced a formidable challenge in ensuring Volvo Centum worked across the brand’s many platforms, as well as being legible in all driving conditions and in 35 different languages, including Chinese, Arabic, Japanese, and Korean.&lt;/p&gt;
    &lt;p&gt;Receive our daily digest of inspiration, escapism and design stories from around the world direct to your inbox.&lt;/p&gt;
    &lt;p&gt;By creating a set of distinct character shapes, the studio has striven to avoid any unintentional misreading, with clear spacing and a scaling system that simplifies detailed elements to retain legibility.&lt;/p&gt;
    &lt;p&gt;The studio, founded in 1991 by Swiss typeface designer Bruno Maag, has worked across a number of industries, including media (BBC, Netflix, USA Today), transportation (Ducati and Korean Air) and technology (Vodafone and Wix), amongst others.&lt;/p&gt;
    &lt;p&gt;DaltonMaag.com, @Dalton.Maag, Volvo.com, @Volvocars&lt;/p&gt;
    &lt;p&gt;Jonathan Bell has written for Wallpaper* magazine since 1999, covering everything from architecture and transport design to books, tech and graphic design. He is now the magazine’s Transport and Technology Editor. Jonathan has written and edited 15 books, including Concept Car Design, 21st Century House, and The New Modern House. He is also the host of Wallpaper’s first podcast.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt; Terrified to get inked? This inviting Brooklyn tattoo parlour is for people who are 'a little bit nervous'&lt;p&gt;With minty-green walls and an option to 'call mom', Tiny Zaps' Williamsburg location was designed to tame jitters&lt;/p&gt;&lt;/item&gt;
      &lt;item&gt; Let’s hear it for the Chopard L.U.C Grand Strike chiming watch&lt;p&gt;The Swiss watchmaker’s most complicated timepiece to date features an innovative approach to producing a crystal-clear sound&lt;/p&gt;&lt;/item&gt;
      &lt;item&gt; Form... and flavour? The best design-led restaurant debuts of 2025&lt;p&gt;A Wallpaper* edit of the restaurant interiors that shaped how we ate, gathered and lingered this year&lt;/p&gt;&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46367864</guid><pubDate>Tue, 23 Dec 2025 18:33:01 +0000</pubDate></item><item><title>Help My c64 caught on fire</title><link>https://c0de517e.com/026_c64fire.htm</link><description>&lt;doc fingerprint="b55d69584f161f32"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;HTTP caching, a refresher&lt;/head&gt;
    &lt;p&gt;This is a reading of RFC 9111 (2022), the latest iteration of the HTTP Caching standard.&lt;/p&gt;
    &lt;p&gt;It defines the &lt;code&gt;Cache-Control&lt;/code&gt; HTTP header as a way to prescribe how caches should store and reuse HTTP responses, with regards to not just the browser cache, but to any other intermediary caches, such as proxies and content delivery networks, that may exist between the client and the origin server.&lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;Cache-Control&lt;/code&gt; header accepts a set of comma-separated directives, some of which are meant to be added to HTTP requests, and others to HTTP responses. A typical response header:&lt;/p&gt;
    &lt;code&gt;HTTP/2 200
Cache-Control: max-age=0, must-revalidate
&lt;/code&gt;
    &lt;p&gt;Some of these directives specifically target shared caches, that is intermediary caches that serve the same cached responses to many users, while others also apply to private caches such as the browser cache.&lt;/p&gt;
    &lt;head rend="h2"&gt;Whatâs fresh?&lt;/head&gt;
    &lt;p&gt;Whenever the cache receives a request, it must figure out if the cached response is still fresh and can therefore be reused without incurring the performance tax of an HTTP request, or whether it has gone stale and should be validated with the server.&lt;/p&gt;
    &lt;p&gt;To decide on freshness, the cache compares the age of the response to the responseâs so-called freshness timeline.&lt;/p&gt;
    &lt;p&gt;The age of a cached response is the time elapsed since it was last generated or revalidated by the origin server. To the time spent in its own cache, the browser will add any &lt;code&gt;Age: &amp;lt;seconds&amp;gt;&lt;/code&gt; header received from intermediary caches.&lt;/p&gt;
    &lt;p&gt;The freshness timeline is a duration beyond which the cached response is to be considered stale. Itâs usually signaled by the server via the appropriate response headers, but may also be guesstimated by the cache in the absence of explicit, valid cues. In order of precedence:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;the server establishes a freshness timeline, in seconds, with the &lt;code&gt;Cache-Control: max-age=&amp;lt;number&amp;gt;&lt;/code&gt;directive on the response; otherwise,&lt;/item&gt;
      &lt;item&gt;the cache falls back to computing the interval between the &lt;code&gt;Expires: &amp;lt;date&amp;gt;&lt;/code&gt;and&lt;code&gt;Date: &amp;lt;date&amp;gt;&lt;/code&gt;response headers, if available; otherwise,&lt;/item&gt;
      &lt;item&gt;if thereâs no &lt;code&gt;Expires&lt;/code&gt;header, the response lacks an explicit expiration, and a heuristic freshness based on the&lt;code&gt;Last-Modified&lt;/code&gt;response header might be applicable.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;For shared caches, the special &lt;code&gt;s-maxage=&amp;lt;number&amp;gt;&lt;/code&gt; directive takes precedence over all others.&lt;/p&gt;
    &lt;head rend="h2"&gt;Going past expiration&lt;/head&gt;
    &lt;p&gt;Just because a response has gone stale, it doesnât mean it needs to be thrown out.&lt;/p&gt;
    &lt;p&gt;When it receives a request for a stale cached response, the cache should validate it with its upstream server. Although validation always generates an HTTP request, it avoids a data transfer when thereâs no newer version of the cached response on the server, so it can still be faster than a regular request.&lt;/p&gt;
    &lt;p&gt;Validation uses a mechanism known as a conditional HTTP request, which includes one or more special headers called preconditions:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;if the precondition with the highest precedence is met, the server responds with HTTP 200 OK and an updated response body; otherwise,&lt;/item&gt;
      &lt;item&gt;it responds with HTTP 304 Not Modified and an empty body, confirming the existing response can be reused.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;To generate the preconditions needed for these conditional requests, which the server uses to compare the cached response to the freshest version available, responses must be tagged in a way thatâs unique to each version:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;historically, this was done with the &lt;code&gt;Last-Modified: &amp;lt;date&amp;gt;&lt;/code&gt;header, corresponding to the latest update to the content;&lt;/item&gt;
      &lt;item&gt;a more flexible and robust alternative is the &lt;code&gt;ETag: "&amp;lt;value&amp;gt;"&lt;/code&gt;header, which stores an arbitrary ASCII string that uniquely identifies the response. This string is usually a hash incorporating one or more aspects: the modification time, the file size, and the file content.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;When performing the validation, the cached response headers are mirrored as preconditions for the conditional request:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;Last-Modified: &amp;lt;date&amp;gt;&lt;/code&gt;becomes&lt;code&gt;If-Modified-Since: &amp;lt;date&amp;gt;&lt;/code&gt;;&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;ETag: "&amp;lt;value&amp;gt;"&lt;/code&gt;becomes&lt;code&gt;If-None-Match: "&amp;lt;value&amp;gt;"&lt;/code&gt;.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;When both preconditions are present, only &lt;code&gt;If-None-Match&lt;/code&gt; is evaluated.&lt;/p&gt;
    &lt;p&gt;Regardless of the result of the validation request, the cached response headers are updated with the new values received from the server, and the fresh-o-meter on the cached response is reset.&lt;/p&gt;
    &lt;p&gt;Certain caches may be set up to serve stale responses in some circumstances, such as when losing the connection to the server or in the event of an HTTP 5xx server error. There are also &lt;code&gt;Cache-Control&lt;/code&gt; directives that influence how stale responses are handled, covered in the next section.&lt;/p&gt;
    &lt;head rend="h2"&gt;Cache-Control response directives&lt;/head&gt;
    &lt;p&gt;
      &lt;code&gt;max-age=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;max-age&lt;/code&gt; response directive defines the responseâs freshness timeline in seconds, after which the response should be considered stale. â RFC 9111 Â§ 5.2.2.1&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;must-revalidate&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;must-revalidate&lt;/code&gt; response directive indicates that the cache must not reuse a stale response until itâs been successfully validated by the origin server. â RFC 9111 Â§ 5.2.2.2&lt;/p&gt;
    &lt;p&gt;If the server throws an error, the cache must surface that instead of reusing a stale response. If the cache is disconnected, it must produce an error with the HTTP 504 Gateway Timeout status code, or another more applicable error code.&lt;/p&gt;
    &lt;p&gt;Side effects: &lt;code&gt;must-revalidate&lt;/code&gt; is one of the directives, along with &lt;code&gt;s-maxage&lt;/code&gt; and &lt;code&gt;public&lt;/code&gt;, that allow shared caches to store and reuse a response to a request containing an &lt;code&gt;Authorization&lt;/code&gt; header, which they are generally prohibited from doing.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;no-cache&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;no-cache&lt;/code&gt; response directive indicates that the cache must not reuse any response until itâs successfully validated by the origin server. â RFC 9111 Â§ 5.2.2.4&lt;/p&gt;
    &lt;p&gt;This is similar to &lt;code&gt;must-revalidate&lt;/code&gt; but refers to all cached responses, not just stale ones. In effect, &lt;code&gt;no-cache&lt;/code&gt; is a sort of &lt;code&gt;max-age=0, must-revalidate&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;no-store&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;no-store&lt;/code&gt; response directive indicates that private and shared caches must not store any part of the request or the response, and to never reuse the response. The standard is quick to warn that the effect is not guaranteed:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;âMUST NOT storeâ in this context means that the cache MUST NOT intentionally store the information in non-volatile storage and MUST make a best-effort attempt to remove the information from volatile storage as promptly as possible after forwarding it. This directive is not a reliable or sufficient mechanism for ensuring privacy. In particular, malicious or compromised caches might not recognize or obey this directive, and communications networks might be vulnerable to eavesdropping. â RFC 9111 Â§ 5.2.2.4&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Side effects: The directive can also influence non-HTTP caches. Most browsers will exclude from the back/forward cache pages having the &lt;code&gt;no-store&lt;/code&gt; response directive. Chrome, however, has recently started to make some of these pages eligible for bfcache when the browser deems it safe.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;must-understand&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;must-understand&lt;/code&gt; response directive indicates that the cache shouldnât store or reuse responses with HTTP status codes whose semantics the cache doesnât understand and conform to. The directive is meant to future-proof existing implementations from status codes that might have special requirements in regards to caching. â RFC 9111 Â§ 5.2.2.3&lt;/p&gt;
    &lt;p&gt;Itâs recommended to use &lt;code&gt;must-understand, no-store&lt;/code&gt; together as a fallback, and caches are encouraged to ignore the &lt;code&gt;no-store&lt;/code&gt; directive if they do understand the semantics of the HTTP status code. This ensures older caches that donât recognize the &lt;code&gt;must-understand&lt;/code&gt; directive donât cache the response at all, although by 2025 this should be an exceedingly rare sight.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;private&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;private&lt;/code&gt; response directive indicates that the response is meant for a single user. â RFC 9111 Â§ 5.2.2.7.&lt;/p&gt;
    &lt;p&gt;Therefore:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;a shared cache must not store the response; and&lt;/item&gt;
      &lt;item&gt;a private cache may store the response even if the response wouldnât otherwise be heuristically cacheable.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The &lt;code&gt;private&lt;/code&gt; directive can be used to guard against other directives that might inadvertently make authenticated responses available to shared caches.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;public&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;public&lt;/code&gt; response directive indicates two things:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;a shared cache may store and reuse a response to a request containing an &lt;code&gt;Authorization&lt;/code&gt;header, which itâs generally prohibited from doing; and&lt;/item&gt;
      &lt;item&gt;a private cache may store the response even if the response wouldnât otherwise be heuristically cacheable.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;
      &lt;code&gt;s-maxage=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;s-maxage=&amp;lt;number&amp;gt;&lt;/code&gt; response directive is analogous to &lt;code&gt;max-age&lt;/code&gt;, but only affects shared caches. â RFC 9111 Â§ 5.2.2.10.&lt;/p&gt;
    &lt;p&gt;The directive also incorporates the semantics of the &lt;code&gt;proxyârevalidate&lt;/code&gt; response directive, in that a shared cache must not use a stale response until it has been successfully validated with the origin server.&lt;/p&gt;
    &lt;p&gt;Side effects: &lt;code&gt;s-maxage&lt;/code&gt; is one of the directives, along with &lt;code&gt;must-revalidate&lt;/code&gt; and &lt;code&gt;public&lt;/code&gt;, that allow shared caches to store and reuse a response to a request containing an &lt;code&gt;Authorization&lt;/code&gt; header, which they are generally prohibited from doing.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;proxy-revalidate&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;proxy-revalidate&lt;/code&gt; response directive is analogous to &lt;code&gt;must-revalidate&lt;/code&gt;, but only affects shared caches. â RFC 9111 Â§ 5.2.2.8.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;no-transform&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;no-transform&lt;/code&gt; response directive indicates that intermediaries, regardless of whether they implement a cache or not, must not transform the response content, such as optimizing images or compressing stylesheets and scripts. â RFC 9111 Â§ 5.2.2.6.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;stale-while-revalidate=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;stale-while-revalidate&lt;/code&gt; response directive was defined in RFC 5861: HTTP Cache-Control Extensions for Stale Content (2010). It indicates that the cache may use a cached response if it hasnât exceeded its freshness lifetime by more than the specified number of seconds.&lt;/p&gt;
    &lt;p&gt;Whenever the presence of this directive causes a stale response to be served, the cache should trigger a background revalidation of the response.&lt;/p&gt;
    &lt;p&gt;The author of the RFC, Mark Nottingham, has written a rationale for this directive.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;stale-if-error=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;Also defined in the RFC 5861 extension, the &lt;code&gt;stale-if-error&lt;/code&gt; response directive indicates that the cache may use a cached response if it hasnât exceeded its freshness lifetime by more than the specified number of seconds, if the attempt to validate the stale response results in an error.&lt;/p&gt;
    &lt;p&gt;HTTP Caching Tests suggests this directive is not well supported.&lt;/p&gt;
    &lt;head rend="h2"&gt;Cache-Control request directives&lt;/head&gt;
    &lt;p&gt;As web developers, we most often deal with &lt;code&gt;Cache-Control&lt;/code&gt; in HTTP responses, but this header can also be included on HTTP requests. Browsers, for example, use them when the user refreshes the page.&lt;/p&gt;
    &lt;p&gt;When used in HTTP requests, &lt;code&gt;Cache-Control&lt;/code&gt; directives express the clientâs preference in regards to the freshness or age of the response. Caches reconcile these requests with the &lt;code&gt;Cache-Control&lt;/code&gt; response directives of its cached responses.&lt;/p&gt;
    &lt;quote&gt;&lt;p&gt;Note: the&lt;/p&gt;&lt;code&gt;cache&lt;/code&gt;option for&lt;code&gt;fetch()&lt;/code&gt;has a separate set of values that map to&lt;code&gt;Cache-Control&lt;/code&gt;request directives, but the mappings are not always intuitive. For example,&lt;code&gt;cache: 'no-cache'&lt;/code&gt;maps to&lt;code&gt;Cache-Control: max-age=0&lt;/code&gt;. For the curious, the mappings are defined here. You can always set your&lt;code&gt;Cache-Control&lt;/code&gt;headers directly with the&lt;code&gt;headers&lt;/code&gt;option.&lt;/quote&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;max-age=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;max-age&lt;/code&gt; request directive indicates that the client wants a fresh response whose age is less than or equal to the specified number of seconds. When combined with &lt;code&gt;max-stale&lt;/code&gt;, the client will accept some stale responses. â RFC 9111 Â§ 5.2.1.1.&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;max-stale=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;max-stale&lt;/code&gt; request directive indicates that the client will accept a stale response that has exceeded its freshness lifetime by no more than the specified number of seconds. When used without an argument, &lt;code&gt;max-stale&lt;/code&gt; indicates that the client will accept any stale response, no matter how old. â RFC 9111 Â§ 5.2.1.2&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;min-fresh=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;min-fresh&lt;/code&gt; request directive indicates that the client prefers a response that still has at least the specified number of seconds of freshness left. â RFC 9111 Â§ 5.2.1.3&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;no-cache&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;no-cache&lt;/code&gt; request directive indicates that the client prefers caches not to use a stored response without successfully validating it with the origin server. â RFC 9111 Â§ 5.2.1.4&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;no-store&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;no-store&lt;/code&gt; request directive indicates that a cache must not store any part of either this request or any response to it. The same caveats as to its response counterpart apply. â RFC 9111 Â§ 5.2.1.5&lt;/p&gt;
    &lt;p&gt;If a cache serves this request with a response that was previously stored, the &lt;code&gt;no-store&lt;/code&gt; request directive doesnât cause the cache to remove the response after serving it.&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;no-transform&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;no-transform&lt;/code&gt; request directive indicates that the client is asking for intermediaries to avoid transforming the content. â RFC 9111 Â§ 5.2.1.6&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;only-if-cached&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;only-if-cached&lt;/code&gt; request directive indicates that the client only wants a stored response. Caches should respond with either a stored response that satisfies all the other constraints, or an HTTP 504 Gateway Timeout status code. â RFC 9111 Â§ 5.2.1.7&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;stale-if-error=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;Similarly to its response counterpart, the &lt;code&gt;stale-if-error&lt;/code&gt; request directive indicates that the client will accept a stale response that has exceeded its freshness lifetime by no more than the specified number of seconds, if an attempt to validate it resulted in a server error.&lt;/p&gt;
    &lt;head rend="h2"&gt;Browser refresh mechanisms&lt;/head&gt;
    &lt;p&gt;Browsers typically offer two refresh mechanisms:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;soft reloads, triggered by the reload button, a corresponding menu item and keyboard shortcut, and the pull-to-refresh gesture in mobile browsers, are meant to get an updated representation of the page, for example getting the latest posts on a social media timeline.&lt;/item&gt;
      &lt;item&gt;hard reloads, enabled with a modifier key, skip the cache altogether and are meant to fix interrupted loads, outdated cached responses, and other broken states.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Hereâs how some browsers on macOS implement these behaviors.&lt;/p&gt;
    &lt;head rend="h3"&gt;Soft reloads&lt;/head&gt;
    &lt;p&gt;Triggered by Ctrl + R on Windows/Linux and Command + R on macOS.&lt;/p&gt;
    &lt;p&gt;Firefox triggers a conditional request to revalidate the cached response for the main resource (the HTML file). Sub-resources such as stylesheets, scripts, and images are reloaded as usual, according to their cache directives.&lt;/p&gt;
    &lt;p&gt;Chrome behaves similarly, with the difference that the validation request for the main resource also includes a &lt;code&gt;Cache-Control: max-age=0&lt;/code&gt; directive (which canât hurt).&lt;/p&gt;
    &lt;p&gt;Instead of revalidating its cached response, Safari performs a non-conditional request for the main resource, then loads sub-resources as usual.&lt;/p&gt;
    &lt;head rend="h3"&gt;Hard reloads&lt;/head&gt;
    &lt;p&gt;Triggered by Ctrl + Shift + R on Windows/Linux and Command + Shift + R on macOS except Safari, which uses Command + Option + R. (If youâve applied your muscle memory to Safari before, you know all too well that the common shortcut opens Reader Mode insteadâ¦)&lt;/p&gt;
    &lt;p&gt;On a hard reload, all three browsers trigger non-conditional requests with the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt; directive on the HTML page and its sub-resources.&lt;/p&gt;
    &lt;p&gt;Curiously, once you perform a hard reload in Safari, subsequent soft reloads will still use the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt; request directive to fetch the main resource, which is probably an unintended, but otherwise benign behavior.&lt;/p&gt;
    &lt;head rend="h3"&gt;The &lt;code&gt;immutable&lt;/code&gt; response directive&lt;/head&gt;
    &lt;p&gt;Reloading a web page didnât always work like this. Historically, when performing a soft reload, all the sub-resources would be revalidated along with the main resource, in effect freshening up the cache for the current page.&lt;/p&gt;
    &lt;p&gt;Circa 2015, Facebook was seeing several HTTP 304 Not Modified responses on long-lived resources like scripts and stylesheets whenever a user would refresh their feed page with the browserâs reload button.&lt;/p&gt;
    &lt;p&gt;To address this issue, Patrick McManus from Mozilla proposed the &lt;code&gt;immutable&lt;/code&gt; response directive, which later became RFC 8246: HTTP Immutable Responses.&lt;/p&gt;
    &lt;p&gt;The directive indicates that the origin server wonât update a resource during the freshness lifetime of the cached response, so a cache shouldnât issue conditional requests for responses that are still fresh when the user reloads the page, unless the user really, really wants an updated response (e.g. a hard reload).&lt;/p&gt;
    &lt;p&gt;Around the time that support for &lt;code&gt;immutable&lt;/code&gt; landed in Firefox 49 and Facebook began to use it to great effect, Chrome introduced a new way to perform reloads that solved the problem without introducing additional directives: instead of revalidating everything on a soft reload, just revalidate the main resource and load sub-resources as usual. Safari switched over to the new reload policy soon after [Webkit#169756], and Firefox eventually did with Firefox 100.&lt;/p&gt;
    &lt;p&gt;That leaves the &lt;code&gt;immutable&lt;/code&gt; directive in an awkward place. Safari added support [Webkit#167497] but Chrome representatives remain unconvinced that it offers a significant benefit on top of the current reload behavior [Chromium#41253661].&lt;/p&gt;
    &lt;head rend="h2"&gt;Caching responses to authenticated requests&lt;/head&gt;
    &lt;p&gt;One of the more confusing aspects of HTTP caching is how various &lt;code&gt;Cache-Control&lt;/code&gt; response directives affect the way shared caches treat responses to requests that contain an &lt;code&gt;Authorization&lt;/code&gt; header, which are understood as specific to a single user.&lt;/p&gt;
    &lt;p&gt;As per RFC 9111 Â§ 3.5, shared caches are not allowed to store these responses &lt;quote&gt;unless the response contains a Cache-Control field with a response directive that allows it to be stored by a shared cache, and the cache conforms to the requirements of that directive for that response.&lt;/quote&gt;&lt;/p&gt;
    &lt;p&gt;The three directives that enable shared caches to store authenticated responses, and which must therefore be carefully evaluated before deploying, are:&lt;/p&gt;
    &lt;p&gt;Conversely, a &lt;code&gt;private&lt;/code&gt; directive prevents any other directive from making authenticated responses eligible to shared caches.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;I wrote this article to clarify for myself what the various cache directives stand for and how they overlap and interact. It only covers the main ideas, without delving into the more obscure corners of HTTP semantics. I approached the subject with a âclear cacheâ, and mainly used the normative references (RFC 9111 and its extensions), aided by various guides from different eras:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Caching Tutorial for Web Authors and Webmasters (1998â) by Mark Nottingham;&lt;/item&gt;
      &lt;item&gt;Caching best practices &amp;amp; max-age gotchas (2016) by Jake Archibald;&lt;/item&gt;
      &lt;item&gt;Prevent unnecessary network requests with the HTTP Cache (2018) by Ilya Grigorik and Jeff Posnik;&lt;/item&gt;
      &lt;item&gt;Cache control for civilians (2019â2025) and Why Do We Have a Cache-Control Request Header? (2025) by Harry Roberts;&lt;/item&gt;
      &lt;item&gt;Cache-Control Recommendations (2021) by April King;&lt;/item&gt;
      &lt;item&gt;Web Caching on MDN.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Whatâs interesting about these guides is that the recommendations donât just encode an interpretation of the specs, but also incorporate safeguards against non-conformant or outdated browser caches and intermediares.&lt;/p&gt;
    &lt;p&gt;In light of developments as recent as 2022, it would be cool to figure out to what extent things have improved, and which of these safeguards can be discarded. HTTP Caching Tests seems to be a good resource for assessing the situation.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46368300</guid><pubDate>Tue, 23 Dec 2025 19:09:45 +0000</pubDate></item><item><title>HTTP Caching, a Refresher</title><link>https://danburzo.ro/http-caching-refresher/</link><description>&lt;doc fingerprint="b55d69584f161f32"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;HTTP caching, a refresher&lt;/head&gt;
    &lt;p&gt;This is a reading of RFC 9111 (2022), the latest iteration of the HTTP Caching standard.&lt;/p&gt;
    &lt;p&gt;It defines the &lt;code&gt;Cache-Control&lt;/code&gt; HTTP header as a way to prescribe how caches should store and reuse HTTP responses, with regards to not just the browser cache, but to any other intermediary caches, such as proxies and content delivery networks, that may exist between the client and the origin server.&lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;Cache-Control&lt;/code&gt; header accepts a set of comma-separated directives, some of which are meant to be added to HTTP requests, and others to HTTP responses. A typical response header:&lt;/p&gt;
    &lt;code&gt;HTTP/2 200
Cache-Control: max-age=0, must-revalidate
&lt;/code&gt;
    &lt;p&gt;Some of these directives specifically target shared caches, that is intermediary caches that serve the same cached responses to many users, while others also apply to private caches such as the browser cache.&lt;/p&gt;
    &lt;head rend="h2"&gt;Whatâs fresh?&lt;/head&gt;
    &lt;p&gt;Whenever the cache receives a request, it must figure out if the cached response is still fresh and can therefore be reused without incurring the performance tax of an HTTP request, or whether it has gone stale and should be validated with the server.&lt;/p&gt;
    &lt;p&gt;To decide on freshness, the cache compares the age of the response to the responseâs so-called freshness timeline.&lt;/p&gt;
    &lt;p&gt;The age of a cached response is the time elapsed since it was last generated or revalidated by the origin server. To the time spent in its own cache, the browser will add any &lt;code&gt;Age: &amp;lt;seconds&amp;gt;&lt;/code&gt; header received from intermediary caches.&lt;/p&gt;
    &lt;p&gt;The freshness timeline is a duration beyond which the cached response is to be considered stale. Itâs usually signaled by the server via the appropriate response headers, but may also be guesstimated by the cache in the absence of explicit, valid cues. In order of precedence:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;the server establishes a freshness timeline, in seconds, with the &lt;code&gt;Cache-Control: max-age=&amp;lt;number&amp;gt;&lt;/code&gt;directive on the response; otherwise,&lt;/item&gt;
      &lt;item&gt;the cache falls back to computing the interval between the &lt;code&gt;Expires: &amp;lt;date&amp;gt;&lt;/code&gt;and&lt;code&gt;Date: &amp;lt;date&amp;gt;&lt;/code&gt;response headers, if available; otherwise,&lt;/item&gt;
      &lt;item&gt;if thereâs no &lt;code&gt;Expires&lt;/code&gt;header, the response lacks an explicit expiration, and a heuristic freshness based on the&lt;code&gt;Last-Modified&lt;/code&gt;response header might be applicable.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;For shared caches, the special &lt;code&gt;s-maxage=&amp;lt;number&amp;gt;&lt;/code&gt; directive takes precedence over all others.&lt;/p&gt;
    &lt;head rend="h2"&gt;Going past expiration&lt;/head&gt;
    &lt;p&gt;Just because a response has gone stale, it doesnât mean it needs to be thrown out.&lt;/p&gt;
    &lt;p&gt;When it receives a request for a stale cached response, the cache should validate it with its upstream server. Although validation always generates an HTTP request, it avoids a data transfer when thereâs no newer version of the cached response on the server, so it can still be faster than a regular request.&lt;/p&gt;
    &lt;p&gt;Validation uses a mechanism known as a conditional HTTP request, which includes one or more special headers called preconditions:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;if the precondition with the highest precedence is met, the server responds with HTTP 200 OK and an updated response body; otherwise,&lt;/item&gt;
      &lt;item&gt;it responds with HTTP 304 Not Modified and an empty body, confirming the existing response can be reused.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;To generate the preconditions needed for these conditional requests, which the server uses to compare the cached response to the freshest version available, responses must be tagged in a way thatâs unique to each version:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;historically, this was done with the &lt;code&gt;Last-Modified: &amp;lt;date&amp;gt;&lt;/code&gt;header, corresponding to the latest update to the content;&lt;/item&gt;
      &lt;item&gt;a more flexible and robust alternative is the &lt;code&gt;ETag: "&amp;lt;value&amp;gt;"&lt;/code&gt;header, which stores an arbitrary ASCII string that uniquely identifies the response. This string is usually a hash incorporating one or more aspects: the modification time, the file size, and the file content.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;When performing the validation, the cached response headers are mirrored as preconditions for the conditional request:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;Last-Modified: &amp;lt;date&amp;gt;&lt;/code&gt;becomes&lt;code&gt;If-Modified-Since: &amp;lt;date&amp;gt;&lt;/code&gt;;&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;ETag: "&amp;lt;value&amp;gt;"&lt;/code&gt;becomes&lt;code&gt;If-None-Match: "&amp;lt;value&amp;gt;"&lt;/code&gt;.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;When both preconditions are present, only &lt;code&gt;If-None-Match&lt;/code&gt; is evaluated.&lt;/p&gt;
    &lt;p&gt;Regardless of the result of the validation request, the cached response headers are updated with the new values received from the server, and the fresh-o-meter on the cached response is reset.&lt;/p&gt;
    &lt;p&gt;Certain caches may be set up to serve stale responses in some circumstances, such as when losing the connection to the server or in the event of an HTTP 5xx server error. There are also &lt;code&gt;Cache-Control&lt;/code&gt; directives that influence how stale responses are handled, covered in the next section.&lt;/p&gt;
    &lt;head rend="h2"&gt;Cache-Control response directives&lt;/head&gt;
    &lt;p&gt;
      &lt;code&gt;max-age=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;max-age&lt;/code&gt; response directive defines the responseâs freshness timeline in seconds, after which the response should be considered stale. â RFC 9111 Â§ 5.2.2.1&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;must-revalidate&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;must-revalidate&lt;/code&gt; response directive indicates that the cache must not reuse a stale response until itâs been successfully validated by the origin server. â RFC 9111 Â§ 5.2.2.2&lt;/p&gt;
    &lt;p&gt;If the server throws an error, the cache must surface that instead of reusing a stale response. If the cache is disconnected, it must produce an error with the HTTP 504 Gateway Timeout status code, or another more applicable error code.&lt;/p&gt;
    &lt;p&gt;Side effects: &lt;code&gt;must-revalidate&lt;/code&gt; is one of the directives, along with &lt;code&gt;s-maxage&lt;/code&gt; and &lt;code&gt;public&lt;/code&gt;, that allow shared caches to store and reuse a response to a request containing an &lt;code&gt;Authorization&lt;/code&gt; header, which they are generally prohibited from doing.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;no-cache&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;no-cache&lt;/code&gt; response directive indicates that the cache must not reuse any response until itâs successfully validated by the origin server. â RFC 9111 Â§ 5.2.2.4&lt;/p&gt;
    &lt;p&gt;This is similar to &lt;code&gt;must-revalidate&lt;/code&gt; but refers to all cached responses, not just stale ones. In effect, &lt;code&gt;no-cache&lt;/code&gt; is a sort of &lt;code&gt;max-age=0, must-revalidate&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;no-store&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;no-store&lt;/code&gt; response directive indicates that private and shared caches must not store any part of the request or the response, and to never reuse the response. The standard is quick to warn that the effect is not guaranteed:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;âMUST NOT storeâ in this context means that the cache MUST NOT intentionally store the information in non-volatile storage and MUST make a best-effort attempt to remove the information from volatile storage as promptly as possible after forwarding it. This directive is not a reliable or sufficient mechanism for ensuring privacy. In particular, malicious or compromised caches might not recognize or obey this directive, and communications networks might be vulnerable to eavesdropping. â RFC 9111 Â§ 5.2.2.4&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Side effects: The directive can also influence non-HTTP caches. Most browsers will exclude from the back/forward cache pages having the &lt;code&gt;no-store&lt;/code&gt; response directive. Chrome, however, has recently started to make some of these pages eligible for bfcache when the browser deems it safe.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;must-understand&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;must-understand&lt;/code&gt; response directive indicates that the cache shouldnât store or reuse responses with HTTP status codes whose semantics the cache doesnât understand and conform to. The directive is meant to future-proof existing implementations from status codes that might have special requirements in regards to caching. â RFC 9111 Â§ 5.2.2.3&lt;/p&gt;
    &lt;p&gt;Itâs recommended to use &lt;code&gt;must-understand, no-store&lt;/code&gt; together as a fallback, and caches are encouraged to ignore the &lt;code&gt;no-store&lt;/code&gt; directive if they do understand the semantics of the HTTP status code. This ensures older caches that donât recognize the &lt;code&gt;must-understand&lt;/code&gt; directive donât cache the response at all, although by 2025 this should be an exceedingly rare sight.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;private&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;private&lt;/code&gt; response directive indicates that the response is meant for a single user. â RFC 9111 Â§ 5.2.2.7.&lt;/p&gt;
    &lt;p&gt;Therefore:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;a shared cache must not store the response; and&lt;/item&gt;
      &lt;item&gt;a private cache may store the response even if the response wouldnât otherwise be heuristically cacheable.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The &lt;code&gt;private&lt;/code&gt; directive can be used to guard against other directives that might inadvertently make authenticated responses available to shared caches.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;public&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;public&lt;/code&gt; response directive indicates two things:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;a shared cache may store and reuse a response to a request containing an &lt;code&gt;Authorization&lt;/code&gt;header, which itâs generally prohibited from doing; and&lt;/item&gt;
      &lt;item&gt;a private cache may store the response even if the response wouldnât otherwise be heuristically cacheable.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;
      &lt;code&gt;s-maxage=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;s-maxage=&amp;lt;number&amp;gt;&lt;/code&gt; response directive is analogous to &lt;code&gt;max-age&lt;/code&gt;, but only affects shared caches. â RFC 9111 Â§ 5.2.2.10.&lt;/p&gt;
    &lt;p&gt;The directive also incorporates the semantics of the &lt;code&gt;proxyârevalidate&lt;/code&gt; response directive, in that a shared cache must not use a stale response until it has been successfully validated with the origin server.&lt;/p&gt;
    &lt;p&gt;Side effects: &lt;code&gt;s-maxage&lt;/code&gt; is one of the directives, along with &lt;code&gt;must-revalidate&lt;/code&gt; and &lt;code&gt;public&lt;/code&gt;, that allow shared caches to store and reuse a response to a request containing an &lt;code&gt;Authorization&lt;/code&gt; header, which they are generally prohibited from doing.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;proxy-revalidate&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;proxy-revalidate&lt;/code&gt; response directive is analogous to &lt;code&gt;must-revalidate&lt;/code&gt;, but only affects shared caches. â RFC 9111 Â§ 5.2.2.8.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;no-transform&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;no-transform&lt;/code&gt; response directive indicates that intermediaries, regardless of whether they implement a cache or not, must not transform the response content, such as optimizing images or compressing stylesheets and scripts. â RFC 9111 Â§ 5.2.2.6.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;stale-while-revalidate=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;stale-while-revalidate&lt;/code&gt; response directive was defined in RFC 5861: HTTP Cache-Control Extensions for Stale Content (2010). It indicates that the cache may use a cached response if it hasnât exceeded its freshness lifetime by more than the specified number of seconds.&lt;/p&gt;
    &lt;p&gt;Whenever the presence of this directive causes a stale response to be served, the cache should trigger a background revalidation of the response.&lt;/p&gt;
    &lt;p&gt;The author of the RFC, Mark Nottingham, has written a rationale for this directive.&lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;stale-if-error=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;Also defined in the RFC 5861 extension, the &lt;code&gt;stale-if-error&lt;/code&gt; response directive indicates that the cache may use a cached response if it hasnât exceeded its freshness lifetime by more than the specified number of seconds, if the attempt to validate the stale response results in an error.&lt;/p&gt;
    &lt;p&gt;HTTP Caching Tests suggests this directive is not well supported.&lt;/p&gt;
    &lt;head rend="h2"&gt;Cache-Control request directives&lt;/head&gt;
    &lt;p&gt;As web developers, we most often deal with &lt;code&gt;Cache-Control&lt;/code&gt; in HTTP responses, but this header can also be included on HTTP requests. Browsers, for example, use them when the user refreshes the page.&lt;/p&gt;
    &lt;p&gt;When used in HTTP requests, &lt;code&gt;Cache-Control&lt;/code&gt; directives express the clientâs preference in regards to the freshness or age of the response. Caches reconcile these requests with the &lt;code&gt;Cache-Control&lt;/code&gt; response directives of its cached responses.&lt;/p&gt;
    &lt;quote&gt;&lt;p&gt;Note: the&lt;/p&gt;&lt;code&gt;cache&lt;/code&gt;option for&lt;code&gt;fetch()&lt;/code&gt;has a separate set of values that map to&lt;code&gt;Cache-Control&lt;/code&gt;request directives, but the mappings are not always intuitive. For example,&lt;code&gt;cache: 'no-cache'&lt;/code&gt;maps to&lt;code&gt;Cache-Control: max-age=0&lt;/code&gt;. For the curious, the mappings are defined here. You can always set your&lt;code&gt;Cache-Control&lt;/code&gt;headers directly with the&lt;code&gt;headers&lt;/code&gt;option.&lt;/quote&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;max-age=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;max-age&lt;/code&gt; request directive indicates that the client wants a fresh response whose age is less than or equal to the specified number of seconds. When combined with &lt;code&gt;max-stale&lt;/code&gt;, the client will accept some stale responses. â RFC 9111 Â§ 5.2.1.1.&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;max-stale=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;max-stale&lt;/code&gt; request directive indicates that the client will accept a stale response that has exceeded its freshness lifetime by no more than the specified number of seconds. When used without an argument, &lt;code&gt;max-stale&lt;/code&gt; indicates that the client will accept any stale response, no matter how old. â RFC 9111 Â§ 5.2.1.2&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;min-fresh=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;min-fresh&lt;/code&gt; request directive indicates that the client prefers a response that still has at least the specified number of seconds of freshness left. â RFC 9111 Â§ 5.2.1.3&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;no-cache&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;no-cache&lt;/code&gt; request directive indicates that the client prefers caches not to use a stored response without successfully validating it with the origin server. â RFC 9111 Â§ 5.2.1.4&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;no-store&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;no-store&lt;/code&gt; request directive indicates that a cache must not store any part of either this request or any response to it. The same caveats as to its response counterpart apply. â RFC 9111 Â§ 5.2.1.5&lt;/p&gt;
    &lt;p&gt;If a cache serves this request with a response that was previously stored, the &lt;code&gt;no-store&lt;/code&gt; request directive doesnât cause the cache to remove the response after serving it.&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;no-transform&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;no-transform&lt;/code&gt; request directive indicates that the client is asking for intermediaries to avoid transforming the content. â RFC 9111 Â§ 5.2.1.6&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;only-if-cached&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;only-if-cached&lt;/code&gt; request directive indicates that the client only wants a stored response. Caches should respond with either a stored response that satisfies all the other constraints, or an HTTP 504 Gateway Timeout status code. â RFC 9111 Â§ 5.2.1.7&lt;/p&gt;
    &lt;head rend="h3"&gt;
      &lt;code&gt;stale-if-error=&amp;lt;number&amp;gt;&lt;/code&gt;
    &lt;/head&gt;
    &lt;p&gt;Similarly to its response counterpart, the &lt;code&gt;stale-if-error&lt;/code&gt; request directive indicates that the client will accept a stale response that has exceeded its freshness lifetime by no more than the specified number of seconds, if an attempt to validate it resulted in a server error.&lt;/p&gt;
    &lt;head rend="h2"&gt;Browser refresh mechanisms&lt;/head&gt;
    &lt;p&gt;Browsers typically offer two refresh mechanisms:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;soft reloads, triggered by the reload button, a corresponding menu item and keyboard shortcut, and the pull-to-refresh gesture in mobile browsers, are meant to get an updated representation of the page, for example getting the latest posts on a social media timeline.&lt;/item&gt;
      &lt;item&gt;hard reloads, enabled with a modifier key, skip the cache altogether and are meant to fix interrupted loads, outdated cached responses, and other broken states.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Hereâs how some browsers on macOS implement these behaviors.&lt;/p&gt;
    &lt;head rend="h3"&gt;Soft reloads&lt;/head&gt;
    &lt;p&gt;Triggered by Ctrl + R on Windows/Linux and Command + R on macOS.&lt;/p&gt;
    &lt;p&gt;Firefox triggers a conditional request to revalidate the cached response for the main resource (the HTML file). Sub-resources such as stylesheets, scripts, and images are reloaded as usual, according to their cache directives.&lt;/p&gt;
    &lt;p&gt;Chrome behaves similarly, with the difference that the validation request for the main resource also includes a &lt;code&gt;Cache-Control: max-age=0&lt;/code&gt; directive (which canât hurt).&lt;/p&gt;
    &lt;p&gt;Instead of revalidating its cached response, Safari performs a non-conditional request for the main resource, then loads sub-resources as usual.&lt;/p&gt;
    &lt;head rend="h3"&gt;Hard reloads&lt;/head&gt;
    &lt;p&gt;Triggered by Ctrl + Shift + R on Windows/Linux and Command + Shift + R on macOS except Safari, which uses Command + Option + R. (If youâve applied your muscle memory to Safari before, you know all too well that the common shortcut opens Reader Mode insteadâ¦)&lt;/p&gt;
    &lt;p&gt;On a hard reload, all three browsers trigger non-conditional requests with the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt; directive on the HTML page and its sub-resources.&lt;/p&gt;
    &lt;p&gt;Curiously, once you perform a hard reload in Safari, subsequent soft reloads will still use the &lt;code&gt;Cache-Control: no-cache&lt;/code&gt; request directive to fetch the main resource, which is probably an unintended, but otherwise benign behavior.&lt;/p&gt;
    &lt;head rend="h3"&gt;The &lt;code&gt;immutable&lt;/code&gt; response directive&lt;/head&gt;
    &lt;p&gt;Reloading a web page didnât always work like this. Historically, when performing a soft reload, all the sub-resources would be revalidated along with the main resource, in effect freshening up the cache for the current page.&lt;/p&gt;
    &lt;p&gt;Circa 2015, Facebook was seeing several HTTP 304 Not Modified responses on long-lived resources like scripts and stylesheets whenever a user would refresh their feed page with the browserâs reload button.&lt;/p&gt;
    &lt;p&gt;To address this issue, Patrick McManus from Mozilla proposed the &lt;code&gt;immutable&lt;/code&gt; response directive, which later became RFC 8246: HTTP Immutable Responses.&lt;/p&gt;
    &lt;p&gt;The directive indicates that the origin server wonât update a resource during the freshness lifetime of the cached response, so a cache shouldnât issue conditional requests for responses that are still fresh when the user reloads the page, unless the user really, really wants an updated response (e.g. a hard reload).&lt;/p&gt;
    &lt;p&gt;Around the time that support for &lt;code&gt;immutable&lt;/code&gt; landed in Firefox 49 and Facebook began to use it to great effect, Chrome introduced a new way to perform reloads that solved the problem without introducing additional directives: instead of revalidating everything on a soft reload, just revalidate the main resource and load sub-resources as usual. Safari switched over to the new reload policy soon after [Webkit#169756], and Firefox eventually did with Firefox 100.&lt;/p&gt;
    &lt;p&gt;That leaves the &lt;code&gt;immutable&lt;/code&gt; directive in an awkward place. Safari added support [Webkit#167497] but Chrome representatives remain unconvinced that it offers a significant benefit on top of the current reload behavior [Chromium#41253661].&lt;/p&gt;
    &lt;head rend="h2"&gt;Caching responses to authenticated requests&lt;/head&gt;
    &lt;p&gt;One of the more confusing aspects of HTTP caching is how various &lt;code&gt;Cache-Control&lt;/code&gt; response directives affect the way shared caches treat responses to requests that contain an &lt;code&gt;Authorization&lt;/code&gt; header, which are understood as specific to a single user.&lt;/p&gt;
    &lt;p&gt;As per RFC 9111 Â§ 3.5, shared caches are not allowed to store these responses &lt;quote&gt;unless the response contains a Cache-Control field with a response directive that allows it to be stored by a shared cache, and the cache conforms to the requirements of that directive for that response.&lt;/quote&gt;&lt;/p&gt;
    &lt;p&gt;The three directives that enable shared caches to store authenticated responses, and which must therefore be carefully evaluated before deploying, are:&lt;/p&gt;
    &lt;p&gt;Conversely, a &lt;code&gt;private&lt;/code&gt; directive prevents any other directive from making authenticated responses eligible to shared caches.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;I wrote this article to clarify for myself what the various cache directives stand for and how they overlap and interact. It only covers the main ideas, without delving into the more obscure corners of HTTP semantics. I approached the subject with a âclear cacheâ, and mainly used the normative references (RFC 9111 and its extensions), aided by various guides from different eras:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Caching Tutorial for Web Authors and Webmasters (1998â) by Mark Nottingham;&lt;/item&gt;
      &lt;item&gt;Caching best practices &amp;amp; max-age gotchas (2016) by Jake Archibald;&lt;/item&gt;
      &lt;item&gt;Prevent unnecessary network requests with the HTTP Cache (2018) by Ilya Grigorik and Jeff Posnik;&lt;/item&gt;
      &lt;item&gt;Cache control for civilians (2019â2025) and Why Do We Have a Cache-Control Request Header? (2025) by Harry Roberts;&lt;/item&gt;
      &lt;item&gt;Cache-Control Recommendations (2021) by April King;&lt;/item&gt;
      &lt;item&gt;Web Caching on MDN.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Whatâs interesting about these guides is that the recommendations donât just encode an interpretation of the specs, but also incorporate safeguards against non-conformant or outdated browser caches and intermediares.&lt;/p&gt;
    &lt;p&gt;In light of developments as recent as 2022, it would be cool to figure out to what extent things have improved, and which of these safeguards can be discarded. HTTP Caching Tests seems to be a good resource for assessing the situation.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46368616</guid><pubDate>Tue, 23 Dec 2025 19:41:39 +0000</pubDate></item><item><title>Some Epstein file redactions are being undone with hacks</title><link>https://www.theguardian.com/us-news/2025/dec/23/epstein-unredacted-files-social-media</link><description>&lt;doc fingerprint="ff61601cb40a8325"&gt;
  &lt;main&gt;
    &lt;p&gt;People examining documents released by the Department of Justice in the Jeffrey Epstein case discovered that some of the file redaction can be undone with Photoshop techniques, or by simply highlighting text to paste into a word processing file.&lt;/p&gt;
    &lt;p&gt;Un-redacted text from these documents began circulating through social media on Monday evening. An exhibit in a civil case in the Virgin Islands against Darren K Indyke and Richard D Kahn, two executors of Epstein’s estate, contains redacted allegations explaining how Epstein and his associates had facilitated the sexual abuse of children. The exhibit was the second amended complaint in the state case against Indyke and Kahn.&lt;/p&gt;
    &lt;p&gt;In section 85, the redacted portion states: “Between September 2015 and June 2019, Indyke signed (FAC) for over $400,000 made payable to young female models and actresses, including a former Russian model who received over $380,000 through monthly payments of $8,333 made over a period of more than three and a half years until the middle of 2019.”&lt;/p&gt;
    &lt;p&gt;Prosecutors in the Virgin Islands settled its civil sex-trafficking case against Epstein’s estate, Indyke and Kahn in 2022 for $105m, plus one half of the proceeds from the sale of Little St James, the island on which Epstein resided and on which many of his crimes occurred. The justice department press release announcing the settlement did not include an admission of liability.&lt;/p&gt;
    &lt;p&gt;Indyke, an attorney who represented Epstein for decades, has not been criminally indicted by federal authorities. He was hired by the Parlatore Law Group in 2022, before the justice department settled the Epstein case. That firm represents the defense secretary, Pete Hegseth, and previously represented Donald Trump in his defense against charges stemming from the discovery of classified government documents stored at Trump’s Florida estate. Calls and email seeking comment from Indyke and the Parlatore Law Group have not yet been returned.&lt;/p&gt;
    &lt;p&gt;Trump has repeatedly denied any knowledge of or involvement in Epstein’s criminal activities and any wrongdoing.&lt;/p&gt;
    &lt;p&gt;Other sections further allege how Epstein’s enterprise concealed crimes.&lt;/p&gt;
    &lt;p&gt;“Defendants also attempted to conceal their criminal sex trafficking and abuse, conduct by paying large sums of money to participant-witnesses, including by paying for their attorneys’ fees and case costs in litigation related to this conduct,” reads one redacted passage.&lt;/p&gt;
    &lt;p&gt;“Epstein also threatened harm to victims and helped release damaging stories about them to damage their credibility when they tried to go public with their stories of being trafficked and sexually abused. Epstein also instructed one or more Epstein Enterprise participant-witnesses to destroy evidence relevant to ongoing court proceedings involving Defendants’ criminal sex trafficking and abuse conduct.”&lt;/p&gt;
    &lt;p&gt;Redactions of sections 184 through 192 of the document describe property taxes paid by companies incorporated by Epstein on properties that were not on the balance sheet for those firms.&lt;/p&gt;
    &lt;p&gt;“For instance, Cypress’s Balance Sheet as of December 31, 2018 did not reflect any assets other than cash of $18,824. Further, Cypress reported only $301 in expenses for the year ended December 31, 2018, despite it paying $106,394.60 in Santa Fe property taxes on November 6, 2018,” reads one redacted passage.&lt;/p&gt;
    &lt;p&gt;“Similarly, in 2017, Cypress reported as its only asset cash in the amount of $29,736 and expenses of $150, despite it paying $55,770.41 and $113,679.56 in Santa Fe property taxes during 2017.”&lt;/p&gt;
    &lt;p&gt;The Epstein Files Transparency Act signed into law last month permits the Department of Justice “to withhold certain information such as the personal information of victims and materials that would jeopardize an active federal investigation”.&lt;/p&gt;
    &lt;p&gt;It was unclear how property material complies with the redaction standard under the law. An inquiry to the Department of Justice has not yet been answered.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46368946</guid><pubDate>Tue, 23 Dec 2025 20:10:30 +0000</pubDate></item><item><title>X-ray: a Python library for finding bad redactions in PDF documents</title><link>https://github.com/freelawproject/x-ray</link><description>&lt;doc fingerprint="4e9453d17ca78994"&gt;
  &lt;main&gt;
    &lt;p&gt;x-ray is a Python library for finding bad redactions in PDF documents.&lt;/p&gt;
    &lt;p&gt;At Free Law Project, we collect millions of PDFs. An ongoing problem is that people fail to properly redact things. Instead of doing it the right way, they just draw a black rectangle or a black highlight on top of black text and call it a day. Well, when that happens you just select the text under the rectangle, and you can read it again. Not great.&lt;/p&gt;
    &lt;p&gt;After witnessing this problem for years, we decided it would be good to figure out how common it is, so, with some help, we built this simple tool. You give the tool the path to a PDF. It tells you if it has worthless redactions in it.&lt;/p&gt;
    &lt;p&gt;Right now, &lt;code&gt;x-ray&lt;/code&gt; works pretty well and we are using it to analyze documents
in our collections. It could be better though. Bad redactions take many forms.
See the issues tab for other examples we don't yet support. We'd love your
help solving some of tougher cases.&lt;/p&gt;
    &lt;p&gt;With uv, do:&lt;/p&gt;
    &lt;code&gt;uv add x-ray
&lt;/code&gt;
    &lt;p&gt;With pip, that'd be:&lt;/p&gt;
    &lt;code&gt;pip install x-ray
&lt;/code&gt;
    &lt;p&gt;&lt;code&gt;uvx&lt;/code&gt; lets you run this without even installing it. For example, here's an amicus brief we filed that doesn't have any bad redactions:&lt;/p&gt;
    &lt;code&gt;uvx --from x-ray xray https://storage.courtlistener.com/recap/gov.uscourts.ca3.125346/gov.uscourts.ca3.125346.45.0.pdf
{}
&lt;/code&gt;
    &lt;p&gt;Once you do install x-ray, you can easily use it on the command line. Once installed, just:&lt;/p&gt;
    &lt;code&gt;% xray path/to/your/file.pdf
{
  "1": [
    {
      "bbox": [
        58.550079345703125,
        72.19873046875,
        75.65007781982422,
        739.3987426757812
      ],
      "text": "The Ring travels by way of Cirith Ungol"
    }
  ]
}&lt;/code&gt;
    &lt;p&gt;Or if you have the file on a server somewhere, give it a URL. If it starts with &lt;code&gt;https://&lt;/code&gt;, it will be interpreted as a PDF to download. Here's congressional testimony our director made (it doesn't have any bad redactions):&lt;/p&gt;
    &lt;code&gt;% xray https://free.law/pdf/congressional-testimony-michael-lissner-free-law-project-hearing-on-ethics-and-transparency-2021-10-26.pdf
{}&lt;/code&gt;
    &lt;p&gt;A fun trick you can do is to make a file with one URL per line, call it &lt;code&gt;urls.txt&lt;/code&gt;. Then you can run this to check each URL:&lt;/p&gt;
    &lt;code&gt;xargs -n 1 xray  &amp;lt; urls.txt&lt;/code&gt;
    &lt;p&gt;However you run &lt;code&gt;xray&lt;/code&gt; on the command line, you'll get JSON as output. When you have that, you can use it with tools like &lt;code&gt;jq&lt;/code&gt;. The format is as follows:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;It's a dict.&lt;/item&gt;
      &lt;item&gt;The keys are page numbers.&lt;/item&gt;
      &lt;item&gt;Each page number maps to a list of dicts.&lt;/item&gt;
      &lt;item&gt;Each of those dicts maps to two keys.&lt;/item&gt;
      &lt;item&gt;The first key is &lt;code&gt;bbox&lt;/code&gt;. This is a four-tuple that indicates the x,y positions of the upper left corner and then lower right corners of the bad redaction.&lt;/item&gt;
      &lt;item&gt;The second key is &lt;code&gt;text&lt;/code&gt;. This is the text under the bad rectangle.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Simple enough.&lt;/p&gt;
    &lt;p&gt;You can also use it as a Python module, if you prefer the long-form:&lt;/p&gt;
    &lt;code&gt;% python -m xray some-file.pdf
&lt;/code&gt;
    &lt;p&gt;But that's not as easy to remember.&lt;/p&gt;
    &lt;p&gt;If you want a bit more, you can, of course, use &lt;code&gt;xray&lt;/code&gt; in Python:&lt;/p&gt;
    &lt;code&gt;from pprint import pprint
import xray
bad_redactions = xray.inspect("some/path/to/your/file.pdf")  # Pathlib works too
pprint(bad_redactions)
{1: [{'bbox': (58.550079345703125,
               72.19873046875,
               75.65007781982422,
               739.3987426757812),
      'text': 'Aragorn is the one true king.'}]}&lt;/code&gt;
    &lt;p&gt;The output is the same as above, except it's a Python object, not a JSON object.&lt;/p&gt;
    &lt;p&gt;If you already have the file contents as a &lt;code&gt;bytes&lt;/code&gt; object, that'll work too:&lt;/p&gt;
    &lt;code&gt;some_bytes = requests.get("https://lotr-secrets.com/some-doc.pdf").content
bad_redactions = xray.inspect(some_bytes)&lt;/code&gt;
    &lt;p&gt;Note that because the &lt;code&gt;inspect&lt;/code&gt; method uses the same signature no matter what,
the type of the object you give it is essential:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Input&lt;/cell&gt;
        &lt;cell role="head"&gt;&lt;code&gt;xray&lt;/code&gt;'s Assumption&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;&lt;code&gt;str&lt;/code&gt; or Pathlib &lt;code&gt;Path&lt;/code&gt;&lt;/cell&gt;
        &lt;cell&gt;local file&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;&lt;code&gt;str&lt;/code&gt; that starts with &lt;code&gt;https://&lt;/code&gt;&lt;/cell&gt;
        &lt;cell&gt;URL to download&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;code&gt;bytes&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;PDF in memory&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;This means that if you provide the filename on disk as a bytes object instead of a &lt;code&gt;str&lt;/code&gt;, it's not going to work. This will fail:&lt;/p&gt;
    &lt;code&gt;xray.inspect(b"some-file-path.pdf")&lt;/code&gt;
    &lt;p&gt;That's pretty much it. There are no configuration files or other variables to learn. You give it a file name. If there is a bad redaction in it, you'll soon find out.&lt;/p&gt;
    &lt;p&gt;Under the covers, &lt;code&gt;xray&lt;/code&gt; uses the high-performant PyMuPDF project to parse PDFs. It has been a wonderful project to work with.&lt;/p&gt;
    &lt;p&gt;You can read the source to see how it works, but the general idea is to:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Find rectangles in a PDF.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Find letters in the same location&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Render the rectangle as an image&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Inspect the rectangle to see if it's all one color. If it is, then that's a bad redaction. If not, then we assume you can see a mix of text and drawings, indicating a redaction that's OK.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The PDF format is a big and complicated one, so it's difficult to do all this perfectly. We do our best, but there's always more to do to make it better. Donations and sponsored work help.&lt;/p&gt;
    &lt;p&gt;Please see the issues list on Github for things we need, or start a conversation if you have questions. Before you do your first contribution, we'll need a signed contributor license agreement. See the template in the repo.&lt;/p&gt;
    &lt;p&gt;Releases happen automatically via Github Actions. To trigger an automated build:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Update CHANGES.md&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Update the version in pyproject.toml&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Tag the commit with something like "v0.0.0".&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;If you wish to create a new version manually, the process is:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Update version info in&lt;/p&gt;
        &lt;code&gt;pyproject.toml&lt;/code&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Configure your Pypi credentials with Poetry&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Build and publish the version:&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;poetry publish --build&lt;/code&gt;
    &lt;p&gt;This repository is available under the permissive BSD license, making it easy and safe to incorporate in your own libraries.&lt;/p&gt;
    &lt;p&gt;Pull and feature requests welcome. Online editing in GitHub is possible (and easy!).&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46369923</guid><pubDate>Tue, 23 Dec 2025 21:54:30 +0000</pubDate></item><item><title>Texas app store age verification law blocked by federal judge</title><link>https://www.macrumors.com/2025/12/23/texas-app-store-law-blocked/</link><description>&lt;doc fingerprint="b6c6f8ad132711dc"&gt;
  &lt;main&gt;
    &lt;div&gt;
      &lt;head rend="h1"&gt;Texas App Store Age Verification Law Blocked by Federal Judge&lt;/head&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;p&gt;A Texas federal judge today blocked an App Store age verification law that was set to go into effect on January 1, 2026, which means Apple may not have to support the changes after all.&lt;/p&gt;
          &lt;p&gt;&lt;lb/&gt;The Texas App Store Accountability Act (SB2420) requires Apple and other app marketplaces to confirm user age when a person creates an Apple Account. Apple Accounts for users under 18 would need to join a Family Sharing group, with new controls available for parents and restrictions for minors.&lt;/p&gt;
          &lt;p&gt;In a preliminary injunction that delays the implementation of the act, Judge Robert Pitman said that it violates the First Amendment and is "more likely than not unconstitutional."&lt;/p&gt;
          &lt;quote&gt;
            &lt;p&gt;The Act is akin to a law that would require every bookstore to verify the age of every customer at the door and, for minors, require parental consent before the child or teen could enter and again when they try to purchase a book. As set out below, the Court finds a likelihood that, when considered on the merits, SB 2420 violates the First Amendment.&lt;/p&gt;
          &lt;/quote&gt;
          &lt;p&gt;The injunction was in response to a motion filed by the Computer and Communications Industry Association (CCIA), a group that includes Apple and Google. Today's decision is a win for Apple, as Apple has been fighting against age assurance requirements in Texas and other states. Apple says that the Texas law impacts user privacy.&lt;/p&gt;
          &lt;quote&gt;
            &lt;p&gt;While we share the goal of strengthening kids' online safety, we are concerned that SB2420 impacts the privacy of users by requiring the collection of sensitive, personally identifiable information to download any app, even if a user simply wants to check the weather or sports scores.&lt;/p&gt;
          &lt;/quote&gt;
          &lt;p&gt;The court will move on to determining whether the law is facially invalid, which would mean that it is unconstitutional and will be entirely thrown out.&lt;/p&gt;
          &lt;p&gt;Note: Due to the political or social nature of the discussion regarding this topic, the discussion thread is located in our Political News forum. All forum members and site visitors are welcome to read and follow the thread, but posting is limited to forum members with at least 100 posts.&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;head rend="h2"&gt;Popular Stories&lt;/head&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;Apple hasn't updated the Apple TV 4K since 2022, and 2025 was supposed to be the year that we got a refresh. There were rumors suggesting Apple would release the new Apple TV before the end of 2025, but it looks like that's not going to happen now. Subscribe to the MacRumors YouTube channel for more videos. Bloomberg's Mark Gurman said several times across 2024 and 2025 that Apple would...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;While the iPhone 18 Pro and iPhone 18 Pro Max are not expected to launch for another nine months, there are already plenty of rumors about the devices. Below, we have recapped 12 features rumored for the iPhone 18 Pro models. The same overall design is expected, with 6.3-inch and 6.9-inch display sizes, and a "plateau" housing three rear cameras Under-screen Face ID Front camera in...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;The European Commission today praised the interoperability changes that Apple is introducing in iOS 26.3, once again crediting the Digital Markets Act (DMA) with bringing "new opportunities" to European users and developers. The Digital Markets Act requires Apple to provide third-party accessories with the same capabilities and access to device features that Apple's own products get. In iOS...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;Earlier this month, Apple released iOS 26.2, following more than a month of beta testing. It is a big update, with many new features and changes for iPhones. iOS 26.2 adds a Liquid Glass slider for the Lock Screen's clock, offline lyrics in Apple Music, and more. Below, we have highlighted a total of eight new features. Liquid Glass Slider on Lock Screen A new slider in the Lock...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;You'd think things would be slowing down heading into the holidays, but this week saw a whirlwind of Apple leaks and rumors while Apple started its next cycle of betas following last week's release of iOS 26.2 and related updates. This week also saw the release of a new Apple Music integration with ChatGPT, so read on below for all the details on this week's biggest stories! Top Stories i...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;Next year's iPhone 18 Pro and iPhone 18 Pro Max will be equipped with under-screen Face ID, and the front camera will be moved to the top-left corner of the screen, according to a new report from The Information's Wayne Ma and Qianer Liu. As a result of these changes, the report said the iPhone 18 Pro models will not have a pill-shaped Dynamic Island cutout at the top of the screen....&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;Apple's first foldable iPhone, rumored for release next year, may turn out to be smaller than most people imagine, if a recent report is anything to go by. According to The Information, the outer display on the book-style device will measure just 5.3 inches – that's smaller than the 5.4-inch screen on the iPhone mini, a line Apple discontinued in 2022 due to poor sales. The report has led ...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;p&gt;Apple is significantly increasing its reliance on Samsung for iPhone memory as component prices surge, according to The Korea Economic Daily. Apple is said to be expanding the share of iPhone memory it sources from Samsung due to rapidly rising memory prices. The shift is expected to result in Samsung supplying roughly 60% to 70% of the low-power DRAM used in the iPhone 17, compared with a...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46370012</guid><pubDate>Tue, 23 Dec 2025 22:03:46 +0000</pubDate></item><item><title>Is Northern Virginia still the least reliable AWS region?</title><link>https://statusgator.com/blog/aws-least-reliable-region-in-2025/</link><description>&lt;doc fingerprint="3630a8658c210b4f"&gt;
  &lt;main&gt;
    &lt;p&gt;This updated analysis is based on StatusGator outage data collected from January 1 to December 9, 2025. We decided to review our AWS analysis of outages in 2022 due to several new AWS incidents, especially another widely discussed AWS outage in us-east-1 (N. Virginia) that occurred on October 20, 2025.&lt;/p&gt;
    &lt;p&gt;We’ve expanded the report with fresh 2025 regional data as well as a new breakdown of affected AWS services.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Data Behind the Study&lt;/head&gt;
    &lt;p&gt;StatusGator continuously monitors the official AWS status pages and aggregates incidents across every public AWS Region. This analysis reflects:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Major, publicly acknowledged AWS outages&lt;/item&gt;
      &lt;item&gt;All commercial AWS regions (GovCloud excluded)&lt;/item&gt;
      &lt;item&gt;Data timeframe: January 1, 2025 – December 9, 2025&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;AWS Outage Ranking by Region&lt;/head&gt;
    &lt;p&gt;So let’s take a look at the number of outages, duration, and components affected.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Region&lt;/cell&gt;
        &lt;cell role="head"&gt;Number of outages&lt;/cell&gt;
        &lt;cell role="head"&gt;Duration&lt;/cell&gt;
        &lt;cell role="head"&gt;Components Affected&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Regionless&lt;/cell&gt;
        &lt;cell&gt;12&lt;/cell&gt;
        &lt;cell&gt;31:55:19&lt;/cell&gt;
        &lt;cell&gt;14&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Canada-Central&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;3:49:57&lt;/cell&gt;
        &lt;cell&gt;19&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Hyderabad&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;0:44:59&lt;/cell&gt;
        &lt;cell&gt;46&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Ireland&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;0:44:51&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;N. Virginia&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
        &lt;cell&gt;33:49:33&lt;/cell&gt;
        &lt;cell&gt;126&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Ohio&lt;/cell&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;1:20:45&lt;/cell&gt;
        &lt;cell&gt;2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Oregon&lt;/cell&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;2:59:41&lt;/cell&gt;
        &lt;cell&gt;3&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Osaka&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;2:15:01&lt;/cell&gt;
        &lt;cell&gt;11&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Sao Paulo&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;0:44:51&lt;/cell&gt;
        &lt;cell&gt;9&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Singapore&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;0:54:59&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Stockholm&lt;/cell&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;11:54:49&lt;/cell&gt;
        &lt;cell&gt;81&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Sydney&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;0:50:00&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Tokyo&lt;/cell&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;1:24:51&lt;/cell&gt;
        &lt;cell&gt;18&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Zurich&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;4:54:55&lt;/cell&gt;
        &lt;cell&gt;7&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h3"&gt;Key Findings&lt;/head&gt;
    &lt;p&gt;N. Virginia (us-east-1) is once again the least reliable AWS Region.&lt;/p&gt;
    &lt;p&gt;It leads the dataset in:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Total number of outages (10)&lt;/item&gt;
      &lt;item&gt;Total downtime (33 hours, 49 minutes)&lt;/item&gt;
      &lt;item&gt;Total components affected (126)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;No other region even comes close. Stockholm ranks second in downtime (11+ hours). Despite only 2 outages, each incident had a massive regional impact.&lt;/p&gt;
    &lt;p&gt;Regionless outages were unusually high. This category recorded 12 outages and 32 hours of downtime, indicating:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;More widespread AWS service disruptions in 2025&lt;/item&gt;
      &lt;item&gt;More failures affecting multiple regions simultaneously&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;AWS Services with the Most Outages&lt;/head&gt;
    &lt;p&gt;AWS doesn’t just experience regional outages. Service-level incidents are just as impactful.&lt;lb/&gt;We analyzed the most frequently disrupted AWS services in 2025, ranked by the number of outages.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Service&lt;/cell&gt;
        &lt;cell role="head"&gt;Number of Outages&lt;/cell&gt;
        &lt;cell role="head"&gt;Duration&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon EC2&lt;/cell&gt;
        &lt;cell&gt;14&lt;/cell&gt;
        &lt;cell&gt;19:14:01&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon SageMaker&lt;/cell&gt;
        &lt;cell&gt;11&lt;/cell&gt;
        &lt;cell&gt;20:40:21&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;AWS Glue&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
        &lt;cell&gt;15:51:40&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon EMR&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
        &lt;cell&gt;21:39:31&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Amazon ECS&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
        &lt;cell&gt;19:54:32&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h3"&gt;Key Findings&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Compute services dominated the outage list, especially:&lt;list rend="ul"&gt;&lt;item&gt;Amazon EC2 (core compute)&lt;/item&gt;&lt;item&gt;Amazon ECS (containers)&lt;/item&gt;&lt;item&gt;Amazon EMR (big data)&lt;/item&gt;&lt;/list&gt;&lt;/item&gt;
      &lt;item&gt;EMR had the longest duration among the top five (21 hours and 39 minutes).&lt;/item&gt;
      &lt;item&gt;SageMaker experienced more outages than expected for an ML service, an emerging reliability trend.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;AWS Services With the Longest Outage Duration or Broadest Impact&lt;/head&gt;
    &lt;p&gt;These services didn’t always have the highest count, but had the longest or most severe incidents.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Service&lt;/cell&gt;
        &lt;cell role="head"&gt;Number of Outages&lt;/cell&gt;
        &lt;cell role="head"&gt;Duration&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon OpenSearch Service&lt;/cell&gt;
        &lt;cell&gt;6&lt;/cell&gt;
        &lt;cell&gt;25:36:36&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon EMR Serverless&lt;/cell&gt;
        &lt;cell&gt;7&lt;/cell&gt;
        &lt;cell&gt;25:30:08&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon CloudWatch&lt;/cell&gt;
        &lt;cell&gt;6&lt;/cell&gt;
        &lt;cell&gt;24:58:49&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon Connect&lt;/cell&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;22:52:42&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;AWS STS&lt;/cell&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;22:48:39&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon VPC Lattice&lt;/cell&gt;
        &lt;cell&gt;7&lt;/cell&gt;
        &lt;cell&gt;22:35:47&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon EMR&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
        &lt;cell&gt;21:39:31&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon EventBridge&lt;/cell&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;21:24:32&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon Kinesis Data Streams&lt;/cell&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;21:15:00&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;AWS DataSync&lt;/cell&gt;
        &lt;cell&gt;9&lt;/cell&gt;
        &lt;cell&gt;20:36:52&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon Elastic Load Balancing&lt;/cell&gt;
        &lt;cell&gt;9&lt;/cell&gt;
        &lt;cell&gt;12:34:20&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Amazon DynamoDB&lt;/cell&gt;
        &lt;cell&gt;9&lt;/cell&gt;
        &lt;cell&gt;13:19:18&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;AWS Transit Gateway&lt;/cell&gt;
        &lt;cell&gt;8&lt;/cell&gt;
        &lt;cell&gt;17:14:51&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;AWS Lambda&lt;/cell&gt;
        &lt;cell&gt;8&lt;/cell&gt;
        &lt;cell&gt;13:50:15&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h3"&gt;Key Findings&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;OpenSearch, EMR Serverless, and CloudWatch each exceeded 24+ hours of cumulative downtime.&lt;/item&gt;
      &lt;item&gt;Mission-critical systems like STS, DynamoDB, Lambda, and ELB saw prolonged disruptions.&lt;/item&gt;
      &lt;item&gt;EMR appears in both spreadsheets, indicating it experienced frequent and long-lasting ones.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Across Tables 1–3 above, we see a consistent pattern emerge:&lt;/p&gt;
    &lt;p&gt;1. Many of the affected components were concentrated in N. Virginia&lt;/p&gt;
    &lt;p&gt;With 126 components affected, us-east-1 experienced the widest service disruption footprint.&lt;/p&gt;
    &lt;p&gt;2. Region-level outages and service-level outages are correlated&lt;/p&gt;
    &lt;p&gt;Major incidents involving:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;EC2&lt;/item&gt;
      &lt;item&gt;SageMaker&lt;/item&gt;
      &lt;item&gt;EMR&lt;/item&gt;
      &lt;item&gt;CloudWatch&lt;/item&gt;
      &lt;item&gt;OpenSearch&lt;/item&gt;
      &lt;item&gt;STS&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;…almost always touch N. Virginia due to:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Higher customer density&lt;/item&gt;
      &lt;item&gt;More service deployment fronts&lt;/item&gt;
      &lt;item&gt;More inter-service dependency points&lt;/item&gt;
      &lt;item&gt;Heavier API traffic&lt;/item&gt;
      &lt;item&gt;Higher multi-AZ coordination complexity&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;3. The longest-running outages disproportionately affected us-east-1&lt;/p&gt;
    &lt;p&gt;Duration-heavy outages (CloudWatch, OpenSearch, EMR Serverless) frequently included N. Virginia, driving up the region’s total downtime.&lt;/p&gt;
    &lt;p&gt;Conclusion:&lt;/p&gt;
    &lt;p&gt;N. Virginia is not only the region with the most outages, but it is also the region where service outages cascade the widest and run the longest.&lt;/p&gt;
    &lt;head rend="h2"&gt;AWS Outage on October 20, 2025&lt;/head&gt;
    &lt;p&gt;On October 20, 2025, AWS experienced one of the most significant cloud outages in its history. 76 individual AWS components in the N. Virginia region alone showed disruption, by far the most heavily affected region.&lt;/p&gt;
    &lt;p&gt;Portions of Amazon Web Services were down for nearly 15 hours, causing cascading failures across thousands of SaaS platforms.&lt;/p&gt;
    &lt;p&gt;StatusGator’s Early Warning Signals detected the incident approximately ten minutes before AWS officially acknowledged it, ultimately identifying outages across more than 2,000 of the 6,000 services in our monitoring network.&lt;/p&gt;
    &lt;p&gt;However, the magnitude of the event meant StatusGator was also impacted, experiencing two periods of dashboard and status page downtime due to a surge in global traffic and failures in upstream infrastructure.&lt;/p&gt;
    &lt;p&gt;Despite these disruptions, StatusGator delivered over 100,000 outage notifications throughout the incident and has since implemented architectural improvements to strengthen reliability during future large-scale cloud failures.&lt;/p&gt;
    &lt;head rend="h2"&gt;Why Is N. Virginia Still the Least Reliable Region in 2025?&lt;/head&gt;
    &lt;p&gt;We revisited the three common theories from our 2023 AWS outage analysis and compared them against this year’s dataset.&lt;/p&gt;
    &lt;head rend="h3"&gt;Assumption 1: “N. Virginia Has More Services, So More Things Can Break”&lt;/head&gt;
    &lt;p&gt;In 2023, we found this explanation to be weak. But the 2025 “Components Affected” numbers tell a new story:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;N. Virginia affected 126 components&lt;/item&gt;
      &lt;item&gt;Next highest: Stockholm with 81&lt;/item&gt;
      &lt;item&gt;Most regions affected ≤ 20 components&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This indicates:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Broader blast when outages occur in N. Virginia&lt;/item&gt;
      &lt;item&gt;More interconnected or high-density service dependency&lt;/item&gt;
      &lt;item&gt;More potential points of failure&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Still, high service count alone doesn’t explain the full scale:&lt;lb/&gt;Regions like Oregon and Ireland offer nearly as many services but have far fewer issues.&lt;/p&gt;
    &lt;p&gt;So the number of components contributes to complexity, but not the root cause.&lt;/p&gt;
    &lt;head rend="h3"&gt;Assumption 2: “N. Virginia Is the Most Used and Most Heavily Loaded Region”&lt;/head&gt;
    &lt;p&gt;This remains the strongest and most likely explanation. StatusGator monitoring AWS status data historically shows:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;N. Virginia is monitored by almost 2× as many users as Oregon&lt;/item&gt;
      &lt;item&gt;And over 3× as many as many other U.S. and global regions&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;More customers → heavier load → more real-world stress → more outages that reach public visibility.&lt;/p&gt;
    &lt;p&gt;So this assumption is very likely true, and reinforced by 2025 data.&lt;/p&gt;
    &lt;head rend="h3"&gt;Assumption 3: “N. Virginia Is Older and Built Differently”&lt;/head&gt;
    &lt;p&gt;AWS provides no evidence that us-east-1 uses a fundamentally different architecture. And our 2025 numbers don’t suggest “old region issues”:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Tokyo and Sydney (both older) had minimal downtime&lt;/item&gt;
      &lt;item&gt;Newer regions, like Zurich and Hyderabad, had multi-hour outages&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Like in 2023, we still see no evidence supporting this theory.&lt;/p&gt;
    &lt;head rend="h2"&gt;Summary: AWS Reliability in 2025&lt;/head&gt;
    &lt;p&gt;With only weeks left in 2025, the data is clear:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Us-east-1 (N. Virginia) remains the least reliable AWS Region&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Most outages&lt;/item&gt;
      &lt;item&gt;Most downtime&lt;/item&gt;
      &lt;item&gt;Most components affected&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Compute, analytics, and AI/ML services were the most outage-prone&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;EC2, SageMaker, Glue, EMR, and ECS led the list.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Several AWS services experienced extremely long-running disruptions&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;OpenSearch, CloudWatch, EMR Serverless, and STS had over 24 hours of cumulative downtime.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Multi-region outages increased&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The Regionless category shows a notable rise in cross-region or global incidents in 2025.&lt;/p&gt;
    &lt;head rend="h2"&gt;Get Notified of AWS Outages Before AWS Reports Them&lt;/head&gt;
    &lt;p&gt;StatusGator aggregates every AWS service and region into a single unified dashboard.&lt;lb/&gt;We alert you instantly, often before AWS posts the incident publicly.&lt;/p&gt;
    &lt;p&gt;Get instant, account-specific AWS outage alerts through StatusGator’s unified dashboard, now enhanced with AWS Health integration for Enterprise customers. It delivers trusted, direct notifications about incidents, outages, and maintenance affecting your services, with built-in filtering to reduce noise, and seamless delivery to Slack, Microsoft Teams, Discord, Google Chat, and more.&lt;/p&gt;
    &lt;p&gt;Monitor AWS outages in real time with StatusGator — free to try.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46370592</guid><pubDate>Tue, 23 Dec 2025 23:12:03 +0000</pubDate></item><item><title>Unifi Travel Router</title><link>https://blog.ui.com/article/travel-in-style-unifi-style-unifi-travel-router</link><description>&lt;doc fingerprint="fdc5dc11f27532a9"&gt;
  &lt;main&gt;
    &lt;p&gt;Slip it into your pocket, power it on, and your UniFi network follows you wherever you land. No reconfiguring, no rethinking, just the same environment you trust, now mobile.&lt;/p&gt;
    &lt;p&gt;22 December 2025&lt;/p&gt;
    &lt;p&gt;View Count: 86.7K&lt;/p&gt;
    &lt;p&gt;Slip it into your pocket, power it on, and your UniFi network follows you wherever you land. No reconfiguring, no rethinking, just the same environment you trust, now mobile.&lt;/p&gt;
    &lt;p&gt;Wherever you arrive, your network identity comes with you. Location aware policies, routing rules, and WiFi broadcasts light up the moment the router connects, giving you continuity instead of compromise.&lt;/p&gt;
    &lt;p&gt;Bring your UniFi gear and the tools you already rely on. The moment they power up, everything links together as if it never left home.&lt;/p&gt;
    &lt;p&gt;The Travel Router may be compact, but it is engineered for flexibility. Ethernet, WiFi, or 5G connections via USB can all serve as uplinks, while captive portal logins on hotel networks are handled quietly in the background.&lt;/p&gt;
    &lt;p&gt;Travel light, stay connected, and keep your UniFi experience no matter where you are.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371135</guid><pubDate>Wed, 24 Dec 2025 00:30:18 +0000</pubDate></item><item><title>Nabokov's guide to foreigners learning Russian</title><link>https://twitter.com/haravayin_hogh/status/2003299405907247502</link><description>&lt;doc fingerprint="d635f48b34542867"&gt;
  &lt;main&gt;
    &lt;p&gt;We’ve detected that JavaScript is disabled in this browser. Please enable JavaScript or switch to a supported browser to continue using x.com. You can see a list of supported browsers in our Help Center.&lt;/p&gt;
    &lt;p&gt;Help Center&lt;/p&gt;
    &lt;p&gt;Terms of Service Privacy Policy Cookie Policy Imprint Ads info © 2025 X Corp.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371423</guid><pubDate>Wed, 24 Dec 2025 01:20:39 +0000</pubDate></item><item><title>Open source USB to GPIB converter (for Test and Measurement instruments)</title><link>https://github.com/xyphro/UsbGpib</link><description>&lt;doc fingerprint="37f899d5796b5bb0"&gt;
  &lt;main&gt;&lt;p&gt;📰 Latest updates &lt;lb/&gt; 🔨 Buy it or build it &lt;lb/&gt; 👋 UsbGpib Introduction &lt;lb/&gt; 🏠 Housing / Enclosure &lt;lb/&gt; 💻 Software &lt;lb/&gt; 🔌 Using the device &lt;lb/&gt; ⚙️ Setting and getting parameters &lt;lb/&gt; ✔️ Testing status &lt;lb/&gt; 📓 Tutorials &amp;lt;- New! &lt;lb/&gt; ❤️ Support the Project&lt;/p&gt;&lt;p&gt;For detailed visibility look under the Latest update link above!&lt;/p&gt;&lt;p&gt;[30th Nov 2025]: Released new firmware version V2.2. See Latest updates section. [23rd Nov 2025]: Added a User manual for UsbGPIB V2 under the Tutorial section&lt;/p&gt;&lt;p&gt;As I have an outstanding Betatestprogram for V3 I want to share some updates - on this main page.&lt;/p&gt;&lt;p&gt;Here the "messy table view" during some later software development :-)&lt;/p&gt;&lt;p&gt;The schedule slipped a bit while getting the V2 adapter ready for sale, but V3 is converging and nearing completion. A batch of prototypes has been ordered with CNC aluminum housings, anodizing, and laser marking.&lt;/p&gt;&lt;p&gt;Progress:&lt;/p&gt;&lt;table&gt;&lt;row span="2"&gt;&lt;cell role="head"&gt;Item&lt;/cell&gt;&lt;cell role="head"&gt;Comment &amp;amp; State&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;Hardware&lt;/cell&gt;&lt;cell&gt;Optimized after two extra iterations; GPIB-compliant electrical characteristics; prevents back-powering from device GPIB bus&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;POE&lt;/cell&gt;&lt;cell&gt;Fully works. Challenging to get right, but finally working well and cost optimized&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;Mechanics&lt;/cell&gt;&lt;cell&gt;Six (!) 3D designs completed; 3D-printed housings with/without Ethernet; CNC machined housing prototypes ordered&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;GPIB stack&lt;/cell&gt;&lt;cell&gt;Fully up and running and "ruggedized"&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;USB Boot loader&lt;/cell&gt;&lt;cell&gt;Complete; UF2-like workflow for easy use without special software and tested functionality with Mac, Windows, Linux&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;USB high speed functionality&lt;/cell&gt;&lt;cell&gt;New MCU USB stack written from scratch for low latency and high throughput&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;USBTMC&lt;/cell&gt;&lt;cell&gt;USBTMC part fully works and passes several compliance / stress tests&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;Ethernet&lt;/cell&gt;&lt;cell&gt;Ethernet stack and low level driver is fully done and ready&lt;/cell&gt;&lt;/row&gt;&lt;row&gt;&lt;cell&gt;VXI11 &amp;amp; HiSlip&lt;/cell&gt;&lt;cell&gt;VXI11 mostly complete with ongoing optimizations; HiSlip near finalization with minor polish remaining&lt;/cell&gt;&lt;/row&gt;&lt;/table&gt;&lt;p&gt;The prototypes will arrive approximately end of January. Very keen on bringing them up and distributing!&lt;/p&gt;&lt;p&gt;Tired of tinkering? Want to skip the hassle and get straight to using your GPIB setup?&lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;I’ve teamed up with Elecrow to bring you ready-to-roll GPIB-USB converters – perfect for those who want results, not a weekend project.&lt;/item&gt;&lt;item&gt;These adapters come fully assembled, programmed, housed, tested, and ready to go. No fuss. No build. Just plug it in and start working.&lt;/item&gt;&lt;item&gt;The Adapters match 100% the V2 version described in this repository.&lt;/item&gt;&lt;/list&gt;&lt;p&gt;Grab yours now: https://www.elecrow.com/xyphrolabs-gpibusb.html&lt;/p&gt;&lt;p&gt;Let the data flow begin!&lt;/p&gt;&lt;p&gt;This doesn’t mean I’m going fully commercial - far from it. Offering pre-built adapters is simply a convenience for those who’d rather skip the build and get straight to using their gear.&lt;/p&gt;&lt;p&gt;All sharing, support, and collaboration will remain fully open, just as before. This is about choice, not change!&lt;/p&gt;&lt;p&gt;The full design files are located in this repository in case you want to build the devices yourself.&lt;/p&gt;&lt;p&gt;Versatile, cheap, portable and robust USB to GPIB converter (USBTMC class based).&lt;/p&gt;&lt;p&gt;You'll find many projects like this, but this one is special (ok, everybody will claim this) :-)&lt;/p&gt;&lt;p&gt;If you have a lot of test equipment at home, you might know the issues: Lots of devices only have GPIB as interface and the GPIB adapters and GPIB cables on the market are very expensive and some of them even have many issues, when run under Windows 10 (device driver does not work). Or they e.g. are not able to be operated with VISA, because they are UART based, need special command sequences, ...&lt;/p&gt;The adapters are also typically very long, such that they extend the overall length of your test equipment by at least 10cm (~4 inches).&lt;p&gt;Apart of the 2 very big manufacturers, other GPIB adapters, e.g. with Ethernet or also USB interface are not recognized by normal VISA providers or PyVisa, making the measurement control implementation specific for your GPIB adapter.&lt;/p&gt;&lt;p&gt;I've got frustrated and tried to turn it into something positive. Here a video showing the final device in action - click to view:&lt;/p&gt;&lt;p&gt;Some goals of the project were:&lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;Work based on the standard USBTMC protocol. This allows the GPIB test equipment to look like a normal USB based measurement device and work flawless with e.g. NI VISA, Labview, Matlab or PyVisa.&lt;/item&gt;&lt;item&gt;Have a small length - otherwise my equipment has the risk of falling from the shelf :-) Also the USB cable should connect 90 degree angled, to make it very short. With V2 HW, the length got further reduced to the size of a GPIB connector.&lt;/item&gt;&lt;item&gt;It should be cheap but still versatile (you can build a single one of these for only 14 USD!)&lt;/item&gt;&lt;item&gt;It should support ALL my test equipment, from many different GPIB implementation generations and different GPIB flavors&lt;/item&gt;&lt;item&gt;The Firmware should be upgradeable over USB&lt;/item&gt;&lt;item&gt;It should be rock-solid (!) I don't want to end up in a very long measurement being interrupted because of a software issue of my USB GPIB converter.&lt;/item&gt;&lt;item&gt;It should support additional features like serial poll, remote enabling/disabling&lt;/item&gt;&lt;item&gt;If there is no GPIB device connected to the USBGpib converter, or the GPIB device is powered down, there should be no USB device visible on the PC.&lt;/item&gt;&lt;/list&gt;&lt;p&gt;All those goals are met.&lt;/p&gt;&lt;p&gt;Although I typically would prefer nowadays an ARM Cortex M0/3/4/7 controller, there is an issue with it. Available devices support only max. 3.3V supply voltages, such that there would be a requirement for a level-shifter towards the GPIB Bus. GPIB is based on 5V (not exactly true, but a first iteration).&lt;/p&gt;&lt;p&gt;This limited the microcontroller choice to e.g. AVR or PIC controllers. Because of very good availability I ended up in ATMEGA32U4 controllers. Apart of the device supporting 5V I/O voltages, it also does not require a regulator to be part of the application - it has an internal 3.3V regulator. This minimizes the full application schematic and BOM.&lt;/p&gt;&lt;p&gt;Apart from that, there is an excellent USB stack available http://www.fourwalledcubicle.com/LUFA.php.&lt;/p&gt;&lt;p&gt;The GPIB side of the schematic can be directly connected to the ATMega32U4 IO pins. The IO pins from the microcontroller side are only set to 2 different states: Tri-state (input) or output LOW, to talk over GPIB.&lt;/p&gt;&lt;p&gt;All components are easy to source, so I only specify the potential critical ones:&lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;16 MHz Crystal: Farnell 2853867 - MCSJK-7E-16.00-8-30-100-B-30&lt;/item&gt;&lt;item&gt;REV 1 GPIB connector: Farnell 2421095 - NORCOMP 112-024-113R001. For REV 2 use a straight 24P male solder type connector e.g. from AliExpress.&lt;/item&gt;&lt;item&gt;USB connector for V1 HW: Farnell 2668483 - Amphenol ICC 61729-1011BLF&lt;/item&gt;&lt;item&gt;USB connector for V2 HW: Best is to look on AliExpress for 57 series 24P connector as a starting point.&lt;/item&gt;&lt;/list&gt;&lt;p&gt;The PCB can be ordered at nearly any PCB pool production service (e.g. 10 PCBs for 2 USD + shipping). The gerber files are included in the "HW/Gerber files" subdirectory.&lt;/p&gt;&lt;p&gt;The PCB is available in 2 revisions.&lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;REV 1 is the most popularly used right now due to age. It has a USB Type-B connector and an L-shaped housing visible on a few photos of this page.&lt;/item&gt;&lt;item&gt;REV 2 has some improvements like being smaller, better fit and USB Type-C connector.&lt;/item&gt;&lt;item&gt;A REV 3 is upcoming. It will be a major redesign with more speed, Ethernet and power over Ethernet support, but the same DNA: Standard protocols being used and ensure compatibility and stability!&lt;/item&gt;&lt;/list&gt;&lt;p&gt;Choose whatever you prefer. The software images, but also the external behavior is the same.&lt;/p&gt;&lt;p&gt;I created a sophisticated 3D printable housing for this adapter. The design was made with Fusion 360. The project file + the STL files are included in the "Housing" sub directory.&lt;/p&gt;&lt;p&gt;The PCB fits perfectly into it. Optionally it can be fixed with 2 mounting screws (the GPIB connector has 2 threads, use 2 times 4-40 UNC x 3/8) and the TOP cover snaps onto the housing base.&lt;/p&gt;&lt;p&gt;I printed this using an Ender 5 3D printer with black PLA, 0.15mm layer height, 1mm wall thickness, no support. Take care, that you rotate the TOP part of the housing by 180 degrees, so that the flat side is located on the printer bed. Printing works fine, several iterations of the design were made to ensure good printability. I printed so far 15 housings, without a single fail.&lt;/p&gt;&lt;p&gt;More information on this REV 1 can be found here: REV 1. Note, that also the programming/build instructions moved to this location.&lt;/p&gt;&lt;p&gt;The REV 2 housing is a lot smaller, but requires 2 screws. The housing is quite important to be able to connect and disconnect the board without breaking anything. It is key for mechanical stability of the adapter. When operating the device without housing, take very well care when plugging in and out the board in case the GPIB connector has a very tight fit.&lt;/p&gt;&lt;p&gt;Information on how to build it can be found in the HW/REV 2 folder: REV 2. Note, that also the programming/build instructions moved to this location.&lt;/p&gt;&lt;p&gt;The source code of the Boot loader (slightly modified LUFA MassStorage Boot loader) and the main USBGPIB converter are located in the "SW" subdirectory. At the time of publication LUFA 170418 release was used, with GCC as compiler.&lt;/p&gt;&lt;p&gt;Note: The Software is compatible with any HW revision in this repository. For REV 1 and REV 2 hardware you don't need different SW images.&lt;/p&gt;&lt;p&gt;For those, that just want to create their own device, I've included the binary output in the "SW/binaries" subdirectory.&lt;/p&gt;&lt;p&gt;You might be surprised initially, that the device does not show up in your device manager (or lsusb), when you connect only the USB side. This is a feature, not a bug (really!). Only, if a GPIB device is connected, you can see the device on your PC too.&lt;/p&gt;&lt;p&gt;The reason behind the feature is simple: Instead of having a standard GPIB wiring, where you have a single GPIB controller and lots of GPIB devices interconnected, USBGPIB supports only a direct connection of the USBGPIB device to your measurement device. If you have like me e.g. 14 Instruments you don't want all to show up in the device manager, if the measurement device itself is powered down - you won't anyway be able to communicate with a powered down device.&lt;/p&gt;&lt;p&gt;When USB and the GPIB side is connected, the device enumerates. The USBGPIB device reads out the ID of the instrument and constructs a unique USB Serial number out of it. It is thus easily possible to assiate multiple connected USBGPIB devices with the measurement instrument.&lt;/p&gt;&lt;p&gt;The VISA ressource name is constructed from this USB Serial number. You can identify easily e.g. in NiMax, which device is connected:&lt;/p&gt;&lt;p&gt;If you connect your USBGPIB device afterwards to another GPIB measurement device, it will disconnect and connect with a new serial number string, matching the other GPIB device *IDN? response again.&lt;/p&gt;&lt;p&gt;GPIBUSB does probe all GPIB primary addresses (and secondary address 0) for presence of a GPIB Talker/listener. It is thus not required to set a specific GPIB address - GPIBUSB will find it itself.&lt;/p&gt;&lt;p&gt;The only importance setting on the measurement device is, that the GPIB interface is enabled, which is typically the case.&lt;/p&gt;&lt;p&gt;The LED indicates different states:&lt;/p&gt;&lt;p&gt;LED blinking: The USBGPIB converter is connected to a measurement instrument, it is powered off or its GPIB port is disabled. In this state, the device is also not connected to USB and will not show up in the device manager or lsusb. LED on: The device is connected to a measurement device and GPIB communication possible. It is also accessible over USB LED off: The device is not connected over USB, or the PC powered off :-)&lt;/p&gt;&lt;p&gt;As this converter implements the standard USBTMC Test and measurement class, you can control your instrument from ANY of the normal VISA tools. I tried so far R&amp;amp;S VISA and NI Visa, using Python and Matlab to talk to the devices.&lt;/p&gt;&lt;p&gt;This project is actively maintained since more than 6 years and I personally consider it as very stable. It is proven by multiple users to operate on MacOSX, Linux and Windows and measurement equipment from several decades.&lt;/p&gt;&lt;p&gt;In general I take bug reports very serious and want to "fix them all". In case you don't get an answer on-time on items you report in the issues section, please write me: Xyphro@gmail.com. I often miss seeing issue reports very quickly, as I don't get an email once they are filed.&lt;/p&gt;&lt;p&gt;Below list is equipment I mainly myself tested. Many other users have other measurement equipment proven in use already.&lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;R&amp;amp;S FSEM30&lt;/item&gt;&lt;item&gt;R&amp;amp;S SMIQ03&lt;/item&gt;&lt;item&gt;R&amp;amp;S CMU200&lt;/item&gt;&lt;item&gt;R&amp;amp;S SMW200A&lt;/item&gt;&lt;item&gt;R&amp;amp;S FSW&lt;/item&gt;&lt;item&gt;R&amp;amp;S FSV&lt;/item&gt;&lt;item&gt;Keithley 199 multimeter&lt;/item&gt;&lt;item&gt;HP 34401 DMM from different generations / with different FW versions&lt;/item&gt;&lt;item&gt;HP 3325A synthesizer/frequency generator&lt;/item&gt;&lt;item&gt;HP 3457A multimeter&lt;/item&gt;&lt;item&gt;Agilent E4406A VSA transmitter tester&lt;/item&gt;&lt;item&gt;Tektronix TDS7104 Digital Phosphor Oscilloscope&lt;/item&gt;&lt;item&gt;HP 8596A spectrum analyzer&lt;/item&gt;&lt;item&gt;Agilent E3648A dual power supply&lt;/item&gt;&lt;/list&gt;&lt;list rend="ul"&gt;&lt;item&gt;It works under all popular operating systems like Windows 7 and 10, 11, Linux and MacOSX&lt;/item&gt;&lt;item&gt;USB1.1, USB2.0 and USB3.x ports tested, with and without USB HUB in between.&lt;/item&gt;&lt;item&gt;The connection stays responsive, when power cycling the PC, or hibernating/sleeping it&lt;/item&gt;&lt;item&gt;Different connection cycles (GPIB side connected first, USB side connected first, swapping GPIB side equipment, ...)&lt;/item&gt;&lt;item&gt;Extensive testing of timeout scenarious. E.g. making an illegal query and testing, if the USBTMC handles the timeouts properly. This was a very tricky part to get right.&lt;/item&gt;&lt;item&gt;Tested special transfer modes. E.g. capturing screenshots from different equipment is usually something, which will drive other GPIB adapters to the limits, because binary data of unknown length needs to be transported successfully.&lt;/item&gt;&lt;/list&gt;&lt;p&gt;The firmware version from 13th January 2024 onwards has the ability for human readable text base configuration of several parameters. The previous methods are still supported, but won't be further documented. You can look them back in the history of this file.&lt;/p&gt;&lt;p&gt;The command parser is quite simple. For that reason follow the exact syntax as shown below. Don't add extra spaces or make other modifications or concatenate commands.&lt;/p&gt;&lt;p&gt;While most GPIB interfaces use the hardware signal EOI to signal the end of a message, not all old equipment supports it. Some older instruments even don't have the EOI pin hardware wise wired and use \r or \n termination.&lt;/p&gt;&lt;p&gt;The USB-TMC standard allows to set the read termination. While in firmware versions before &amp;lt; 2.0 I did not enable that method, it is now finally supported with standard compliance.&lt;/p&gt;&lt;p&gt;I document here the older method (using pulse indicator request), but I add also the newer methods which are 100% UsbTmc compliant and portable across different equipments. You can choose which ones to use, but in some cases pulse indicator requests can be difficult to issue, for which reason it is likely better to use the standard compliant method.&lt;/p&gt;&lt;p&gt;(old method)&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!term cr')
&lt;/code&gt;&lt;p&gt;Above setting is volatile. To make this a permanent setting call the below mentioned "!term store" command.&lt;/p&gt;&lt;p&gt;(prefered method) Alternatively you can set the termination directly with visa means, e.g. using PyVisa:&lt;/p&gt;&lt;code&gt;dev.set_visa_attribute(visa.constants.VI_ATTR_TERMCHAR_EN, True)
dev.set_visa_attribute(visa.constants.VI_ATTR_TERMCHAR, ord('\r') )
&lt;/code&gt;&lt;p&gt;(old method)&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!term lf')
&lt;/code&gt;&lt;p&gt;Above setting is volatile. To make this a permanent setting call the below mentioned "!term store" command.&lt;/p&gt;&lt;p&gt;(prefered method) Alternatively you can set the termination directly with visa means, e.g. using PyVisa:&lt;/p&gt;&lt;code&gt;dev.set_visa_attribute(visa.constants.VI_ATTR_TERMCHAR_EN, True)
dev.set_visa_attribute(visa.constants.VI_ATTR_TERMCHAR, ord('\n') )
&lt;/code&gt;&lt;p&gt;(old method)&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!term eoi')
&lt;/code&gt;&lt;p&gt;Above setting is volatile. To make this a permanent setting call the below mentioned "!term store" command.&lt;/p&gt;&lt;p&gt;(prefered method) Alternatively you can set the termination directly with visa means, e.g. using PyVisa:&lt;/p&gt;&lt;code&gt;dev.set_visa_attribute(visa.constants.VI_ATTR_TERMCHAR_EN, False)
dev.set_visa_attribute(visa.constants.VI_ATTR_TERMCHAR, ord('\0') )
&lt;/code&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!term store')
&lt;/code&gt;&lt;p&gt;Above relates to the "old non prefered method". In general it is a good idea to set the read termination volatile and use the above suggested methods highlighted with (prefered method).&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
print(dev.query('!term?'))
&lt;/code&gt;&lt;p&gt;This returns a text string containing "lf", "cr" or "eoi"&lt;/p&gt;&lt;p&gt;Default wise the GPIB adapter tries during power on of the instrument to query using *IDN? or ID? commands the instrument name automatically. This is used to build the USB serial number, which finally gets part of the VISA ressource string.&lt;/p&gt;&lt;p&gt;Not all instruments support this *IDN / ID? query. For this reason this feature can be turned off. The serial number will then be built based on the GPIB address of the instrument.&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!autoid off')
&lt;/code&gt;&lt;p&gt;This setting is stored in eeprom = non volatile memory, so will survive a power cycle&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!autoid on')
&lt;/code&gt;&lt;p&gt;This setting is stored in eeprom = non volatile memory, so will survive a power cycle&lt;/p&gt;&lt;p&gt;Some instruments need after turn on some seconds before GPIB is responsive.&lt;/p&gt;&lt;p&gt;With below 3 settings you can set a delay which is applied before the instrument ID is queried after power on. Note that it will take then also more time, before the USB device is recognized by the PC.&lt;/p&gt;&lt;p&gt;Also this setting is non-volatile.&lt;/p&gt;&lt;p&gt;Delay 5 seconds:&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!autoid slow')
&lt;/code&gt;&lt;p&gt;Delay 15 seconds:&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!autoid slower')
&lt;/code&gt;&lt;p&gt;Delay 30 seconds:&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!autoid slowest')
&lt;/code&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # 
print(dev.query('!autoid?'))
&lt;/code&gt;&lt;p&gt;Returns as text string either: "off", "on", "slow", "slower" or "slowest".&lt;/p&gt;&lt;p&gt;Finally I implemented a command to query the USB adapters firmware version :-)&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
print(dev.query('!ver?'))
&lt;/code&gt;&lt;p&gt;A user discovered that Matlab has a limitation in the VISA ressource string length and shared a pull request to reduce the length. I expose this now first time in the baseline firmware with the following options.&lt;/p&gt;&lt;p&gt;This setting is stored in eeprom = non volatile.&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!string short')
&lt;/code&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
dev.write('!string normal')
&lt;/code&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); # USBTMC pulse indicator request (enables internal command processing)
print(dev.query('!string?'))
&lt;/code&gt;&lt;p&gt;This returns as text string either "normal" or "short".&lt;/p&gt;&lt;code&gt;dev.control_in(0xa1, 0x40, 0, 0, 1); 
dev.write('!reset')
&lt;/code&gt;&lt;p&gt;Do a reset of the adapter. Note that due to the reset you have to close the visa session and start a new one as the device re-enumerates on the USB.&lt;/p&gt;&lt;p&gt;Or support by buying a fully prebuilt adapter at: https://www.elecrow.com/xyphrolabs-gpibusb.html&lt;/p&gt;&lt;p&gt;In general any email, post or feedback is also very valuable, and don't feel bad if you don't use the support options :-) Feel free to contact me at Xyphro@gmail.com&lt;/p&gt;&lt;p&gt;This page is from XyphroLabs UsbGpib project: https://github.com/xyphro/UsbGpib&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371429</guid><pubDate>Wed, 24 Dec 2025 01:21:58 +0000</pubDate></item><item><title>'Dracula's Chivito': Hubble reveals largest birthplace of planets ever observed</title><link>https://phys.org/news/2025-12-chaotic-dracula-chivito-hubble-reveals.html</link><description></description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371673</guid><pubDate>Wed, 24 Dec 2025 02:01:49 +0000</pubDate></item><item><title>Autonomously navigating the real world: lessons from the PG&amp;E outage</title><link>https://waymo.com/blog/2025/12/autonomously-navigating-the-real-world</link><description>&lt;doc fingerprint="b7b1824179f29ca5"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Autonomously navigating the real world: lessons from the PG&amp;amp;E outage&lt;/head&gt;
    &lt;p&gt;At Waymo, our mission is to be the world’s most trusted driver. We know trust is built through consistent behavior over time—earned through every mile we drive and every interaction we have with the community. This past Saturday, as a widespread PG&amp;amp;E outage cut power to nearly one-third of San Francisco, our service was put to the test. With power now restored, we want to share an account of our operations during the outage and how we are evolving to better serve the city.&lt;/p&gt;
    &lt;p&gt;The scale of the outage and the sheer number of disabled traffic lights were the primary contributors to city-wide gridlock. As signals went dark across major corridors, the resulting congestion required law enforcement to manually manage intersections. The situation was severe enough that the San Francisco Department of Emergency Management advised residents to stay home, underscoring the extraordinary nature of the weekend’s disruptions.&lt;/p&gt;
    &lt;p&gt;Navigating an event of this magnitude presented a unique challenge for autonomous technology. While the Waymo Driver is designed to handle dark traffic signals as four-way stops, it may occasionally request a confirmation check to ensure it makes the safest choice. While we successfully traversed more than 7,000 dark signals on Saturday, the outage created a concentrated spike in these requests. This created a backlog that, in some cases, led to response delays contributing to congestion on already-overwhelmed streets.&lt;/p&gt;
    &lt;p&gt;We established these confirmation protocols out of an abundance of caution during our early deployment, and we are now refining them to match our current scale. While this strategy was effective during smaller outages, we are now implementing fleet-wide updates that provide the Driver with specific power outage context, allowing it to navigate more decisively.&lt;/p&gt;
    &lt;p&gt;As the outage persisted and City officials urged residents to stay off the streets to prioritize first responders, we temporarily paused our service in the area. We directed our fleet to pull over and park appropriately so we could return vehicles to our depots in waves. This ensured we did not further add to the congestion or obstruct emergency vehicles during the peak of the recovery effort.&lt;/p&gt;
    &lt;head rend="h4"&gt;The path forward&lt;/head&gt;
    &lt;p&gt;We’ve always focused on developing the Waymo Driver for the world as it is, including when infrastructure fails. We are analyzing the event, and are already integrating the lessons from this weekend’s PG&amp;amp;E outage. Here are some of the immediate steps we’re taking:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;Integrating more information about outages: While our Driver already handles dark traffic signals as four-way stops, we are now rolling out fleet-wide updates that give our vehicles even more context about regional outages, allowing them to navigate these intersections more decisively.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Updating our emergency preparedness and response: We will improve our emergency response protocols, incorporating lessons from this event. In San Francisco, we’ll continue to coordinate with Mayor Lurie’s team to identify areas of greater collaboration in our existing emergency preparedness plans.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Expanding our first responder engagement: To date, we’ve trained more than 25,000 first responders in the U.S. and around the world on how to interact with Waymo. As we discover learnings from this and other widespread events, we’ll continue updating our first responder training.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h4"&gt;Undaunted in our mission to make our streets safer&lt;/head&gt;
    &lt;p&gt;We live and work in San Francisco, and we are grateful to the city’s first responders for their tireless work, and to Mayor Lurie for his leadership.&lt;/p&gt;
    &lt;p&gt;Backed by 100M+ miles of fully autonomous driving experience and a record of improving road safety, we are undaunted by the opportunity to challenge the status quo of our roads, and we’re proud to continue serving San Franciscan residents and visitors.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371730</guid><pubDate>Wed, 24 Dec 2025 02:16:01 +0000</pubDate></item><item><title>Show HN: Turn raw HTML into production-ready images for free</title><link>https://html2png.dev</link><description>&lt;doc fingerprint="8f284f53b0f2fff2"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Convert HTML to PNG.&lt;/head&gt;
    &lt;p&gt;The image generation API your LLM will love to use. Turn raw HTML into production-ready images for free. No sign up required.&lt;/p&gt;
    &lt;p&gt;HTML EDITOR0 characters&lt;/p&gt;
    &lt;p&gt; SETTINGS &lt;/p&gt;
    &lt;p&gt;EXAMPLES&lt;/p&gt;
    &lt;p&gt;SIZE &amp;amp; FORMAT&lt;/p&gt;
    &lt;p&gt;W&lt;/p&gt;
    &lt;p&gt;H&lt;/p&gt;
    &lt;p&gt;S&lt;/p&gt;
    &lt;p&gt;OPTIONS&lt;/p&gt;
    &lt;p&gt;D&lt;/p&gt;
    &lt;p&gt;Z&lt;/p&gt;
    &lt;p&gt;DEVELOPER API&lt;/p&gt;
    &lt;p&gt; HTML PREVIEW1200×630 PNG&lt;/p&gt;
    &lt;head rend="h2"&gt;Vibe-Ready Endpoint.&lt;/head&gt;
    &lt;p&gt;Post https://html2png.dev&lt;/p&gt;
    &lt;p&gt; The Request&lt;/p&gt;
    &lt;p&gt; Parameters&lt;/p&gt;
    &lt;p&gt;str Raw HTML string.&lt;/p&gt;
    &lt;p&gt;int Output width.&lt;/p&gt;
    &lt;p&gt;int Output height.&lt;/p&gt;
    &lt;p&gt;str png | jpeg | webp | pdf&lt;/p&gt;
    &lt;p&gt;int Retina scaling (1-4).&lt;/p&gt;
    &lt;p&gt;int Wait time in ms.&lt;/p&gt;
    &lt;p&gt;num Viewport zoom (0.1-3.0).&lt;/p&gt;
    &lt;p&gt;bool Transparent background.&lt;/p&gt;
    &lt;p&gt; The Response&lt;/p&gt;
    &lt;p&gt; Fields&lt;/p&gt;
    &lt;code&gt;url&lt;/code&gt;
    &lt;p&gt;Public path to your generated asset. Immutable.&lt;/p&gt;
    &lt;code&gt;filename&lt;/code&gt;
    &lt;p&gt;Unique identifier generated for the file.&lt;/p&gt;
    &lt;code&gt;success&lt;/code&gt;
    &lt;p&gt;Boolean status of the render operation.&lt;/p&gt;
    &lt;p&gt;Beyond MCP&lt;/p&gt;
    &lt;head rend="h2"&gt; Not everything &lt;lb/&gt;needs an MCP.&lt;/head&gt;
    &lt;p&gt;Stop waiting for MCP server updates or proxy configurations. Your LLM agents are already capable of making HTTP requests. Give them the instructions, and let them render directly to the edge.&lt;/p&gt;
    &lt;p&gt;01&lt;/p&gt;
    &lt;head rend="h4"&gt;Zero Setup&lt;/head&gt;
    &lt;p&gt;No plugins, no servers, no local tunnels.&lt;/p&gt;
    &lt;p&gt;02&lt;/p&gt;
    &lt;head rend="h4"&gt;Agent Native&lt;/head&gt;
    &lt;p&gt;Works with Claude, GPT-5, and any tool-capable AI.&lt;/p&gt;
    &lt;p&gt;A Single Prompt&lt;/p&gt;
    &lt;p&gt; Paste into your Agent: &lt;/p&gt;
    &lt;p&gt; Prompt &amp;amp; Vibe &lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371743</guid><pubDate>Wed, 24 Dec 2025 02:18:38 +0000</pubDate></item><item><title>Correspondence Between Don Knuth and Peter van Emde Boas on Priority Deques 1977 [pdf]</title><link>https://staff.fnwi.uva.nl/p.vanemdeboas/knuthnote.pdf</link><description></description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371759</guid><pubDate>Wed, 24 Dec 2025 02:21:42 +0000</pubDate></item><item><title>Name That Part: 3D Part Segmentation and Naming</title><link>https://name-that-part.github.io/</link><description>&lt;doc fingerprint="17cfabefaea0c886"&gt;
  &lt;main&gt;
    &lt;p&gt;Many vision and graphics applications require 3D parts, not just whole-object labels: robots must grasp handles, and creators need editable, semantically meaningful components. This requires solving two problems at once: segmenting parts and naming them.&lt;/p&gt;
    &lt;p&gt;While part-annotated datasets exist, their label definitions are often inconsistent across sources, limiting robust training and evaluation. Existing approaches typically cover only one side of the problem: segmentation-only models produce unnamed regions, while language-grounded systems often retrieve one part at a time and fail to produce a complete named decomposition.&lt;/p&gt;
    &lt;p&gt;ALIGN-Parts reframes named 3D part segmentation as a set-to-set alignment problem. Instead of labeling each point independently, we predict a small set of partlets - each partlet represents one part with (i) a soft segmentation mask over points and (ii) a text embedding that can be matched to part descriptions. We then align predicted partlets to candidate descriptions via bipartite matching, enforcing permutation consistency and allowing a null option so the number of parts can adapt per shape.&lt;/p&gt;
    &lt;p&gt;To make partlets both geometrically separable and semantically meaningful, we fuse (1) geometry from a 3D part-field backbone, (2) multi-view appearance features lifted onto 3D, and (3) semantic knowledge from LLM-generated, affordance-aware descriptions (e.g., “the horizontal surface of a chair where a person sits”).&lt;/p&gt;
    &lt;p&gt;Setup &amp;amp; notation. We represent a 3D shape as a point set $\mathcal{P}=\{\mathbf{x}_i\}_{i=1}^N$ (sampled from a mesh/point cloud). The model predicts $K$ Partlets, each with mask logits $\mathbf{m}_k\in\mathbb{R}^{N}$ and a text embedding $\hat{\mathbf{z}}_k\in\mathbb{R}^{d_t}$. Ground-truth provides $A$ part masks $\mathbf{m}^{\mathrm{gt}}_a\in\{0,1\}^{N}$ with text embeddings $\hat{\mathbf{t}}_a\in\mathbb{R}^{d_t}$. A differentiable set matching (Sinkhorn) yields an assignment $\pi(k)\in\{1,\ldots,A\}\cup\{\emptyset\}$; let $\mathcal{M}=\{k:\pi(k)\neq\emptyset\}$ denote matched Partlets.&lt;/p&gt;
    &lt;p&gt;Text alignment (InfoNCE). Makes Partlet embeddings nameable by pulling matched (Partlet, text) pairs together and pushing others apart.&lt;/p&gt;
    &lt;p&gt;Mask supervision (BCE + Dice). Encourages accurate part boundaries and robust overlap with ground-truth parts.&lt;/p&gt;
    &lt;p&gt;Partness loss. Learns when a Partlet should be “active” vs. “no-part”, enabling variable part counts.&lt;/p&gt;
    &lt;p&gt;Regularizers. Reduce over/under-segmentation and prevent multiple Partlets from claiming the same points.&lt;/p&gt;
    &lt;p&gt;Total objective. A weighted sum of the above terms (plus an auxiliary global alignment loss):&lt;/p&gt;
    &lt;p&gt;We evaluate ALIGN-Parts on named 3D part segmentation across 3DCoMPaT++, PartNet, and Find3D, using class-agnostic segmentation (mIoU) and two label-aware metrics - LA-mIoU (strict) and rLA-mIoU (relaxed) - that measure whether predicted parts are named correctly. ALIGN-Parts outperforms strong baselines while avoiding slow, post-hoc clustering, yielding ~100× faster inference.&lt;/p&gt;
    &lt;p&gt;We also align heterogeneous taxonomies via a two-stage pipeline (embedding similarity + LLM validation), enabling unified training on consistent part semantics and supporting scalable annotation with human verification.&lt;/p&gt;
    &lt;p&gt;Metrics. mIoU evaluates geometric segmentation quality while ignoring part names. LA-mIoU assigns IoU credit only when the predicted part name exactly matches the ground-truth label. rLA-mIoU softens strict matching by weighting IoU using cosine similarity between MPNet text embeddings of predicted and ground-truth names (e.g., “screen” vs. “monitor”), making evaluation robust to near-synonyms. By construction, mIoU $\ge$ rLA-mIoU $\ge$ LA-mIoU.&lt;/p&gt;
    &lt;p&gt;Interactive segmentation demos (coming soon)&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Variant&lt;/cell&gt;
        &lt;cell role="head"&gt;mIoU↑&lt;/cell&gt;
        &lt;cell role="head"&gt;LA-mIoU↑&lt;/cell&gt;
        &lt;cell role="head"&gt;rLA-mIoU↑&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Base model&lt;/cell&gt;
        &lt;cell&gt;0.312&lt;/cell&gt;
        &lt;cell&gt;0.030&lt;/cell&gt;
        &lt;cell&gt;0.194&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;No ℒcov, ℒov, ℒtxt&lt;/cell&gt;
        &lt;cell&gt;0.324&lt;/cell&gt;
        &lt;cell&gt;0.021&lt;/cell&gt;
        &lt;cell&gt;0.187&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;No ℒcov, ℒov&lt;/cell&gt;
        &lt;cell&gt;0.528&lt;/cell&gt;
        &lt;cell&gt;0.239&lt;/cell&gt;
        &lt;cell&gt;0.443&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Geo input only&lt;/cell&gt;
        &lt;cell&gt;0.313&lt;/cell&gt;
        &lt;cell&gt;0.027&lt;/cell&gt;
        &lt;cell&gt;0.177&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Feature concat&lt;/cell&gt;
        &lt;cell&gt;0.302&lt;/cell&gt;
        &lt;cell&gt;0.036&lt;/cell&gt;
        &lt;cell&gt;0.189&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;PartField+MPNet&lt;/cell&gt;
        &lt;cell&gt;0.451&lt;/cell&gt;
        &lt;cell&gt;0.199&lt;/cell&gt;
        &lt;cell&gt;0.368&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;ALIGN-Parts&lt;/cell&gt;
        &lt;cell&gt;0.600&lt;/cell&gt;
        &lt;cell&gt;0.316&lt;/cell&gt;
        &lt;cell&gt;0.529&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;ℒtxt is crucial for naming. Removing it collapses label-aware accuracy (Avg LA-mIoU 0.239→0.021; Avg rLA-mIoU 0.443→0.187), even before adding regularizers.&lt;/p&gt;
    &lt;p&gt;ALIGN-Parts directly predicts a complete set of named 3D parts by aligning part-level representations to language, avoiding brittle part-count supervision and expensive clustering. Affordance-aware descriptions help disambiguate ambiguous part names and improve fine-part localization, enabling a practical tool for scalable 3D part annotation.&lt;/p&gt;
    &lt;p&gt;Limitations include robustness to noisy real-world scans, distribution shift for confidence calibration, and open-vocabulary generalization beyond categories similar to training data. Promising directions include extending to articulated objects and integrating part-level alignment into 3D foundation models for manipulation and generation.&lt;/p&gt;
    &lt;code&gt;@misc{paul2025part3dsegmentationnaming,
      title={Name That Part: 3D Part Segmentation and Naming}, 
      author={Soumava Paul and Prakhar Kaushik and Ankit Vaidya and Anand Bhattad and Alan Yuille},
      year={2025},
      eprint={2512.18003},
      archivePrefix={arXiv},
      primaryClass={cs.CV},
      url={https://arxiv.org/abs/2512.18003}, 
    }&lt;/code&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46371776</guid><pubDate>Wed, 24 Dec 2025 02:24:45 +0000</pubDate></item><item><title>Don't Become the Machine</title><link>https://armeet.bearblog.dev/becoming-the-machine/</link><description>&lt;doc fingerprint="a642741d026614c4"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Don't Become the Machine&lt;/head&gt;
    &lt;p&gt;I was recently recommended a YouTube video with the following title:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Only a slave quantifies its existence through productivity&lt;/p&gt;
    &lt;/quote&gt;
    &lt;quote&gt;'''''',,,,,,,,,,,'''''.''''''........................................................................... ......................................... ... '''''',,,,,,,,,,'''''''''''''''........................................................................... ............................................. ''''',;;,,,,,,'''''''''''''''''................................................................................................................... ...... ''',,,;;,,,,,,,''''''''''''''............................................................................................................................... ''',,,,,,,,,,,,,'''''''''''.................................................................................................................................... . '''''',,,,,,,,,,,,''''''''................................................................................................................................................... ''''''',,,,,,;;,,,'''''''............................................................................................................''.,:cclcllllllooooodxddxxxxkkxdddddddolcc:;, '''''',,,,,,,,,,,''''''''...................................................................................................'',:::cloooxOXNNXXXKKK0000OOO0K00OOOkOOkkkOOOOOOOO000OOkxdollccc:, '''',,,',,,,,,,,,''''''''''...................................................................................,:cooolodolllodoolloxkk0KXXXKK00kkkxxdddddxO000OxxxxxxdddxxkkO000KKKKKKKKKKKXXK0Oxoc: ''',,,,'',,,,,,,,,,,''''''...............................................................................,:ldkKXNNX0xoolccccllodk0KKKK0OkOkkxxxdoollccclodoolllllllllcllooddxxkOOO0KKXXXXXXXXXKK000Okxo:;;::,...... '',''''''',,,,,',,,'''''''...........................................................................,cox0XNWWWWWNNNXK0OOkkOO0KXKK0Okxollc::;;;,''..........................'',,,;:codxk0KKKKK00000OOOkxlclkklcllol'. ''',,,,'',,,,,,'',''''''''.......................................................................';lkKXXXXXNWNNNNNNNXNNXXKKK0Oxdol:;'.......'''''......''''.'',:ccc:,'''.''.............',,:ldxO00Okkkkkocldl,;;cxkl,... ''',,,,''',,,,,,,,'''''''''..................................................................':lx0XNNXK0KXXXNNNNNXXNXKKOxdo:;,.......''''''''',,,.......',,'''',;,'''''',;,.''..'..''..........':dkkkxkOocll;,:c::ll;;:;;,.. ''''',,,'',,,,,'''....'''................................................................';lx0XNXKOdoc;,cOXXNNXXKKKKOoc,.....................'...,'..,;,..'.....,::,,c:,:c;..,''cl,;l;.;c;........:dxxxdc;:;,cxOOkxl,';oxkdl:,.. ''',,,,''',,,,,''''....'''............................................................,coxOKK0kxxl,....;o0NNX00000Od;....''..............,;'';:;,';:,,;cc,,c;.,:;;cc;,c:';:,.';.,c,';:,':c,'::'';..lxxxl;,,;:lodxOKK0xlclokOOkxo:'.... . ,,,,,,,',,,,,,'''''''''''''.......................................................,;:codkOOxol::;'..':d0X0xo:;:xOOx,..':cc,...'..,::'';;,,:c:;:lc;';c;,,::,;:,,;;',c:',,.';;..;'.,,.';;..;,.,;'',,:ooddoooddlloxko:o0NN0xollxOKK0kdc;'.. .. ,''''''''',,,''''''''''''''.....................................................,lxkOkdddolcc;'..',cxOOdc;,,'.;dO0k:..,;,,;'',;cc:;;;;,;:;,:l:,:c;.':;,'':;'';,''..,;'....''..'..''',;;;:cllloodkOKXXXXNNKkxdxxkKKl'lOkkKX0xolxO0XXXKkdc,.... .. '''''''''',,,,'''''''''''.....................................................'lk0KOdooolooddolc:coxo:;;,'...'lkO00x;',,,,;cc;,,:lc'';;',:,.,;'.,,..,;;'.',..'.....',,',,,;,:lloddkOOOO0KKKKXX00KXNWWWWMWxlOOOOlxNx.,d:.;oOXXOxox0XXXXNXKOd:'..... ,,''''',,,,,,,,,'''''''''...................................................':xKNKd::clodxkkkxddddddoclc,....:xkkkkOxc:::c:,,;c;.,c:'.'......''.....',,'.',;;::cloddddddxxxOKKXXXNNNNWNNNNNNNX000XWMWWWWWKdollookk;.lkc',',:d0XKOxk00OOOO0KK0xl;'... '''''',,,,,,,,,'''''''''''.................................................,lxOXNKkooooodxxxkkOkdollolloollc;coodxkxkkdc;,;,..,;,';cccclooollllloodxkkkkOOkkkkO0OOOOkxddxOKXXNWNWWWWMMWWWWWNX0OO00KXXXXK0Oxl:;;:;',lOOc,::;;;:cxKXKko:,',;:lk0KKOdc'.. . ''''',,,,,'',,,'''''''''''...............................................,lolccc:cllllccloodxxxdlcclooooodxkkdlc:lc:lddddooddxO0K0OO0000KKKKKXXXNNWWWNNNNX0OkkkOOkkkOOkOKXNWWWWWWWWWWWWNNXK0OOxdoolc::::'.''....,cxOKk:,;cllllc::lkXXOl,.....,:lxOK0kl;.. ... ... ''',,,,,,,''',,''''''''..............................................'',:odool;'.''....'',,:cloxxxddooloxxdllol:;coxOKNXXXKOkdddolc:::cccc:cclllodxkO0XNNXK00KKKK00KKKXXNNNWWNNXK0Okkdoll:;,,''''....,l:..,::...';lkKKkolcloloooolccd0XKxc'......,:okKKOd:'... .... '',,,,,,,,,,,,,''''''..............................................';;codxxo:'.,::,..,;:::,.....',:clodddodo;;clkK0xdolc:;;,,;:clldddkkOOkkkkxxdoc:,,lkKNKKXXNNNNXKKK00Oxxddoc::;,,''...',;;;;:;,'..,do'.';:;,,.....:dOKKOdoodoldOK0xook0KOo,.......,:okKKOo;....... ',,,,,,,,,,,,'''''.'..............................................';coxO0Oo;.';:;',:llloo;'',''''.....,codol,:dkKKo;;;;;,;:ccdO00OkkkOOOOkxxdddxkOOO0KNNXXK0Okddol:;;,'',......',;,'.';:::::;,,'....cl,.';:;;l;........:xKNKOxoodkKNNXKOxdx00d;.......';ldk00ko:'.. . ,,,,,,,,,,,,'''''..''.............................................,lxOXXk:''';:::lxkkkkxo:'''..''.''',,'',cocckKKOdoollc::ccclooododdxxkkkOOOOOOOkxdlcc::;,'......'...','....';:,'..':loll;.........'....,,'lo........ .,lkKXKkxdx0XNWWWKkodkOd,.......,;:cdOK0kl;.... .. ,,,,,,,,,,''''''...''............................................;ld0XX0o;,;:cokOkkkkxkkdoo:::::;:olclc:;'.,ccd0kl;;:;;oxxxdxkkkkkkxdoollc:;,,'..................,c:;::;'..coodollclx00Oxxx:':,;oddxxc.....,:............ .,lkXNKkxxOKXXNNKo;o0Oc''......',;;cdOK0xl,...... ,,,,,,,,,''''''''..............................................,lo::ONX0Okxxkxxkxxxkkdokkxxkxxkkkkkkxlc:.....'cko;;;,'.;dkxdolcc;,'...... ...............';clloodOxollc;dOdoldkxkO0Oxdodc;::k0dddkKd'.:l,.........','.......,lkKX0kxxOKXKkc,cO0xc,........',;cdOXKOo;..... ',,,,,,,'''''''''.............................................,oddccONNXXKOkkxxdlc::;,'',,;:::clodxkxl,.......':c:cc,...'.............'',,,.....;,.,:ccldc',loddxkxxOkdoo;.';::::;;:codol:,..''d0kxxkKKklloolool:.. ..'',;,'......,lOXX0xdxkOxc'cOX0d;;,.......':llokXX0d:... ,,,,,,,,'''''''''..'.........................................;oxxl:dKNNX0Okdl:;,'.........'.......',,.......;:,,ck0k:......,;,.......,:ccc:'...';:okolooO0c':ol:,,;clllc;'',;;coodkOOkkxdxkkdlloxxlc::cloxxdoddOOc... .',,,''','.....,lk0Kkddxdl;;dKX0xc;::......';::lOXKOd;.. '',,,,,''''''''''..'.''''...................................;dOOo:oKNKOkdc:,......'cdo;..;ll:..............:oc:odk0d,.,,'',;;lo:..','';cc:;::clddd0Kkocodc...,:clxO000Okddolloddooodooooodxxk0KXXKOxdoooc:loodkOd::l:'..''':lc,';ll:'...'ck00kddol:cxXX0Oxc,;:......,;:o0XKkl,. '',,,,,'',,,,''''''''''''..................................:dOKx:oKWXkdl,'..'cc'..;lxOxollooc:::lc'........,;;oOOOd:'.,cc:;:::dkc'..,;::,;oodooO0dlc:;;;;;coxkOOOkxollc::;;;;;,,,,'',;;::::c::clooxOO0KKKOdoolc;'':c;;;;:;..l0koccloxoc,...;lxOOxdl:;ck0XXKOdc'.......,ccxKXKkc.. ',,,,''''''',,,,'''''''...................................:xOKOldKNXOl;'....;ldddxkkxxdllloodxOKKOd:'.''....,oOKKk;....'lxocloooo:'.',;;,:xdlodxo;';lddk000kxlc:,;;;clllllooooodoodoooooooddooodxxdolldk0XNXKOl,''..':clcol'.,;:ldoc:codc,....;oxOkdl,,cxKXNNKxc;......':clkXX0o,.. ''''''''''',,,''''.......................................:k0KOodKN0x:'...cl;:oddlc::ldddxxkxxxxxddkOxl::,..;dO00k:.......:xd::lc:;'...,:c:clccc;';ok00OOxl:,,;clodxxO0OkkOOkxkkxxdddxxkkkkOOOkkO00000Okdddxk0NNKOdl;,:look0xl:;;''lkkdcccll;....',cdkko:;dKXNNN0xl;''. .;:cxO00x;. ''''''''''''''''''......................................,dOKkclKNOo,.....;oxdl:;;:ldOkl;;;lkKKK0xocclol:'.:xO00Oc..''.....'ll;,,,;;;;,'':;'...';lkOkoc;,,;coxxkkO00000KKKK000ko:,,;:lloxk0KKXXXXXXXXXXK0Okxoodk0XNNKOdoollxklclxo..:k0KOxlclc'.',...,lkOO0K0KXNNNXOdc'. .,:cdkO0k:.. ''''''',''''''''........................................ck0OccON0o,...,,;oxl;:oddxxkOd;....lKXK0xool:;:;,ckOOO0o...,;cc::;..,;',ll:lcll'....':dkOxc,,:cldkO0000000K00KXXXXXXOl'.';;;;:clccd0XNNNWWWWWNNXK0000Odoox0000000kl::lcc;;,.':lx00kdll;.......';ok0KKKXNNWWNKxc'. .';oddkOk:.. '''''''''.'''''........................................;x00o:kNKd,...';lxdllx0K0OkkxkOd:,':kXNNKOdoll,.,lO0OkOd'...'cxOkdl;.':,;dxooodc..';lxkko:,;lxOOO000000000KKKXXXXNNX0c..........''.;kXNNWWWWMMMWWWWNNXK0OkdoodkOO0KOl;'..,;cl:;,,ckXXOdc,. ..';,..;oOK00XNNNWNKko:'..,loodxxc.. '''''''''''''.........................................'oO0k:dXNO:.....:xo:dKXXXNXK0OO00OO0XWWNXKOxool,'lO00xdo,.....:OOxoc,..',cxdc:;,';lxOOxc:coxO00000000KKKKKKKXXXXXNNNXOl'.............oKXNWMMMMMMMMWWWWWWNNX0kolodxxk00x:...ckxodx:'lx0X0o,.....,c;....'cokOKXNNNK0K0ko;.':cccllc,. '''''''''''...........................................cxkklc0WKl.....;xd;o0KKXNNNNNXK0000000KKK0kdxo;,oOK0OOx:.......dOdc,',,:ooc'.';cdO00xl;:lxOO000000K0KXNNNXXXXXXXXNNNNk,..............cOXNWMMMMMMMMMWWWWWNNXK0kxdooddk00Oxl:cdkxdx:.,ldO0Od:,...... .',';cdkO0KKKKKK0Oxl;,;;:::c:.. ,,,,,'''''...........................................;dxkxlxNWk,..':cxOccO00KXNNNNNNKdodxxxdooxkxdo:,o0XK0OOl........;do;.:lccldc.;odO00kl:cokkkkxxddoodkOKXNWWWWNXXXXNNWWNO;.';ccllool:,.;kXNWWMMMMMMMMMWNX0OxxxxkOOOkdlokOOO00Od:,;;,;:'.':lxOOxo:,.... ..,'..';lxk000KKKKXXOdc;;'',ldc'.. ,,,,'''''''.........................................'lddkdxXNKo'.',:lOx:okxxk0XNNWWXOdkKXXKkc,,coo:,oKXXK0Oo'....... .cl,.cxolloc'ck0KOl;:oxkOko:,;;,...';cd0NWWWWWNNNNNNNNXOc':oxkkkkkxdokKNWWMMMMMMMMWXkl,',:ccccldOOkkdox0OxO0Ol. .;cloo:,,cdkkkOxdllc;,,,,,,,....;okO0KKXXXXK0kdc:clcldc.. ,'''''''''..........................................;doool0NOkl'''..cKkcoo;,,;dKNNNKkO0kdoclol,,oc;dKXXXKOo,........ .:,..,llc:,.;xKKx;,cxkkOd;.'',,..'.....:kNWWWWWWNNNNNNNNXkolooddoox0KXNNWWMMMMMMMWOc'...';okkxo:ck00Odox00kk00l'.'coxkxo,':loxkkxxxxxddooddo'. ...':dOKKKK0xldk0Ol'.';ol'.. ,''''''''...........................................lkdolOWXkd:.....:KO:c;....;ONNWKdooclxkxdc';c:dKXXKKOd;..'''.... ....',,...'lkK0l,:dxkOOd;.......''...',,c0WWWWMWWNNNNXXNNNXK0kxkO0KKXNNWWMMMMMMMW0;....'..,:dO0OolOKOxddkO00KXKkc;dxldxk:..,',;;;::codl:;;;,',:cl:...,cdOKx;,lodK0c,::lkd,. ,''','''...........................................,xxldKNNXkd:...,coOOcll,'';dKNNWWOc:d00kl;,:::dKXXXKOx:..''......':lxxl,....:OKk:,:dkkkOxc'......'...':okdckNWWWWMMWNNNNNWNNNXXXXXXXXXNNWWWMMMMMMMWd',c:'..''.,oOKOld00xdxdox0NX0kxllodkKO:............,;ccooooool:,... ..,clc:clkN0:.':d0k:. ,,''''''...........................................:kkkKK0kOOkd,..'cld0xlkOkk0KXXNWNX0xddoolclc:dKXXXK0xl'.','.....;ooddkOc..'lOKk:,cxddkkxdl,,''''''',;lxkOdlkNWWMMMMMWWNNNNNNNNNXNNNNWWWWWWWWMMMMMWNx';ddo;'.....:xxlkX0OkkxoodOXKkxxdl:l0Kxo;.........;clc:;,....',;;::,.....';cdxd;...;k0ko,. '''''''...........................................'l0KK0oc;lOOxc.....'o0ooKXKK00KXXXK00OkOOxoccxKXXXK0ko,..;;,;....;ccoloo;.'lOKx:;ldddxxddxko;'';:;,:cloxkxdxKNWWMMMMMMWWNNNXKK00OO0KKXNWWWWWMMMMMMMWKl;lxkko,.....';dXNX00OxddllkXK00XXkcx0xddl;. ............,cdkOOkxdol'.;:,;;''......'::;:;. ''''''............................................:kKXk:;,.'o00x;....':xOodK0OO0KKK0OOxoccol:lOXNXXK0kd:..''..'....:loxl;'.'lO0o,,cdxkOkxxxkkxl;,;:cclooddddxKNNWWWWWWWNX0kxxxxxxxkkxxxkOO0KNWWMMMMWWMWXkloxOKx,....;xKNNNXK0OkOxllkNNNNWXxlxdoxko. . ........:x000Okkkddo:,;cllclc...',.....;:. '''''............................................;xKXx,.,,',:xKOd;...;dookkxkOOOOO0OOx:....,lOXNNXK0kdc..'........;xkdc'.',lOKx,'codkOkxk0OO0OOOxdxkddddxkOKXNWWNNNX0OkxxkO0KXNNNWWWWWNNXK0OOO0XWWWMMMWWNKOOkkxl:coOXNWNNWWX000OOxddkNWNNN0c,;cc;.. .......';:dO0OOkdooc:,,;:clllo:...;c;..',lx:... ''''............................................,dKXk;....',,oK0xo:...''.,dOkxdxxxxdol;...'o0KXNNXKOxl...',......:oO0k;.,:cxXO;.;ldkOOkk0000KKKKKKXX0KXXXNNXXNWNNXOdxk0KNNXXNNNNWWWWWWWWWWWWNKkxkXWMMMMWWNNWWNXXNNWWWWWNNNNNK00OkxxdoOXNNNO;. ..';.. ..:llxkkxdlc;,'......'ccloloo'...;lc'.,;o0O:.. '''............................................'oKNKc....''..:OXkooc'....'lxkOkxxoc:::;',lOKKXXNXKK0x,....'. .'c:cooxc.'coO0l';loxOOk00000KKKKXXXXXXXXXXXXXXNNXOdx0NNNNNNK0Okxxxkkk0KKXNWWWWWWN0k0NMMWWWWWWMWWWWWWWWWWWWNNWNXXKOkxxxxKNNNKo...;cl;'. .;:;;,'..........'..:lclood:..';cll;.';lOXk;. ''............................................'lKNNk;...,,...;kNKkxxd:'...;:',lk0Oxl;;lkKXKOkkOO00Ok:....... .,dl:;;c,.,lkKx,;ldkO0O0KK00KKKKKKKXXXXXKXXXXXXX0xd0NNNNNXOxdddkOOO0OxxxxxkKNWWWWWWXOOXMWWWWMMMMMWWMMMWWWMMWWWWWNXXK00OdkXWNX0c'coodxk:. ....... .',,'..';,.'loodldd,..;ccll,..,;lkKk,. ''............................................:OXN0l'..,;'...:OXKOkkxxoc,......lxdxxcoKNKxlccclcoxxc'...........;ol;,...:dKKc;lxkKKKKKKKKKKXKKKKXXXKKKKKXXXXX0dxXWWNXKkddk0XNWWWWX000O00Okk0XNWWWWN0OXWWWWMMMMMMMMMMMWWMMWWWMMWNNXKKKxd0NXK0oc0OoxO0o........ .;lc..'od:..:dxxdoxo...;loodc...';lxKd. ''...........................................;kNNXk;.',;,,'':xK0klcooooolc,....;;..,dXN0o:lddxxllxl'.....',:;...,,;,...:d0Xk;,ok0KKXK000OO000KXXXXKKKXXXXXXXKxkNMWWXkodk0XWWWWWWWNXKKKKXKK0xox0XNX0K0OXMMMMMMMMMMMMMMMMMMMMMMMWNNXXXXOokNXK0xcx00O0x,........'cl:..:dd;..,dkOkxkk:...,ldxkd,....:lx0l. ............................................cOXWNNXOxdddxxkOKXKkolc:ccclccc:;......dNNkllk00Okocdd'.';;ccllol'..,,:;...:xKKo':xO0000ko:,,;;;:dOKKXKXXXXXXXNXkxXWWWXkld0KKXNWWWWWNXKKKXXX00KKk:;:ldkkOkkNMMMMMMMMMMMMMWWMMMMMMWWWWNXXXKddKX000xlok0k;,oc.....','..,cc,....ck000OOo,''.,oxO0x:....':lOO;. .........................................;coONNNXXXKKXXXXXKKKKOo;,.....'',::;;'...dNNx:lOKXKkoldd;.,dkdll:;,'...,;;,...;xXKc,lxO0Oxc'........,cdOKKXXXXXXNN0k0NWMW0llkO000KKXNNNNXKKKKXK00K00xclc::cdOx0WMMMMMMMMMWWN0kkkOOKXNWWWNNNNXkoOX0KKKx:lOKd,'. .......'','.....:k0KKK0kl','.'lk0KOl'.. .cxKd. ........................................:xKXNWNXOxlccccllollodoc'...','.....',,.'xNXo;oOKXX0dloxc.'oxdl:'.....:ooodo,..:kXOccdxkOx:',:,......cddxO0KXXNXNNXkOXNWMW0ookkOOkO0KKKOkkkkKNNNNXKO0KxxOkdc;::dXWMMMMMMWNOdc,.....';lkXNNNNNXOdOXKKKKo;dxdkd'. ...','...',;'...o0KXNX0d,.....cOXNKx;... .,o00:. .......................................'o0NNXKOxo:,:xkkxdoc:::,.....''........';OWKl;lOXXX0xlldo,'lkd;.......,xdll:c:..l0Nkllodkxc':dd:.....'lddllk0KKKKXXKxONNWWW0ox0000KKKXXxok00xxKNXNXXK0KkdO0OOkl:;cd0NWMMWXd,';:'.....,::o0XNXXKOdONXKXXdcOkooOd. .''. ..cdc..'':kXNNNXkc......c0NNN0l'.. .'lOXd.. .......................................,dKNKKOxol;;kNNX0OOOkOOkdoc;,'.........;ON0:;oOXXKKxccol:;oOd'........,oddool'.;xKXOccdxxd,.cdo:.....'cll::x0KKKKXXKxONWNNN0oxKKKXXXXXKddKKOdckNNNNNNXXkoOK00KKx:::,:oOXWk,'ldl'.....:o:;o0NXXKkdONNNWXl'l0Oxx:. .......cxo'.;c:oKNNNNKd;',,;..;ONNNNk;... .;dX0;. .......................................,o0XKK0ko:.,kNWXkdoxxdolc::cllc:::;;,.;ONO:,lOXX00kccod:;d0x,....''....,:oxd'.;ok0Xk;:xxkx:.;ll;.....':cccd0KKXXXXNKxkXNXNNKolOKXXXXXXX0xolloxKWWWWNNNKocOKK0KXdlKXOo:,;lc,cxkl.....'oko:l0XKXXOx0WWWWk'..,;,. .. .,dd,.',':kXNWWN0l;;:;'..;ONNNN0l.....'oKXo. .......................................,lkKXXKk:...c0WNKkxd;..',,.....';:cc;:ON0:,oOKX0kd::od:.c00o,........'c;,cl;.'cdOKXx;:xkkkd;,:c:'.....,:lkKXXXXXXNNXkd0XXNNX0od0KKK0KKKKK000NWWWWWNNXKd;oKXKXN0cxWMMWX0xc,,cxk:.....:00klo0NXX0kdKWMMWd..';;;' .,l:....'d0NNWWXx;.... .;ONNNNNd'.....c0WO' ........................................:okXNXk,...,dXNNKkc...:do;'.......'ckNO:'lkkOOxo:;ldc.,kKko,.. .....';,:dxl'.:oxOKk;:xkkkkxo:;;'.....,lOKNNNNNNWWWNXkd0XKXNX0kkOOOkOOO00KXWWWWWWNNN0l;lKNXNWXolKWWMMWWWNx'..'','...xNXkcdKXNX0dxXMWWWO;':cod:. ...,,. .c0NWWWWO;.. ....,xXNNWNx'.....cOWK; .........................................;d0XX0l...,;dXWNKd'..coc;,'......'dXXl':docccc::coo'.oX0do;....... ..'ldool;,ldkOx:;dkxkOOOOxolclodxOXNWWWNNWWWWWWWXxoOKXXNXK0kkkkkkkkkOKXNNNNNXOo;:dKWWWWXd:xNWWWWWWWWN0l,..',,,lKXkodKXKKK0xkWWNXX0c;dOkkxc. .'..',. 'xXWWWWNd'.',,;,..'dKNNNXd,. .'l0WXc. ..........................................,lOKX0o,.'.'dXNX0d,.','',''',,..;xX0l;;cdxdk0KOdl'.'xKOdl:. ....'...;occocc;:lxOxc;odddkOOOOOO0XNNNNNNNNNNNNNNNWWWMXdoOKXNNNNX0xdddxxxk0KXKOkdl;:d0NWWWN0l;oKNNNNNWWWWNWN0dc,..';cldk0XXKKOxd0WWNXK0lckkodko. ..... ... .c0NWWWW0:..';;;'..'dKXXX0o;. ..,oKXKc. ............................................;okKKx:''',oKNNX0Okkkdlccllc''lx0K0kkOdccdxxOk;..'cxkl:c' .'''....,oolcc;'';dxdo::lldxkkkOOO0KKKKK00KKKK00KKXXNWWNKdlx0XNNNNNXKkolc;,;cc:,;:cx0XNNNNKd;ckNWNXXNNNNWWNNXXNXKOko;''cld00OOxldXWWWXKX0clOK0d,.. ...;OXNNWWXd'..';;'.. .o0XXX0xc. ..'lxOOc... ..............................................;lodoc;;;;c0NNXK0OOxlcccc:,.':xKXK0xdxlokolc....'';;,,'. ....,,...;::,....:ddo:;clodxdxkOOOOOOOOkkkOOOOkOO0KKXXK0Oxold0XNNNNNXXKkc'.':oxkO0KKXXK0xccdKWWNNNNXXNNNNNNXKKKXKX0Oxo:.'loloolOWMMWNNNKocdOo',,.. .. .'dKNNNWW0:....... 'd0KXKkdl'..';:;::.. ...............................................,lc,,'',;,;oxoc:;,,'''''''....;oO0dxX0cco'...... .'.. ..''.....',,.....:ddc:lcloddodxxxkkkkkkkxxxxxxkOOO000OO000kolokKXNNNNXK0x:,,cdkOO00Oxl;cxKNWWWWWWNXNWWNNNXXKKKKX0O0KKkd:,'',,lXMMWWWWKock0d'..,.. .:kKNWWNXx' ..... ,dkxxOxoo;..',;ldc. ................................................cl::;;'...... .,,'........ ....';,':o:... .,:;,..............''.',',,....:odl:cccloooodoodxkkxl:,'':llllldkOO00O0000OdlloxO0XNNX0kxl,';oxdl:cokXWMMMMMWXkddxkO0KXXK0000K000KkkOOxdc;''lOXWWW0c:oOX0:. .... .oxOKNNX0c. .',,,. 'ldolxdlo:..;oOOKk' ...............................................':oc''',;'. ....;,'.... ......',. ....,;;;:cc::,..,;;col;;olcol:coc. ..'...',,:cccloolodxl,.....,ldxdl::okkO000K000OOxdollooolcc:;..,clokXNWWMMWWW0l;;:clcc:;cd0K0000O0K0kkOOOOxlooc:co0KdododxOo..,,,,'......;ddxO0KKx,. ..,;. 'colcoool:':kK0OKd. ......................................... ....,odl,....'.. ....',;::,. ....''.......,;:::::;;:clc:;;,,lol;:c:oollo;. ..:c...'',;;,:odood:.........;clol;;lxkkO0KXXXXNNXK0kdlccllllooo:;:xXNWMMWWXd,,ldddoc;....:k000OO0OkOOOkxdlxNWNKo'.;lxOOOxo,.';;lxxollc,,lodkOO0Oc. .. .'..'colllll;;d0XX000: .......................................... ...cOKxc;,'.'. ......;dKXXKk:.'ll:lxxl:okxc,...,:;;;;;:loooc;;;;'':;,:::c;.',cO0xdddodx:.,c:;::..,,.........,;;,'lkOKXXNWNNWNX0kxxxxOXXKKK00Oxc,ckXWWWWx';dkkxl;.......cO0O000OkOO0kl:dXWWWNx,...,:oxo,..',cx0XXKKx:loodxxxkd' .......',...:ll:::,,dKXNX0Kx' .............................................cONKkocccc,. ..;cc;'.'oOXNX0l,oOlckKOl:xKkxc..;;,;:::okOkxxxxoc,.''..'cxxddkOKXXNNNNXKOkxdxd;...ld:............'lOKNNNNNNXNXK0kkkkkOKNNNNNXKK0d:;:dKWWx'ckxc;.......;;:x0KKOOOkO0OdcdXWWNN0;..,:;...,clc:,,cdk00Ol:olloooxkc. ......,;'. .;:::;:oxOXNN000:. ...........................................,o0XN0oc::cc,. .,ldlcc;..l0XXKk;.oo,:xdl;,lool',lc,..,:dOO00000KKKOxl;'';loddxkO0KXNWWWNNNWWWXo'..;ddc;'.........:k0XNNXXWWNXK0OxxddddxOKNNNXKKKK0xl,;xXx,','......':ol;:OK00OOkO0OdokXWNNNKd,':ox:.. .;clc,..';,;cccloodkd'..;cc:c:;:,...,;::cxO0KXNKO0o. ..........................................ckKXX0l,..'''....:oxc';xx''dkxkkc..,.'ccc,.':c:..:c;.. ..,cdk00KXXNWWNX0d:',coddddxk0KNNWWWWWWWKl'..,clll;.......:x0KXNNNNNNKK00kl;,,:::ccdOKKKXXXKKKkl;:l:.......;lxkxllkXKKK0O0OOolxKNXXKOkl:ccox:. .;c:'. .,:;:llcdx:..,lkKKXXXKkc',;,;lxO0KXNN00k;. ........................................:xKNN0x;....... ..:oxl'.cx,.loodd:.....;;;'.';,'..;;.... ...;cox0KNWWWWWWKxl;,,,',;:ccld0XWWWWWWXOd:.';;;;,'..,:oOKKXNWNNNXKKK0x;.,lxkxxdlclodOXXXXXXX0xl,''''..,lxOkdodOKKKK0000xllx0KK00Odc;lOxll,. ';:;,;,:c::ldc...'cx0XNNNKOl'',:oO0KXXXNKO0o. ......................................:d0XNKOkc...''... .;ldl'....'ol:cc,. ..';,.. .,. ... ... ......':d0XNWWWWWNN0o:,...,::;;:o0NWWWWWXx,.','';coodxkOO0XNNNNXXKKKKk;..,cllll::;,'.:OXXXKK00K0kl,';:lodddxk0XKKKK00Okl:oOO00Okxl;;lxkl':;. ..;:;;::;lo'......;lodxdo;.,cxOkoox0XXOkk;. ................ ...................:x0KK0kddxc............'cdo;....:d:,,.. ..'.. .. . .':,......;lk0XXNWNNX0Oxdl;...,:cclONWWWWW0c...,clokOkxxkkO0KKKKKXXXKKd...............'xKK0OO0KKKK0kl;,;d0K0KKKK00K00OdclxOOOOdc'..cdoodc. . ....';:ccccccc;'..;,. .':' .....''';oO0k:..'dXKkko. ................ .............,;::cc::ldxkkd,......,;...'lddoccldl,.... ... ............ ..:kOdl;.......,cdOKXXK00K0dol,..''::lKWWWWNXOo,.,cllodoodxxkkO00KKKKKK0l...............'x000000K000KKKOd;';ok0OOO0K0OxoldkOOOOxc. .:doll' ..':ldxdddk0XNWNNXKOkol:... .;,...,;,..cxOOOOxlcdKNOxx, ................. ............':c:,.......:dOKX0o,..',;'... .;oxOOl'.... .'. ...,;;,'......'lOOxo;.... .,,'.';clx000Occxl;,:l:',:kWWWWXK0d,..,cccllloddxkOO00KK0KKKx,.';,'''.......cO00000OO0KKKK0KKOl'.;lxk00koldk0KK0000d,........ ..:dOKKKOkxdxk0KK00OOOOkOOkxl,.',..,;,,;loodxk000KXK0Oxc. ................ . ......:dkOxl'...''...:kXNNOc''...,......''...... ...,'...,,.........;kKOxo;. ...'clcc::c,.':oxkl,,;l:cOOc,:kWWWWNKx,...',;:c:cooxkxkOkkOO00K0Oo;;coddoll:;;,lOKXKKK00KXXK0KKKK0ko;'.,cllldk0XNWWNXKxllc:lc'....,lk0K0kxkkOO0KNWWNNNXKK0OxxO0KOd;..;:';locclodkkkkOOkdol;. ................. .... .....;d0KNNKd'..',,,...;kXNXKx:......;,. ............. ....''..........;OXOoc,. ...,,;clolc:..'',::;;codk0x:cxKWWWNX0o;. ...',;:cldxdxkOOkkk0000OOOdc:cllcc::lx0KKXXKKKKXXXK00000O0Odc'...:xOKKKNN0ddl:ddccdo. .'lddOOxdkKXNXKKXNWMWMMMMMMN0dodOKKOl'.,:ll::coddoolc:::odo' ..........................'o0XNWWWWXx:;:;;;;'..lKNXX0kl....,:'...''''. ......................o0Odc,.......'..ckKOOOd;',:cc:;:cooc;cx0XNNNXKkdc. .,;;;,;cllllddodkOOOOOO0000OxxkxkOO0KKK000000O0000OOkO0Oxlccodl,.;d0kxko' ..,xxdkx:..;xkxxdoOKKKKKKKKKXNWMWWMWWWWWXOlcx0K0d,.,;,,,',,'..',;lkOo,. ........ ... .........:kXNNKOOKX0kdolool:,..:OXNNXX0l...'....,:::'. ..','. .......... ...:oo:,....,:,...,lkXNNNNKxlcldoc:;,',cdxkO00K0d;.. .;coddlc::;:llcldxxkkkOO000000OkxxkxxxddxxxxxxxdddddoddlcldkOOOxc;,,cl;. ..ckkxo'..;OK0OddKX0kxdox00KKXNNNNNKXWWWWXd,,ldxkl...... .....cdxOko,. ........ . ........c0XOdl;.'cxxoodxOkl,...;ONXKNNX0dc;,,,..:lcl, ..,,,:,. ..,;cdxxxdlc:;..........','. ..;xXXNWNK0kdlc:;;;;:lolooodxd;. .;coxkOko;,,,,,,;::codoooookkxxdddddxxxxxkOxxkxdo:;:cooddxkkxxxdxdl,.','.,oxxkOl. .'d000xdKXkl:;,,dKKXXXXXXKdoxk00kdll:;:codc..,;...,,..ckO0o'. .......... ....,dK0dc:,...codxO00Od;.''.:ONK0KXXK0xol:;';odol. .,,;cdd:..'codk0KXXNNXKOo;........,:;''...:kKKKKOxoollccllc:cllllc;;:;... ..',,,;:c:::clllooxkO0OOOkOO00OkxxxxxxkkOKNXOkO00KO:.;odddxkdolcccdO0o'..:kKdcdO:. .ckOOdoOXK0xc,.'xKXNX0O0OdxXXKkxxkOkdc;codd,..'...'..'okkl. .. ..... .....cOKxcoo;...:dxkOOkxdo;....lKN0kOXKkoc:;,'.:xxxl..',;:oO0kl..,:clokO00000Odl:,. ..;clc,'.,,.:occlcc:;;;,,',,,,;:c::cccclooodxkkkOOOOOOkkOOOOOOkxxxxdxOOOOOOOOkxxxxxOxldKOxkkO0KKo.,oxxxkxo:;'.':oooo:..;dOOOd'...lxkdcd0KXNXKOdo0NXOdxkxolONNWWNXKK0Od;:dxx:......'';oxd, . . ..'o0Olcll,..':ooc:;,:llc:...:kX0xdOKkl;'.....oOOOl..',:ok0KXXx;':::clodxdlcllc,...,;:;'....,,',;;::ccloodddxkO0KKKXKKKKK0OOxxkxdddoodoooodxxkOOOOO0KXXNNNWWWWWWWNKK0OOxlxK0kOKK00k:.;ooodxxoc' .ld'....'col,.',ldxocxKXNNNNNNNNN0okNWN0dlONWNNNNXKKk;;dkx:..';::clooc. .. ..:xKk:;c:'..,::;'.....':::,.,d0Oxclkd;..,'...:kKXKc..'.;d0XNNXKd;;cloooxkkdc:;;,',:ccloddxkkO0KXNNNNNNXXK0OOkkxdooddxdddddddddol::coxxxkOOO0OOO000KNWNNWWWWWNX0kxdooooodk0K0000kxo;',,'':x0Kk, ....;cccc' .;loc:dOOxckXKKXNNNNNXNOoOWWNKdoOXKXNWNXKKx,,x0k;.',,::coo;. ... .'lxOd;.'..';:::,....''..,;;',dOxoc:c:....'',;,lKNNO;..'..;kKNN0kOo,;:ldkO00K0000KKXKKKKKK00OOkxdooollccccccllolodxk0KNNNNNNNNNKo;,;;';:lddddxdooodxkOOkxxkxxxxxxxxkkkkxdlc;''',;;:c;.. .'co:. ..''.'ooccdl. ...;lodxkxldK00KXXNNXXX0olxkkxdOXOollx0KKKo';OKx'.,lllooo;. . ... ..,dkkOkol:,',;,,'....'''..',';dxdoc;;'. .':oxxc,oNWNx. ....':kX0xoxxkO0KNNNXNX0kxolccc::::;,'.....,codddxxk0KXNNNNWWWWWWWWWNWWXK0o,;c,..',:cccc:;;;::cclllldxxkkxdoc::::;. .;cc' .... .;,. ..,;.'lc:ldl..,,...,codkdokOk0OxdxO00xdO0OOKNNXx:'..'l0k;;xKKl...cxxxxc. .... ... ...ckKXNNNNX0Oxxdl;,...'......,;ldlcc:,....;d0K0kc;kWWNd..';;;;,:dxoxKXXXXXXXK00Oo'..''';:ldkkc;oddxkdlloxOOO0KXXNNNXNNNNNNNWNNNNKOOx:,,:oc,......',;:lollll:;;;'.... .;c,. .... .;. .::;,''... .,;,:lodl;. ..... .;xOkolooodkOOkdoxKNNNWWNKOl;;;:oxx::xKKx;..;oddxo. ..... ......'o0NNXXXXNX0xoloddxoc:,.......,:;;;:;'..'cx0K0ko;c0WWNd..,lxxxxc;xKKK0000OO0OO000x;':cclodxkl,d0dlldKx',ldxxdxkO00KKKXXXXKKK0kxxdol:'';:lc;'.. ..''''''..... ..... ';... ..,,. ...;xkxl::,;. .,clxkc'. ...,::'. .:x0kl:lOXXNNNXKXNNWWWX0OOkxxkOkl,:kK0o'.';:ooo:. ..... .....,d0XN0dc:lOXXkdll::ccc:,'':lddxko;...'...;looc:,..lXWWNo..,cdOkxlo0XXK00kc:ldx0KKKKx,,cclloxo''dOxoldKx;cc:odoodddxddddoooodxxxxk0Oko;;:;;::,... .....;:ccc;. ...... ..;:'. . ,ddc:ll:,. .ckocld:. .,ll:cl:'. .,oO0kod0XWWWWNNWWWWWNXKK0K0Oo:;lxxkl....',;;,. ..........;dKNNKd'...:OX0xoc;'....;oOXNWWWNKko;'....,,'......dNWNXc....:odl;dXNNNNKoodoolkKKXX0c;llllodd:..;ooooc',coc:;;;;;:::clooddxxkxxolccc;..,;;:cl:,'. .;lodxkxxdo;. ........ .ldc'...;:oOOo,. .oxc,;o:. .,codlccc:'. .:x0Oxodk0XNNNWNNNWNNXKOxl::dO0ko;. ....... .........,lkXNXKk:..'lO0ko:'....;oOKKXNK0Okxddoc:,.....,'...'OWWWK:....;,;,;kWWWWWXddkl;cx0KKK0c,clcclooo;. ....';:cooc;...':c:cc::;,'.....,;c;'...,;;:cc;,. .:lddxxolc;. ..';;.. .;c:;:cdxxo:. ...:dkxdl'.'cdxdxxl:;'... .ck00xolclodxkkOkxdoc;;:lkOkl;...'. ....,. ...... ...cOXNXXX0xxkOkxl,..,,,:kNNNKxoccdkoc;cdol;....:;...;0WWNx..,..coo:'lXWWWWN0kkkkkOkkOKk;;lcllccllc;'....,:clddol;'....... .'clc;;col'..,clll:'.. .';;,;;;,'. ..''. ...... ..;:,...,,...,oxOkdo:,.. .. ..:lxkkxdlccc;,,;;:lodxdo;.. .''...,'.,' ..........'o0KXXXXKKOdo:..'::;,oKNN0ldkl:d0X0c'cdoo;. .',...lXWWXc.,c;.'loc,'oKXKK00KXXK0OOOOkocoodxxxkkxol:,. .':ldxxxdodl'...,.... .,ll:;:lol;.. .,;;;:,.... .;,.....,......... . .... .':oxko;''''. 'dkdl;'. ... .........,coooxOkdlloooolc:;'. . .....,;..,' ............cx0KKOOko:,...'''',l0XXxcON0l:lOXx':k0k:. ....,kNNN0;.,lc'.;oddc,:odxkkO0K0OOkkO000kxxdool:;'... .;lxxxxkkxdc'';,'...clc::c:'. . .',coo;','. .:l'..'lo;..;::. ... .... .';lxOKXkccc:cl:. .,:,...;:clodool;'..,:ll;. ...',;,,,,;:;;:cll:'... ..''...:' .............':ooll:'. ....'.:k0Kk:cOKOl::o:,dKKO:.......cKNXXk'.';;cd0NNKkl,..,:cloddoooodol;'.... .. . .cdxxk0000x:,,. .';::'. ..... ..';cc'',.. .'lollxKKxcdOko'...,,. ..';lxO0K00Oc:dl;;dx. .,lk0XX0OKNWWWNk:'';lc'........,,,;:lodddkxxxo:,. .... .;c. ................... . .....;dOOOxc:cll;'',cxkxl'..,''.'dKXXXd'..':kKWWWKo,.';c::::::;;;,'.. ...,'..''. .. ......,lxxOKXXX0o' '. .... .;:;;;,',:ll,';.....:kO0KNNNNNNNKOkxdl,. ...;lodxkOOOOd;;oxoc:'. .,xKNNXNNK0KXNNX0Oxdl,,... ....'..';clloooolc;,.. ... ..;,. ................................,lxxxxkkxdxxkxdol;..';:::';kKKXKo..',:d0Kkl,....,:lldool:,'.. .,:llc::,. .... .;cc,. .;dOKNNXXXk:.'. .'...:x0KKk:';:lc;;;.. 'lk0XNNWWWWWWWWWWXl'..''....,cclodkOOkd:,cxd,. ..;kKNNXKkooddoodxxxxkOkd:. ...... .,;;,,.. .. .. ..,,. ..................................;::cdKNNNXOxl;...,:clc:':kO0K0:..,:clc,..':ll::::;;;;,......'ccllccc,........,okkdl,.',lOKXNNNNXxc:;. ..:oxOKXNNXk,.,;l:,;;. 'ld0NWN0dccclxKWWX0kko,....',:codxxdd:,;oxc. .'okO0KOllkXWWKd:::cdk0KXk;. ................. ... ... .',. ............................. ..,:ooolc:,......,;dkdl;:lodxx, .,,.....,coxOOKXXKK0Ooc:,'.,lodoolc,...''....;dOOkkxdl'.,o0KXNWWWKx:. .....,oOKXXKkddc'.',:oc,;,. .:oONWKc. ...,xXNXKKk;....'..,:;;::;;looxo. .lO0000ol0NN0dclkKd,l0XNNk;....................... ... ..'. .......... ............ ..;c,.............l00l,,;dxc:. .. .....',coxkOOO0Oxl;,.':oddoll:.. ........,dOO00OOOc. .:x0NWMMMWk, ..';cdkKKKkc'......'coo:','. .cONNx. .;'...c0NXKKK0xdoc,. ... .;dl::cl' 'xNNWWXodK0o:cONWXx,cKNWNk:.........''................ ..':,. .......... ... .. . .;ldoc;,........'xKd;:llll:. ..............,;,;,''...'lxxdooo;......''....,dOKXXKK0l. .ckXWWMWW0c. .,coxO00l'.....;,..,:l:,,'. ,kNNO:..:c:''oKXXNNWWNX0c. .. 'llcc:,. .oKXXNKxccloxOXNXOc,dXWWXd,.........''.......;::'... .:llldOo. .......... ... .,dO0d,..'.......lKKl',;:;,,,;;::'..,,...',,'.......,dO0Oxdl,..'....'......c0XXXXK0d.... ..ckXWWWWNO:..,;cxOOOd,...;lo;..,:loc,,. .cOK0OdccclokKXXNWWWNNXKxl:,'. ...... ,k0O00kl;ldxxkko:;o0NWXx'..........,,...'..'ldo;,;. ;k000KKx. .......... ;k0Kd..,:' .,:..cKNOl;,'.',,,cdkk:..'...:l,... ...cOXNXKxc'..''...,'...:;.;OKXXXXXO:..'. .'ckXWWWWXx,.;clodkkd:,;::ccoc;;;coc,,. .'lkOKXXK00KNWWWWWWNNXK00x,.. .';. ,dxdxkxolc::c:cx0NWW0o' .........;;...'..,okxl:;' 'x00000d. ............. .c0K0l. .;,.,dc..dXNOdl,......'lOKOc..'.'ox:. ...'oKXXXXO:. ....:o:... ...;kKKXXXK0c..,:. ..,ckKNWN0o;';clodxxkOOOOOKKx;'',cdc'. .;oookKK0KNWWNNXNXXNXXK0x:....',,'. .,lllxkkkkkOKXWWNXx,... ........,:' ....'okxc;;'.,kXK000x' ......... .dK0x, .',oo..;ONKxc'.........:kKOc....ld;....;kXNNXXk:. ..oOo'... .o000K0OOd' .cc. .c;..;xKKOkd:',cooddkO0KXNXOl,'.';oo;,.. .oxxdllkKXNNXXKKKKXXXXXK0d;;l:;:lc. ..'lO0OO0KK00kl,..'c:. ...'....,c;.... ,xOl',;..c0XK0OOd. ....... .;OK0l. 'l:. .dK0ko'......';;..:x0k;...,:,...:kNNNNKd, .;xkl'.... ...cOO0OOkkd' .l; .c:'. .;dOOkdl;'',:cxO0KNXdcc:;'.;ldc;'..;oxkO0l:kKXNXKK0KKKKXKKK0l,lxlcll;. .'....,,,;;,'...;cdOKo. ..'...'lc.... 'xOc'c;.,xKKKK0Oo. ... ,dOOo. .'. .:Oxlc...''',cdl;...:xxc....''..cOXXXX0l.. ..,ld;. .....::.'oxoll;,.. .. ... .....;dOkd:...;:lkOKXd,;::lc,;:,'''..'cxO00d,l0KXKKK0KK00KKKKOo;;lxkl' .... .;:..,:;,'.'.,o0XXXXXd......,,. .:o'....;xx::c'.lOKXK0Okc. .,lllllloooddollc:;:;;. ....;ll;......''........c0NNXXk:. ...,:;,.. .,c;.. .'.... ....',,';:;;'..:c;:lc.,lc:o00l:lccldxc,;cc::'.:OKKKk:cOXX0dlolcdOKKK0ko,,ldd, ..'',.....;c'.:xkxkkxll0WWNXX0o... .:;. .cl'.'..:o;;:'.;OXXXKOOx; ,coOXNNNNXK0kxOKXXKOxc'....,,'........,col:,'.'oXWWNXx, .',,...'. .... ..';cloddxxdoolc:::cc::'. .,c:.'c,.;k0lcoooodkxo::::;..o0K00k;c0XO:......:OKK0o;,;clo:. .',,,'..,,',c;.,dKXNNKxlkNNXXKOo. .c:. 'ol.....,,,:;..dXNXKOkOx, .,lkKNNNXKd'.:ld0KKKK0xc;,'.........,:odxoc,.;kNNNN0l. ........... ....',:lodkO0KKNWMWNKOOkkxxdlllcclc;,,..''.....l0xcoddxxkkOxoc;,:oO0OOkl,oKKo,::. ...l0Kx;:l;,;lo. .;,,,',,::,,c:.,x0XNKOxclkxdooo:. .':'..:o:.... .;;'..l0XXXKOkOx, .,:oOXXXKx;';:oO0OOkdddddlc:;'.......,''...;kNWWNO;. ... ....,;:lddxOKXNNWNNWWNXXNWWWNK0OOkxoc::;,,..... .',.,k0l:odkOO0O0K0kxkO00kxc,lO00x:;'. ..'xXKx;;ll:::,. .';,;,'';cl:;;,..;:;:;,'..... . .,'..,c;.... .;,..'oKNNXX0Okkd' ..;ckXXXX0kxk00Okxdoolllc:;;;,,;;;;,..,;,cOXXNKo. ......'',;cloxOOO0KXKXNNWNNNNNNXK0Okxolc:;,'............;;. ....:OKOl:cx0KKK000kxxxk0xccdO00KKOdl:;:d0NXOl'...'. ..',:;'',codl,.... ':c:lxdoc,.. ..'...';,..,'..'....dXNNNNXKOkko. .':x0XXK0Okxxdl:;,,;,;;'.....',;coc,..:xKK00l. ...',;:odkOO00O000000Okxddolc:;,'.... ..;;;::'.';;,'.',,:x0KK0koloxO000K0kdolccoOO000KXXNWNNNWNKd:,'.... .,';;'';cldxxxo;:c..:O0kKNNNKxc'. ......,'...',.......;ONWNNNNK0kko' ..',,'....clcloxkO0Okl,..,,;,..',;'.:lokk:. .';;;:ldxxxddocc:;;,''.......... ..... . .,oxl;;;',:cooolok0KKXNXKkdoddddddlcodxOOkO0KKXXXNWWWNKoccclc;. .'. .'';:;,;codkkkOk:;d:.;0Kk0NNNX0xl' ....''.. .'''.. ..,;cONWNNNNX0Oko' ..ckOKNNXXXK0Okdcccccc::c;..'co;,' .,,''''''.... .''. .,,''. .':loc. ... ...'dxccc:;;';ododO0KXNWWNXK000xllodxkxxO0O0KKKKXXNNNNXd;loddoo'.';;..',;c:,,:ldkkkkOk:,ll':KNOxXWWNX0k:. ..'.. .,,'.. .:oox0NWNNNNX0OOd' .cOXWWXk:;:ccoxkOOkkxxdll:'..... ... .,:::' ....'.. 'lxOkxl. .''. ...:xl;:::l'.;xkOKKKXNNNXKK0Od,.,::;cdk0K00KKXXKKXX0Ox:,okdl:'.;lc' .;;c:,,:ldkxxkko,.'lo;;OWKx0WWWNKOl'. .......''. ....'lxkk0NNNNNNX0OOo' .. .l0XNWNk,..''.;ldxdoolc:,'..... ........ ..'';cc:,,;'. . ,d0XKKx, .,;. .ldcccc;. 'okOKXNNNNXK000d:'';;;,.cO00KKKKXK000xc;,:lo:'. .cdo' .;;:c:,,cdOxdkd:. .'ld;,kWXxkNWWX0ko'. ...','......,..;okxx0XNNXXK0OOOd' .;xKXNNXOl'.'';ldxdl;'.......... .',;'..'. .,:;;:c,.... .. 'd0XXKOc. .;:. ..,'.....';:okKXNNKK00Ol..... .lkkk0000K0Od:;c:lcol. .:kd, .,:cll;,cxOxdxo;,',;:lo;.oNNxxXWWX0ko,....''.. ...:c;;:xOdlOXNXKKK0OOOd' .:d0XXXKKK0OO00Oko;.......,cc::,..';:::'.. ...;;,,,'. .. .lkO0KOl. .;,. .''',,''':kKKKK0OOd:'....,lxxdlclc;:c:,.;doddxc. 'xk;. .;cdx:'cx0kooc:c;;:'':l:.:KWOxKWWNKOx;....... .;lolcokOooOXXXXK0OOOOd' .;ldk0K0KXKK0Oko:. ... ...;;','..;:::::. .''. ....'''.. .. .. .'' .;ooool:. ...''. ..... .,loo:,;,,lxxxxxxdoolccldxko:;:cc;......':c:,. .c0d. .;ldxc':kKOolcll:,.. .:l:.'kWKxOWWNX0xc.... .. .'colccokklo0XXKKKK00OOd' .....''',;;;,'.....;do,..........;clodd:..,:,... .'. .',..',. .,,,,'.. .:,......,;:,. .,okOxooc;,;:;''col:;::::cc;:ol:ccl,..' ......o0c..:ldOd',xX0olclo,..,cc,:ll;.oNXxxNWWN0kl'..... .,col::dOkoxXXXKKKK00OOo. ...:k0Oo,........:x00K0x, .,,,. .:;. .,. .,c'.,,. ..... .,. ...,col,. ..'',,;llcloo;..',:dl:cdxxxxkdcc:c' .'::....'dx,.;ddkk;'dXKoc;;l,.,oxc..;ooc.:KNOdKWWNK0d,...... .',:ll::x0OokXNNXKKKK0OOo. .:x00kc,.. .;;;xXXXXXd. ......',:dc. ... ';. ..,codxkxdol;,. .;ldo:. ... .,lxkOOc. 'xo,;:lO0dlc;;,'. .lxl'....cxl.,oxkkc,dNNxl:,c;.ckxc,. ,ool''kN0dOWWNXOo,....... .,:coo::xKOdONNNXK0KK0Okl. .'oO0dc. .;:,'lKNKKNKc. .',:cclc. .. .'l0NWWWWXkdxdolc,..,lddl;,. .,c:::,. .;;;,. .:doox0kc.......... 'oxc.....cdl,;oxkkc,oXNOdd;,c';kxc:;,,;loo,.cKKdkNNX0xl,...';'. .,:coo:ckKkd0NXNXKK000Ok:. .;l;. ..';;':OXXXNNk;. .,,;::ldo:;';l' .:kXWWWWWX0kxxxxdc::ldo:'..:,...'ckd:clcc' .. .',;,.':oo:,.... .oo;.....coc';ldkOd,cKWKdkk''c',oc:;,c:,ldoc.,k0xxXN0Oxo;..... ,:lol:l0Kxo0NNNXXK0000Oc. ,o:'...',,.'dXNNNWKd'..';,;:ldO0Kkl:. .:dOKXXXKxoccc:clccd0k:. .':lcdOkxxolol' .::.. .:llc,. .:c;. .'cc;.'ldxkx::ONN0OK0;.c:..',.....cdl;..,;,':doooc,. .,clol;o0Kxd0NNNXXXK000Oc. .dOkdo:.'loc,cOXNNNXOc. .,;:coxkKNNk, .cxOKK0Od;;;;,;;,;d0Kd,. . .co;:do;,'''. .:c;.... .;:,.. .':;. .,c:...;oxkxl:kNN0k0XKo.,l,... .::,,',;clll::lc'.. .;loxo;oK0ddKNNNXXXK000x:. ,kkdodc.'lxd:;d0XNNNNO, .'ccclox0NWW0c....,dxOXK0l,:ddc::;l0Xk;. ..'. .';;::. ..'..';:'. ........ .,,...,cc,. ,oxkxc:kNWKdOXXN0:.,:,. 'l;.:x0XNNNX0kkxolc,. .'codxo:dK0dxKNNNNXXK000x,. ,okOxc.,okkkd:dXNNXXNNd. .;'...;kNWWW0llc.,c:lool''k0c::',okl. ..'.... ....'',''...',,'''...... .''''. .....,cl;. ,dk0Ol'lXWXxxXWWWW0;.',. .;lkKNNX0kkxdoodxOOd;. .;lodxockX0xxXNWWNXK0000x;.. 'okOd',x00OOkldXKd:;:co, .. .,dXWMMXdc,..;,,,,,',xKo;'',.. .',',;''' ...,;coddxddxxkkxkOkkkkkkxxxxdolc:,... .,coc. .lkOOx:;OWNxo0WWWWWWk' .... .,lkKKOdccc;',;:lOKK0k; .:lodkockX0dkXNWWNNXK00Odclo, .:0kxx;,xKK0KKxlxd..,' .;. .::;cd0NWWWKc. .;;,::lxocoxdc,....:l:;:;,,. ..';;:lodddddkOOKXXXNNNNXXXXXXNX0xdl;..'co:. .'..cxOOd:,dNW0okNWWWMWW0:.. .;dkKXOc:xKKo:dkc'l0K0Od. .:ddkOdckX0dkNNWWWNXKOkkocxKk:. .lkdll:'cxl:lk0dox;.....c: .oO0XNNNNNN0: .;:lxk0KOxooolcoxkxlcc:,'. .',;:clllloxkxk0KKXNNNXXXXXXXXKkc;...,:;. .,..:xkOx;.cKWKxxKWWWWWWNKl... .o00NXd:kWWKldNXOc'dKK0O: .cxxkko:ON0dONWWWWWXKOkkl:x0KO:. .':lll,':'. .;OOokOdcclxx,.cOXXXXXXXK0kc.. .:dO00XNNNXXXWWNXOddo:'. .......',;;:::cloddxkOOOOOOxo;....,:;. .;. ,xkOkc.,ONXxdKNWWWWWNXXk;... 'd0XWNo;OWNxl0WXKd'l000k:. .cxxkkl;kXOdONNNNWNXKOkkl;okO0k:. .'....,dc...;OX0xxkkOkdc:oOXNNNXKK0Od:,:;. .,ok0XWWWWWWWWNX0kdc' ... .. ....... ................. .';c:'. .. .cdxk:.'dKXkd0NWWWWWNNXK0o..'..c0KXXk;;k0coXNKx;,ldxxl' ..cddkOl;kNOdONNNWNXXKOkxc.,ldOOd, ''.,ccoxdodOKXXK0Okxl::cdO0XNNN0Okd:.... ..,...':ok0XWWWWNX0d:.. .',. .,,....;;,. .;::..... .,..;, ,lc,.... .''. 'oOxokXNWWWWWNNXKOkc... .cdxkOxl:,'cxxoldkxxdl,. .lddkkc,kXkdOXNWWWXKK0Ox:.'::c:. .:lccoxocdOO0OO00KKd.. .;kOO0KXXKx;';:::llc:,......';cllc:,.. .. .,,'...':c:..:l:';:'..,.,l,.;:':l:. .'. .',ckKNNWWWNNXK0OK0o' .:oxOK0xdkO0KXNX0x:.. ..'lddkk:,xXkokXNNNNKKK0Ox:..'.... .:dllxOOl:ooooxxxO0d,...cxdlcoxxo;.:l,.,ooc;,'''. .':;. .:ol'. ..'.. .',c;..:o,.;'.'ldl'. .' . .. ..;cok0KXXKOOKK0l. .,;lOKXNNXKK0x:. .....'ldxOk:;kXkdOXWWNNNXKK0x;... ... ..,;lx00xddo;:oddolc::cc;',,'.. ':;',,.. .......',,'''........';;;'..cc. ..'.. ';'. ..:c...,dxc. ,;. ,c,. ....,.. ..';:loxO0k; .;:ccc:,.... .,cc..'coxkx:;kXkdOXWNNNNXXKOd,. .... .l0d:lOo..,clloddl;,,,;;' ... ..';cclodxkOOkkOO00OOkxdoc,. ... .;lol:,. . .... 'c:'...lxd;... .lc. ;xl. .,'.,xOc:c,. ..,:,...,:c;. ....'cdd:..;;...:loxd::kKOxOKNNXXXKK0ko' .';:;,... .:;;cl' .oo;;ldllolc::' .......';;;cllloxkO0KKKXXXXXXXNNX0o....'',:::coo:;;... .,. 'x0x:':do' .dd. .lOd' ,c;.,x0xcdOk;. .':dkOKKO;.'. .;:ldxdxO0o'..,. .,::cc'.o0Ox0XXXK0kxkxxo. .;odolol:'. ..,clld:...''.. .....',,;cclloodddxkkO0KKKKKKXXXX0x:...;::clodOKXKK0Okxdl;. ,kOd;..'''. .xx. .dOd' 'c:.'dKOoxKKkc. ...;lxOKXXXx,... .';;lxxo;,,............. .,'',;:cc:;;::c;. 'clodlcldo:. ...... .. .......''',,,;::::cclddllc'. ..',:lokOOO00KKXXXKx' .xKO:. .:c;. .xk:c, 'dd:. .:c,.lK0odXNKkc. .''';lxO0Oxl,... .,'',',........ ..'''.. . .... ,lcldddxkxc. .;c;'. ..........''',,,,. :KXd. .:cc' .xO:c;,ol'',..;c,.c00ddKNX0d:. .. .'';cloodl,,,. 'c:'. .';lxkxc....',,...,..:dd:'. ....::cdkOOkxo,. .';' .... .,:,. .. .. .oNXc. ... .oO; .;,. ...,c;.:O0xd0NXKko,. .. ..,,:lx0KOc,'. 'c:'. .,:;cx0Oo,....''.';'..cdxlcl,.'. .,..,ccldkOO00Oc. .. ....'. .;c:,. . .,.. .;l'.dNXc .'...::..:xc. . ':;.,x0xdOXXKOd;. ..,;cloxKXkc;;. ...'...,;,;::cldxc....,''.'okklcooll, .,...:cllok0XKX0l. ..,,..;,. .coo;. .:c,. 'c;'dNXo. .:l'.,,. ,oc. ...';;.,d0kokXXX0x:. .';;:odxO0d',:. .:xxc..',:lx0KXX0l...,,'.;k0Oooxdxx:. ,:'.'cllloOXXXXKd' .;o:.... .:oo;...lo;....,c':0NO:. ,c' .'. .cc. .:c;:;.;x0OoxKXXKOl' .,c:;lllc,..cc. .cO0Oc.,::lOKXNXXO:..''..:k0OdxkxxOo. .',..,looooOXXXXKx' .,odl,. .,;;.'okl... .;:'oKKk; ..,;;. .;:. ,l::c''d00ddKNXK0x;. .. .,,...',''.:o;. 'okko,.;::oOKK0kl,...''.cOKkdk000Od;. .. ....'ldddokKXXXKk; ..;l:,'... . .o0d. .,''oOOl. .'.... .,'. .,;c;.c0Kxo0XX0OOo' .... ';. .';;'.'oc. .';lxxo;;c:coo:'. ..,;.cOKkdOKK0Od;. .... ..'..:odooxKXXXXO; .......... .lOd. .. . .:dd;. ....''. .'c;.:kKOdONXKOkx;. .;c';o, .;;..;o' .,:dOKKd,'....';:,..';;'l0KxxKNK0Ox;. .... ',..'lxdldKXXXXO:. .'''.... ;kx,..'.... ..:o:. .:;. ... .;c'.oKOdOXNX0kxc. ...od. .,'.'oc. .;;ckKK0o;'.,ccokx:'.;:;o0OdkXXKOOx:. ... ';,..lkxoo0XXXX0c. ..',;,,'''..:l;. ... .,ll' ;o:. .. .,l;.:O0xkXXX0Oxl. ,l, ..';,.ld' .,;lxkdc'...:lloxc',::,oKOd0NX000x; . ....'c;..ckxllkKXKXKl. ..'',;;:'.'::'. .,,.....'lc. .cdc. .,cc,:k0xOXNXKOxc. .lc. . .,:;;;.;dc. .',,'...'....:lcc;,:c;;xKkdKNXKK0x; ':. ....;:'.;dkdlxKXXXKd' ...';:c:..;:,....,;,.... .,,. .cxc. ':;':k0xxXNNX0kl.... ':. .,,. .;;,'.,odc......,okOko'..,;;';:;':OKxxXNNXK0x,.,oc. .;:,.,dkxod0XXXXx, .',;:c;..;,...:c;.... ...,,. .c:..,,.:OKOx0NNX0ko'..''. ',. .:l,. .,;'.,odo' .',ckKKKKd.';::,;:..oK0xkNWNXK0d'.';;. .. .;c,.;xkxllkKXXKk .,;;::'..'..;xo' . ':,..'' ...;:.,xKOxOXNX0ko, ..';;. .. .cdc. .'..,dxl. .;::okO0Oo;';:,';:.'xX0x0NNXXK0d' . .. .,:'.:dxxoox0KKK .'::,.....ok:.. .clc;.... .,l;.o0OxOXNX0Ox;...'.',;. .cxo' 'ldc. .,;;;:cloddl;,,';;.'kXOkKWNXKKOo. ... .,c,.,okxdod0KK .;c;'. ,kd' ,olc:.... .c:'l0KkOXNX0kdc. ..,;;,'. .:kd. ,od:. ..',;ldOKKK0d;'',;.,kXOkKNNXXKOl. ... .. .;l;.'okdoodkK .'::;.:xl. ':cl:.. .:c;c0KOOKNX0Okl. . .,;;;,.. .:xl. ;oo; .,coxO0KXXXNKo'.;;';OXkkXNNXXKk:. .,,. . ... .,c;.'lkdodox .;:.;dc. ... ..,:, .:l;ckKOkKNNK0Oo'..... ..',::;,.. ;d:. .:oo, .;ldxO0KKXXXXKx:',,.c0XkxXNNXXKx; ..;codl. ... .::.'okxxxo .;',oc....,,,,'. ...,c::x0kx0NNK0Od,..',;,'. ...',;:::'. ;l, .:do, .,cdxk0XKKKOxl;..,'.:0XxxXNXXXKx; ..,:oOXXKd' .'.. .cc,'cxxxd .,,c:''. ..,:;. .cccxKOoONNX00k:. .';;::;;. .'...,cxkd;. ,:' .cxo;..,;,:dk00kl:'.....,,.:0XdxNNXXX0x, .,:clxKXXKk, ... 'oo,.cxxx .',;c,',. ...... .clcd00dxXNN0OOl. .';;;:ol. ':' .',;lO0x:. .,:. .okd;..;cc;clc,..';ldd:',;':0KxkNNXXX0d. .';clox0KKKx' .. .. ,oo;';od .,;:;''. .;,.. .:lcoO0xxKNXK0Od' ....;clodc',,. .,:;,;okOxc. .,, .dkl'..',,......;loxxd;'::,l0KkkNNXXX0o. .;;clodkOx:' ... .;odl,.c .,,;,.. .::;,..;ollOKOx0NXK0Ox;. ..'.':loodddl;. .:l:,,cxOkc.. .oo'. .::;;,:oxxo;'::,l0KOOXNXXKOl. .. .;;:c;,,.. .'...',.,ldo,' ..''.. .;ll:':olcxK0xkXNK0Ok:... .,;'';cloxkkko' .;oo:.'oOOd' ,c,. ':::;;lll:'';:,l0KOOXNXX0kl. ... .,:;. .'. .....'coc' ...'. ,ld::doco00kkKXK0Oko. .. ..,;,',coddxkkx:. ':;. .cO0d'.;,. ':;;:cll:'';;'l0KOkXNXX0xc. .cOKOo' ... .;lo .... .:c:oxllk0kxKNX0Okd,. ..''..';;,':ldddxkx;. .;k0o,'.. .';:okkkl',:,.o00OkXNXKOx:. ... .cx0K0d'. . .;l ... .,cdl:x0xoONXK0kx;. ... ..''...,::;;cll:,.. ,kOl'. . ,cclclxkko;;c;.l00OkKNXK0kc. .c;. .:cdOkd:..''. .; .,l:;d0klxXNK0Okc. .':;,.. .'coc;''. ,xOl. .;;. .:lllclxxl;;c,.o00OOKNXK0kc. .:c,....';:c:::cdxdc. . .. .:c;l0OoxXNK0OOo. .,'':ll:'. .,lo:,.. ,xkc..,cl' .;cllclxl,;c,.o00kOKXK0Ox;. .',:oo:.....:lox0KK0o. ...,c::x0kkXXX0Okd, .,;'.;ool:. .;lc;. :xo' .'::. .;cl:;;,,;c'.dKOkOKXX0Od;. .,:cd00x:. .;loodk0KK0o. .lllc:oOOOXXK0Okk:. .':;'''.. .. .:lc. .:c'. ,lc' ......'::''xKOkkKXXKOx, ..;lodk0Od,. ,clddxk0KK0d'. .ldo;:xOOKXX0Okko.... 'cl:. .......':c, ... .;,. .;ll:. ..;lc',kKOxkKXXK0x, .'';lddxxo;..':clodxxO000k:. .'cl;'lOOKXX0Okkd' .',. 'col:. ......,'. ':,. 'c, .,,. .:l:'. .;o:.;O0kxkKXXK0d' .'';c:,......;ccloxddk00Kkc. 'cl;'lOO0XX0Okxo, .. .,lxd:.......'::. .;;. .cc. .','. .,;,. .;c;.:O0OxkKXXKOd' .....':loc,';::coxxdkO00Oo'. .ld:.:kOOKKKOkxo, .... .:dxd:....',;lo,..',.. .:o, .,'. ....,::.;k0OxkKXK0Oo' ':;cdkOd,.,:ccoxddxO00Od;. .:dd,'dOOKK00kxd:. .';;,'. .:dkd;. .;::od; ';. 'lo' .,,. ':lc.:O0OxkKXK0Oo' ,l:,cxO0o..'::clddxkkO00x:. ,dxl':xk0000Oxdc. .,cll;. .;dkd,..:l;cl. .,,..;l:. .,'. ,co:.cO0OxxKXK0kd; .;cc:lxOOl...;ccodxxxkO00xc' .d0d:,lkkOkkkxdo, .:oko. .o0x, .;;,c:. .,..:l; .,,. .:oo:.:kOOxxKXK0Od;. .:docokOOl..'loooxxxkkO0Oxl&lt;/quote&gt;
    &lt;p&gt;I grew up in the San Jose Bay Area. As of writing this, our company just graduated from the YC Fall 2025 batch. I'm not new to hustle-culture. I'm only where I am right now out of grit and the effort I invested into the things I loved in high school and college. Recently however, as a founder, I've become more attuned to Twitter (X) and LinkedIn, keeping up with the vibes.&lt;/p&gt;
    &lt;p&gt;There's a massive amount of hustle-culture being pushed on my timeline.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Performative posts from people showcasing themselves coding in the most absurd situations&lt;/item&gt;
      &lt;item&gt;If you don't do X you're not going to make it (where X is some out of touch work hour target)&lt;/item&gt;
      &lt;item&gt;Good morning posts &amp;amp; various rage-bait engagement farming tactics&lt;/item&gt;
      &lt;item&gt;Ratio's and one-up's&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Every machine serves a purpose. People need purpose. The temptation to become the machine is higher than ever. The promise of the machine is alluring. If I can just keep chugging forward, I will end up somewhere that is not here. If I can turn myself into a mechanism that takes input and consistently works towards some goal, I will make it.&lt;/p&gt;
    &lt;p&gt;I believe in hard work, but I think hustle-culture and the vision being pushed on my timeline is a corrupted one. It's engineered for engagement, optimized by millions competing with one another with just one goal: to capture your attention.&lt;/p&gt;
    &lt;p&gt;You're not working hard enough. You need to wake up at 5am. You need to be the first to arrive and the last to leave.&lt;/p&gt;
    &lt;p&gt;This messaging works. Look at me. I feel the need to write a post about it. But it is completely wrong.&lt;/p&gt;
    &lt;p&gt;Hustle-culture optimizes for work input because it's sexy. It's easy to post the inputs. It's hard to face the output.&lt;/p&gt;
    &lt;p&gt;The truth is you don't have to become the machine in order to succeed. The machine can't adapt. It can't learn the rules of the game. It is deterministic, set in place, chugging along at a linear pace.&lt;/p&gt;
    &lt;p&gt;Instead, aim to be nimble. Adapt quick. Define your goal but don't let it become your purpose. Your purpose is sacred; only you truly understand it. Do what you need to do in order to achieve your goals. Don't optimize for sweat. Try to find the most rewarding solution. Optimize for what matters: speed, efficiency, or quality—whatever it may be.&lt;/p&gt;
    &lt;p&gt;You're not a machine. You're a person. Play to your strengths. Be sharp and strategic like a scalpel, not blunt like a mallet. Stop fetishizing the grind. Dream bigger.&lt;/p&gt;
    &lt;p&gt;You aren't a stupid blunt tool. Stop acting like one.&lt;/p&gt;
    &lt;p&gt;[More Posts] [Previous] [Next]&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46372153</guid><pubDate>Wed, 24 Dec 2025 03:34:31 +0000</pubDate></item><item><title>Custom Cross Compiler with Nix</title><link>https://www.hobson.space/posts/nixcross/</link><description>&lt;doc fingerprint="28ac9f1a1c430f30"&gt;
  &lt;main&gt;
    &lt;p&gt;This post is about trying to do something seemingly simple. You have an unusual system that you want to write code for. You even have a cross compiler! But how can you get this working with nix? Although the answer turned out to be simple, the journey to getting there was super long and undocumented. I hope this post saves you a lot of time!&lt;/p&gt;
    &lt;head rend="h2"&gt;My Motivations Link to heading&lt;/head&gt;
    &lt;p&gt;I have a deep love for an operating system called Risc Os. It is a really old operating system made by Acorn Computers Ltd. for their Archimedes range of computers and you can still run it on Raspberry Pi! I love it for a few reasons:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;It’s so simple&lt;/item&gt;
      &lt;item&gt;It was one of the first things I nerded out over after seeing at the national computing museum in Bletchley Park&lt;/item&gt;
      &lt;item&gt;Programming it in C helped is where pretty much all of my C knowledge comes from&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;But programming it is not easy. It predates every programming convention we have. There are no good text editors on it, and compiling is a pain!&lt;/p&gt;
    &lt;p&gt;But there is a cross compiler! The only issue is that when you try to build it, it becomes obvious that you need a seriously old version of ubuntu on X86_64 linux (it’s a patched GCC 4.7.4) and these days, I sport an Arm Mac which won’t even build a compiler that old!&lt;/p&gt;
    &lt;head rend="h3"&gt;Can we nix it? Link to heading&lt;/head&gt;
    &lt;p&gt;Well of course we can. I cannot think of a better use of a flake! And then we can use something like the rosetta builder from Mac OS to cross build software! I thought that would be easy, but my god it was not! Nix was a dream, but building old versions of GCC is a task I would not wish upon my worst enemies! But it is at this point we fast forward because this is the point I assume you are reading this. You have a cross toolchain built in nix (maybe because you have followed a great tutorial like this one). And that’s all well and good…. but it’s a bit annoying.&lt;/p&gt;
    &lt;p&gt;Every time you want to build something, you have to manually invoke the correct compiler (e.g. &lt;code&gt;arm-unknown-riscos-gcc&lt;/code&gt;), or you have to manually pass the correct &lt;code&gt;--target&lt;/code&gt; to &lt;code&gt;./configure&lt;/code&gt; or whatever. What you want is something more like a &lt;code&gt;pkgsCross."your platform".callPackage ...&lt;/code&gt; that does all of that for you! You want a custom cross-stdenv!&lt;/p&gt;
    &lt;head rend="h3"&gt;How C compilers work in Nix Link to heading&lt;/head&gt;
    &lt;p&gt;So if you follow the tutorial I linked, you will have noticed that the entire compiler, and tools, was built in one package. Why? The reason is that if you do as I did instead, and build binutils and GCC separately, when you finally try to invoke your cross GCC, it will weirdly try to use &lt;code&gt;ar&lt;/code&gt; and &lt;code&gt;as&lt;/code&gt; instead of &lt;code&gt;arm-unkonwn...-ar&lt;/code&gt; and &lt;code&gt;arm-unknown...-as&lt;/code&gt;. My initial solution was to build a wrapper for GCC (Nix has some nice tools for this) that passed the &lt;code&gt;-B&lt;/code&gt; argument and told GCC where the correct Binutils was, but this was when doubt started to grown in my mind. It felt a bit hack-y!&lt;/p&gt;
    &lt;p&gt;What you are meant to do is wrap a C compiler with &lt;code&gt;pkgs.wrapCCWith&lt;/code&gt;. The documentation of which seems to not have been written! Fair enough! Let me give you a snippet from my flake:&lt;/p&gt;
    &lt;code&gt;wrappedGcc = pkgs.wrapCCWith {
  cc = riscosTools.rogcc;
  bintools = wrappedBintools;
};
&lt;/code&gt;
    &lt;p&gt;You will also want wrappedBintools:&lt;/p&gt;
    &lt;code&gt;wrappedBintools = pkgs.wrapBintoolsWith {
  bintools = riscosTools.robinutils;
  libc = null;
  coreutils = pkgs.coreutils;
};
&lt;/code&gt;
    &lt;p&gt;Now the magic begins! If you stick that in a shell and run &lt;code&gt;nix develop&lt;/code&gt; you will get your cross toolchain and it will all be working together… or will it?&lt;/p&gt;
    &lt;p&gt;The answer is no. No it won’t. That would be too easy. If you look through the code in &lt;code&gt;nixpkgs:/pkgs/build-support/cc-wrapper&lt;/code&gt;, you might see why. Of course, if we want to cross compile with nix, we have to tell nix that we are cross compiling!&lt;/p&gt;
    &lt;head rend="h2"&gt;Telling Nix we want to cross compile Link to heading&lt;/head&gt;
    &lt;p&gt;The reason nix failed to wrap our compiler is because pkgs is defined with three really important variables:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;buildPlatform – The platform we are building on&lt;/item&gt;
      &lt;item&gt;targetPlatform – The platform we are building for&lt;/item&gt;
      &lt;item&gt;hostPlatform – The platform which can run the stuff we are building&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;So, if you are anything like me, you will have followed right up until 3. The concept of a host platform is really strange but it will make sense once I tell you this. The host platform is only important when we are building compilers (which we are).&lt;/p&gt;
    &lt;p&gt;For example! I might want to use linux to build GCC that runs on mac but outputs code for Z80 CPUs. In which case:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;build = linux&lt;/item&gt;
      &lt;item&gt;target = Z80&lt;/item&gt;
      &lt;item&gt;host = darwin&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;When you aren’t cross-building then this is simple, all three are your system. If you load nixpkgs into nix repl, then you can take a look at &lt;code&gt;pkgs.stdenv.[host,target,build]Platform&lt;/code&gt; and confirm that they are all the same.&lt;/p&gt;
    &lt;p&gt;But what about when cross compiling? I shall specify, I do not mean building a cross compiler, I mean using a cross compiler to build a package. Well then &lt;code&gt;host = target != build&lt;/code&gt;. And this also makes sense!
If we build a normal package, say &lt;code&gt;pkgs.pkgsCross.mingwW64.hello&lt;/code&gt;, then our buildPlatform is our system’s platform (linux or darwin), we are targeting windows. What about the host platform? Well for the hello package, it makes no sense to ask given that it isn’t a compiler. If we build &lt;code&gt;pkgs.pkgsCross.mingwW64.gcc&lt;/code&gt;, then host = target. Because we would build a GCC that can run on windows. It is not the compiler we are using to build this package set!&lt;/p&gt;
    &lt;head rend="h2"&gt;The hidden package set Link to heading&lt;/head&gt;
    &lt;p&gt;So at this point, you may have realised something a bit strange, given that the various host, target and build platforms are defined for each package set in nix, where do the cross compilers live? They can’t live in the normal &lt;code&gt;pkgs&lt;/code&gt; for your system because the cross compiler’s targret differs from the package set’s target. But they can’t live in &lt;code&gt;pkgsCross&lt;/code&gt; because the compiler’s host (your system) differs from the package set’s. Sadly it matters! The reason being because for &lt;code&gt;wrapCC&lt;/code&gt; to correctly find your compiler and binutils, it needs to work out the compiler prefix (&lt;code&gt;arm-unknown-riscos-&lt;/code&gt; in my case) which it will only do if &lt;code&gt;host != build&lt;/code&gt;. The answer is a strange one and can be found in &lt;code&gt;nixpkgs:pkgs/stdenv/cross/default.nix&lt;/code&gt;. If you read this file closely, it starts with your normal &lt;code&gt;stdenv&lt;/code&gt;, then it sets &lt;code&gt;targetPlatform = crossSystem&lt;/code&gt; (so finally &lt;code&gt;host != build&lt;/code&gt;), then builds the cross stdenv where it uses the compiler from the previous stage!&lt;/p&gt;
    &lt;p&gt;So how can we modify or extend this package set? I have no idea! It seems completely inaccessible! But we can always try to mimic the same trick!&lt;/p&gt;
    &lt;head rend="h2"&gt;The final solution Link to heading&lt;/head&gt;
    &lt;p&gt;I shall now walk you through the solution I came up with. You can find the whole flake here.&lt;/p&gt;
    &lt;p&gt;We start by importing &lt;code&gt;pkgs&lt;/code&gt; and defining our cross system:&lt;/p&gt;
    &lt;code&gt;pkgs = import nixpkgs {
  system = "x86_64-linux";
};

crossSystem = {
  config = "arm-unknown-none-elf";
  targetPrefix = "arm-unknown-riscos-";
  isCross = true;
  isStatic = true;
};

riscosPkgs = import nixpkgs {
  system = "x86_64-linux";
  inherit crossSystem;
};
&lt;/code&gt;
    &lt;p&gt;So far, pretty normal for cross compiling. I then have a section where I build the cross toolchain, I’ll leave it out, but the important things I define are &lt;code&gt;riscosTools.rogcc&lt;/code&gt; (my cross GCC), and &lt;code&gt;riscosTools.robinutils&lt;/code&gt;, my cross binutils. We move onto the trick:&lt;/p&gt;
    &lt;code&gt;buildSystem = import nixpkgs {
  system = "x86_64-linux";
  config.replaceStdenv = { pkgs }: pkgs.stdenv.override { 
	targetPlatform = riscosPkgs.stdenv.targetPlatform // { config = "arm-unknown-riscos" ;};
  };
};
&lt;/code&gt;
    &lt;p&gt;Here I define a new package set! I set the target platform with my target platform and then override config. Why? &lt;code&gt;arm-unknown-riscos&lt;/code&gt; is not a valid nix platform and so it will complain. I have to use &lt;code&gt;arm-unknown-none-elf&lt;/code&gt;. But annoyingly, &lt;code&gt;wrapCCWith&lt;/code&gt; uses &lt;code&gt;config&lt;/code&gt; to get the prefix for the compiler. I do a cheeky override here purely so it picks up the correct compiler.&lt;/p&gt;
    &lt;code&gt;wrappedBintools = buildSystem.wrapBintoolsWith {
  bintools = riscosTools.robinutils;
  libc = null;
  coreutils = buildSystem.coreutils;
};

wrappedGcc = buildSystem.wrapCCWith {
  cc = riscosTools.rogcc;
  bintools = wrappedBintools;
};
&lt;/code&gt;
    &lt;p&gt;I now use the &lt;code&gt;buildSystem&lt;/code&gt; to call &lt;code&gt;wrapBintoolsWith&lt;/code&gt; and &lt;code&gt;wrapCCWith&lt;/code&gt;. Finally! It will pick up the correct prefix.&lt;/p&gt;
    &lt;code&gt;riscosPkgs = import nixpkgs {
  system = "x86_64-linux";
  inherit crossSystem;
  config.replaceCrossStdenv = {buildPackages, baseStdenv }:
    (buildPackages.overrideCC baseStdenv wrappedGcc).override {
      extraNativeBuildInputs = [riscosTools.elf2aif];
    };
}
&lt;/code&gt;
    &lt;p&gt;I can now define the package set!&lt;/p&gt;
    &lt;p&gt;So does this work? Amazingly it does! I defined the following flake:&lt;/p&gt;
    &lt;code&gt;{
  description = "A new application for RISC OS";

  inputs = {
    utils.url = "github:numtide/flake-utils";

    # Point to your toolchain flake. This can be a local path or a git URL.
    riscos-nix.url = "path:../.";
  };

  outputs = { self, utils, riscos-nix }:
    utils.lib.eachDefaultSystem (system:
      let
        pkgs = riscos-nix.riscosPkgs;
      in
      {
        packages.default = pkgs.callPackage ./default.nix {};
      });
}
&lt;/code&gt;
    &lt;p&gt;And &lt;code&gt;default.nix&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;{pkgs, lib}:

pkgs.stdenv.mkDerivation {
  pname = "hello-riscos";
  version = "1.0";

  src = ./.;
  hardeningDisable = [ "all" ];

  buildPhase = ''
    echo CC=$CC
    $CC hello.c -o hello
    elf2aif hello
  '';

  # The phase to install the executable into the Nix store
  installPhase = ''
    mkdir -p $out/bin
    cp hello $out/bin
  '';
}
&lt;/code&gt;
    &lt;p&gt;and look what happened:&lt;/p&gt;
    &lt;code&gt;james&amp;gt; file result/bin/hello
result/bin/hello: RISC OS AIF executable
&lt;/code&gt;
    &lt;p&gt;Who knew &lt;code&gt;file&lt;/code&gt; knows about Risc OS!&lt;/p&gt;
    &lt;p&gt;That concludes things! I hope this saves you a lot of time!&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46372771</guid><pubDate>Wed, 24 Dec 2025 05:31:45 +0000</pubDate></item><item><title>Help my website is too small</title><link>https://lukeplant.me.uk/blog/posts/help-my-website-is-too-small/</link><description>&lt;doc fingerprint="a8b3350075bc00ca"&gt;
  &lt;main&gt;
    &lt;p&gt;A jobs web site I belong to just emailed me, telling me that some of the links in my public profile on their site are âbrokenâ and âthus have been removedâ.&lt;/p&gt;
    &lt;p&gt;The evidence that these sites are broken? They are too small:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;https://www.djangoproject.com/: response body too small (6220 bytes)&lt;/p&gt;
      &lt;p&gt;https://www.cciw.co.uk/: response body too small (3033 bytes)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;The first is the home page of the Django web framework, and is, unsurprisingly, implemented using Django (see the djangoproject.com source code). The second is one of my own projects, and also implemented using Django (source also available for anyone who cares).&lt;/p&gt;
    &lt;p&gt;Checking in webdev tools on these sites gives very similar numbers to the above for the over-the-wire size of the initial HTML (though I get slightly higher figures), so this wasnât a blip caused by downtime, as far as I can see.&lt;/p&gt;
    &lt;p&gt;Apparently, if your HTML is less than 7k, that obviously canât be a real website, let alone something as ridiculously small as 3k. Even with compression turned up all the way, itâs clearly impossible to return more than an error message with less than at least 4k, right?&lt;/p&gt;
    &lt;p&gt;So please can Django get it sorted and add some bloat to their home page, and to their framework, and can someone also send me tips on bloating my own sites, so that my profile links can be counted as real websites? Thanks!&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46373559</guid><pubDate>Wed, 24 Dec 2025 08:15:38 +0000</pubDate></item><item><title>Permission Systems for Enterprise That Scale</title><link>https://eliocapella.com/blog/permission-systems-for-enterprise/</link><description>&lt;doc fingerprint="6721a402d2d22ce"&gt;
  &lt;main&gt;
    &lt;p&gt;Many startups eventually gravitate towards enterprise customers for bigger tickets and long-term contracts. As enterprise customers start using your product, they soon demand advanced permission systems to manage their different user roles and access levels. A naive implementation of permission checks works perfectly fine at first, but as they use your platform more and more, the amount of data, users, and relationships will put that implementation to the test. Soon your biggest paying customer will be threatening to churn because your app is just too slow.&lt;/p&gt;
    &lt;p&gt;To illustrate this problem, I've set up a simple example. Imagine an app with folders and files where an admin can see all folders and files, but standard users can only see files and folders they've created or that have been shared with them.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Naive Approach (read-time permission queries)&lt;/head&gt;
    &lt;p&gt;Your first intuition will be to query the database on every request to calculate the permissions and the data that the user can access. First, you check the role of the user: is the user an admin or a standard user? If the user is not an admin, then query for all the resources the user has created or that have been shared with them.&lt;/p&gt;
    &lt;p&gt;The first part is straightforward: if you are an admin, return all resources.&lt;/p&gt;
    &lt;code&gt;const user = await sqlQueryOne(`SELECT * FROM users WHERE id = ?`, [
  userId,
]);

// Admin: Fetch all resources
if (user.type === "admin") {
  return await sqlQuery(`SELECT * FROM resources`);
}&lt;/code&gt;
    &lt;p&gt;For standard users, you need to query for resources created by them. If the resource is a folder, you will have access to all of its descendants.&lt;/p&gt;
    &lt;code&gt;const accessibleResources = [];

const ownedResources = await sqlQuery(
  `SELECT * FROM resources WHERE owner_id = ?`,
  [userId],
);

// For each owned resource, fetch descendants recursively
for (const resource of ownedResources) {
  accessibleResources.push(resource);

  const descendants = await sqlQuery(
    `
    WITH RECURSIVE tree AS (
      SELECT id FROM resources WHERE parent_id = ?
      UNION ALL
      SELECT r.id FROM resources r JOIN tree t ON r.parent_id = t.id
    )
    SELECT r.* FROM resources r JOIN tree t ON r.id = t.id
  `,
    [resource.id],
  );
  accessibleResources.push(...descendants);
}&lt;/code&gt;
    &lt;p&gt;We can already see recursive queries appearing. As we own more resources with deeper nesting, the queries will get slower.&lt;/p&gt;
    &lt;p&gt;Finally, we include all shared resources, their descendants if a folder was shared, plus their ancestors to show the full path.&lt;/p&gt;
    &lt;code&gt;const sharedResources = await sqlQuery(
  `
  SELECT r.*
  FROM shares s
  JOIN resources r ON s.resource_id = r.id
  WHERE s.user_id = ?
`,
  [userId],
);

// For each shared resource, fetch ancestors and descendants
for (const resource of sharedResources) {
  accessibleResources.push(resource);

  // Query ancestors to show full path
  const ancestors = await sqlQuery(
    `
    WITH RECURSIVE ancestors AS (
      SELECT parent_id FROM resources WHERE id = ?
      UNION ALL
      SELECT r.parent_id FROM resources r JOIN ancestors a ON r.id = a.parent_id
      WHERE r.parent_id IS NOT NULL
    )
    SELECT r.* FROM resources r JOIN ancestors a ON r.id = a.parent_id
  `,
    [resource.id],
  );
  accessibleResources.push(...ancestors);

  // Another query for descendants of each shared resource
  const descendants = await sqlQuery(
    `
    WITH RECURSIVE tree AS (
      SELECT id FROM resources WHERE parent_id = ?
      UNION ALL
      SELECT r.id FROM resources r JOIN tree t ON r.parent_id = t.id
    )
    SELECT r.* FROM resources r JOIN tree t ON r.id = t.id
  `,
    [resource.id],
  );
  accessibleResources.push(...descendants);
}&lt;/code&gt;
    &lt;p&gt;The code is easy to follow, but the number of queries—especially recursive ones with nested folder structures—will quickly become a bottleneck as you scale.&lt;/p&gt;
    &lt;head rend="h2"&gt;RBAC (write-time permission queries)&lt;/head&gt;
    &lt;p&gt;Because we normally develop apps that read more than they write, it makes sense to optimize for reads. What does this look like? With Role Based Access Control we store the pre-computed permissions in the database, linking users with resources:&lt;/p&gt;
    &lt;code&gt;-- RBAC: Pre-computed permissions
-- access_type: 'owner' (full control), 'shared' (read only), 'path_only' (visible but no access)
CREATE TABLE permissions (
  user_id INTEGER NOT NULL,
  resource_id INTEGER NOT NULL,
  access_type TEXT NOT NULL,
  PRIMARY KEY (user_id, resource_id),
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (resource_id) REFERENCES resources(id)
);&lt;/code&gt;
    &lt;p&gt;Now, when querying for resources, we can simply do:&lt;/p&gt;
    &lt;code&gt;const resources = await sqlQuery(
  `SELECT r.* FROM resources r
   JOIN permissions p ON r.id = p.resource_id
   WHERE p.user_id = ?`,
  [userId],
);
&lt;/code&gt;
    &lt;p&gt;That's it! No recursive queries, no multiple queries, just a simple join. It's as fast as it gets, and easy to index too.&lt;/p&gt;
    &lt;p&gt;Let's see how to maintain the permissions table. On every new resource, we need to grant the owner full access:&lt;/p&gt;
    &lt;code&gt;await sqlRun(
  `INSERT OR IGNORE INTO permissions (user_id, resource_id, access_type) VALUES (?, ?, 'owner')`,
  [ownerId, resourceId],
);&lt;/code&gt;
    &lt;p&gt;That was easy, but some more complex logic is needed when sharing resources:&lt;/p&gt;
    &lt;code&gt;// Add the shared resource itself with 'shared' access
await sqlRun(
  `INSERT OR IGNORE INTO permissions (user_id, resource_id, access_type) VALUES (?, ?, 'shared')`,
  [userId, resourceId],
);

// Add ancestors for path visibility (path_only - no actual access)
const ancestorIds = await getAncestorIds(resourceId);
for (const ancestorId of ancestorIds) {
  await sqlRun(
    `INSERT OR IGNORE INTO permissions (user_id, resource_id, access_type) VALUES (?, ?, 'path_only')`,
    [userId, ancestorId],
  );
}

// Add all descendants with 'shared' access
const descendantIds = await getDescendantIds(resourceId);
for (const descId of descendantIds) {
  await sqlRun(
    `INSERT OR IGNORE INTO permissions (user_id, resource_id, access_type) VALUES (?, ?, 'shared')`,
    [userId, descId],
  );
}
&lt;/code&gt;
    &lt;p&gt;You can clearly see the trade-off here: we moved the complexity from read-time to write-time. Every time a resource is created or shared, we need to update the permissions table accordingly. We added a point of failure, as the permissions table can get out of sync with the actual data.&lt;/p&gt;
    &lt;head rend="h2"&gt;Real-world example: PostHog&lt;/head&gt;
    &lt;p&gt; Although this is a simple example, while browsing the PostHog source code I found the exact same approach. They have an &lt;code&gt;AccessControl&lt;/code&gt;
            model that stores pre-computed permissions:
          &lt;/p&gt;
    &lt;code&gt;# PostHog: ee/models/rbac/access_control.py
class AccessControl(models.Model):
    team = models.ForeignKey("posthog.Team", on_delete=models.CASCADE)
    access_level = models.CharField(max_length=32)  # 'none', 'viewer', 'editor'
    resource = models.CharField(max_length=32)      # 'dashboard', 'feature_flag', etc.
    resource_id = models.CharField(null=True)       # null = all, UUID = specific object

    # Can be scoped to a user or a role
    organization_member = models.ForeignKey(..., null=True)
    role = models.ForeignKey("Role", null=True)&lt;/code&gt;
    &lt;p&gt;When listing resources, they simply filter the queryset based on these pre-computed permissions:&lt;/p&gt;
    &lt;code&gt;# PostHog: posthog/rbac/user_access_control.py
def filter_queryset_by_access_level(self, queryset, ...):
    # Get pre-computed access controls from cache
    access_controls = self._get_access_controls(filters)

    # Build sets of allowed/blocked resource IDs
    for access_control in access_controls:
        if access_control.access_level != NO_ACCESS_LEVEL:
            allowed_resource_ids.add(access_control.resource_id)
        else:
            blocked_resource_ids.add(access_control.resource_id)

    # Filter queryset - no recursive queries needed!
    return queryset.filter(id__in=allowed_resource_ids)&lt;/code&gt;
    &lt;p&gt;They also cache the access controls during a request to avoid repeated database lookups:&lt;/p&gt;
    &lt;code&gt;# PostHog: posthog/rbac/user_access_control.py
def _get_access_controls(self, filters):
    key = json.dumps(filters, sort_keys=True)
    if key not in self._cache:
        self._cache[key] = list(AccessControl.objects.filter(...))
    return self._cache[key]&lt;/code&gt;
    &lt;p&gt;The pattern is clear: pre-compute permissions at write-time, store them in a dedicated table, and filter with simple lookups at read-time.&lt;/p&gt;
    &lt;head rend="h2"&gt;What about ABAC?&lt;/head&gt;
    &lt;p&gt;If you research ways to implement permission systems, you will often find Attribute-Based Access Control as a recommended approach. ABAC is great when you need to make complex decisions on whether a user can access a specific resource or not. Figma showed how they handle permissions, and this is an example of ABAC in action.&lt;/p&gt;
    &lt;p&gt;The main difference from our naive approach is that ABAC offers a declarative way of defining the rules and policies behind the permission checks. The engine will convert those policies into queries and code to execute them at read-time. Here is an example of how those rules could look for our example:&lt;/p&gt;
    &lt;code&gt;# Rule 1: Admins can access everything
allow if {
    input.user.type == "admin"
}

# Rule 2: Owners can access their resources
allow if {
    input.resource.owner_id == input.user.id
}

# Rule 3: Users can access resources shared with them
allow if {
    some share in data.shares
    share.resource_id == input.resource.id
    share.user_id == input.user.id
}

# ...
&lt;/code&gt;
    &lt;p&gt;This approach is very clear and composable. It works great for single-resource access checks: "can user X access resource Y?" It struggles when listing resources, as we would need to execute the policies for each resource and can't directly query the resources table with simple filters.&lt;/p&gt;
    &lt;head rend="h2"&gt;Optimizing for hierarchical data&lt;/head&gt;
    &lt;p&gt;Both approaches still rely on recursive queries to traverse the folder hierarchy. In SaaS applications with deeply nested structures, these recursive queries can also become a bottleneck. There are two common patterns to eliminate them.&lt;/p&gt;
    &lt;head rend="h3"&gt;Materialized paths&lt;/head&gt;
    &lt;p&gt;A simple alternative is storing the full path as a string column on each resource.&lt;/p&gt;
    &lt;code&gt;ALTER TABLE resources ADD COLUMN path TEXT;

-- Example paths:
-- /1/           (root folder, id=1)
-- /1/5/         (child of root, id=5)
-- /1/5/12/      (grandchild, id=12)&lt;/code&gt;
    &lt;p&gt;Finding descendants becomes a prefix search.&lt;/p&gt;
    &lt;code&gt;// All descendants of resource with path '/1/5/'
const descendants = await sqlQuery(
  `SELECT * FROM resources WHERE path LIKE ?`,
  [resource.path + "%"],
);

// All ancestors by parsing the path
const ancestorIds = resource.path.split("/").filter(Boolean);
const ancestors = await sqlQuery(
  `SELECT * FROM resources WHERE id IN (${ancestorIds.join(",")})`,
);&lt;/code&gt;
    &lt;p&gt;Materialized paths are easier to implement but can be tricky when moving resources between folders, as you need to update the path of all descendants. Closure tables handle moves more gracefully.&lt;/p&gt;
    &lt;head rend="h3"&gt;Closure tables&lt;/head&gt;
    &lt;p&gt;A closure table pre-computes all ancestor-descendant relationships. Instead of traversing the tree at query time, you store every possible path—another trade-off between read and write times.&lt;/p&gt;
    &lt;code&gt;CREATE TABLE resource_closure (
  ancestor_id INTEGER NOT NULL,
  descendant_id INTEGER NOT NULL,
  depth INTEGER NOT NULL,
  PRIMARY KEY (ancestor_id, descendant_id),
  FOREIGN KEY (ancestor_id) REFERENCES resources(id),
  FOREIGN KEY (descendant_id) REFERENCES resources(id)
);

-- /1/           (root folder, id=1)
INSERT INTO resource_closure VALUES (1, 1, 0);

-- /1/5/         (child of root, id=5)
INSERT INTO resource_closure VALUES (5, 5, 0);
INSERT INTO resource_closure VALUES (1, 5, 1);

-- /1/5/12/      (grandchild, id=12)
INSERT INTO resource_closure VALUES (12, 12, 0);
INSERT INTO resource_closure VALUES (5, 12, 1);
INSERT INTO resource_closure VALUES (1, 12, 2);&lt;/code&gt;
    &lt;p&gt;With this table, finding all descendants becomes a simple join with no recursion.&lt;/p&gt;
    &lt;code&gt;// All descendants of a resource (instant lookup)
const descendants = await sqlQuery(
  `SELECT r.* FROM resources r
   JOIN resource_closure c ON r.id = c.descendant_id
   WHERE c.ancestor_id = ? AND c.depth &amp;gt; 0`,
  [resourceId],
);

// All ancestors of a resource (for showing the path)
const ancestors = await sqlQuery(
  `SELECT r.* FROM resources r
   JOIN resource_closure c ON r.id = c.ancestor_id
   WHERE c.descendant_id = ? AND c.depth &amp;gt; 0
   ORDER BY c.depth DESC`,
  [resourceId],
);&lt;/code&gt;
    &lt;p&gt;The trade-off is write complexity. When creating a resource, you must insert closure entries for all ancestors.&lt;/p&gt;
    &lt;code&gt;// When creating a new resource under parentId
await sqlRun(
  `INSERT INTO resource_closure (ancestor_id, descendant_id, depth)
   SELECT ancestor_id, ?, depth + 1
   FROM resource_closure
   WHERE descendant_id = ?
   UNION ALL
   SELECT ?, ?, 0`,
  [newResourceId, parentId, newResourceId, newResourceId],
);&lt;/code&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;The core trade-off is clear: you can pay the cost at read-time with recursive queries, or at write-time by maintaining a permissions index. Starting with the naive approach makes sense it's simpler to implement and debug.&lt;/p&gt;
    &lt;p&gt;But when your enterprise customers start experiencing slow load times, the RBAC approach becomes worth the added complexity. The performance difference is significant enough that it can eliminate the need for other workarounds like aggressive caching or complex pagination.&lt;/p&gt;
    &lt;p&gt;The main risk with pre-computed permissions is data getting out of sync. Plan for this by building a rebuild script from day one that can recompute all permissions from the source of truth. When bugs happen, and they will, you'll be glad you have it.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46374117</guid><pubDate>Wed, 24 Dec 2025 09:50:52 +0000</pubDate></item></channel></rss>