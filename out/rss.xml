<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Hacker News: Front Page</title><link>https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml</link><description>Hacker News RSS</description><atom:link href="https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml" rel="self"/><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><language>en</language><lastBuildDate>Tue, 28 Oct 2025 17:10:11 +0000</lastBuildDate><item><title>Easy RISC-V</title><link>https://dramforever.github.io/easyriscv/</link><description>&lt;doc fingerprint="bae7c0d12017aa49"&gt;
  &lt;main&gt;&lt;p&gt;(Last updated: 2025-10-28 08:04)&lt;/p&gt;&lt;p&gt;This page is not designed to be used on a narrow screen or without CSS. If you’re having issues using the emulator, try the emulators disabled version.&lt;/p&gt;&lt;p&gt;An interactive introduction to RISC-V assembly programming, by dramforever.&lt;/p&gt;&lt;p&gt;Interested in the code? Want to report an issue? Check out the GitHub page: https://github.com/dramforever/easyriscv&lt;/p&gt;&lt;p&gt;Inspired by Easy 6502 by Nick Morgan, this is a quick-ish introductory tutorial to RISC-V assembly programming. This tutorial is intended for those with a basic familiarity with low level computer science concepts, but unfamiliar with RISC-V. If you’re curious about RISC-V, I hope this will be a good start to your journey to learning about it.&lt;/p&gt;&lt;p&gt;RISC-V (pronounced “risk-five”), as its name suggests, is RISC (Reduced instruction set computer) architecture. Having started its life at UC Berkerley, RISC-V has bred a lively community of students, researchers, engineers and hobbyists working on software and hardware. Some highlights of RISC-V include:&lt;/p&gt;&lt;p&gt;RISC-V is less mature than more established architectures like x86 or Arm, but it is quickly gaining steam and has found great success in many areas of application, such as embedded systems, custom processors, education, and research.&lt;/p&gt;&lt;p&gt;This article will cover the 32-bit bare bones RV32I_Zicsr instruction set with a tiny subset of the privileged architecture. You’ll probably never find a “real” chip with such bare bones instruction support. Most of them will have more extensions for other features like floating point or compressed instructions. However, I would still consider what we have here a “complete” instruction set. For example, Rust has Tier 2 support for the target &lt;code&gt;riscv32i-unknown-none-elf&lt;/code&gt;
which works completely fine with only the instructions we’ll cover
here.&lt;/p&gt;&lt;p&gt;Speaking of instructions we will cover, why don’t we meet the 45 of them right here and now:&lt;/p&gt;&lt;code&gt;lui auipc
jal jalr
beq bne blt bge bltu bgeu
lb lh lw lbu lhu sb sh sw
addi slti sltiu xori ori andi slli srli srai
add sub slt sltu xor or and sll srl sra
ecall ebreak
csrrw csrrs csrrc csrrwi csrrsi csrrci&lt;/code&gt;&lt;p&gt;Some of these instruction names should ring a bell (&lt;code&gt;add&lt;/code&gt;,
&lt;code&gt;or&lt;/code&gt;, &lt;code&gt;xor&lt;/code&gt;). Others will look like they have some
pattern to it. A few weird ones like &lt;code&gt;auipc&lt;/code&gt; stand out. These
instructions form the foundation of RISC-V, performing the basic tasks a
processor would do.&lt;/p&gt;&lt;p&gt;You will also catch a glimpse of what creating an operating system on RISC-V is like, namely handling exceptions and privilege levels.&lt;/p&gt;&lt;p&gt;Let’s get started.&lt;/p&gt;&lt;p&gt;Throughout this article you will see emulator panes like these:&lt;/p&gt;&lt;p&gt;(If you just see a code block, there’s a JavaScript problem. Make sure you’ve enabled JavaScript, probably…)&lt;/p&gt;&lt;p&gt;You can use the buttons to control each emulator. Go ahead and click on ‘Start’. A register view should pop up showing the state of the emulator. Now click on ‘Run’. You’ll notice that:&lt;/p&gt;&lt;code&gt;a0 (x10) 0x00000000&lt;/code&gt;&lt;p&gt;Changed into:&lt;/p&gt;&lt;code&gt;a0 (x10) 0x00000123&lt;/code&gt;&lt;p&gt;And the emulator stopped. Congratulations, you’ve run your first RISC-V assembly program. First here, at least.&lt;/p&gt;&lt;p&gt;‘Start’ assembles your code and, well, starts the emulator. If there’s a problem with your code, it will tell you about it and the emulator will not start.&lt;/p&gt;&lt;p&gt;When the emulator is started, you can see the current state of the registers in the side pane. More controls also becomes available. ‘Run’ runs until the end or until you hit ‘Pause’. ‘Step’ runs a single step.&lt;/p&gt;&lt;p&gt;If you hit ‘Step’, you’ll notice that the above program takes two steps to run. You may have guessed correctly that the first step corresponds to &lt;code&gt;addi&lt;/code&gt;, and the second corresponds to
&lt;code&gt;ebreak&lt;/code&gt;. The top of the register panel shows
&lt;code&gt;pc&lt;/code&gt;, the current instruction address, and in parentheses the
current instruction.&lt;/p&gt;&lt;p&gt;‘Dump’ opens a new window containing some text. There are two sections: the first is the symbol table, which tells you about the labels in your code:&lt;/p&gt;&lt;code&gt;# Symbols
# 0x40000000 start&lt;/code&gt;&lt;p&gt;The second section is an annotated version of your code:&lt;/p&gt;&lt;code&gt;start:
{ 0x40000000: 12300513 } addi x10, x0, 0x123
{ 0x40000004: 00100073 } ebreak&lt;/code&gt;&lt;p&gt;This tells you that the &lt;code&gt;addi&lt;/code&gt; instruction encodes to hex
&lt;code&gt;12300513&lt;/code&gt;, and starts at address hex &lt;code&gt;40000000&lt;/code&gt;.
Similarly, &lt;code&gt;ebreak&lt;/code&gt; encodes as &lt;code&gt;00100073&lt;/code&gt; at
address hex &lt;code&gt;40000004&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;(Note: RISC-V instructions are little-endian, meaning that the four bytes of &lt;code&gt;addi&lt;/code&gt; are actually
&lt;code&gt;13 05 30 12&lt;/code&gt;.)&lt;/p&gt;&lt;p&gt;We’ll talk in detail about all of &lt;code&gt;pc&lt;/code&gt;, registers,
instructions, labels, and the two checkboxes later.&lt;/p&gt;&lt;p&gt;Now you may have also guessed that &lt;code&gt;addi x10, x0, 0x123&lt;/code&gt;
means &lt;code&gt;x10 = x0 + 0x123&lt;/code&gt;. As for &lt;code&gt;ebreak&lt;/code&gt;, for
now, just remember that &lt;code&gt;ebreak&lt;/code&gt; stops the emulator.&lt;/p&gt;&lt;p&gt;The program counter, or &lt;code&gt;pc&lt;/code&gt; is the address of
the current instruction. It points to the instruction to be
executed.&lt;/p&gt;&lt;p&gt;RV32I has 31 general purpose registers numbered &lt;code&gt;x1&lt;/code&gt; through
&lt;code&gt;x31&lt;/code&gt;. These can contain any 32-bit data.&lt;/p&gt;&lt;p&gt;(If you’re wondering, there are no flags for RV32I.)&lt;/p&gt;&lt;p&gt;The register &lt;code&gt;x0&lt;/code&gt; is a
special “zero register”. For computational instructions, you can use
&lt;code&gt;x0&lt;/code&gt; anywhere a register is expected. Reading it always gives
zero, and writing to it just gets ignored. The use of a special register
simplifies the design of the architecture, and this design is shared by
MIPS and Arm AArch64. We will make good use of &lt;code&gt;x0&lt;/code&gt; soon.&lt;/p&gt;&lt;p&gt;(Note: In the emulator, the instruction listed in parenthesis next to &lt;code&gt;pc&lt;/code&gt; in the register view is provided as a convenience and is
not part of the processor state.)&lt;/p&gt;&lt;p&gt;But before we can start talking about instructions themselves, we need a way to talk about the instruction syntax so I can, you know, write it down for you.&lt;/p&gt;&lt;p&gt;The syntax of an instruction is the instruction name and then several comma-separated operands. For example, for this instruction we’ve seen above:&lt;/p&gt;&lt;code&gt;addi x10, x0, 0x123&lt;/code&gt;&lt;p&gt;&lt;code&gt;x10&lt;/code&gt; is the destination register or
&lt;code&gt;rd&lt;/code&gt;. The next operand is
the first (and only) source
register or &lt;code&gt;rs1&lt;/code&gt;. The last operand is an
immediate value or &lt;code&gt;imm&lt;/code&gt;. Using these
abbreviations, we can summarize that the syntax for &lt;code&gt;addi&lt;/code&gt;
is:&lt;/p&gt;&lt;code&gt;addi rd, rs1, imm&lt;/code&gt;&lt;p&gt;Some other instructions have a second source register or &lt;code&gt;rs2&lt;/code&gt;. For example, the
non-immediate &lt;code&gt;add&lt;/code&gt; instruction has this syntax:&lt;/p&gt;&lt;code&gt;add rd, rs1, rs2&lt;/code&gt;&lt;p&gt;Some other instructions have no operands, like &lt;code&gt;ebreak&lt;/code&gt;.
Others have slightly more complex operands.&lt;/p&gt;&lt;p&gt;Using the registers as a playground of numbers, we can use computational instructions to work with them.&lt;/p&gt;&lt;p&gt;As we’ve seen above, you can get a RISC-V machine to add numbers together.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;addi&lt;/code&gt;
instruction adds the value in &lt;code&gt;rs1&lt;/code&gt; to the immediate value
&lt;code&gt;imm&lt;/code&gt;, and puts the result in &lt;code&gt;rd&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;addi rd, rs1, imm&lt;/code&gt;&lt;p&gt;The &lt;code&gt;add&lt;/code&gt; instruction
adds the value in &lt;code&gt;rs1&lt;/code&gt; to the value in &lt;code&gt;rs2&lt;/code&gt;, and
puts the result in &lt;code&gt;rd&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;add rd, rs1, rs2&lt;/code&gt;&lt;p&gt;The opposite of addition is subtraction. The &lt;code&gt;sub&lt;/code&gt; instruction subtracts the
value in &lt;code&gt;rs2&lt;/code&gt; from the value in &lt;code&gt;rs1&lt;/code&gt;
(i.e. &lt;code&gt;rs1 - rs2&lt;/code&gt;), and puts the result in &lt;code&gt;rd&lt;/code&gt;.
There’s no corresponding &lt;code&gt;subi&lt;/code&gt; instruction — Just use
&lt;code&gt;addi&lt;/code&gt; with a negative number.&lt;/p&gt;&lt;code&gt;sub rd, rs1, rs2&lt;/code&gt;&lt;p&gt;Step through this demo program and try writing your own additions and subtractions:&lt;/p&gt;&lt;p&gt;One thing you should note is that the immediate value has a limited range, namely &lt;code&gt;[-2048, 2047]&lt;/code&gt;, the range of a 12-bit two’s
complement signed integer. This limitation is because RV32I uses fixed
32-bit i.e. 4-byte instructions, and only the top 12 bits are available
to encode an immediate value. You can see the hexadecimal value encoded
in the instruction from the ‘Dump’. This article will not go into much
further detail about instruction encodings.&lt;/p&gt;&lt;code&gt;{ 0x40000000: 12300513 } addi x10, x0, 0x123
{ 0x40000004: 55500593 } addi x11, x0, 0x555&lt;/code&gt;&lt;p&gt;Even instructions as simple as addition and subtraction have other interesting uses. We have already used &lt;code&gt;addi x10, x0, 0x123&lt;/code&gt;
to put &lt;code&gt;0x123&lt;/code&gt; in the register &lt;code&gt;x10&lt;/code&gt;. When writing
in assembly, we can use a little shortcut called pseudoinstructions. The
&lt;code&gt;li&lt;/code&gt; (“load immediate”)
pseudoinstruction is a convenient way to put a small value in a
register. It expands to &lt;code&gt;addi rd, x0, imm&lt;/code&gt; when
&lt;code&gt;imm&lt;/code&gt; is in the range &lt;code&gt;[-2048, 2047]&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;li rd, imm&lt;/code&gt;&lt;p&gt;When &lt;code&gt;imm&lt;/code&gt; is &lt;code&gt;0&lt;/code&gt;, &lt;code&gt;addi&lt;/code&gt; copies the
value without changing it because adding zero is the same as doing
nothing. The &lt;code&gt;mv&lt;/code&gt; (“move”)
pseudoinstruction copies the value from &lt;code&gt;rs1&lt;/code&gt; to
&lt;code&gt;rd&lt;/code&gt;. It expands to &lt;code&gt;addi rd, rs1, 0&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;mv rd, rs1&lt;/code&gt;&lt;p&gt;Using the pseudoinstruction is exactly equivalent to using the “real” instruction. You can see in the dump that the two are assembled exactly the same way.&lt;/p&gt;&lt;p&gt;Subtracting from zero is negation. What’s the negative of &lt;code&gt;0x123&lt;/code&gt;?&lt;/p&gt;&lt;p&gt;Hmm, we get &lt;code&gt;0xfffffedd&lt;/code&gt;. That’s the 32-bit two’s complement
representation of &lt;code&gt;-291&lt;/code&gt;, or &lt;code&gt;-0x123&lt;/code&gt;. There’s
plenty of tutorials on this out there, so we’ll just note that whenever
something is “signed”, RISC-V uses two’s complement representation. The
benefit of this is that there are fewer instructions for separate signed
and unsigned instructions — both signed and unsigned numbers have the
same overflow wrap-around behavior.&lt;/p&gt;&lt;p&gt;Speaking of overflow wrap-around, what happens if we add something too much and it overflows? We’ll use &lt;code&gt;add&lt;/code&gt; to repeatedly
double &lt;code&gt;0x123&lt;/code&gt; and see what happens:&lt;/p&gt;&lt;p&gt;As &lt;code&gt;0x123&lt;/code&gt; crawls up to the upper bits and eventually we
get to &lt;code&gt;0x9180_0000&lt;/code&gt;, in the next iteration it turns into
&lt;code&gt;0x2300_0000&lt;/code&gt;. There was an overflow! Doubling of
&lt;code&gt;0x9180_0000&lt;/code&gt; gives &lt;code&gt;0x1_2300_0000&lt;/code&gt;, but that
needs 33 bits in binary, so the highest bit can’t be put in the result.
Since RISC-V doesn’t have flag bits for carry or overflow, it’s simply
gone. The programmer is expected to deal with this.&lt;/p&gt;&lt;p&gt;While we’re talking about bits, another thing we can do with bits is performing bitwise logical operations on them.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;and&lt;/code&gt; instruction
performs a bitwise-“and” between the bits of &lt;code&gt;rs1&lt;/code&gt; and
&lt;code&gt;rs2&lt;/code&gt; and puts the result in &lt;code&gt;rd&lt;/code&gt;. The &lt;code&gt;or&lt;/code&gt; and &lt;code&gt;xor&lt;/code&gt; instructions similarly
performs bitwise-“or” and bitwise-“xor”, respectively.&lt;/p&gt;&lt;code&gt;and rd, rs1, rs2
or rd, rs1, rs2
xor rd, rs1, rs2&lt;/code&gt;&lt;p&gt;Immediate operand versions of the three, namely &lt;code&gt;andi&lt;/code&gt;, &lt;code&gt;ori&lt;/code&gt;, &lt;code&gt;xori&lt;/code&gt; also exist.&lt;/p&gt;&lt;code&gt;andi rd, rs1, imm
ori rd, rs1, imm
xori rd, rs1, imm&lt;/code&gt;&lt;p&gt;Here are some random bit operation examples you can play with:&lt;/p&gt;&lt;p&gt;Remember that the immediate value is in the range &lt;code&gt;[-2048, 2047]&lt;/code&gt;. For negative values, the two’s complement
representation used means that the high bits are all ones. For example,
using &lt;code&gt;-1&lt;/code&gt; as &lt;code&gt;imm&lt;/code&gt; means the second operand is
binary all ones, or &lt;code&gt;0xffff_ffff&lt;/code&gt;. This allows us to use
&lt;code&gt;xori rd, rs1, -1&lt;/code&gt; as bitwise-“not”.&lt;/p&gt;&lt;p&gt;Another interesting operation you can do is to round/align something up or down to a multiple of a power of two. For example, if you want to find the closest multiple of 16 below &lt;code&gt;a&lt;/code&gt;, in binary that would be clearing the lowest
4 bits, or &lt;code&gt;a &amp;amp; ~0b1111&lt;/code&gt;. Conveniently, that’s
&lt;code&gt;a &amp;amp; -16&lt;/code&gt; in two’s complement.&lt;/p&gt;&lt;p&gt;Aligning up is less intuitive, but one idea would be adding 16 first. However that gives an incorrect result for multiples of 16. It’s easy enough to fix though: adding one less works exactly right: &lt;code&gt;(a + 15) &amp;amp; -16&lt;/code&gt;&lt;/p&gt;&lt;p&gt;Usually when you write a comparison of some sort like &lt;code&gt;a == b&lt;/code&gt; or &lt;code&gt;a &amp;gt;= b&lt;/code&gt;, it’s used as a condition
for some &lt;code&gt;if&lt;/code&gt; or loop, but… those things are complicated!
We’ll get to it later.&lt;/p&gt;&lt;p&gt;Sometimes you just want a boolean value out of a comparison. The C convention uses 1 for true and 0 for false, and since the world runs on C now, that’s what RISC-V provides.&lt;/p&gt;&lt;p&gt;In C there are six comparison operators:&lt;/p&gt;&lt;code&gt;== != &amp;lt; &amp;gt; &amp;lt;= &amp;gt;=&lt;/code&gt;&lt;p&gt;The values being compared can also be both signed or both unsigned.&lt;/p&gt;&lt;p&gt;How many comparison instructions do we have at our disposal? Let’s see…&lt;/p&gt;&lt;p&gt;The &lt;code&gt;slt&lt;/code&gt; (“set less
than”) instruction compares &lt;code&gt;rs1&lt;/code&gt; and &lt;code&gt;rs2&lt;/code&gt; as
signed 32-bit integers, and sets &lt;code&gt;rd&lt;/code&gt; to &lt;code&gt;1&lt;/code&gt; if
&lt;code&gt;rs1 &amp;lt; rs2&lt;/code&gt;, and &lt;code&gt;0&lt;/code&gt; otherwise
(&lt;code&gt;rs1 &amp;gt;= rs2&lt;/code&gt;). The &lt;code&gt;sltu&lt;/code&gt; instruction is similar
but it treats the operands as unsigned values. &lt;code&gt;slti&lt;/code&gt; and &lt;code&gt;sltiu&lt;/code&gt; are similar but the
second operand is an immediate value.&lt;/p&gt;&lt;code&gt;slt rd, rs1, rs2
sltu rd, rs1, rs2
slti rd, rs1, imm
sltiu rd, rs1, imm&lt;/code&gt;&lt;p&gt;(Of particular note is &lt;code&gt;sltiu&lt;/code&gt;, where the immediate
operand still has the range &lt;code&gt;[-2048, 2047]&lt;/code&gt; but is sign
extended to 32 bits and then treated as an unsigned value, like what
would happen in C with &lt;code&gt;a &amp;lt; (unsigned)-1&lt;/code&gt;.)&lt;/p&gt;&lt;p&gt;That’s… one of the six comparisons settled. What about the others? As it turns out, we can synthesize any of the other five, using up to two instructions.&lt;/p&gt;&lt;p&gt;Making &lt;code&gt;&amp;gt;&lt;/code&gt; from &lt;code&gt;&amp;lt;&lt;/code&gt; is easy, as you can
just swap the operands. Using &lt;code&gt;xori&lt;/code&gt; with &lt;code&gt;1&lt;/code&gt; we
can invert the result of a comparison, giving as &lt;code&gt;&amp;lt;=&lt;/code&gt; and
&lt;code&gt;&amp;gt;=&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;That was signed comparison but unsigned comparison works the same using &lt;code&gt;sltu&lt;/code&gt; instead of &lt;code&gt;slt&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;As for &lt;code&gt;==&lt;/code&gt; and &lt;code&gt;!=&lt;/code&gt;, let’s tackle the easier
case of &lt;code&gt;a == 0&lt;/code&gt; and &lt;code&gt;a != 0&lt;/code&gt; first. We will use
the fact that for unsigned values, &lt;code&gt;a != 0&lt;/code&gt; is equivalent to
&lt;code&gt;a &amp;gt; 0&lt;/code&gt;. The negation of that is &lt;code&gt;a &amp;lt;= 0&lt;/code&gt;,
which is the same as &lt;code&gt;a &amp;lt; 1&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;As a bonus, this is also how we get logical not and converting integer to boolean.&lt;/p&gt;&lt;p&gt;Now that we have these, &lt;code&gt;a == b&lt;/code&gt; is just
&lt;code&gt;(a - b) == 0&lt;/code&gt;, and &lt;code&gt;a != b&lt;/code&gt; is just
&lt;code&gt;(a - b) != 0&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;In summary: (&lt;code&gt;[u]&lt;/code&gt; means use &lt;code&gt;u&lt;/code&gt; for unsigned
comparison and nothing for signed comparison)&lt;/p&gt;&lt;code&gt;a &amp;lt; b&lt;/code&gt;: &lt;code&gt;slt[u]&lt;/code&gt;&lt;code&gt;a &amp;gt; b&lt;/code&gt;: &lt;code&gt;slt[u] reversed&lt;/code&gt;&lt;code&gt;a &amp;lt;= b&lt;/code&gt;: &lt;code&gt;slt[u] reversed ; xori 1&lt;/code&gt;&lt;code&gt;a &amp;gt;= b&lt;/code&gt;: &lt;code&gt;slt[u] ; xori 1&lt;/code&gt;&lt;code&gt;a == 0&lt;/code&gt;: &lt;code&gt;sltu x0&lt;/code&gt;&lt;code&gt;a != 0&lt;/code&gt;: &lt;code&gt;sltiu 1&lt;/code&gt;&lt;code&gt;a == b&lt;/code&gt;: &lt;code&gt;sub ; sltu x0&lt;/code&gt;&lt;code&gt;a != b&lt;/code&gt;: &lt;code&gt;sub ; sltiu 1&lt;/code&gt;&lt;p&gt;There is no way I can do justice to the usage of bit shifts in the middle of a tutorial on RISC-V assembly. If you’re here, you’ve probably heard of them. There’s nothing really special to the way they appear in usage for RISC-V.&lt;/p&gt;&lt;p&gt;There are two variants for right shifting: &lt;code&gt;srl&lt;/code&gt; and &lt;code&gt;srli&lt;/code&gt; (“shift right logical
(immediate)”) performs “logical” or unsigned right shift where the
leftmost or most significant bits are filled with zeros.&lt;/p&gt;&lt;p&gt;&lt;code&gt;sra&lt;/code&gt; and &lt;code&gt;srai&lt;/code&gt; (“shift right
arithmetic (immediate)”) performs “arithmetic” or signed right shift
where the leftmost bits are filled with the same of what highest/sign
bit was. So if you shift a negative value, you get a negative result; if
you shift a non-negative value, you get a non-negative result.&lt;/p&gt;&lt;code&gt;srl rd, rs1, rs2
sra rd, rs1, rs2
srli rd, rs1, imm
srai rd, rs1, imm&lt;/code&gt;&lt;p&gt;As before, the ones with the &lt;code&gt;i&lt;/code&gt; suffix take an immediate
value as the second operand, and the ones without &lt;code&gt;i&lt;/code&gt; take a
register.&lt;/p&gt;&lt;p&gt;So &lt;code&gt;a&lt;/code&gt; means “arithmetic”, &lt;code&gt;l&lt;/code&gt; means “logical”.
Got it.&lt;/p&gt;&lt;p&gt;Left shifts have no such distinction. For consistency they are still “logical”: &lt;code&gt;sll&lt;/code&gt; is left
shift, and &lt;code&gt;slli&lt;/code&gt; is
left shift with immediate.&lt;/p&gt;&lt;code&gt;sll rd, rs1, rs2
slli rd, rs1, imm&lt;/code&gt;&lt;p&gt;Aha, now we can blow up &lt;code&gt;0x123&lt;/code&gt; without repeating myself
so much:&lt;/p&gt;&lt;p&gt;The immediate value for shift instructions are special: they can only be in the range of 0 to 31, inclusive, because it doesn’t make sense to shift by a negative amount, or by more than 31. When the shift amount is taken from a register, the value is considered modulo 32, or in other words only the last 5 bits are taken into account:&lt;/p&gt;&lt;p&gt;For some fun, let’s try multiplying a value by 10, something you would do when parsing decimal numbers: &lt;code&gt;a * 10&lt;/code&gt; can be
rewritten as &lt;code&gt;(a &amp;lt;&amp;lt; 1) + (a &amp;lt;&amp;lt; 3)&lt;/code&gt;:&lt;/p&gt;&lt;p&gt;That’s it?&lt;/p&gt;&lt;p&gt;You may have noticed some glaring omissions. What we’ve learned doesn’t even cover grade school math: multiplication and division are missing.&lt;/p&gt;&lt;p&gt;RISC-V is designed with extensions in mind. Remember that as said in the introduction, RV32I is the barest bones of the barest bones we’ve got. Forcing everyone to make their processors with multiplication and division even for tasks that don’t need them would waste silicon area and money on every chip. Instead those making RISC-V processors have great freedom to choose, and indeed some would say they have too much freedom.&lt;/p&gt;&lt;p&gt;For us… Honestly, I’m just glad we’ve been dealt a hand that we can tackle completely in full. There’s no way I’m finishing writing this tutorial if RV32I wasn’t so bare boned.&lt;/p&gt;&lt;p&gt;(Operand &lt;code&gt;a&lt;/code&gt; is &lt;code&gt;rs1&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; is
&lt;code&gt;rs2&lt;/code&gt; or immediate. In the instruction name &lt;code&gt;[i]&lt;/code&gt;
means an immediate variant is available. Subscript &lt;code&gt;u&lt;/code&gt; means
unsigned and &lt;code&gt;s&lt;/code&gt; means two’s complement signed.)&lt;/p&gt;&lt;table&gt;&lt;row span="3"&gt;&lt;cell role="head"&gt;Instruction&lt;/cell&gt;&lt;cell role="head"&gt;Operation&lt;/cell&gt;&lt;cell role="head"&gt;Immediate range&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;add[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a + b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[-2048, 2047]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;sub&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a - b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;(n/a)&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;slt[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;(a &amp;lt;s b) ? 1 : 0&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[-2048, 2047]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;slt[i]u&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;(a &amp;lt;u b) ? 1 : 0&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[-2048, 2047]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;xor[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a ^ b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[-2048, 2047]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;or[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a | b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[-2048, 2047]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;and[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a &amp;amp; b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[-2048, 2047]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;sll[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a &amp;lt;&amp;lt; b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[0, 31]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;srl[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a &amp;gt;&amp;gt;u b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[0, 31]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;row&gt;&lt;cell&gt;&lt;code&gt;sra[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;a &amp;gt;&amp;gt;s b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;[0, 31]&lt;/code&gt;&lt;/cell&gt;&lt;/row&gt;&lt;/table&gt;&lt;p&gt;The &lt;code&gt;addi&lt;/code&gt; instruction has limit on the immediate value.
How do we make bigger values?&lt;/p&gt;&lt;p&gt;The &lt;code&gt;lui&lt;/code&gt; (“load upper
immediate”) instruction takes an immediate in the range
&lt;code&gt;[0, 1048575]&lt;/code&gt; (i.e. up to &lt;code&gt;220 - 1&lt;/code&gt;)
and sets &lt;code&gt;rd&lt;/code&gt; to that value left shifted 12 bits:&lt;/p&gt;&lt;code&gt;lui rd, imm20&lt;/code&gt;&lt;p&gt;That was… slightly confusing. Why don’t we give it a try:&lt;/p&gt;&lt;p&gt;Instead of &lt;code&gt;li&lt;/code&gt; loading a “low” immediate, we control the
upper 20 bits of what we put in the register. After that, we
can use another &lt;code&gt;addi&lt;/code&gt; instruction to fill in the lower bits.
For example, if we want &lt;code&gt;0x12345&lt;/code&gt;:&lt;/p&gt;&lt;p&gt;For convenience, in assembly you can use &lt;code&gt;%hi()&lt;/code&gt; and &lt;code&gt;%lo()&lt;/code&gt; to extract the, well,
high 20 and low 12 bits of a value. The previous example could also be
written:&lt;/p&gt;&lt;p&gt;Letting &lt;code&gt;lui&lt;/code&gt; handle the high 20 bits, and
&lt;code&gt;addi&lt;/code&gt; for the low 12 bits, you can make any 32-bit
value.&lt;/p&gt;&lt;p&gt;(A small complication arises if you want to use values with bit 11 set. In that case, the immediate operand to &lt;code&gt;addi&lt;/code&gt; will have
to be negative. However &lt;code&gt;%hi&lt;/code&gt; understands this and adds one
to compensate, so this &lt;code&gt;%hi&lt;/code&gt;/&lt;code&gt;%lo&lt;/code&gt; combination
does work for everything.)&lt;/p&gt;&lt;p&gt;So far, everything that we’ve had so far can be done on even the most basic programmer’s calculator. To truly make a computer… do computer stuff, we’d want loops and conditionals.&lt;/p&gt;&lt;p&gt;In RISC-V parlance, a branch is a conditional transfer of control flow, and a jump is an unconditional transfer of control flow.&lt;/p&gt;&lt;p&gt;I think the branch instructions are slightly simpler, so let’s start with those.&lt;/p&gt;&lt;p&gt;All the branch instruction follow the form “If some comparison, go to somewhere.” The conditions are:&lt;/p&gt;&lt;code&gt;beq&lt;/code&gt;:
&lt;code&gt;rs1 == rs2&lt;/code&gt; (“equal”)&lt;code&gt;bne&lt;/code&gt;:
&lt;code&gt;rs1 != rs2&lt;/code&gt; (“not equal”)&lt;code&gt;blt&lt;/code&gt;:
&lt;code&gt;rs1 &amp;lt; rs2&lt;/code&gt; signed (“less than”)&lt;code&gt;bge&lt;/code&gt;:
&lt;code&gt;rs1 &amp;gt;= rs2&lt;/code&gt; signed (“greater or equal”)&lt;code&gt;bltu&lt;/code&gt;:
&lt;code&gt;rs1 &amp;lt; rs2&lt;/code&gt; signed (“less than unsigned”)&lt;code&gt;bgeu&lt;/code&gt;:
&lt;code&gt;rs1 &amp;gt;= rs2&lt;/code&gt; signed (“greater or equal unsigned”)&lt;p&gt;(In case you’re wondering about the confusing choice of ordering operators here, it’s just that the negation of &lt;code&gt;&amp;lt;&lt;/code&gt; is
&lt;code&gt;&amp;gt;=&lt;/code&gt;.)&lt;/p&gt;&lt;code&gt;beq rs1, rs2, label
bne rs1, rs2, label
blt rs1, rs2, label
bge rs1, rs2, label
bltu rs1, rs2, label
bgeu rs1, rs2, label&lt;/code&gt;
&lt;p&gt;Oh, right, almost forgot to explain what labels are. Labels are convenience identifiers for addresses at some line of your code. They are some identifier followed by a colon (like &lt;code&gt;this:&lt;/code&gt;). They
can appear on a line of its own, or before any instruction on the line.
You can see which address they point to using the “Dump” button. The
third operand of a branch instruction is a label to jump to if the
condition holds.&lt;/p&gt;&lt;p&gt;Let’s add up all the numbers from 1 to 100:&lt;/p&gt;&lt;p&gt;You can try your hands on making your favorite loops, like fibonacci numbers or something. Speaking of trying your hands, just so we’re ready, here’s what an infinite loop looks like. Try pausing or stopping the loop, and single stepping through the instructions.&lt;/p&gt;&lt;p&gt;(If you know a thing or two about JavaScript in the browser, you’ll know that a real infinite loop in JavaScript makes the whole page becomes unresponsive, unless it’s in a worker or something. The “Run” button here just runs the emulator for a certain number of steps, pausing by giving back control to the event loop in between.)&lt;/p&gt;&lt;p&gt;(This isn’t the preferred way to write an unconditional jump. We’ll see what is later.)&lt;/p&gt;&lt;p&gt;By the way, there’s no &lt;code&gt;bgt[u]&lt;/code&gt; or &lt;code&gt;ble[u]&lt;/code&gt;
because you can just swap &lt;code&gt;rs1&lt;/code&gt; and &lt;code&gt;rs2&lt;/code&gt; to get
those.&lt;/p&gt;&lt;p&gt;There are two jump instructions in RISC-V. One of them is &lt;code&gt;jal&lt;/code&gt; “jump and link”, which
sets &lt;code&gt;rd&lt;/code&gt; to the address of the following instruction, and
then jumps to a label:&lt;/p&gt;&lt;code&gt;jal rd, label&lt;/code&gt;
&lt;p&gt;Another is &lt;code&gt;jalr&lt;/code&gt;
“jump and link register”, which sets &lt;code&gt;rd&lt;/code&gt; to the address of
the following instruction, and then jumps to the address at
&lt;code&gt;imm + rs1&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;jalr rd, imm(rs1)&lt;/code&gt;
&lt;p&gt;(Actually, the address jumped to is &lt;code&gt;(imm + rs1) &amp;amp; ~1&lt;/code&gt;, i.e. the least significant bit is
cleared. This distinction won’t come up in normal code, like, pretty
much ever.)&lt;/p&gt;&lt;p&gt;Eesh, that’s some funky looking syntax. When you see parentheses like this, it has something to do with an address. Parens means address.&lt;/p&gt;&lt;p&gt;That’s… still a lot going on. Let’s take on some simpler cases first: If &lt;code&gt;rd&lt;/code&gt; is &lt;code&gt;x0&lt;/code&gt; then the only thing these
instructions do is jumping. We can use it instead of the branch
instructions for an unconditional jump.&lt;/p&gt;&lt;p&gt;For convenience, a pseudoinstruction is available for you: &lt;code&gt;j&lt;/code&gt; (“jump”) is for
&lt;code&gt;jal&lt;/code&gt; with &lt;code&gt;rd&lt;/code&gt; being &lt;code&gt;x0&lt;/code&gt;:&lt;/p&gt;&lt;code&gt;j label&lt;/code&gt;
&lt;p&gt;As for why you would want to do this… Well, we only have 32 bits per instruction, and since the &lt;code&gt;jal&lt;/code&gt; instruction only needs one
register number instead of the branch instructions’ two, and it doesn’t
need a condition, the instruction encoding permits jumping over a longer
range. So this is always preferred over something like
&lt;code&gt;beq x0, x0, label&lt;/code&gt; for a jump.&lt;/p&gt;&lt;p&gt;As for &lt;code&gt;jalr&lt;/code&gt;, you can jump to an address that’s stored in
a register. In C, that would be dealing with function pointers. You’d
need this any time dynamic dispatch is needed. For example, we load the
address of &lt;code&gt;foo&lt;/code&gt; into a register first before jumping to
it.&lt;/p&gt;&lt;p&gt;In case you forgot by now, the &lt;code&gt;lui&lt;/code&gt;/&lt;code&gt;addi&lt;/code&gt;
combo at the start puts the address of the label &lt;code&gt;foo&lt;/code&gt; in
register &lt;code&gt;x10&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Similar to &lt;code&gt;j&lt;/code&gt;, &lt;code&gt;jr&lt;/code&gt; (“jump register”) is a
psuedoinstruction for &lt;code&gt;jalr&lt;/code&gt; with &lt;code&gt;rd&lt;/code&gt; being
&lt;code&gt;x0&lt;/code&gt; and &lt;code&gt;imm&lt;/code&gt; being &lt;code&gt;0&lt;/code&gt;:&lt;/p&gt;&lt;code&gt;jr rs1&lt;/code&gt;
&lt;p&gt;Hmmm… If I didn’t really need the address in &lt;code&gt;x10&lt;/code&gt;, that
&lt;code&gt;addi&lt;/code&gt; would be unnecessary, since &lt;code&gt;jalr&lt;/code&gt; has the
ability to add a low immediate on its own:&lt;/p&gt;&lt;p&gt;What’s the advantage of this over &lt;code&gt;jal x0&lt;/code&gt;? Since
&lt;code&gt;%hi&lt;/code&gt; and &lt;code&gt;%lo&lt;/code&gt; can represent any 32-bit value,
this two-instruction combo can jump to any address, free from range
restrictions. You do need a free scratch register for the high part of
the address though, but since RISC-V gives you 31 of them, this
shouldn’t be too much of a problem.&lt;/p&gt;&lt;p&gt;What’s the deal with the destination register then? What do you need the address of the next instruction for? For jumping back of course. We can use this functionality to call functions and return back.&lt;/p&gt;&lt;p&gt;Note that I used the register &lt;code&gt;x1&lt;/code&gt; for this, which is the
register for providing the return address by convention. For
convenience, if the destination register is omitted in &lt;code&gt;jal&lt;/code&gt;,
it defaults to &lt;code&gt;x1&lt;/code&gt;. Meanwhile, &lt;code&gt;ret&lt;/code&gt; (“return”) is a
pseudoinstruction that stands for &lt;code&gt;jr x1&lt;/code&gt;,
i.e. &lt;code&gt;jalr x0, 0(x1)&lt;/code&gt;:&lt;/p&gt;&lt;code&gt;jal label
ret&lt;/code&gt;
&lt;p&gt;So the example above can be rewritten more conveniently as:&lt;/p&gt;&lt;p&gt;That’s a nice computer we have here. Now we have… all of 31 × 4 = 124 bytes of storage in the form of registers to work with. I want more…&lt;/p&gt;&lt;p&gt;The emulator has 1 MiB of memory starting at address &lt;code&gt;0x4000_0000&lt;/code&gt;. That’s &lt;code&gt;0x4000_0000&lt;/code&gt; to
&lt;code&gt;0x400f_ffff&lt;/code&gt;, inclusive. The assembler starts assembling at
the beginning of memory, as you can see in the dump, starting at address
&lt;code&gt;0x4000_0000&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;.word&lt;/code&gt; directive straight up puts a
4-byte/32-bit word into the current position. You can specify multiple
values separated by commas.&lt;/p&gt;&lt;code&gt;.word value [ , value [ , ...  ] ]&lt;/code&gt;
&lt;p&gt;The &lt;code&gt;lw&lt;/code&gt; (“load word”)
instruction loads a word from the address &lt;code&gt;rs1 + imm&lt;/code&gt; and
puts it in &lt;code&gt;rd&lt;/code&gt;, in other words it reads the word from
memory:&lt;/p&gt;&lt;code&gt;lw rd, imm(rs1)&lt;/code&gt;
&lt;p&gt;As with &lt;code&gt;jalr&lt;/code&gt;, you can combine it with &lt;code&gt;lui&lt;/code&gt;
to access any address.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;sw&lt;/code&gt; (“store word”)
instruction stores &lt;code&gt;rs2&lt;/code&gt; to a word in memory at address
&lt;code&gt;rs2 + imm&lt;/code&gt;, in other words it writes the word to memory:&lt;/p&gt;&lt;code&gt;sw rs2, imm(rs1)&lt;/code&gt;
&lt;p&gt;Just to make absolutely sure we’re clear on this, load means reading from memory, store means writing to memory. Both words can be nouns and verbs. Also, a word is 32-bit for RISC-V.&lt;/p&gt;&lt;p&gt;Let’s have some fun. Can we have the program read itself?&lt;/p&gt;&lt;p&gt;Ohh that’s fun. Does this mean I can also write programs with just &lt;code&gt;.word&lt;/code&gt;?&lt;/p&gt;&lt;p&gt;Oh that’s nice. Just a peek into the world of machine code and instruction encodings… which we will not be getting into.&lt;/p&gt;&lt;p&gt;With memory accesses under our belt, we can address a lot more data easily. Here’s an example where we find the sum of all the values in an array. Note how we can access different addresses of memory, whereas there is no way to address a register by a number in another register.&lt;/p&gt;&lt;p&gt;The equivalent in C would be something like&lt;/p&gt;&lt;code&gt;uint32_t array[], length;

uint32_t *current = array;
uint32_t *end = array + length;
uint32_t sum = 0;

for (; current != end; current ++) {
    sum += *current;
}&lt;/code&gt;
&lt;p&gt;Note how adding one to a pointer to word bumps the address by 4, because the addresses are all byte addresses, and one word is four bytes. In C, the compiler handles the multiplier for you, but in assembly you have to remember to do it manually.&lt;/p&gt;&lt;p&gt;Not everything in memory is word sized. You’ve already seen an array, which is multiple-word-sized. There are also stuff smaller than word-sized.&lt;/p&gt;&lt;p&gt;An obvious one is the byte, which is, well, 1-byte/8-bit and written &lt;code&gt;[u]int8_t&lt;/code&gt; in C. In
the middle is the halfword,
which is 2-byte/16-bit and written &lt;code&gt;[u]int16_t&lt;/code&gt; in C. You can
use the directives &lt;code&gt;.byte&lt;/code&gt; and &lt;code&gt;.half&lt;/code&gt; respectively for those
data types.&lt;/p&gt;&lt;code&gt;.byte value [ , value [ , ...  ] ]
.half value [ , value [ , ...  ] ]&lt;/code&gt;
&lt;p&gt;And just in case you don’t remember those, &lt;code&gt;.2byte&lt;/code&gt; means the same as
&lt;code&gt;.half&lt;/code&gt;, and &lt;code&gt;.4byte&lt;/code&gt; means the same as
&lt;code&gt;.word&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;.2byte value [ , value [ , ...  ] ] # Same as .half
.4byte value [ , value [ , ...  ] ] # Same as .word&lt;/code&gt;
&lt;p&gt;There’s a small problem with loading smaller-than-word sized values into word-sized registers: What do you do with the rest of the bits? Obviously the lowest of the bits gets the actual value loaded. There are two most useful ways to fill the upper bits:&lt;/p&gt;&lt;p&gt;Zero extension is easy enough. As the name suggests, sign extension has something to do with signed values. It’s what happens when you convert a narrower signed value into a wider one.&lt;/p&gt;&lt;p&gt;(Keeping the rest of the bits unchanged isn’t a good option. It complicates the implementation for processor, especially of modern high performance design, to just write parts of a register. It would be easiest if the new value didn’t depend on the old value.)&lt;/p&gt;&lt;p&gt;For example, the signed byte value &lt;code&gt;-100&lt;/code&gt; is
&lt;code&gt;0x9c&lt;/code&gt;. Since the highest bit i.e. the sign bit of it is
&lt;code&gt;1&lt;/code&gt;, when we expand it into 32 bits we fill the high 24 bits
with one so the new value, &lt;code&gt;0xffff_ff9c&lt;/code&gt; still represents
&lt;code&gt;-100&lt;/code&gt;. This is sign extension.&lt;/p&gt;&lt;p&gt;If we want to convert the unsigned byte value &lt;code&gt;156&lt;/code&gt;, still
&lt;code&gt;0x9c&lt;/code&gt;, into an unsigned word, it would have to be
&lt;code&gt;0x0000_009c&lt;/code&gt; to preserve its value.&lt;/p&gt;&lt;p&gt;For bytes, the &lt;code&gt;lb&lt;/code&gt;
(“load byte”) instruction loads a byte and sign extends the result, and
the &lt;code&gt;lbu&lt;/code&gt; (“load byte
unsigned”) instruction does the same but zero extends the result. As
with &lt;code&gt;lw&lt;/code&gt;, the address is &lt;code&gt;rs1 + imm&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;lb rd, imm(rs1)
lbu rd, imm(rs1)&lt;/code&gt;
&lt;p&gt;Similarly for &lt;code&gt;lh&lt;/code&gt;
(“load half”) and &lt;code&gt;lhu&lt;/code&gt;
(“load half unsigned”), just for unsigned halfwords (two bytes each,
remember):&lt;/p&gt;&lt;code&gt;lh rd, imm(rs1)
lhu rd, imm(rs1)&lt;/code&gt;
&lt;p&gt;We can try out the sign extension and zero extension example from earlier.&lt;/p&gt;&lt;p&gt;Correspondingly, the &lt;code&gt;sb&lt;/code&gt; (“store byte”) and &lt;code&gt;sh&lt;/code&gt; (“store half”) do the
opposite of &lt;code&gt;lb&lt;/code&gt; and &lt;code&gt;lh&lt;/code&gt;, storing bytes and
halfwords to memory. Instead of widening small values to register size,
these take the lowest order bits from &lt;code&gt;rs1&lt;/code&gt; and stores it to
memory. (There’s no &lt;code&gt;sbu&lt;/code&gt; and &lt;code&gt;shu&lt;/code&gt; because stores
are narrowing instead of widening operations.)&lt;/p&gt;&lt;code&gt;sb rs2, imm(rs1)
sh rs2, imm(rs1)&lt;/code&gt;
&lt;p&gt;While we’re at it, here’s two more minor details. Firstly, endianness. While theoretically big endian RISC-V machines can exist, I’ve never seen one… and this emulator is little endian, meaning that the four bytes in a word are laid out in memory lowest first. So, &lt;code&gt;.byte 0x1, 0x2, 0x3, 0x4&lt;/code&gt; would be
the same as &lt;code&gt;.word 0x04030201&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Secondly, memory accesses should be aligned for maximum efficiency. This means that the address for a halfword/2byte should be a multiple of two, and the address for a word/4byte should be a multiple of four. Misaligned accesses (meaning, well, when the address is not aligned) may not work as expected.&lt;/p&gt;&lt;p&gt;For user programs running on a rich operating systems, misaligned accesses are supported but may be slow. In embedded application running on microcontrollers and such, it might not work at all.&lt;/p&gt;&lt;p&gt;This emulator supports misaligned memory accesses.&lt;/p&gt;&lt;p&gt;Now you can try translating some basic C code into RISC-V assembly. Functions are… still out of the question for now. Variables have to be either global or put in registers. What else are we missing…&lt;/p&gt;&lt;p&gt;Is it Hello World time? I think it’s Hello World time…&lt;/p&gt;&lt;p&gt;For a computer to not just be a space heater, we need some way for it to at least generate output and take input. While other architectures may have dedicated I/O instructions, RISC-V uses memory mapped I/O. Essentially, this means that loads and stores to special addresses communicate with other devices. They do not work like normal memory, and you should only use the supported widths to access them.&lt;/p&gt;&lt;p&gt;One output device we have here is at address &lt;code&gt;0x1000_0000&lt;/code&gt;. Any 32-bit writes to it appends the lowest 8
bits as a byte to the text in the output pane. In other words, a
&lt;code&gt;sw&lt;/code&gt; to that address writes a byte of output.&lt;/p&gt;&lt;p&gt;(The output pane uses UTF-8 encoding.)&lt;/p&gt;&lt;p&gt;Eh, close enough to greeting the entire world. We could refactor it a bit to use a loop, or whatever… Now that we think about it, how about going one step further and organize our code into some functions?&lt;/p&gt;&lt;p&gt;We already know how to call a function and return back. Namely, &lt;code&gt;jal&lt;/code&gt; calls a function, and &lt;code&gt;ret&lt;/code&gt; returns. Usually
functions take arguments, uses local variables, and returns results.
Since there’s no real difference between the 31 general purpose
registers, on account of them being, well, general purpose, we could
just use any of them as we wish. Usually though, there are some standard
conventions to follow&lt;/p&gt;&lt;p&gt;This whole time you probably have noticed that registers are listed with two names each, and indeed both work identically in assembly.&lt;/p&gt;&lt;p&gt;These register aliases are named after their uses:&lt;/p&gt;&lt;code&gt;s0&lt;/code&gt; through
&lt;code&gt;s11&lt;/code&gt; are saved registers&lt;code&gt;t0&lt;/code&gt; through
&lt;code&gt;t6&lt;/code&gt; are temporary registers&lt;code&gt;a0&lt;/code&gt; through
&lt;code&gt;a7&lt;/code&gt; are argument registers&lt;code&gt;zero&lt;/code&gt; is the,
well, zero register&lt;code&gt;ra&lt;/code&gt; is for the
return address, by convention, as we’ve seen&lt;code&gt;sp&lt;/code&gt; … we’ll talk
about &lt;code&gt;sp&lt;/code&gt; later&lt;code&gt;tp&lt;/code&gt;
and &lt;code&gt;gp&lt;/code&gt; is out of the
scope of this document.)&lt;p&gt;(Yeah it’s… all placed in a weird order. The reason is out of the scope of this tutorial.)&lt;/p&gt;&lt;p&gt;When you call a function, you put up to eight arguments in the… well, argument registers, in the order &lt;code&gt;a0&lt;/code&gt;, &lt;code&gt;a1&lt;/code&gt;, …,
&lt;code&gt;a7&lt;/code&gt;. After that you use &lt;code&gt;jal&lt;/code&gt; or something, which
puts the return address in &lt;code&gt;ra&lt;/code&gt;, and jumps to the
function.&lt;/p&gt;&lt;p&gt;Inside, the function, if it wishes to use the call-saved registers &lt;code&gt;s0&lt;/code&gt; through &lt;code&gt;s11&lt;/code&gt;, it must save their values at
the start of the function, and restore them before returning. The non
call-saved registers &lt;code&gt;a0&lt;/code&gt; through &lt;code&gt;a7&lt;/code&gt;,
&lt;code&gt;t0&lt;/code&gt; through &lt;code&gt;t6&lt;/code&gt; and &lt;code&gt;ra&lt;/code&gt; may be
modified without restoring their values.&lt;/p&gt;&lt;p&gt;When the called function is done, it would, as mentioned, restore any used call-saved registers, and jump back to the return address, resuming the calling code.&lt;/p&gt;&lt;p&gt;Here’s a basic-ish example:&lt;/p&gt;&lt;code&gt;int memcmp(const void *a, const void *b, size_t n)&lt;/code&gt;
&lt;p&gt;The parameter &lt;code&gt;a&lt;/code&gt; is passed in &lt;code&gt;a0&lt;/code&gt;,
&lt;code&gt;b&lt;/code&gt; is passed in &lt;code&gt;a1&lt;/code&gt;, and &lt;code&gt;n&lt;/code&gt; is
passed in &lt;code&gt;a2&lt;/code&gt;. The return value will be in &lt;code&gt;a0&lt;/code&gt;.
Here’s an implementation and test run:&lt;/p&gt;&lt;p&gt;Here’s a slightly better-organized “Hello World”, using a &lt;code&gt;puts&lt;/code&gt; function:&lt;/p&gt;&lt;p&gt;Although we can write some very basic functions now, there are still a few problems:&lt;/p&gt;&lt;code&gt;ra&lt;/code&gt; would be overwritten, and then you can’t return back
from the outer function anymore.&lt;p&gt;Clearly, both would require using memory somehow. We can feed two birds with one scone by using memory in a structured way: The stack.&lt;/p&gt;&lt;p&gt;Unlike some other architectures, the &lt;code&gt;sp&lt;/code&gt; register is not
really special in any way. But just like how we can designate how
&lt;code&gt;a0&lt;/code&gt; is used, we can have some conventions about how
&lt;code&gt;sp&lt;/code&gt; is supposed to be used:&lt;/p&gt;&lt;code&gt;sp&lt;/code&gt; needs to have the same value as when the
function was entered&lt;code&gt;sp&lt;/code&gt; always points to somewhere in an area of
memory called the “stack”, and it is always 16-byte
aligned.&lt;p&gt;And, for the stack itself:&lt;/p&gt;&lt;code&gt;address &amp;gt;= sp&lt;/code&gt; are “in the stack”, and
&lt;code&gt;address &amp;lt; sp&lt;/code&gt; are free space that the stack can grow
into.&lt;code&gt;sp&lt;/code&gt;, and deallocate space by incrementing &lt;code&gt;sp&lt;/code&gt;.
Of course, allocations and deallocations must be balanced properly.&lt;p&gt;An example is in order. Let’s say you have a function &lt;code&gt;foo&lt;/code&gt; which just calls &lt;code&gt;bar&lt;/code&gt; twice.&lt;/p&gt;&lt;code&gt;void foo() {
    bar();
    bar();
}&lt;/code&gt;
&lt;p&gt;Inside &lt;code&gt;foo&lt;/code&gt;, it would need to save the initial
&lt;code&gt;ra&lt;/code&gt;, so it can return back later. Even though
&lt;code&gt;ra&lt;/code&gt; takes only 4 bytes, &lt;code&gt;sp&lt;/code&gt; needs to be 16-byte
aligned at all times, so we round that up to 16 bytes. Decrementing
&lt;code&gt;sp&lt;/code&gt; by 16 we allocate the space:&lt;/p&gt;&lt;code&gt;foo:
    addi sp, sp, -16&lt;/code&gt;
&lt;p&gt;Now, in addition to all of the non call-saved registers, we have 16 bytes of scratch space at &lt;code&gt;sp&lt;/code&gt; through &lt;code&gt;sp + 15&lt;/code&gt;.
We can backup the value of &lt;code&gt;ra&lt;/code&gt; here&lt;/p&gt;&lt;code&gt;    ...
    sw ra, 0(sp)&lt;/code&gt;
&lt;p&gt;Then we just call &lt;code&gt;bar&lt;/code&gt; twice, which overwrites
&lt;code&gt;ra&lt;/code&gt;:&lt;/p&gt;&lt;code&gt;    ...
    jal bar
    jal bar&lt;/code&gt;
&lt;p&gt;At the end of the function, we just need to get back the return address, deallocate the stack space, and return. Although using any register would suffice for the return address, since it is the backed up value of &lt;code&gt;ra&lt;/code&gt; after all, we load it back to
&lt;code&gt;ra&lt;/code&gt;.&lt;/p&gt;&lt;code&gt;    ...
    lw ra, 0(sp)
    addi sp, sp, 16
    ret&lt;/code&gt;
&lt;p&gt;In a similar way you can save and restore the &lt;code&gt;s&lt;/code&gt;
(remember, call-saved) registers. Usually, the most convenient way to
manage this is to put values that need to be preserved across inner
function calls in the &lt;code&gt;s&lt;/code&gt; registers, and then add code at the
beginning to save them, and add code at the end to restore them.&lt;/p&gt;&lt;p&gt;Obligatory recursive Fibonacci time!&lt;/p&gt;&lt;p&gt;The algorithm should be fairly straightforward:&lt;/p&gt;&lt;code&gt;fibonacci(n) {
    if (n &amp;lt; 2) { return n; }
    else { return fib(n - 1) + fib(n - 2); }
}&lt;/code&gt;
&lt;p&gt;What’s worth noting here is the fairly symmetric pattern of saving registers at the start:&lt;/p&gt;&lt;code&gt;    addi sp, sp, -16
    sw ra, 0(sp)
    sw s0, 4(sp)
    sw s1, 8(sp)&lt;/code&gt;
&lt;p&gt;And restoring them at the end:&lt;/p&gt;&lt;code&gt;    lw ra, 0(sp)
    lw s0, 4(sp)
    lw s1, 8(sp)
    addi sp, sp, 16
    ret&lt;/code&gt;
&lt;p&gt;A little thing to also note that the &lt;code&gt;s&lt;/code&gt; registers are
only saved in the more complex branch, where as the simpler branch just
returns directly. This is also acceptable from a calling convention
perspective.&lt;/p&gt;&lt;p&gt;(Note: In the emulator, the &lt;code&gt;sp&lt;/code&gt; register is initialized
to an address that would be convenient for you for use as a stack, as a,
well, convenience.)&lt;/p&gt;&lt;p&gt;Let’s go back to this example:&lt;/p&gt;&lt;code&gt;    # void puts(const char *);
puts:
    lui t1, %hi(0x10000000)
puts_loop:
    lb t0, 0(a0)
    beq t0, zero, puts_done
    sw t0, 0(t1)
    addi a0, a0, 1
    j puts_loop

puts_done:
    ret&lt;/code&gt;
&lt;p&gt;Having to name things like &lt;code&gt;puts_loop&lt;/code&gt;,
&lt;code&gt;puts_done&lt;/code&gt; is a bit annoying. There’s a shorter way: numeric labels.&lt;/p&gt;&lt;p&gt;A numeric label is one with a name of a decimal number. To refer to a numeric label, use the number and a &lt;code&gt;f&lt;/code&gt; suffix for “forward”,
and &lt;code&gt;b&lt;/code&gt; for “backward”, and it will correspond to the nearest
numeric label with that number, searching forwards or backwards,
respectively.&lt;/p&gt;&lt;p&gt;So, the &lt;code&gt;puts&lt;/code&gt; example from earlier can be rewritten:&lt;/p&gt;&lt;code&gt;    # void puts(const char *);
puts:
    lui t1, %hi(0x10000000)
1:
    lb t0, 0(a0)
    beq t0, zero, 2f
    sw t0, 0(t1)
    addi a0, a0, 1
    j 1b

2:
    ret&lt;/code&gt;
&lt;p&gt;Yeah I don’t really like this syntax either, but it is what we’ve got.&lt;/p&gt;&lt;p&gt;Remember that oddball instruction I mentioned way back, &lt;code&gt;auipc&lt;/code&gt;?&lt;/p&gt;&lt;p&gt;I don’t know about your experience, but the first time I saw RISC-V disassembly, this is the one instruction that caught my eye. And this memory has stuck with me ever since. It’s a rather common occurrence in real RISC-V programs, and somehow I’ve been hiding it from you this whole time. If you take a sneak peek at the next section’s title, you’ll see how far we’ve come without &lt;code&gt;auipc&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;So what does it do?&lt;/p&gt;&lt;p&gt;The &lt;code&gt;auipc&lt;/code&gt; (“add
upper immediate to pc”) instruction is very similar to &lt;code&gt;lui&lt;/code&gt;.
Instead of setting &lt;code&gt;rd&lt;/code&gt; to &lt;code&gt;imm20 &amp;lt;&amp;lt; 12&lt;/code&gt;, it
sets it to &lt;code&gt;pc + (imm20 &amp;lt;&amp;lt; 12)&lt;/code&gt;, where &lt;code&gt;pc&lt;/code&gt;
is the address of the &lt;code&gt;auipc&lt;/code&gt; instruction itself.&lt;/p&gt;&lt;code&gt;auipc rd, imm20&lt;/code&gt;
&lt;p&gt;It works very similarly to &lt;code&gt;lui&lt;/code&gt;. You can think of them as
a pair: the “base” of &lt;code&gt;lui&lt;/code&gt; is &lt;code&gt;0&lt;/code&gt;, whereas the
“base” of &lt;code&gt;auipc&lt;/code&gt; is the address of the &lt;code&gt;auipc&lt;/code&gt;
instruction. So this code:&lt;/p&gt;&lt;code&gt;start:
    lui a0, 3
    addi a0, a0, 4&lt;/code&gt;
&lt;p&gt;Gives you &lt;code&gt;0x3004&lt;/code&gt;, whereas this:&lt;/p&gt;&lt;code&gt;start:
    auipc a0, 3
    addi a0, a0, 4&lt;/code&gt;
&lt;p&gt;Gives you &lt;code&gt;start + 0x3004&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Why would you need this? On modern systems, it’s often desirable to have machine code that can be moved around in address space. For example, a shared library i.e. dynamically linked library can be loaded into any program, at any address. It would be helpful if the machine code does not need to be patched every time. This is called position independent code (PIC).&lt;/p&gt;&lt;p&gt;Some instructions already exhibit position independence. For example, as mentioned earlier when we talked about using &lt;code&gt;lui&lt;/code&gt; and
&lt;code&gt;jalr&lt;/code&gt; as a pair, the branch instructions and
&lt;code&gt;jal&lt;/code&gt; are encoded, as with all RV32I instructions, into
32-bit instruction words, so they can’t possibly be able to encode every
possible address. Instead, the jump destination is &lt;code&gt;pc&lt;/code&gt; plus
some offset (&lt;code&gt;pc&lt;/code&gt; being, as before, the jump/branch
instruction itself), and the offset itself is encoded.&lt;/p&gt;&lt;p&gt;You can see these are three different instructions that jump to itself. Since the offset is &lt;code&gt;0&lt;/code&gt; in each case, the encoding is
the same. Use the “Dump” button to see for yourself.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;auipc&lt;/code&gt; instruction allows for very flexible position
independence. You can make arbitrary calculations based on the address
at which code is located. The immediate-bit operand mirroring
&lt;code&gt;lui&lt;/code&gt; means that it is well suited for two-instruction pairs,
just like &lt;code&gt;lui&lt;/code&gt;. These kind of “&lt;code&gt;pc&lt;/code&gt; plus
something” calculations are known as pc-relative
addressing.&lt;/p&gt;&lt;p&gt;The syntax for getting the assembler to generate the immediate values for pc-relative addressing a bit arcane but hear me out:&lt;/p&gt;&lt;p&gt;Like &lt;code&gt;%hi()&lt;/code&gt; and &lt;code&gt;%lo()&lt;/code&gt;, &lt;code&gt;%pcrel_hi()&lt;/code&gt; and &lt;code&gt;%pcrel_lo()&lt;/code&gt; gives you
the immediate values needed for pc-relative addressing. You pass the
label you want to address to &lt;code&gt;%pcrel_hi()&lt;/code&gt;, but pass a label
to the &lt;code&gt;auipc&lt;/code&gt; instruction to
&lt;code&gt;%pcrel_lo()&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Unlike &lt;code&gt;%lo()&lt;/code&gt;, We need the address of the
&lt;code&gt;auipc&lt;/code&gt; instruction itself to calculate the immediate value,
and this is why you need to pass a label to it. You don’t need to write
&lt;code&gt;foo&lt;/code&gt; again, since the assembler will look at the
&lt;code&gt;auipc&lt;/code&gt; instruction and see it’s supposed to be for
&lt;code&gt;foo&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;If you hate writing that, you can also use the convenience pseudoinstruction &lt;code&gt;la&lt;/code&gt;:&lt;/p&gt;&lt;code&gt;la rd, label&lt;/code&gt;
&lt;p&gt;Just like a &lt;code&gt;lui&lt;/code&gt; + &lt;code&gt;jalr&lt;/code&gt; pair, an
&lt;code&gt;auipc&lt;/code&gt; + &lt;code&gt;jalr&lt;/code&gt; can be used to jump to somewhere
farther away than one &lt;code&gt;jal&lt;/code&gt; can reach in position-independent
code.&lt;/p&gt;&lt;p&gt;One very common case is to call a function that might not be within reach of &lt;code&gt;jal&lt;/code&gt;. You can use the pseudoinstruction &lt;code&gt;call&lt;/code&gt; for that.&lt;/p&gt;&lt;code&gt;call label&lt;/code&gt;
&lt;p&gt;This expands to:&lt;/p&gt;&lt;code&gt;1:
    auipc ra, %pcrel_hi(label)
    jalr ra, %pcrel_lo(1b)(ra)&lt;/code&gt;
&lt;p&gt;Notice how &lt;code&gt;ra&lt;/code&gt; is used as a temporary register to store
the intermediate result, which is immediately overwritten by
&lt;code&gt;jalr&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;In fact, there really isn’t any reason to prefer &lt;code&gt;lui&lt;/code&gt;
over &lt;code&gt;auipc&lt;/code&gt; when using a label. This is why you if you
disassemble a real RISC-V program, you see it everywhere, even in
non-position-independent code.&lt;/p&gt;&lt;p&gt;Now would be a good time to take a break, since we’re ready to head into…&lt;/p&gt;&lt;p&gt;We’re going to write an extremely bare bones operating system.&lt;/p&gt;&lt;p&gt;One of the tasks an operating system performs is to control what programs can and cannot do. On RISC-V, the most basic of this control is implemented using privilege levels. RISC-V defines… let’s just say, several privilege levels, but we’re only going to use two here:&lt;/p&gt;&lt;p&gt;The lower the privilege level number goes, the less privileged that level is. Higher privilege levels treat lower privilege levels as generally completely unreliable and untrusted, and must isolate themselves from adversarial software and failures of lower privilege levels.&lt;/p&gt;&lt;p&gt;(However, we won’t be talking about all of the features that make this full isolation possible, and the emulator you’ve been seeing does not have enough features for that anyway. Therefore, the operating system we’ll be building will leave itself unprotected in various ways.)&lt;/p&gt;&lt;p&gt;The privilege levels are sometimes called “modes” for short. And, if that’s not short enough, we can shorten the level names themselves, ending up with M-mode and U-mode. All of the ways to refer to these privilege levels are interchangable.&lt;/p&gt;&lt;p&gt;When a RISC-V machine starts (This is known as “reset”), it begins execution in Machine mode. On a typical “embedded” system where only Machine mode and User mode are implemented, execution begins in the initialization code read from flash memory. This code can either perform what needs to be done itself, or it can be an operating system that manages some tasks, each executing in User mode.&lt;/p&gt;&lt;p&gt;The former design is used for simpler programs, and is analogous to the programs we’ve seen and run so far. The latter is more complicated. We’ll see the basics of how to achieve that soon.&lt;/p&gt;&lt;p&gt;The control and status registers (CSRs) deal with various features that are in some sense “special”. No I don’t have a better explanation of what “special” means.&lt;/p&gt;&lt;p&gt;Six instructions are available for manipulating CSRs.&lt;/p&gt;&lt;code&gt;csrrw rd, csr, rs1
csrrs rd, csr, rs1
csrrc rd, csr, rs1
csrrwi rd, csr, uimm5
csrrsi rd, csr, uimm5
csrrci rd, csr, uimm5&lt;/code&gt;
&lt;p&gt;To refer to a CSR in these instructions, use its name in assembly code. We’ll get to those in a bit.&lt;/p&gt;&lt;p&gt;The pattern works like this. Each of the instructions atomically reads the old value of the CSR, and writes the new value based on some operation performed on the old value and the last operand. The possible operations are:&lt;/p&gt;&lt;code&gt;csrrw&lt;/code&gt; (“CSR read
write”): &lt;code&gt;{ csr = rs1; rd = csr_old; }&lt;/code&gt;&lt;code&gt;csrrs&lt;/code&gt; (“CSR read
set”): &lt;code&gt;{ csr = csr | rs1; rd = csr_old; }&lt;/code&gt;&lt;code&gt;csrrc&lt;/code&gt; (“CSR read
clear”): &lt;code&gt;{ csr = csr &amp;amp; ~rs1; rd = csr_old; }&lt;/code&gt;&lt;p&gt;Where &lt;code&gt;&amp;amp;&lt;/code&gt;, &lt;code&gt;|&lt;/code&gt;, &lt;code&gt;~&lt;/code&gt; are bitwise
“and”, “or”, “not” respectively.&lt;/p&gt;&lt;p&gt;Specifically, note that &lt;code&gt;rd&lt;/code&gt; and &lt;code&gt;rs1&lt;/code&gt; can be
the same. For example, this instruction swaps the value in
&lt;code&gt;a0&lt;/code&gt; and &lt;code&gt;mscratch&lt;/code&gt;:&lt;/p&gt;&lt;code&gt;csrrw a0, mscratch, a0&lt;/code&gt;
&lt;p&gt;For the “immediate” variants, instead of a register, they take an “unsigned”/zero-extended 5-bit immediate value, i.e. an immediate value 0 through 31, inclusive. This is represented using &lt;code&gt;uimm5&lt;/code&gt; in
the assembly syntax description. The operation is the same
otherwise.&lt;/p&gt;&lt;code&gt;csrrwi&lt;/code&gt; (“CSR
read write immediate”): &lt;code&gt;{ csr = uimm5; rd = csr_old; }&lt;/code&gt;&lt;code&gt;csrrsi&lt;/code&gt; (“CSR
read set immediate”):
&lt;code&gt;{ csr = csr | uimm5; rd = csr_old; }&lt;/code&gt;&lt;code&gt;csrrci&lt;/code&gt; (“CSR
read clear immediate”):
&lt;code&gt;{ csr = csr &amp;amp; ~uimm5; rd = csr_old; }&lt;/code&gt;&lt;p&gt;The full feature set of these instructions are designed for manipulating bit fields in CSRs, which we will not be doing that much of in this tutorial. Still, this orthogonal design should be fairly intuitive to remember.&lt;/p&gt;&lt;p&gt;CSRs and fields in CSRs do not behave like general purpose registers: Some of them are read/write, some are read-only. Also, invalid values have special behaviors. We will touch on more details as we introduce the individual CSRs themselves, but one thing you may have noticed is that we don’t seem to have read-only CSR instructions. Read-only access is achieved using special cases in the instruction encodings:&lt;/p&gt;&lt;code&gt;csrrs&lt;/code&gt; and &lt;code&gt;csrrc&lt;/code&gt; do not write to the CSR if
&lt;code&gt;rs1&lt;/code&gt; is &lt;code&gt;x0&lt;/code&gt; (a.k.a. &lt;code&gt;zero&lt;/code&gt;) (Note
that just the value of &lt;code&gt;rs1&lt;/code&gt; being 0 is not enough.)&lt;code&gt;csrrsi&lt;/code&gt; and &lt;code&gt;csrrci&lt;/code&gt; do not write to the CSR
if &lt;code&gt;uimm5&lt;/code&gt; is 0.&lt;p&gt;While we’re at it:&lt;/p&gt;&lt;code&gt;csrrw&lt;/code&gt; and &lt;code&gt;csrrwi&lt;/code&gt; do not read the CSR if
&lt;code&gt;rd&lt;/code&gt; is &lt;code&gt;x0&lt;/code&gt; (a.k.a. &lt;code&gt;zero&lt;/code&gt;). (Note
that writing to &lt;code&gt;x0&lt;/code&gt; has no effect anyway, since it’s
constant 0.)&lt;p&gt;(No standard RISC-V CSR is write-only, or has side effects on read.)&lt;/p&gt;&lt;p&gt;As a convenience, the pseudoinstructions &lt;code&gt;csrr&lt;/code&gt; (“CSR read”) and &lt;code&gt;csrw&lt;/code&gt; (“CSR write”) are
available. &lt;code&gt;csrw csr, rs1&lt;/code&gt; expands to
&lt;code&gt;csrrw x0, csr, rs1&lt;/code&gt;. Meanwhile, &lt;code&gt;csrr rd, csr&lt;/code&gt;
expands specifically to &lt;code&gt;csrrs rd, csr, x0&lt;/code&gt;, just so we can
agree on an encoding.&lt;/p&gt;&lt;code&gt;csrw csr, rs1
csrr rd, csr&lt;/code&gt;
&lt;p&gt;You may have seen these CSR things if you’ve scrolled down on the register view. Yes, we’re finally getting into those.&lt;/p&gt;&lt;p&gt;An example of CSRs is counters. Two basic read-only counters are &lt;code&gt;cycle&lt;/code&gt; and
&lt;code&gt;instret&lt;/code&gt;. These
counters, well, count the number of “cycles” and “instructions
retired”. “Retired” is a technical term basically meaning “successfully
completed”.&lt;/p&gt;&lt;p&gt;Since a 32-bit counter will overflow quite fast, on RV32, the counters have “high” counterparts: &lt;code&gt;cycleh&lt;/code&gt; and &lt;code&gt;instreth&lt;/code&gt;. So, for
example, the full cycle counter has 64 bits, with the lower 32 bits in
the CSR &lt;code&gt;cycle&lt;/code&gt; and higher 32 bits in the CSR
&lt;code&gt;cycleh&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;While the emulator is running, scroll down on the register view panel, and on the bottom you’ll see the values of these counters. For convenience, they’re shown combined, so, &lt;code&gt;cycle = 0x11223344_55667788&lt;/code&gt; means &lt;code&gt;cycleh&lt;/code&gt; is
&lt;code&gt;0x11223344&lt;/code&gt;, and &lt;code&gt;cycle&lt;/code&gt; is
&lt;code&gt;0x55667788&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;On real hardware &lt;code&gt;cycle&lt;/code&gt; is coupled to the clock cycle. In
this emulator, every time you press “Step”, it counts as a cycle. When
you press “Run” and it starts, well, running, a certain number of cycles
happen periodically.&lt;/p&gt;&lt;p&gt;Let’s look at a really simple example:&lt;/p&gt;&lt;p&gt;It takes 4 cycles for this program to stop, but &lt;code&gt;instret&lt;/code&gt;
ends up at only 3 because the final &lt;code&gt;ebreak&lt;/code&gt; instruction
never actually completes.&lt;/p&gt;&lt;p&gt;(Do not confuse “retired” with “retried”.)&lt;/p&gt;&lt;p&gt;A program can read its own counters. For example, this fun little program loops until the cycle count is over 1000, assuming the low 32 bits doesn’t overflow before it has time to react:&lt;/p&gt;&lt;p&gt;Technically &lt;code&gt;cycle&lt;/code&gt; and &lt;code&gt;instret&lt;/code&gt; are not part
of the privileged architecture. The real fun begins now.&lt;/p&gt;&lt;p&gt;The emulator shows the current privilege level as &lt;code&gt;(priv)&lt;/code&gt;. It is in parentheses to remind you of a very
important fact:&lt;/p&gt;&lt;p&gt;There is no CSR for the current privilege level.&lt;/p&gt;&lt;p&gt;In general, it is not possible for a RISC-V program to learn what privilege level it’s in. This is required for the Popek and Goldberg conditions of virtualization to work, specifically because being able to read the current privilege level at a lower-than-maximum privilege level would be a “sensitive” but “unprivileged” instruction.&lt;/p&gt;&lt;p&gt;If you’re writing a program for a certain privilege level, you should simply assume that it is correctly being run at that privilege level.&lt;/p&gt;&lt;p&gt;A fundamental way an operating system does its job is through handling exceptions. In general, exceptions occur when there’s a problem with a specific instruction, and execution cannot continue. For example, since &lt;code&gt;cycle&lt;/code&gt; is a read-only CSR, writing to it is
an illegal instruction:&lt;/p&gt;&lt;p&gt;Since we have no exception handling in the program, we’ll have to inspect what happened manually in the emulator. Indeed, a lot has happened:&lt;/p&gt;&lt;p&gt;Firstly, this message tells you that an exception happened:&lt;/p&gt;&lt;code&gt;[ Exception: Illegal instruction (2) | tval = 0xc0001073, epc = 0x4000000c ]&lt;/code&gt;
&lt;p&gt;The same information is now also available in the CSRs, as follows:&lt;/p&gt;&lt;code&gt;mcause&lt;/code&gt; (“M-mode
trap cause”): The kind of exception.&lt;code&gt;mepc&lt;/code&gt; (“M-mode
exception pc”): The address of the instruction that caused the
exception.&lt;code&gt;mtval&lt;/code&gt; (“M-mode
trap value”): Extra information about the exception.&lt;code&gt;mstatus&lt;/code&gt; (“M-mode
status”): It is set to &lt;code&gt;0x00001800&lt;/code&gt;. The two bits in the
middle, &lt;code&gt;mstatus[12:11]&lt;/code&gt; (In C syntax,
&lt;code&gt;(mstatus &amp;gt;&amp;gt; 11) &amp;amp; 0x3&lt;/code&gt;) is the
&lt;code&gt;mstatus.MPP&lt;/code&gt; (“M-mode previous privilege level”) field,
which contains 3, meaning that the exception occurred while running in
Machine mode.&lt;p&gt;When an exception happens, in addition to recording the exception information in these CSR fields, &lt;code&gt;pc&lt;/code&gt; is set to
&lt;code&gt;mtvec&lt;/code&gt;, which is supposed to be the handler address. Let’s
write ourselves an exception handler that simply prints a message and
stops the emulator, and see the handling in action:&lt;/p&gt;&lt;p&gt;Yeah it just prints &lt;code&gt;Oh no!&lt;/code&gt; on error. Baby steps…&lt;/p&gt;&lt;p&gt;The checkboxes “Pause on exc.” and “Print on exc.” control whether the emulator should pause or print a message, respectively, when an exception occurs. You can uncheck those if you want the exception handler set in the program to run without interference.&lt;/p&gt;&lt;p&gt;(Another case that will cause a jump to &lt;code&gt;mtvec&lt;/code&gt; is interrupts. However, this feature
does not exist in the emulator. The two cases are collectively called
traps.)&lt;/p&gt;&lt;p&gt;These are the exceptions possible in this emulator, and their respective numeric codes:&lt;/p&gt;&lt;table&gt;&lt;row span="2"&gt;&lt;cell role="head"&gt;Description&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;0&lt;/cell&gt;&lt;cell&gt;Instruction address misaligned&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;1&lt;/cell&gt;&lt;cell&gt;Instruction access fault&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;2&lt;/cell&gt;&lt;cell&gt;Illegal instruction&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;3&lt;/cell&gt;&lt;cell&gt;Breakpoint&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;5&lt;/cell&gt;&lt;cell&gt;Load access fault&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;7&lt;/cell&gt;&lt;cell&gt;Store/AMO access fault&lt;/cell&gt;&lt;/row&gt;&lt;row span="2"&gt;&lt;cell&gt;8&lt;/cell&gt;&lt;cell&gt;Environment call from User mode&lt;/cell&gt;&lt;/row&gt;&lt;row&gt;&lt;cell&gt;11&lt;/cell&gt;&lt;cell&gt;Environment call from Machine mode&lt;/cell&gt;&lt;/row&gt;&lt;/table&gt;&lt;p&gt;“Instruction address misaligned” happens when attempting to jump to an instruction that is not 4-byte aligned. The exception happens on the jump or branch instruction, not the target.&lt;/p&gt;&lt;p&gt;“Load access fault” and “Store/AMO access fault” happens when accessing an invalid memory address, or accessing a memory address in an invalid way.&lt;/p&gt;&lt;p&gt;(“AMO” stands for “atomic memory operation”, which we will not talk about and is not featured in the emulator.)&lt;/p&gt;&lt;p&gt;“Illegal instruction” happens not only in the self explanatory way when an invalid instruction is executed, but also when accessing a CSR in an invalid way, or from too low a privilege level.&lt;/p&gt;&lt;p&gt;“Breakpoint”, “Environment call from User mode” and “Environment call from Machine mode” will be explained in a future section.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;mret&lt;/code&gt; (“M-mode
return”) instruction performs the reverse of part of what happens when
an exception occurs. To be precise, what happens is:&lt;/p&gt;&lt;code&gt;mstatus.MPP&lt;/code&gt;&lt;code&gt;mstatus.MPP&lt;/code&gt; is set to 0&lt;code&gt;pc&lt;/code&gt; is set to &lt;code&gt;mepc&lt;/code&gt;&lt;p&gt;(You can think of the privilege mode bits as shifting in a chain &lt;code&gt;0 → MPP → priv&lt;/code&gt;. And, to be even more precise,
&lt;code&gt;mstatus.MPP&lt;/code&gt; is set to the lowest supported privilege mode
since it’s not supposed to contain unsupported modes.)&lt;/p&gt;&lt;p&gt;&lt;code&gt;mret&lt;/code&gt; takes no operands, so the assembly syntax is
simply:&lt;/p&gt;&lt;code&gt;mret&lt;/code&gt;
&lt;p&gt;If we do &lt;code&gt;mret&lt;/code&gt; after getting an exception, then we simply
go back to retrying the same instruction again. This is useful for more
featureful implementations, where for example, after handling a page
fault the correct course of action is to retry the faulting
instruction.&lt;/p&gt;&lt;p&gt;However, &lt;code&gt;mstatus&lt;/code&gt; and &lt;code&gt;mepc&lt;/code&gt; are also
writable. This gives us more flexibility in the use of
&lt;code&gt;mret&lt;/code&gt;. As an analogy, the same &lt;code&gt;jr&lt;/code&gt; instruction
(really &lt;code&gt;jalr&lt;/code&gt; instruction) can be used to return from a
call, and also can be used to jump to any address. Similarly,
&lt;code&gt;mret&lt;/code&gt; not only lets us return from an exception, but also
lets us jump to any address and switch to any privilege
level.&lt;/p&gt;&lt;p&gt;Even though &lt;code&gt;mret&lt;/code&gt; is named “return”, it is in fact the
only way to lower the privilege level to enter User mode.
Here’s an example of entering User mode, with a User mode program that
does something bad:&lt;/p&gt;&lt;p&gt;As you can see, after we enter User mode, all of the CSRs used for exception handling become completely inaccessible, not even readable. As with writing a read-only CSR, accessing an CSR without permission also causes an illegal instruction exception.&lt;/p&gt;&lt;p&gt;Moreover, when an exception happens, we go back to Machine mode, so the exception handler runs in Machine mode. Here the handler does nothing except stopping the emulator.&lt;/p&gt;&lt;p&gt;Sometimes, a program may wish to intentionally cause an exception. There are several well-defined way to do that:&lt;/p&gt;&lt;code&gt;unimp&lt;/code&gt; has the same encoding
as &lt;code&gt;csrrw zero, cycle, zero&lt;/code&gt;, and it is the canonical RV32I
illegal instruction. It causes causes an “Illegal instruction”
exception.&lt;code&gt;ebreak&lt;/code&gt; causes a
“Breakpoint” exception&lt;code&gt;ecall&lt;/code&gt; causes an
“Environment call from User mode” exception when executed in User mode,
and “Environment call from Machine mode” exception when executed in
Machine mode.&lt;p&gt;Give those exceptions a try here:&lt;/p&gt;&lt;p&gt;As the names suggest, &lt;code&gt;ebreak&lt;/code&gt; is used for debugging
breakpoints. As a special case, in this emulator &lt;code&gt;ebreak&lt;/code&gt; in
Machine mode stops the emulator. You can think of it as the emulator
being a debugger, and the debugger catching the breakpoint.&lt;/p&gt;&lt;p&gt;&lt;code&gt;unimp&lt;/code&gt; can be used to intentionally crash a program upon
detection of some unrecoverable error.&lt;/p&gt;&lt;p&gt;Meanwhile, &lt;code&gt;ecall&lt;/code&gt; is used for things like system calls.
“Environment call from User mode” is a distinct exception cause code to
make it easy to check specifically for this case.&lt;/p&gt;&lt;p&gt;One thing that you would want in your trap handler is to not trust or disturb any general purpose registers in the code that the trap occurred in, unless you intentionally want to do so, for example to return a value from a system call. So you’d want to save all the registers to memory, before doing anything else. However, accessing memory requires a general purpose register.&lt;/p&gt;&lt;p&gt;The &lt;code&gt;mscratch&lt;/code&gt;
(“M-mode scratch”) CSR can help with this. This register, unlike all the
others, have no special functionality. It can hold any 32-bit value.
However, like all the other M-mode CSRs, it can only be accessed in
Machine mode. User mode code cannot change the value of it.&lt;/p&gt;&lt;p&gt;So for example, you can stash the operating system stack pointer in &lt;code&gt;mscratch&lt;/code&gt; before switching to User mode, and it will stay in
&lt;code&gt;mscratch&lt;/code&gt; untouched in User mode. At the top of the handler,
&lt;code&gt;csrrw sp, mscratch, sp&lt;/code&gt; to swap from the user stack pointer
to the operating system stack pointer.&lt;/p&gt;&lt;code&gt;handler:
    csrrw sp, mscratch, sp
    # Save registers except sp
    csrr t0, mscratch
    # t0 = user sp, save it
    # Save user pc
    ...&lt;/code&gt;
&lt;p&gt;And, to restore:&lt;/p&gt;&lt;code&gt;    lw t0, ... # Load user pc
    csrw mepc, t0
    lw t0, ... # Load user sp
    csrw mscratch, t0
    # Restore registers except sp
    csrrw sp, mscratch, sp
    mret&lt;/code&gt;
&lt;p&gt;We’ll see the full code for this in the following section.&lt;/p&gt;&lt;p&gt;We have enough of to write a very very bare bones operating system. It will support these features:&lt;/p&gt;&lt;code&gt;a7 = 1&lt;/code&gt;: putchar, &lt;code&gt;a0&lt;/code&gt; is the byte to
write&lt;code&gt;a7 = 2&lt;/code&gt;: exit&lt;p&gt;We design the exception handling as follows:&lt;/p&gt;&lt;code&gt;mscratch&lt;/code&gt; is 0.&lt;code&gt;mscratch&lt;/code&gt; points to the operating
system stack pointer&lt;code&gt;mscratch&lt;/code&gt; is 0, the exception came
from M-mode, which we cannot handle, so we report a fatal
exception.&lt;code&gt;trap_main&lt;/code&gt;, which manipulates
U-mode registers in memory&lt;code&gt;trap_main&lt;/code&gt;, we restore registers from memory,
deallocate the space from the stack, and go back to U-mode, as outlined
in the previous section.&lt;p&gt;The structure to save registers in is fairly simple:&lt;/p&gt;&lt;code&gt;struct regs {
  unsigned long pc;
  unsigned long ra; // x1
  unsigned long sp; // x2
  ...
  unsigned long t6; // x31
};&lt;/code&gt;
&lt;p&gt;Basically you can think of it as an array where element 0 is &lt;code&gt;pc&lt;/code&gt;, and elements 1 through 31 are registers x1 through
x31.&lt;/p&gt;&lt;p&gt;Inside &lt;code&gt;trap_main&lt;/code&gt;, we check &lt;code&gt;mcause&lt;/code&gt; to see if
it’s a system call. If it is, we dispatch based on &lt;code&gt;a7&lt;/code&gt;. If
it’s not, we report an exception from U-mode.&lt;/p&gt;&lt;p&gt;At the beginning, we simply initialize the &lt;code&gt;struct regs&lt;/code&gt;
structure on stack, initialize user &lt;code&gt;sp&lt;/code&gt; and &lt;code&gt;pc&lt;/code&gt;
in it, and jump to the same code that handles returning to U-mode.&lt;/p&gt;&lt;p&gt;Here’s the assembly code with User mode code at the bottom. You may want to uncheck “Pause on exc.” and “Print on exc.” for convenience.&lt;/p&gt;&lt;p&gt;Do not be too hard on yourself if you have trouble understanding the code fully. This is, after all, a fairly complete OS kernel entry and exit implementation. Really, the most important part I’m showing you here is that it is possible.&lt;/p&gt;&lt;p&gt;For reference, here’s some of the OS code in pseudo-C.&lt;/p&gt;&lt;code&gt;void trap_main(struct regs *regs) {
    unsigned long cause = csr_read(mcause);
    if (cause != 8)
        do_bad_exception(regs, cause);

    # Call do_syscall with args from ecall
    unsigned long ret = do_syscall(regs-&amp;gt;a0, ..., regs-&amp;gt;a7);
    regs-&amp;gt;a0 = ret;

    // Bump user pc by 4, skip over ecall instruction
    regs-&amp;gt;pc += 4;
}

unsigned long do_syscall(
    unsigned long a0,
    ...,
    unsigned long a7
) {
    if (a7 == 1)
        sys_putchar(a0);
    else if (a7 == 8)
        sys_exit();
    else
        return -1;
}

unsigned long sys_putchar(char a) {
    kputchar(a);
    return 0;
}

[[noreturn]]
unsigned long sys_exit(char a) {
    ebreak();
}

[[noreturn]]
void do_bad_exception(struct regs *regs, unsigned long cause) {
    kputs("Exception 0x");
    kputchar(hex_chars[cause]);
    kputchar('\n');
    ebreak();
}

[[noreturn]]
void fatal() {
    kputs("Fatal exception\n");
    ebreak();
}

void kputs(const char *str) {
    while (*str) {
        u32 val = (u32)*str;
        writel(0x10000000, val); // MMIO write
        str ++;
    }
}

void kputchar(char c) {
    u32 val = (u32)c;
    writel(0x10000000, val); // MMIO write
}&lt;/code&gt;
&lt;p&gt;And here’s the user code, again in pseudo C:&lt;/p&gt;&lt;code&gt;[[noreturn]]
void user_entry() {
    puts(...);
    exit();
}

void puts(const char *str) {
    while (*str) {
        putchar(*str);
        str ++;
    }
}

void putchar(char c) {
    ecall(a0 = c, a7 = 1);
}

void exit() {
    ecall(a7 = 2);
}&lt;/code&gt;
&lt;p&gt;As long as this tutorial is, some simplifications have been made. Here are some of the most egregious lies and omissions, compared to the “real” RISC-V architecture and “real” RISC-V assembly code found in the world:&lt;/p&gt;&lt;code&gt;li&lt;/code&gt; pseudoinstruction should support a wider range
of constants.&lt;code&gt;mstatus&lt;/code&gt; is a lot more complicated than what I have
described.&lt;code&gt;%hi&lt;/code&gt;, &lt;code&gt;%lo&lt;/code&gt;, &lt;code&gt;%pcrel_hi&lt;/code&gt;,
&lt;code&gt;%pcrel_lo&lt;/code&gt; are more complicated than what I have
described.&lt;p&gt;There are also very important topics that are common or even ubiquitous in the RISC-V world, but I chose not to cover:&lt;/p&gt;&lt;p&gt;However, what I’ve taught you should be more than enough to get you started into learning more on your own, or with further materials.&lt;/p&gt;&lt;p&gt;Here are some references and tutorials I would personally recommend, if you’re looking to get further into RISC-V low-level development&lt;/p&gt;&lt;p&gt;Other useful resources that I have used while writing this tutorial:&lt;/p&gt;&lt;code&gt;arch/riscv/kernel/entry.S&lt;/code&gt; from Linux https://elixir.bootlin.com/linux/latest/source/arch/riscv/kernel/entry.S&lt;p&gt;Thanks to these folks for UI design help and content suggestions:&lt;/p&gt;&lt;p&gt;And thanks to you for coming along with me on this journey. Come on over to https://github.com/dramforever/easyriscv if you have suggestions, grievances, or just want to share some thoughts.&lt;/p&gt;&lt;p&gt;This tutorial is provided under the CC0 license. To the maximum extent permitted by law, this tutorial is dedicated to the public domain.&lt;/p&gt;&lt;p&gt;The associated code in the repository is provided under, of your choosing, either the CC0 license or the 0-clause “BSD” license.&lt;/p&gt;&lt;code&gt;add&lt;/code&gt;&lt;code&gt;addi&lt;/code&gt;&lt;code&gt;and&lt;/code&gt;&lt;code&gt;andi&lt;/code&gt;&lt;code&gt;auipc&lt;/code&gt;&lt;code&gt;beq&lt;/code&gt;&lt;code&gt;bge&lt;/code&gt;&lt;code&gt;bgeu&lt;/code&gt;&lt;code&gt;blt&lt;/code&gt;&lt;code&gt;bltu&lt;/code&gt;&lt;code&gt;bne&lt;/code&gt;&lt;code&gt;call&lt;/code&gt;&lt;code&gt;csrr&lt;/code&gt;&lt;code&gt;csrrc&lt;/code&gt;&lt;code&gt;csrrci&lt;/code&gt;&lt;code&gt;csrrs&lt;/code&gt;&lt;code&gt;csrrsi&lt;/code&gt;&lt;code&gt;csrrw&lt;/code&gt;&lt;code&gt;csrrwi&lt;/code&gt;&lt;code&gt;csrw&lt;/code&gt;&lt;code&gt;ebreak&lt;/code&gt;&lt;code&gt;ecall&lt;/code&gt;&lt;code&gt;j&lt;/code&gt;&lt;code&gt;jal&lt;/code&gt;&lt;code&gt;jalr&lt;/code&gt;&lt;code&gt;jr&lt;/code&gt;&lt;code&gt;la&lt;/code&gt;&lt;code&gt;lb&lt;/code&gt;&lt;code&gt;lbu&lt;/code&gt;&lt;code&gt;lh&lt;/code&gt;&lt;code&gt;lhu&lt;/code&gt;&lt;code&gt;li&lt;/code&gt;&lt;code&gt;lui&lt;/code&gt;&lt;code&gt;lw&lt;/code&gt;&lt;code&gt;mret&lt;/code&gt;&lt;code&gt;mv&lt;/code&gt;&lt;code&gt;or&lt;/code&gt;&lt;code&gt;ori&lt;/code&gt;&lt;code&gt;ret&lt;/code&gt;&lt;code&gt;sb&lt;/code&gt;&lt;code&gt;sh&lt;/code&gt;&lt;code&gt;sll&lt;/code&gt;&lt;code&gt;slli&lt;/code&gt;&lt;code&gt;slt&lt;/code&gt;&lt;code&gt;slti&lt;/code&gt;&lt;code&gt;sltiu&lt;/code&gt;&lt;code&gt;sltu&lt;/code&gt;&lt;code&gt;sra&lt;/code&gt;&lt;code&gt;srai&lt;/code&gt;&lt;code&gt;srl&lt;/code&gt;&lt;code&gt;srli&lt;/code&gt;&lt;code&gt;sub&lt;/code&gt;&lt;code&gt;sw&lt;/code&gt;&lt;code&gt;unimp&lt;/code&gt;&lt;code&gt;xor&lt;/code&gt;&lt;code&gt;xori&lt;/code&gt;&lt;code&gt;imm&lt;/code&gt;&lt;code&gt;pc&lt;/code&gt;&lt;code&gt;rd&lt;/code&gt;&lt;code&gt;rs1&lt;/code&gt;&lt;code&gt;rs2&lt;/code&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45726192</guid><pubDate>Mon, 27 Oct 2025 20:57:12 +0000</pubDate></item><item><title>Complete Digitization of Leonardo da Vinci's Codex Atlanticus</title><link>https://www.openculture.com/2025/10/digitization-of-leonardo-da-vincis-codex-atlanticus.html</link><description>&lt;doc fingerprint="3a053512a6ea9c9c"&gt;
  &lt;main&gt;
    &lt;p&gt;No historical figure better fits the definition of “Renaissance man” than Leonardo da Vinci, but that term has become so overused as to become misleading. We use it to express mild surprise that one person could use both their left and right hemispheres equally well. But in Leonardo’s day, people did not think of themselves as having two brains, and the worlds of art and science were not so far apart as they are now.&lt;/p&gt;
    &lt;p&gt;That Leonardo was able to combine fine arts and fine engineering may not have been overly surprising to his contemporaries, though he was an extraordinarily brilliant example of the phenomenon. The more we learn about him, the more we see how closely related the two pursuits were in his mind.&lt;/p&gt;
    &lt;p&gt;He approached everything he did as a technician. The uncanny effects he achieved in painting were the result, as in so much Renaissance art, of mathematical precision, careful study, and firsthand observation.&lt;/p&gt;
    &lt;p&gt;His artistic projects were also experiments. Some of them failed, as most experiments do, and some he abandoned, as he did so many scientific projects. No matter what, he never undertook anything, whether mechanical, anatomical, or artistic, without careful planning and design, as his copious notebooks testify. As more and more of those notebooks have become available online, both Renaissance scholars and laypeople alike have learned considerably more about how Leonardo’s mind worked.&lt;/p&gt;
    &lt;p&gt;First, there was the Codex Arundel. It is, writes Jonathan Jones at The Guardian, “the living record of a universal mind”—but also, specifically, the mind of a “technophile.” Then, the Victoria and Albert National Art Library announced the digitization of Codex Forster, which contains some of Leonardo’s earliest notebooks. Now The Visual Agency has released a complete digitization of Leonardo’s Codex Atlanticus, a huge collection of the artist, engineer, and inventor’s finely-illustrated notes.&lt;/p&gt;
    &lt;p&gt;“No other collection counts more original papers written by Leonardo,” notes Google. The Codex Atlanticus “consists of 1119 papers, most of them drawn or written on both sides.” Its name has “nothing to do with the Atlantic Ocean, or with some esoteric, mysterious content hidden in its pages.” The 12-volume collection acquired its title because the drawings and writings were bound with the same size paper that was used for making atlases. Gathered in the 16th century by sculptor Pompeo Leoni, the papers descended from Leonardo’s close student Giovan Francesco Melzi, who was entrusted with them after his teacher’s death.&lt;/p&gt;
    &lt;p&gt;The history of the Codex itself makes for a fascinating narrative, much of which you can learn at Google’s Ten Key Facts slideshow. The notebooks span Leonardo’s career, from 1478, when he was “still working in his native Tuscany, to 1519, when he died in France.” The collection was taken from Milan by Napoleon and brought to France, where it remained in the Louvre until 1815, when the Congress of Vienna ruled that all artworks stolen by the former Emperor be returned. (The emissary tasked with returning the Codex could not decipher Leonardo’s mirror writing and took it for Chinese.)&lt;/p&gt;
    &lt;p&gt;The Codex contains not only engineering diagrams, anatomy studies, and artistic sketches, but also fables written by Leonardo, inspired by Florentine literature. And it features Leonardo’s famed “CV,” a letter he wrote to the Duke of Milan describing in nine points his qualifications for the post of military engineer. In point four, he writes, “I still have very convenient bombing methods that are easy to transport; they launch stones and similar such in a tempest full of smoke to frighten the enemy, causing great damage and confusion.”&lt;/p&gt;
    &lt;p&gt;As if in illustration, elsewhere in the Codex, the drawing above appears, “one of the most celebrated” of the collection.” It was “shown to traveling foreigners visiting the Ambrosiana [the Biblioteca Ambrosiana in Milan, where the Codex resides] since the 18th century, usually arousing much amazement.” It is still amazing, especially if we consider the possibility that its artistry might have been something of a byproduct for its creator, whose primary motivation seems to have been solving technical problems—in the most elegant ways imaginable.&lt;/p&gt;
    &lt;p&gt;See the complete digitization of Leonardo’s Codex Atlanticus here.&lt;/p&gt;
    &lt;p&gt;Note: An earlier version of this post appeared on our site in 2019.&lt;/p&gt;
    &lt;p&gt;Related Content:&lt;/p&gt;
    &lt;p&gt;How Leonardo da Vinci Drew an Accurate Satellite Map of an Italian City (1502)&lt;/p&gt;
    &lt;p&gt;Leonardo da Vinci’s Handwritten Resume (Circa 1482)&lt;/p&gt;
    &lt;p&gt;Leonardo Da Vinci’s To-Do List from 1490: The Plan of a Renaissance Man&lt;/p&gt;
    &lt;p&gt;Josh Jones is a writer and musician based in Durham, NC.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45728975</guid><pubDate>Tue, 28 Oct 2025 03:32:09 +0000</pubDate></item><item><title>Geometry and Physics of Wrinkling (2003) [pdf]</title><link>https://softmath.seas.harvard.edu/wp-content/uploads/2019/10/2003-03.pdf</link><description></description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45730607</guid><pubDate>Tue, 28 Oct 2025 09:02:47 +0000</pubDate></item><item><title>Show HN: Bash Screensavers</title><link>https://github.com/attogram/bash-screensavers</link><description>&lt;doc fingerprint="2d05b3369bc42e9d"&gt;
  &lt;main&gt;
    &lt;p&gt;Tired of your boring old terminal? Wish you could spice up your command line with some animated ASCII art? Well, you've come to the right place!&lt;/p&gt;
    &lt;p&gt;Welcome to Bash Screensavers, a collection of screensavers written entirely in &lt;code&gt;bash&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;Because who needs fancy graphics cards and complex rendering engines when you have &lt;code&gt;echo&lt;/code&gt;, &lt;code&gt;sleep&lt;/code&gt;, and a little bit of &lt;code&gt;tput&lt;/code&gt; magic?&lt;/p&gt;
    &lt;p&gt;Gallery - Quickstart - Contributing - Spotlight - Jury - Library - Chat&lt;/p&gt;
    &lt;p&gt;The Gallery README has info on all the screensavers.&lt;/p&gt;
    &lt;code&gt;git clone https://github.com/attogram/bash-screensavers.git
cd bash-screensavers
./screensaver.sh&lt;/code&gt;
    &lt;code&gt;Bash Screensavers v0.0.27 (Mystic Shine)

  1 . alpha        - random colorful pixels
  2 . bouncing     - bouncing 'O' madness
  3 . cutesaver    - infinite loop of cuteness
  4 . fireworks    - Ooh! Aah! Pretty lights!
  5 . life         - cellular automata
  6 . matrix       - the matrix has you
  7 . pipes        - an endless pipe maze
  8 . rain         - soothing, gentle rain
  9 . speaky       - dramatic talking screensaver
  10. stars        - twinkling starfield
  11. tunnel       - fly into the digital tunnel
  12. vibe         - vibe coding

(Press ^C to exit)

Choose your screensaver:
&lt;/code&gt;
    &lt;p&gt;
      &lt;code&gt;./screensaver.sh&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;./screensaver.sh name&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;./screensaver.sh number&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;./screensaver.sh -r&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;./screensaver.sh -h&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;./screensaver.sh -v&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;code&gt;./gallery/name/name.sh&lt;/code&gt;
    &lt;/p&gt;
    &lt;p&gt;We welcome contributions!&lt;/p&gt;
    &lt;p&gt;For the nitty-gritty, see CONTRIBUTING.md.&lt;/p&gt;
    &lt;p&gt;Vibe coders and AI Assistants are welcome to join the party.&lt;/p&gt;
    &lt;p&gt;The spotlight is a set of curator tools for marketing and publicity fluff, like pretty previews of all the screensavers.&lt;/p&gt;
    &lt;p&gt;Read the Spotlight Manual for details.&lt;/p&gt;
    &lt;p&gt;The jury makes sure the gallery is up-to-snuff.&lt;/p&gt;
    &lt;p&gt;They test everything. They're a bit batsy about it.&lt;/p&gt;
    &lt;p&gt;See the Jury Criteria for the rules.&lt;/p&gt;
    &lt;p&gt;This directory contains screensavers that are not yet ready for general use.&lt;/p&gt;
    &lt;p&gt;They may be broken, incomplete, or just not up to the quality standards of the main gallery.&lt;/p&gt;
    &lt;p&gt;Feel free to experiment with them, but use them at your own risk!&lt;/p&gt;
    &lt;p&gt;The library is filled with stuff about visualizations and voices.&lt;/p&gt;
    &lt;p&gt;Read the Library Index to get started.&lt;/p&gt;
    &lt;p&gt;Have questions, ideas, or just want to chat?&lt;/p&gt;
    &lt;p&gt;Made with ❤️ and a lot of bash.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45731366</guid><pubDate>Tue, 28 Oct 2025 11:12:32 +0000</pubDate></item><item><title>The next chapter of the Microsoft–OpenAI partnership</title><link>https://openai.com/index/next-chapter-of-microsoft-openai-partnership/</link><description>&lt;doc fingerprint="ad180c98122ccbd8"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;The next chapter of the Microsoft–OpenAI partnership&lt;/head&gt;
    &lt;p&gt;Since 2019, Microsoft and OpenAI have shared a vision to advance artificial intelligence responsibly and make its benefits broadly accessible. What began as an investment in a research organization has grown into one of the most successful partnerships in our industry. As we enter the next phase of this partnership, we’ve signed a new definitive agreement that builds on our foundation, strengthens our partnership, and sets the stage for long-term success for both organizations.&lt;/p&gt;
    &lt;p&gt;First, Microsoft supports the OpenAI board moving forward with formation of a public benefit corporation (PBC) and recapitalization. Following the recapitalization, Microsoft holds an investment in OpenAI Group PBC valued at approximately $135 billion, representing roughly 27 percent on an as-converted diluted basis, inclusive of all owners—employees, investors, and the OpenAI Foundation. Excluding the impact of OpenAI’s recent funding rounds, Microsoft held a 32.5 percent stake on an as-converted basis in the OpenAI for-profit.&lt;/p&gt;
    &lt;p&gt;The agreement preserves key elements that have fueled this successful partnership—meaning OpenAI remains Microsoft’s frontier model partner and Microsoft continues to have exclusive IP rights and Azure API exclusivity until Artificial General Intelligence (AGI).&lt;/p&gt;
    &lt;p&gt;It also refines and adds new provisions that enable each company to independently continue advancing innovation and growth.&lt;/p&gt;
    &lt;p&gt;What has evolved:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Once AGI is declared by OpenAI, that declaration will now be verified by an independent expert panel.&lt;/item&gt;
      &lt;item&gt;Microsoft’s IP rights for both models and products are extended through 2032 and now includes models post-AGI, with appropriate safety guardrails.&lt;/item&gt;
      &lt;item&gt;Microsoft’s IP rights to research, defined as the confidential methods used in the development of models and systems, will remain until either the expert panel verifies AGI or through 2030, whichever is first. Research IP includes, for example, models intended for internal deployment or research only. Beyond that, research IP does not include model architecture, model weights, inference code, finetuning code, and any IP related to data center hardware and software; and Microsoft retains these non-Research IP rights.&lt;/item&gt;
      &lt;item&gt;Microsoft’s IP rights now exclude OpenAI’s consumer hardware.&lt;/item&gt;
      &lt;item&gt;OpenAI can now jointly develop some products with third parties. API products developed with third parties will be exclusive to Azure. Non-API products may be served on any cloud provider.&lt;/item&gt;
      &lt;item&gt;Microsoft can now independently pursue AGI alone or in partnership with third parties.&lt;/item&gt;
      &lt;item&gt;If Microsoft uses OpenAI’s IP to develop AGI, prior to AGI being declared, the models will be subject to compute thresholds; those thresholds are significantly larger than the size of systems used to train leading models today.&lt;/item&gt;
      &lt;item&gt;The revenue share agreement remains until the expert panel verifies AGI, though payments will be made over a longer period of time.&lt;/item&gt;
      &lt;item&gt;OpenAI has contracted to purchase an incremental $250B of Azure services, and Microsoft will no longer have a right of first refusal to be OpenAI’s compute provider.&lt;/item&gt;
      &lt;item&gt;OpenAI can now provide API access to US government national security customers, regardless of the cloud provider.&lt;/item&gt;
      &lt;item&gt;OpenAI is now able to release open weight models that meet requisite capability criteria.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;As we step into this next chapter of our partnership, both companies are better positioned than ever to continue building great products that meet real-world needs, and create new opportunity for everyone and every business.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45732350</guid><pubDate>Tue, 28 Oct 2025 13:05:40 +0000</pubDate></item><item><title>Austrian Ministry Kicks Out Microsoft in Favor of Nextcloud</title><link>https://news.itsfoss.com/austrian-ministry-kicks-out-microsoft/</link><description>&lt;doc fingerprint="2b5cb91876a71afa"&gt;
  &lt;main&gt;
    &lt;p&gt;European governments have been steadily moving away from reliance on foreign tech offerings, driven largely by concerns over data sovereignty and regulatory compliance.&lt;/p&gt;
    &lt;p&gt;Countries like Germany and Denmark have already taken steps to reduce their dependence on Microsoft and other foreign cloud providers, opting instead for open source alternatives that keep sensitive data within their borders.&lt;/p&gt;
    &lt;p&gt;And, recently, Austria has shown up as another player in this space. Last month, the Austrian Armed Forces completed a migration of 16,000 workstations from Microsoft Office to LibreOffice.&lt;/p&gt;
    &lt;p&gt;Now, another Austrian government body has joined the Ditch Microsoft club.&lt;/p&gt;
    &lt;head rend="h2"&gt;A Welcome Move&lt;/head&gt;
    &lt;p&gt;Announced at the Nextcloud Enterprise Day Copenhagen 2025 event, Austria's Federal Ministry of Economy, Energy and Tourism, or BMWET for short, has migrated 1,200 employees to Nextcloud for internal collaboration and secure data storage.&lt;/p&gt;
    &lt;p&gt;The ministry is now operating on Austrian-controlled infrastructure, moving away from foreign cloud providers for handling sensitive government data. The project went from proof of concept to full deployment in just four months, an uncommonly fast timeline for a public sector IT migration of this scale.&lt;/p&gt;
    &lt;p&gt;The implementation was carried out in partnership with Atos Austria, which worked alongside Nextcloud's team to ensure the platform met the ministry's legal, technical, and organizational requirements.&lt;/p&gt;
    &lt;head rend="h2"&gt;How Was it Done?&lt;/head&gt;
    &lt;p&gt;The ministry implemented a hybrid setup rather than a complete rip-and-replace approach. At the time this project began, BMWET was already in the process of adopting Microsoft 365 and Teams, so a full reversal wasn't feasable.&lt;/p&gt;
    &lt;p&gt;Instead, Nextcloud now handles all internal collaboration and secure data management, while Microsoft Teams remains available specifically for external meetings (read: for people who haven't moved away from Teams).&lt;/p&gt;
    &lt;p&gt;The ministry also worked with Nextcloud partner Sendent to integrate with Outlook, allowing employees to continue using familiar email and calendar workflows.&lt;/p&gt;
    &lt;p&gt;As for the reasoning behind this move, it was prompted by a risk analysis that showed foreign cloud services failed to meet the ministry's privacy requirements, particularly regarding GDPR compliance and the upcoming NIS2 directive.&lt;/p&gt;
    &lt;p&gt;To ensure a smooth transition, BMWET invested heavily in preparing its workforce. The ministry ran an extensive information campaign that included training sessions, instructional videos, and a detailed internal wiki covering everything employees needed to know about the new platform.&lt;/p&gt;
    &lt;p&gt;The gradual rollout approach meant that employees had time to adjust rather than being thrown into a completely new system overnight. According to Martin Ollrom, BMWET's CIO, the preparation paid off. The response from employees has been quite positive, with minimal disruption to daily work.&lt;/p&gt;
    &lt;p&gt;During the announcement of this move, Florian Zinnagl, the CISO of BMWET, added that:&lt;/p&gt;
    &lt;quote&gt;We carry responsibility for a large amount of sensitive data – from employees, companies and citizens. As a public institution, we take this responsibility very seriously. That’s why we view it critically to rely on cloud solutions from non-European corporations for processing this information.&lt;/quote&gt;
    &lt;p&gt;Suggested Read 📖&lt;/p&gt;
    &lt;p&gt;- Even the biggest players in the Linux world don't care about desktop Linux users. We do.&lt;/p&gt;
    &lt;p&gt;- We don't put informational content behind paywall. Your support keeps it open for everyone. Think of it like 'pay it forward'.&lt;/p&gt;
    &lt;p&gt;- Don't like ads? With the Plus membership, you get an ad-free reading experience.&lt;/p&gt;
    &lt;p&gt;- When millions of AI-generated content is being published daily, you read and learn from real human Linux users.&lt;/p&gt;
    &lt;p&gt;- It costs just $2 a month, less than the cost of your favorite burger.&lt;/p&gt;
    &lt;p&gt;Become a Plus Member today and join over 300 people in supporting our work.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45732485</guid><pubDate>Tue, 28 Oct 2025 13:16:40 +0000</pubDate></item><item><title>Sick: Indexed deduplicated binary storage for JSON-like data structures</title><link>https://github.com/7mind/sick</link><description>&lt;doc fingerprint="c06128154cd70790"&gt;
  &lt;main&gt;
    &lt;p&gt;&lt;code&gt;SICK&lt;/code&gt; is an approach to handle &lt;code&gt;JSON&lt;/code&gt;-like structures and various libraries implementing it.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;SICK&lt;/code&gt; as a library allows you to achieve the following:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Store &lt;code&gt;JSON&lt;/code&gt;-like data in efficient indexed binary form&lt;/item&gt;
      &lt;item&gt;Avoid reading and parsing whole &lt;code&gt;JSON&lt;/code&gt;files and access only the data you need just in time&lt;/item&gt;
      &lt;item&gt;Store multiple &lt;code&gt;JSON&lt;/code&gt;-like structures in one deduplicating storage&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;&lt;code&gt;SICK&lt;/code&gt; as a concept would also allow you:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Implement perfect streaming parsers for &lt;code&gt;JSON&lt;/code&gt;-like data&lt;/item&gt;
      &lt;item&gt;Efficiently stream updates for &lt;code&gt;JSON&lt;/code&gt;-like data&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The tradeoff for these benefits is somehow more complicated and less efficient encoder.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;JSON&lt;/code&gt; has a Type-2 grammar and requires a pushdown automaton to parse it. So, it's not possible to implement efficient streaming parser for &lt;code&gt;JSON&lt;/code&gt;. Just imagine a huge hierarchy of nested &lt;code&gt;JSON&lt;/code&gt; objects: you won't be able to finish parsing the top-level object until you process the whole file.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;JSON&lt;/code&gt; is frequently used to store and transfer large amounts of data and these transfers tend to grow over time. Just imagine a typical &lt;code&gt;JSON&lt;/code&gt; config file for a large enterprise product.&lt;/p&gt;
    &lt;p&gt;The non-streaming nature of almost all the JSON parsers requires a lot of work to be done every time you need to deserialize a huge chunk of &lt;code&gt;JSON&lt;/code&gt; data: you need to read it from disk, parse it in memory into an AST representation, and, usually, map raw &lt;code&gt;JSON&lt;/code&gt; tree to object instances. Even if you use token streams and know the type of your object ahead of time you still have to deal with the Type-2 grammar.&lt;/p&gt;
    &lt;p&gt;This may be very inefficient and causes unnecessary delays, pauses, CPU activity and memory consumption spikes.&lt;/p&gt;
    &lt;p&gt;Let's assume that we have a small &lt;code&gt;JSON&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;[
    {"some key": "some value"},
    {"some key": "some value"},
    {"some value": "some key"},
]&lt;/code&gt;
    &lt;p&gt;Let's build a table for every unique value in our &lt;code&gt;JSON&lt;/code&gt; :&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Type&lt;/cell&gt;
        &lt;cell role="head"&gt;index&lt;/cell&gt;
        &lt;cell role="head"&gt;Value&lt;/cell&gt;
        &lt;cell role="head"&gt;Is Root&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;string&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;"some key"&lt;/cell&gt;
        &lt;cell&gt;No&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;string&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;"some value"&lt;/cell&gt;
        &lt;cell&gt;No&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;object&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;[string:0, string:1]&lt;/cell&gt;
        &lt;cell&gt;No&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;object&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;[string:1, string:0]&lt;/cell&gt;
        &lt;cell&gt;No&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;array&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;[object:0, object:0, object:1]&lt;/cell&gt;
        &lt;cell&gt;Yes (file.json)&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;We just built a flattened and deduplicated version of our initial &lt;code&gt;JSON&lt;/code&gt; structure.&lt;/p&gt;
    &lt;p&gt;Such representation allows us to do many different things, for example we may stream our table:&lt;/p&gt;
    &lt;code&gt;string:0 = "some key"
string:1 = "some value"

object:0.size = 2
object:0[string:0] = string:1
object:1[string:1] = string:0

array:0.size = 2
array:0[0] = object:0
array:0[1] = object:1

string:2 = "file.json"

root:0=array:0,string:2
&lt;/code&gt;
    &lt;p&gt;This particular encoding is inefficient but it's streamable and, moreover, we can add removal message into it thus supporting arbitrary updates:&lt;/p&gt;
    &lt;code&gt;array:0[0] = object:1
array:0[1] = remove
&lt;/code&gt;
    &lt;p&gt;There is an interesting observation: when a stream does not contain removal entries it can be safely reordered.&lt;/p&gt;
    &lt;p&gt;Also this representation eliminates many cases where full accumulation is required. Obviously, not all of them, the receiver still may need to accumulate the entries in a buffer until it can sort them out.&lt;/p&gt;
    &lt;p&gt;We may note that the only complex data structures in our "Value" column are lists and &lt;code&gt;(type, index)&lt;/code&gt; pairs. Let's call such pairs "references".&lt;/p&gt;
    &lt;p&gt;A reference can be represented as a pair of integers, so it would have a fixed byte length.&lt;/p&gt;
    &lt;p&gt;A list of references can be represented as an integer storing list length followed by all the references in their binary form. Let's note that such binary structure is indexed, once we know the index of an element we want to access we can do it immediately.&lt;/p&gt;
    &lt;p&gt;A list of any fixed-size scalar values can be represented the same way.&lt;/p&gt;
    &lt;p&gt;A list of variable-size values (e.g. a list of strings) can be represented the following way:&lt;/p&gt;
    &lt;code&gt;  {strings count}{list of string offsets}{all the strings concatenated}
&lt;/code&gt;
    &lt;p&gt;So, &lt;code&gt;["a", "bb", "ccc"]&lt;/code&gt; would become something like &lt;code&gt;3 0 2 3 a b bb ccc&lt;/code&gt; without spaces.&lt;/p&gt;
    &lt;p&gt;An important fact is that this encoding is indexed too and it can be reused to store any lists of variable-length data.&lt;/p&gt;
    &lt;p&gt;TODO: explain the overall EBA structure format, including tables, etc&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;SICK&lt;/code&gt; encoding follows compositional principles of &lt;code&gt;JSON&lt;/code&gt; (a set primitive types plus lists and dictionaries), though it is more powerful: it has "reference" type and allows you to encode custom types.&lt;/p&gt;
    &lt;p&gt;(1) It's easy to note that our table may store circular references, something &lt;code&gt;JSON&lt;/code&gt; can't do natively:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Type&lt;/cell&gt;
        &lt;cell role="head"&gt;index&lt;/cell&gt;
        &lt;cell role="head"&gt;Value&lt;/cell&gt;
        &lt;cell role="head"&gt;Is Root&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;object&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;[string:0, object:1]&lt;/cell&gt;
        &lt;cell&gt;No&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;object&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;[string:1, object:0]&lt;/cell&gt;
        &lt;cell&gt;No&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;This may be convenient in some complex cases.&lt;/p&gt;
    &lt;p&gt;(2) Also we may note, that we may happily store multiple json files in one table and have full deduplication over their content. We just need to introduce a separate attribute (&lt;code&gt;is root&lt;/code&gt;) storing either nothing or the name of our "root entry" (&lt;code&gt;JSON&lt;/code&gt; file).&lt;/p&gt;
    &lt;p&gt;In real implementation it's more convenient to just create a separate "root" type, the value of a root type should always be a reference to its name and a reference to the actual &lt;code&gt;JSON&lt;/code&gt; value we encoded:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Type&lt;/cell&gt;
        &lt;cell role="head"&gt;index&lt;/cell&gt;
        &lt;cell role="head"&gt;Value&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;string&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;"some key"&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;string&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;"some value"&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;string&lt;/cell&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;"some value"&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;object&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;[string:0, string,1]&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;object&lt;/cell&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;[string:1, string:0]&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;array&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;[object:0, object:0, object:1]&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;root&lt;/cell&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;[string:2, array:0]&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;(3) We may encode custom scalar data types (e.g. timestamps) natively just by introducing new type tags.&lt;/p&gt;
    &lt;p&gt;(4) We may even store polymorphic types by introducing new type tags or even new type references.&lt;/p&gt;
    &lt;p&gt;Currently we provide C# and Scala implementations of SICK indexed binary JSON storage. Currently the code in this repository has no streaming capabilities. That may change in the future. It's not a hard problem to add streaming support, your contributions are welcome. It's harder to create a streaming abstraction which would cover enough usecases to be useful for broad audience.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Feature 🔧&lt;/cell&gt;
        &lt;cell role="head"&gt;Scala 🟣&lt;/cell&gt;
        &lt;cell role="head"&gt;C# 🔵&lt;/cell&gt;
        &lt;cell role="head"&gt;JS (ScalaJS) 🟡&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Binary Storage Encoder 💾&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Binary Storage Decoder 📥&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Cursors 🧭&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;❌&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Stream Encoder 🌊&lt;/cell&gt;
        &lt;cell&gt;❌&lt;/cell&gt;
        &lt;cell&gt;❌&lt;/cell&gt;
        &lt;cell&gt;❌&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Stream Decoder 🌀&lt;/cell&gt;
        &lt;cell&gt;❌&lt;/cell&gt;
        &lt;cell&gt;❌&lt;/cell&gt;
        &lt;cell&gt;❌&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Encoder AST 🌳&lt;/cell&gt;
        &lt;cell&gt;Circe&lt;/cell&gt;
        &lt;cell&gt;JSON.Net&lt;/cell&gt;
        &lt;cell&gt;JS Objects/Json&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Decoder AST 🌿&lt;/cell&gt;
        &lt;cell&gt;Circe&lt;/cell&gt;
        &lt;cell&gt;Custom&lt;/cell&gt;
        &lt;cell&gt;JS Objects/Json&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;A type marker is represented as a single-byte unsigned integer. The possible values are:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="6"&gt;
        &lt;cell role="head"&gt;Marker&lt;/cell&gt;
        &lt;cell role="head"&gt;Name&lt;/cell&gt;
        &lt;cell role="head"&gt;Comment&lt;/cell&gt;
        &lt;cell role="head"&gt;Value Length (bytes)&lt;/cell&gt;
        &lt;cell role="head"&gt;C# mapping&lt;/cell&gt;
        &lt;cell role="head"&gt;Scala Mapping&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;TNul&lt;/cell&gt;
        &lt;cell&gt;Equivalent to &lt;code&gt;null&lt;/code&gt; in JSON&lt;/cell&gt;
        &lt;cell&gt;4, stored in the marker&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;TBit&lt;/cell&gt;
        &lt;cell&gt;Boolean&lt;/cell&gt;
        &lt;cell&gt;4, stored in the marker&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;TByte&lt;/cell&gt;
        &lt;cell&gt;Byte,&lt;/cell&gt;
        &lt;cell&gt;4, stored in the marker&lt;/cell&gt;
        &lt;cell&gt;byte (unsigned)&lt;/cell&gt;
        &lt;cell&gt;Byte (signed)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;TShort&lt;/cell&gt;
        &lt;cell&gt;Signed 16-bit integer&lt;/cell&gt;
        &lt;cell&gt;4, stored in the marker&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;TInt&lt;/cell&gt;
        &lt;cell&gt;Signed 32-bit integer&lt;/cell&gt;
        &lt;cell&gt;4&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;TLng&lt;/cell&gt;
        &lt;cell&gt;Signed 64-bit integer&lt;/cell&gt;
        &lt;cell&gt;8&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;6&lt;/cell&gt;
        &lt;cell&gt;TBigInt&lt;/cell&gt;
        &lt;cell&gt;Variable, prefixed&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;7&lt;/cell&gt;
        &lt;cell&gt;TDbl&lt;/cell&gt;
        &lt;cell&gt;8&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;8&lt;/cell&gt;
        &lt;cell&gt;TFlt&lt;/cell&gt;
        &lt;cell&gt;4&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;9&lt;/cell&gt;
        &lt;cell&gt;TBigDec&lt;/cell&gt;
        &lt;cell&gt;Variable, prefixed&lt;/cell&gt;
        &lt;cell&gt;Custom: scale/precision/signum/unscaled quadruple in C#&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;10&lt;/cell&gt;
        &lt;cell&gt;TStr&lt;/cell&gt;
        &lt;cell&gt;UTF-8 String&lt;/cell&gt;
        &lt;cell&gt;Variable, prefixed&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;11&lt;/cell&gt;
        &lt;cell&gt;TArr&lt;/cell&gt;
        &lt;cell&gt;List of array entries&lt;/cell&gt;
        &lt;cell&gt;Variable, prefixed&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="6"&gt;
        &lt;cell&gt;12&lt;/cell&gt;
        &lt;cell&gt;TObj&lt;/cell&gt;
        &lt;cell&gt;List of object entries&lt;/cell&gt;
        &lt;cell&gt;Variable, prefixed&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;15&lt;/cell&gt;
        &lt;cell&gt;TRoot&lt;/cell&gt;
        &lt;cell&gt;Index of the name string (4 bytes) + reference (4+1=5 bytes)&lt;/cell&gt;
        &lt;cell&gt;9&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;TODO&lt;/p&gt;
    &lt;p&gt;TODO&lt;/p&gt;
    &lt;p&gt;Array entries are just references.&lt;/p&gt;
    &lt;p&gt;TODO&lt;/p&gt;
    &lt;p&gt;TODO&lt;/p&gt;
    &lt;p&gt;TODO&lt;/p&gt;
    &lt;p&gt;Current implementation has the following limitations:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Maximum object size: &lt;code&gt;65534&lt;/code&gt;keys&lt;/item&gt;
      &lt;item&gt;The order of object keys is not preserved&lt;/item&gt;
      &lt;item&gt;Maximum amount of array elements: &lt;code&gt;2^32&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;Maximum amount of unique values of the same type: &lt;code&gt;2^32&lt;/code&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;These limitations may be lifted by using more bytes to store offset pointers and counts on binary level. Though it's hard to imagine a real application which would need that, a large structure can always be split into smaller chunks at client side.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;SICK is battle-tested and covered by "good enough" test suite which includes cross-implementation correctness tests (C#&amp;lt;-&amp;gt;Scala).&lt;/item&gt;
      &lt;item&gt;SICK powers several proprietary applications running on mobile devices and in the browser, some of which have large userbases (hundreds of thousands DAU).&lt;/item&gt;
      &lt;item&gt;No known open source users as of Oct/2025.&lt;/item&gt;
      &lt;item&gt;More implementations for various platforms are needed, 3rd party implementations are very welcome.&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45732552</guid><pubDate>Tue, 28 Oct 2025 13:22:24 +0000</pubDate></item><item><title>Vitamin D reduces incidence and duration of colds in those with low levels</title><link>https://ijmpr.in/article/the-role-of-vitamin-d-supplementation-in-the-prevention-of-acute-respiratory-infections-a-double-blind-randomized-controlled-trial-1327/</link><description>&lt;doc fingerprint="f641e1322ca941d2"&gt;
  &lt;main&gt;
    &lt;p&gt;Background: Acute respiratory infections (ARIs) remain among the most common causes of morbidity and mortality worldwide, particularly in children, the elderly, and immunocompromised individuals. Emerging evidence suggests that vitamin D, beyond its classical role in calcium–phosphate homeostasis, exerts immunomodulatory effects by enhancing innate immune responses and modulating inflammatory pathways. Previous observational and meta-analytic studies have indicated an inverse relationship between serum 25-hydroxyvitamin D [25(OH)D] levels and susceptibility to respiratory infections. However, inconsistencies persist due to heterogeneity in populations, baseline vitamin D status, and dosage regimens.&lt;/p&gt;
    &lt;p&gt;Objectives: This study aimed to evaluate whether daily vitamin D supplementation reduces the incidence, duration, and severity of acute respiratory infections compared with placebo among adults with suboptimal baseline 25(OH)D levels. Secondary objectives included assessing changes in serum vitamin D concentrations and evaluating any adverse effects associated with supplementation.&lt;/p&gt;
    &lt;p&gt;Methods: This double-blind randomized controlled trial was conducted at a tertiary care hospital between January 2023 and March 2024. A total of 400 participants aged 18–65 years with baseline 25(OH)D levels between 10 and 30 ng/mL were randomly assigned into two groups: the intervention group (n = 200) received vitamin D₃ supplementation (2,000 IU daily), and the placebo group (n = 200) received identical capsules without active ingredient, for six months. Incidence of ARIs was documented through monthly follow-up visits and self-reported symptom diaries validated by physician assessment. Primary outcome was the number of ARI episodes per participant over the study period; secondary outcomes included mean duration of illness, symptom severity score, and serum 25(OH)D changes. Statistical analysis employed chi-square and independent t-tests, with significance set at p &amp;lt; 0.05.&lt;/p&gt;
    &lt;p&gt;Results: Of 400 randomized participants, 386 completed the trial (intervention = 193; placebo = 193). Mean baseline 25(OH)D levels were 21.6 ± 5.1 ng/mL in both groups. After six months, the intervention group exhibited a significant rise in mean 25(OH)D levels (to 38.9 ± 6.2 ng/mL; p &amp;lt; 0.001) compared with minimal change in the placebo group (22.4 ± 5.3 ng/mL). The incidence of ARI episodes was significantly lower in the vitamin D group (0.68 ± 0.9 per person) versus placebo (1.43 ± 1.2 per person; p &amp;lt; 0.001). Additionally, the mean duration of symptoms was shorter (4.1 ± 1.8 days vs. 6.3 ± 2.5 days; p &amp;lt; 0.001), and symptom severity scores were reduced. No serious adverse events or cases of hypercalcemia were observed.&lt;/p&gt;
    &lt;p&gt;Conclusion: Daily supplementation with 2,000 IU of vitamin D₃ significantly reduced both the incidence and duration of acute respiratory infections among adults with suboptimal baseline vitamin D levels, suggesting a protective immunomodulatory role. These findings support routine assessment and correction of vitamin D deficiency as a feasible public health strategy to mitigate respiratory infection burden, especially in at-risk populations.&lt;/p&gt;
    &lt;p&gt;Acute respiratory infections (ARIs) continue to represent one of the most pervasive public health challenges globally, accounting for substantial morbidity, hospitalization, and mortality across all age groups. According to the World Health Organization, ARIs are responsible for nearly 20% of global deaths in children under five years of age, with a rising burden among adults, particularly those with underlying chronic diseases and compromised immunity. In low- and middle-income countries, frequent viral and bacterial respiratory infections further strain healthcare resources and lead to significant socioeconomic consequences.&lt;/p&gt;
    &lt;p&gt;Over the past two decades, increasing attention has been directed toward the non-skeletal actions of vitamin D, particularly its immunomodulatory potential in preventing infectious diseases. Vitamin D is a secosteroid hormone synthesized in the skin upon ultraviolet B radiation exposure and obtained from dietary sources or supplements [1]. The active form, 1,25-dihydroxyvitamin D [1,25(OH)₂D], interacts with the vitamin D receptor (VDR) expressed on immune cells such as macrophages, dendritic cells, and T lymphocytes. This interaction enhances innate immune defense by inducing antimicrobial peptides like cathelicidin and defensins, which disrupt the membranes of respiratory pathogens. Moreover, vitamin D modulates adaptive immunity by suppressing excessive pro-inflammatory cytokine release, thus reducing tissue damage during infection [2].&lt;/p&gt;
    &lt;p&gt;Multiple epidemiological and mechanistic studies have demonstrated an association between low serum 25-hydroxyvitamin D [25(OH)D] levels and increased susceptibility to respiratory tract infections [3]. For instance, Martineau et al. (2017) conducted a meta-analysis of 25 randomized controlled trials encompassing over 11,000 participants, which revealed that vitamin D supplementation reduced the risk of ARIs, especially among individuals with severe deficiency (&amp;lt;10 ng/mL) and those receiving daily or weekly dosing. Similarly, other cohort and observational studies have linked seasonal variations in vitamin D levels with peaks in influenza and common cold incidence during winter months, suggesting a possible causal relationship [4].&lt;/p&gt;
    &lt;p&gt;Nevertheless, despite these promising observations, inconsistencies persist in the literature. Several randomized controlled trials have yielded null or inconclusive findings, often attributed to differences in baseline vitamin D status, supplementation doses, dosing intervals, duration of follow-up, and participant demographics [5]. Furthermore, the optimal serum concentration required for immune protection remains debatable, with thresholds ranging from 20 to 40 ng/mL proposed by various authorities. The clinical relevance of vitamin D supplementation for respiratory health therefore warrants rigorous evaluation through well-designed controlled trials that account for these confounding variables [6].&lt;/p&gt;
    &lt;p&gt;The biological plausibility of vitamin D’s protective role against respiratory infections is supported by its ability to regulate both innate and adaptive immune responses. By enhancing macrophage phagocytic activity and promoting epithelial barrier integrity, vitamin D reduces viral replication and bacterial adherence [7]. Simultaneously, it attenuates the cytokine storm commonly implicated in severe respiratory infections by downregulating IL-6, TNF-α, and IFN-γ while promoting anti-inflammatory IL-10 production. Such dual regulation is of particular importance in conditions like influenza, COVID-19, and community-acquired pneumonia, where exaggerated inflammation contributes to morbidity and mortality.&lt;/p&gt;
    &lt;p&gt;Given these immunological mechanisms and the persistent global prevalence of vitamin D deficiency, investigating whether daily vitamin D supplementation confers measurable protection against ARIs remains a question of high clinical and public health significance&lt;/p&gt;
    &lt;p&gt;Therefore, it is of interest to evaluate the efficacy of daily vitamin D supplementation in reducing the incidence, duration, and severity of acute respiratory infections among adults with suboptimal baseline vitamin D levels through a double-blind randomized controlled trial.&lt;/p&gt;
    &lt;p&gt;MATERIALS AND METHODS&lt;/p&gt;
    &lt;p&gt;Study Design and Setting&lt;/p&gt;
    &lt;p&gt;This study was designed as a double-blind, randomized, placebo-controlled trial conducted at the Department of Internal Medicine, a tertiary care teaching hospital in India, between January 2023 and March 2024. The study protocol was approved by the Institutional Ethics Committee and registered with the Clinical Trials Registry of India. Written informed consent was obtained from all participants before enrolment. The trial was conducted in accordance with the Declaration of Helsinki (2013 revision) and Good Clinical Practice (GCP) guidelines.&lt;/p&gt;
    &lt;p&gt;Study Population&lt;/p&gt;
    &lt;p&gt;A total of 400 adult participants aged between 18 and 65 years were enrolled. Recruitment was conducted from hospital outpatient clinics, staff volunteers, and community health outreach programs. Eligible participants were required to have baseline serum 25-hydroxyvitamin D [25(OH)D] concentrations between 10 and 30 ng/mL, indicating insufficiency but not severe deficiency.&lt;/p&gt;
    &lt;p&gt;Inclusion Criteria&lt;/p&gt;
    &lt;p&gt;Exclusion Criteria&lt;/p&gt;
    &lt;p&gt;Randomization and Blinding&lt;/p&gt;
    &lt;p&gt;Participants meeting the inclusion criteria were randomized using a computer-generated block randomization sequence (block size = 10) into two equal groups:&lt;/p&gt;
    &lt;p&gt;Randomization codes were maintained by an independent statistician not involved in data collection or analysis. Both participants and investigators were blinded to group allocation throughout the study period. Capsules were dispensed monthly in identical opaque blister packs.&lt;/p&gt;
    &lt;p&gt;Intervention Protocol&lt;/p&gt;
    &lt;p&gt;The intervention group received vitamin D₃ (cholecalciferol) 2,000 IU daily for six months, while the placebo group received identical capsules devoid of active ingredients. Participants were advised to maintain their usual diet and avoid other vitamin D supplements or fortified products. Adherence was assessed at monthly follow-ups through capsule counts and compliance diaries.&lt;/p&gt;
    &lt;p&gt;Outcome Measures&lt;/p&gt;
    &lt;p&gt;The primary outcome was the number of acute respiratory infection (ARI) episodes per participant over six months. ARI was defined as the presence of at least two respiratory symptoms (e.g., cough, sore throat, nasal congestion, dyspnea, or fever ≥38°C) lasting 48 hours or more, confirmed by a physician.&lt;/p&gt;
    &lt;p&gt;Secondary outcomes included:&lt;/p&gt;
    &lt;p&gt;Sample Size Calculation&lt;/p&gt;
    &lt;p&gt;The sample size was estimated using the formula for comparing two means, assuming a 25% reduction in ARI incidence with vitamin D supplementation, 80% power, 5% alpha error, and a 10% attrition rate. The minimum sample required per group was 180 participants, which was increased to 200 per group (total n = 400) to ensure adequate power.&lt;/p&gt;
    &lt;p&gt;Data Collection Procedure&lt;/p&gt;
    &lt;p&gt;Baseline demographic and clinical information, including age, sex, BMI, lifestyle factors (sunlight exposure, diet, smoking), and comorbidities, were recorded using a structured case record form. Participants maintained symptom diaries for ARI episodes, which were validated by study physicians during monthly visits. Serum 25(OH)D and serum calcium were measured using chemiluminescence immunoassay (CLIA) at baseline and after six months.&lt;/p&gt;
    &lt;p&gt;Statistical Analysis&lt;/p&gt;
    &lt;p&gt;Data were analyzed using SPSS version 26.0 (IBM Corp, USA). Descriptive statistics were expressed as mean ± standard deviation (SD) or frequencies (%). Between-group comparisons were performed using the independent samples t-test for continuous variables and the chi-square test for categorical variables. Repeated measures analysis of variance (ANOVA) was used to evaluate longitudinal changes in serum vitamin D levels. A p-value less than 0.05 was considered statistically significant.&lt;/p&gt;
    &lt;p&gt;Ethical Considerations and Safety Monitoring&lt;/p&gt;
    &lt;p&gt;All adverse events were recorded and reviewed by an independent Data and Safety Monitoring Board (DSMB). Participants developing hypercalcemia (&amp;gt;10.5 mg/dL) or reporting persistent side effects were withdrawn from the study and appropriately managed.&lt;/p&gt;
    &lt;p&gt;RESULTS&lt;/p&gt;
    &lt;p&gt;A total of 400 participants were enrolled in the study and randomized equally into two groups: vitamin D₃ supplementation (n = 200) and placebo (n = 200). Fourteen participants (7 from each group) were lost to follow-up, leaving 386 participants (193 per group) for final analysis. Baseline demographic and clinical characteristics were comparable between groups. The mean baseline serum 25-hydroxyvitamin D [25(OH)D] concentration was 21.6 ± 5.1 ng/mL across all participants. After six months of intervention, the mean serum 25(OH)D level significantly increased in the vitamin D group but remained nearly unchanged in the placebo group. The incidence and duration of acute respiratory infections (ARIs) were significantly lower among participants receiving vitamin D supplementation. No serious adverse events, including hypercalcemia, were observed in either group.&lt;/p&gt;
    &lt;p&gt;Table 1: Baseline Demographic Characteristics of Study Participants&lt;/p&gt;
    &lt;p&gt;This table presents demographic data, including age, sex, and BMI, demonstrating comparability between groups at baseline.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Variable&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group (n = 193)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group (n = 193)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean Age (years)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;39.8 ± 12.1&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;40.2 ± 11.7&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.74&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Male : Female ratio&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;97 : 96&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;98 : 95&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.88&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean BMI (kg/m²)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;24.6 ± 3.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;24.8 ± 3.4&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.59&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Urban residence (%)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;63.7&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;61.1&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.61&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 2: Baseline Serum Vitamin D and Calcium Levels&lt;/p&gt;
    &lt;p&gt;This table shows biochemical baseline levels before intervention initiation.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Parameter&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;25(OH)D (ng/mL)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;21.5 ± 5.0&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;21.7 ± 5.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.82&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Serum Calcium (mg/dL)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;9.3 ± 0.5&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;9.2 ± 0.4&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.37&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 3: Change in Serum 25(OH)D Levels After Six Months&lt;/p&gt;
    &lt;p&gt;This table displays the significant rise in serum vitamin D levels following supplementation.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Timepoint&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Baseline&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;21.5 ± 5.0&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;21.7 ± 5.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.82&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;6 Months&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;38.9 ± 6.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;22.4 ± 5.3&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 4: Incidence of Acute Respiratory Infections (ARIs)&lt;/p&gt;
    &lt;p&gt;This table summarizes ARI occurrence per participant.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Outcome&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Participants with ≥1 ARI episode (%)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;29.5&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;58.5&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean ARI episodes per participant&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.68 ± 0.9&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;1.43 ± 1.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 5: Duration of ARI Episodes (in Days)&lt;/p&gt;
    &lt;p&gt;This table compares mean illness duration between the two groups.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Variable&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean duration per episode (days)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;4.1 ± 1.8&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;6.3 ± 2.5&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 6: Symptom Severity Scores (0–10 Visual Analogue Scale)&lt;/p&gt;
    &lt;p&gt;This table demonstrates reduced symptom intensity with supplementation.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Symptom Severity&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean severity score&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;3.8 ± 1.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;5.9 ± 1.8&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 7: Seasonal Distribution of ARI Episodes&lt;/p&gt;
    &lt;p&gt;This table outlines ARI occurrence across different seasons.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Season&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group (%)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group (%)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Winter&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;44.0&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;61.1&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.008&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Summer&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;27.4&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;18.6&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.06&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Monsoon&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;28.6&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;20.3&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.09&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 8: Compliance with Study Supplementation&lt;/p&gt;
    &lt;p&gt;This table reports participant adherence to prescribed supplementation.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Compliance Rate&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group (%)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group (%)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;≥90% adherence&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;92.7&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;91.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.64&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;75–89% adherence&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;6.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;7.3&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;—&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;75% adherence&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;1.1&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;1.5&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;—&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 9: Incidence of Adverse Events&lt;/p&gt;
    &lt;p&gt;This table shows that no major adverse reactions were reported.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Adverse Event&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group (n, %)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group (n, %)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Mild GI discomfort&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;5 (2.6)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;6 (3.1)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.77&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Headache&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;3 (1.5)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;4 (2.1)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.70&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Hypercalcemia&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;—&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 10: Serum Calcium Levels After Six Months&lt;/p&gt;
    &lt;p&gt;This table confirms biochemical safety regarding calcium metabolism.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Parameter&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Serum Calcium (mg/dL)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;9.4 ± 0.6&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;9.2 ± 0.5&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.09&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 11: Subgroup Analysis by Baseline Vitamin D Status&lt;/p&gt;
    &lt;p&gt;This table compares ARI incidence according to initial 25(OH)D strata.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Baseline 25(OH)D (ng/mL)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group ARI Episodes (mean ± SD)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group ARI Episodes (mean ± SD)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;10–20&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.74 ± 1.0&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;1.58 ± 1.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;21–30&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.61 ± 0.8&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;1.27 ± 1.1&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 12: Summary of Primary and Secondary Outcomes&lt;/p&gt;
    &lt;p&gt;This table provides an overall summary of intervention outcomes.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;
          &lt;p&gt;Outcome&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Vitamin D Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Placebo Group&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;p-value&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Effect Size&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean ARI episodes&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.68 ± 0.9&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;1.43 ± 1.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.42&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean duration (days)&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;4.1 ± 1.8&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;6.3 ± 2.5&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.56&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Mean symptom score&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;3.8 ± 1.2&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;5.9 ± 1.8&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;&amp;lt;0.001&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;0.48&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 1 established that both groups were demographically similar, ruling out confounding baseline variability. Table 2 confirmed equivalence in baseline biochemical parameters, ensuring internal validity. Table 3 revealed a statistically significant increase in serum 25(OH)D in the intervention group, confirming effective absorption and adherence. Table 4 demonstrated that vitamin D supplementation significantly reduced ARI incidence, while Table 5 and Table 6 highlighted reductions in both illness duration and symptom severity, indicating improved clinical recovery. Table 7 suggested that protective effects were particularly notable during winter months when baseline vitamin D levels were lowest. Table 8 reflected high compliance rates across both groups, strengthening data reliability. Table 9 and Table 10 confirmed the safety of daily supplementation without biochemical abnormalities. Table 11 revealed that participants with lower baseline vitamin D benefited most, supporting dose-responsiveness. Finally, Table 12 consolidated these findings, showing strong statistical significance across all primary and secondary endpoints, thereby reinforcing the preventive efficacy and safety of daily vitamin D₃ supplementation in reducing acute respiratory infection burden.&lt;/p&gt;
    &lt;p&gt;DISCUSSION&lt;/p&gt;
    &lt;p&gt;This double-blind randomized controlled trial was conducted to evaluate the efficacy of daily vitamin D₃ supplementation in preventing acute respiratory infections (ARIs) among adults with suboptimal baseline serum 25-hydroxyvitamin D levels [8]. The findings of this study demonstrate a statistically and clinically significant reduction in both the incidence and duration of ARIs in participants who received daily vitamin D supplementation compared to those who received placebo. Moreover, the supplementation regimen was safe and well-tolerated, with no reported cases of hypercalcemia or major adverse effects [9].&lt;/p&gt;
    &lt;p&gt;The results corroborate and extend the growing body of evidence that implicates vitamin D as a key immunomodulatory factor influencing susceptibility to respiratory infections. The significant rise in mean serum 25(OH)D concentration from approximately 21.5 ng/mL to 38.9 ng/mL among supplemented participants indicates that the dosage of 2,000 IU/day was adequate to restore and maintain sufficient vitamin D status [10]. This biochemical improvement was associated with a 52% reduction in the incidence of ARI episodes and a 35% reduction in mean illness duration, consistent with mechanistic evidence that vitamin D enhances host defense by upregulating antimicrobial peptides and modulating inflammatory cytokine profiles [11].&lt;/p&gt;
    &lt;p&gt;Several previous trials and meta-analyses have reported similar trends. Martineau et al. (2017) in a pooled analysis of 25 randomized controlled trials involving over 11,000 participants found that vitamin D supplementation reduced the risk of ARI by 12%, with the greatest benefits observed in those with baseline deficiency and in trials employing daily or weekly dosing rather than large intermittent boluses [4]. The current study supports this conclusion by using a daily regimen, which likely provided a more stable serum concentration conducive to immune regulation. Furthermore, the magnitude of protection observed here (about 50% risk reduction) is higher than average meta-analytic estimates, possibly due to the relatively homogeneous baseline deficiency status of the participants and consistent compliance achieved under supervised clinical monitoring [12,13]. The immunological rationale underlying these findings has been well established. Vitamin D receptor (VDR) activation in immune cells stimulates transcription of antimicrobial peptides such as cathelicidin and β-defensin-2, enhancing mucosal defense against respiratory pathogens. Concurrently, vitamin D attenuates the exaggerated pro-inflammatory response often seen in severe viral infections by downregulating interleukin-6 (IL-6) and tumor necrosis factor-alpha (TNF-α) while promoting anti-inflammatory interleukin-10 (IL-10) [14]. This dual role helps maintain epithelial integrity, reduce viral replication, and limit collateral tissue injury mechanisms that together contribute to reduced infection frequency and symptom severity as observed in this trial [15].&lt;/p&gt;
    &lt;p&gt;In addition, the seasonal distribution analysis demonstrated that the preventive effect of vitamin D supplementation was most pronounced during winter, a period typically associated with lower ultraviolet B exposure and consequently reduced endogenous vitamin D synthesis. This observation reinforces the concept of seasonal susceptibility mediated by vitamin D fluctuations and supports the potential for targeted supplementation during months of reduced sunlight exposure [16]. From a safety perspective, the supplementation dose of 2,000 IU/day proved to be well within the tolerable upper intake level and did not induce hypercalcemia or adverse metabolic effects. Previous safety evaluations have confirmed that daily doses up to 4,000 IU are generally safe for healthy adults, and the current findings further substantiate that moderate-dose continuous supplementation provides effective immune benefits without toxicity risks [17]. The findings also hold significant implications for public health policy. Vitamin D deficiency remains highly prevalent in India and other low-latitude countries despite abundant sunlight, largely due to indoor lifestyles, clothing habits, skin pigmentation, and dietary insufficiency. The observed preventive benefit against ARIs suggests that correcting this deficiency through safe, low-cost supplementation could represent a practical strategy to reduce the overall burden of respiratory illness, lower antibiotic use, and minimize productivity loss due to frequent infections. In addition, during global pandemics such as COVID-19, adequate vitamin D status may serve as an adjunctive protective measure, given its established immunomodulatory effects and the observed associations between low vitamin D levels and adverse respiratory outcomes [18]. Despite these encouraging findings, several limitations must be acknowledged. First, the study population was limited to adults aged 18–65 years without chronic comorbidities, and the results may not be generalizable to pediatric, geriatric, or immunocompromised populations. Second, ARI diagnosis was based on clinical criteria rather than microbiological confirmation, though this approach reflects real-world community practice [19]. Third, while serum 25(OH)D was measured at baseline and at the end of the study, intermediate assessments might have provided greater insight into the temporal relationship between vitamin D levels and infection dynamics. Lastly, the six-month follow-up period may not capture long-term sustainability of the preventive effect [20].&lt;/p&gt;
    &lt;p&gt;Nevertheless, the study’s strengths include its robust randomized double-blind design, large sample size, strict adherence monitoring, standardized outcome definitions, and comprehensive statistical analysis. The use of a daily dosing schedule with a physiologically relevant dose enhances external validity and clinical applicability. Importantly, the trial demonstrated a consistent pattern of benefit across subgroups stratified by baseline vitamin D levels, indicating that individuals with both moderate and mild deficiency may derive measurable advantage from supplementation.&lt;/p&gt;
    &lt;p&gt;In summary, the present study provides strong evidence that daily oral vitamin D₃ supplementation at 2,000 IU effectively prevents acute respiratory infections, shortens illness duration, and reduces symptom severity in adults with low baseline vitamin D status. The findings emphasize the potential of vitamin D optimization as a simple, safe, and scalable preventive intervention against respiratory infections.&lt;/p&gt;
    &lt;p&gt;Future research should focus on evaluating long-term benefits, cost-effectiveness analyses, and implementation strategies for population-level supplementation programs. Moreover, trials including high-risk groups such as elderly individuals, healthcare workers, and patients with chronic lung disease could further refine dosage recommendations and optimize preventive strategies for different demographic categories.&lt;/p&gt;
    &lt;p&gt;CONCLUSION&lt;/p&gt;
    &lt;p&gt;This double-blind randomized controlled trial demonstrates that daily supplementation with 2,000 IU of vitamin D₃ significantly reduces the incidence, duration, and severity of acute respiratory infections among adults with suboptimal baseline serum 25(OH)D levels. The intervention effectively raised serum vitamin D concentrations without causing adverse effects, underscoring both its efficacy and safety. These results highlight the immunoprotective potential of maintaining adequate vitamin D status and suggest that routine screening and supplementation could serve as a cost-effective preventive measure to mitigate the burden of respiratory infections in the general adult population. Broader implementation of vitamin D supplementation programs, especially during winter months and in populations with high deficiency prevalence, may substantially improve community respiratory health outcomes.&lt;/p&gt;
    &lt;p&gt;REFERENCES&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45732670</guid><pubDate>Tue, 28 Oct 2025 13:31:52 +0000</pubDate></item><item><title>Ubiquiti SFP Wizard</title><link>https://blog.ui.com/article/welcome-to-sfp-liberation-day</link><description>&lt;doc fingerprint="3c59fc34fdb3c565"&gt;
  &lt;main&gt;
    &lt;p&gt;Welcome to SFP Liberation Day, the celebration of open SFP connectivity powered by the all-new SFP Wizard. Designed for networking professionals who value speed, precision, and simplicity, this compact and portable device gives you full control over your fiber modules. From diagnostics to programming, it's built to make your installation workflow smoother and smarter.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45732874</guid><pubDate>Tue, 28 Oct 2025 13:48:51 +0000</pubDate></item><item><title>Washington Post editorials omit a key disclosure: Bezos' financial ties</title><link>https://www.npr.org/2025/10/28/nx-s1-5587932/washington-post-editorials-omit-a-key-disclosure-bezos-financial-ties</link><description>&lt;doc fingerprint="264cf0d052ba2068"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;'Washington Post' editorials omit a key disclosure: Bezos' financial ties&lt;/head&gt;
    &lt;p&gt;A year ago, in explaining why he had blocked the publication of an endorsement of Democratic presidential nominee Kamala Harris, Washington Post owner and Amazon founder Jeff Bezos conceded that "When it comes to the appearance of conflict, I am not an ideal owner of The Post."&lt;/p&gt;
    &lt;p&gt;On at least three occasions in the past two weeks, an official Post editorial has taken on matters in which Bezos has a financial or corporate interest without noting his stake. In each case, the Post's official editorial line landed in sync with its owner's financial interests.&lt;/p&gt;
    &lt;p&gt;In the most recent instance, the Post defended President Trump's jaw-dropping moves to raze the East Wing of the White House without any of the typically required studies or consultations as he seeks to build a vast ballroom. "Trump's undertaking is a shot across the bow at NIMBYs everywhere," the Post wrote in its editorial, which first appeared online Saturday.&lt;/p&gt;
    &lt;p&gt;As the White House had announced, Amazon was a major corporate contributor in helping to defray those costs. But the Post did not initially disclose that.&lt;/p&gt;
    &lt;p&gt;On Sunday, the newspaper inserted an acknowledgement of the Amazon donation into the editorial – but only once the veteran news executive Bill Grueskin, now at the Columbia Graduate School of Journalism, noted its absence in a social media post and made inquiries at the paper. It did not flag the alteration for readers.&lt;/p&gt;
    &lt;p&gt;In his posts, Grueskin, a former top news editor at the Wall Street Journal and Bloomberg, had written the editorial's fundamental reasoning "illustrates the collapse of the new Washpost Opinion page" and noted there was "no clarification or correction appended to the piece."&lt;/p&gt;
    &lt;p&gt;The Post and its new opinions editor, Adam O'Neal, did not reply to detailed requests for comment for this story.&lt;/p&gt;
    &lt;head rend="h3"&gt;A new editor for an overhauled opinion section&lt;/head&gt;
    &lt;p&gt;O'Neal was brought in by Bezos this summer after the corporate titan tore up his paper's opinion section.&lt;/p&gt;
    &lt;p&gt;Bezos said he wanted a tight focus on two priorities: personal liberties and free markets. The top opinion page editor resigned. A raft of prominent columnists and contributors resigned or departed as well. Some were let go.&lt;/p&gt;
    &lt;p&gt;The decision to cancel the Harris editorial led to more than 300,000 cancellations by digital subscribers. The subsequent changes in the editorial pages led to 75,000 more. Bezos' Amazon contributed $1 million toward the Trump inauguration; its video streaming service Amazon Prime paid $40 million to license a documentary about first lady Melania Trump. The Wall Street Journal reported she is to receive the lion's share of that fee.&lt;/p&gt;
    &lt;p&gt;For the newspaper's owner to have outside business holdings or activities that might intersect with coverage or commentary is conventionally seen to present at the least a perception of a conflict of interest. Newspapers typically manage the perception with transparency.&lt;/p&gt;
    &lt;p&gt;The Post has resolutely revealed such entanglements to readers of news coverage or commentary in the past, whether the Graham family's holdings, which included the Stanley Kaplan educational company and Slate magazine, or, since 2013, those of Bezos, who founded Amazon and Blue Origin. Even now, the newspaper's reporters do so as a matter of routine.&lt;/p&gt;
    &lt;head rend="h3"&gt;Former editor: 'We never knowingly failed to disclose'&lt;/head&gt;
    &lt;p&gt;"Believing very fervently that disclosure resolved a lot of concerns, we never knowingly failed to disclose" such conflicts, Ruth Marcus, a former deputy editorial page editor at the Washington Post, tells NPR.&lt;/p&gt;
    &lt;p&gt;Marcus resigned earlier this year, saying Publisher Will Lewis had killed a column she wrote on changes in the page's direction. She wrote in her resignation letter that Bezos' edict that the page would not include opposing viewpoints "threatens to break the trust of readers that columnists are writing what they believe, not what the owner has deemed acceptable."&lt;/p&gt;
    &lt;p&gt;Two separate but recent incidents suggest the lack of disclosure on the editorial about the White House renovations was not an isolated case.&lt;/p&gt;
    &lt;p&gt;On Oct. 15, the Post heralded the military's push for a new generation of smaller nuclear reactors. "No 'microreactor' currently operates in the United States, but it's a worthy gamble that could provide benefits far beyond its military applications," the Post wrote in its editorial.&lt;/p&gt;
    &lt;p&gt;A year ago, Amazon bought a stake in X-energy to develop small nuclear reactors to power its data centers. And through his own private investment fund, Bezos has a stake in a Canadian venture seeking nuclear fusion technology.&lt;/p&gt;
    &lt;p&gt;Three days after the nuclear power editorial, the Post weighed in on the need for local authorities in Washington, D.C., to speed the approval of the use of self-driving cars in the nation's capital. The editorial was headlined: "Why D.C. is stalling on self-driving cars: Safety is a phony excuse for slamming the brakes on autonomous vehicles."&lt;/p&gt;
    &lt;p&gt;Fewer than three weeks before, the Amazon-owned autonomous car company Zoox had announced D.C. was to be its next market.&lt;/p&gt;
    &lt;p&gt;"It strikes me that the failure to do this [disclosure] is concerning – whether out of negligence or worse," says Marcus, the former deputy editorial page editor. "I think telling your readers that there might be a conflict in whatever they're reading is always important. It's a lot more important when it involves whoever the owner is."&lt;/p&gt;
    &lt;p&gt;In explaining his decision on the Harris editorial, which foreshadowed the more sweeping changes in the paper's opinion section, Bezos wrote, "I once wrote that The Post is a 'complexifier' for me. It is, but it turns out I'm also a complexifier for The Post."&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45733197</guid><pubDate>Tue, 28 Oct 2025 14:16:42 +0000</pubDate></item><item><title>The AirPods Pro 3 flight problem</title><link>https://basicappleguy.com/basicappleblog/the-airpods-pro-3-flight-problem</link><description>&lt;doc fingerprint="636c8b168a6695da"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;The AirPods Pro 3 Flight Problem&lt;/head&gt;
    &lt;p&gt;With incredible noise cancelling, a range of remarkable hearing health features, terrific sound quality and great battery life, the AirPods Pro have long been my goto pair of headphones from Apple. So when Apple announced the AirPods Pro 3 at their September event, I was ecstatic! Apple touted that the AirPods Pro 3 featured even better noise cancellation, fit, and sound quality over its predecessor, and added additional health features with the addition of heart rate monitoring.&lt;/p&gt;
    &lt;p&gt;Serendipitously, I happened to be boarding a flight the night of their release, and what better way to stress-test the new AirPods Pro 3 than with a transatlantic flight? Air travel is where the AirPods Pro have really shone; their compact size, noise-cancellation, comfort, battery life, and sound quality make them a perfect package for the noisy, cramped cabins of economy class.&lt;/p&gt;
    &lt;p&gt;Prior to the flight, I measured my fit and wore them around the house for an hour; everything seemed great. I will add that these new foam tips do take some getting used to, as they feel noticeably dense, and I’ve seen some bloggers and podcasters say the new fit is less comfortable compared to the Pro 2's softer silicone. Personally, I don’t share this complaint.&lt;/p&gt;
    &lt;p&gt;My trouble came at 39,000 feet when I first noticed a high-pitched whine coming from my left AirPod. The issue was that the AirPod’s ear seal kept loosening, leading to a noise-cancellation feedback loop and a painfully loud piercing screech from the AirPod. Attempts to readjust worsened the feedback, especially if I accidentally covered the external microphone with my finger. This happened multiple times, making the experience so unpleasant that I eventually switched to my spare EarPods for the remainder of the flight. While disappointed, I wasn’t ready to condemn the headphones yet; perhaps the medium seal worked fine on terra firma, but on flights, I might need a different size for a better seal.&lt;/p&gt;
    &lt;p&gt;After landing, I tested the tips and switched from a Medium to Extra Small (Apple offers XXS, XS, S, M, or L tips for AirPods Pro 3). Both XS and M tips sealed well and were comfortable for long wear. For weeks, I couldn’t reproduce the whistling feedback, and I forgot about it until my next flight earlier this week.&lt;/p&gt;
    &lt;p&gt;Once again, it was only a few minutes after takeoff that the painful screech returned. Careful adjustments or yawning would fix the issue, but only for a couple of minutes at most. I figured that the new foam tips were trapping more heat, reducing airflow and ventilation, and less flexible, and that somehow all that was playing a role in loosening the seal. And when paired with the aircraft’s loud, steady hum, a feedback loop was created. But day to day, this is a non-issue because I never encounter the same types of pressure changes and noises that would reproduce this issue.&lt;/p&gt;
    &lt;p&gt;While researching this, I did happen upon a thread on Reddit which confirmed that others have reported a similar issue, principally with the left AirPod on flights, just like I tried to describe above:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;“I also heard the whistling noise recently in the plane. The issue would go away for me as soon as I yawn, but after a while it would start making the whistling noise again. I noticed during ascent and descent it would get worse.”&lt;/p&gt;
      &lt;p&gt;“I have this issue too. Completely fine in normal life but awful on a plane.”&lt;/p&gt;
      &lt;p&gt;“Also having this issue on flight. It’s like a vibrating or swooshing noise. Definitely the ANC as it reduces when you turn on adaptive and none with transparency.”&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;So what’s going on? No idea. Apple hasn’t announced any recall or acknowledged the issue to date, and the few Reddit reports show that support calls that led to replacements returned pods that reproduced the issue. So either there are a few of us with stupidity-shaped left ears, the AirPods are glitching in some way, or something is happening on flights that the AirPods Pro 3 can't handle.&lt;/p&gt;
    &lt;head rend="h2"&gt;In Sum&lt;/head&gt;
    &lt;p&gt;I love the AirPods Pro 3, but with a denser fit that risks making them uncomfortable for some users and now this painful flight feedback issue, the AirPods Pro 3 aren’t as easy to recommend as the previous AirPods Pro 2. I can’t speak to how widespread this issue is, but my buying advice would be that if you are hoping to buy them, to do so close to your next flight and within the return window, so you can test them in the air and ensure you don’t run into the same painful feedback problem. Hopefully this is just a quirk with my ears or fit, because it’s hard to excuse a product that becomes not only unusable but downright painful to wear on a flight.&lt;/p&gt;
    &lt;p&gt;This entry was written at 33,000 feet while flying over the Canadian Rockies.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45733329</guid><pubDate>Tue, 28 Oct 2025 14:27:37 +0000</pubDate></item><item><title>A brief history of random numbers</title><link>https://crates.io/crates/oorandom#a-brief-history-of-random-numbers</link><description></description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45733412</guid><pubDate>Tue, 28 Oct 2025 14:34:18 +0000</pubDate></item><item><title>Text2SQL is dead – long live text2SQL</title><link>https://www.exasol.com/blog/text-to-sql-governance/</link><description>&lt;doc fingerprint="e5080c9f01aa96d6"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Text-to-SQL is Dead – Long Live Text-to-SQL&lt;/head&gt;
    &lt;p&gt;For the third time, within less than a year, we are discussing Text-to-SQL. First, it was just a test with a publicly available service on the HuggingFace website (https://www.huggingface.co). This raised our interest in exploring the possibilities further. In our second attempt, we implemented a one-shot transformer that converts natural language questions into SQL statements, running this process entirely on premises. However, major parts of the rendering are performed by a publicly available LLM service. Our final attempt was to bring the entire process in-house to our own premises and to explore ways to circumvent obstacles – a surprisingly easy process.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Problem&lt;/head&gt;
    &lt;p&gt;Using a Large Language Model (LLM) to transform a natural language question into a database-compliant SQL statement is not entirely new; it appeared when LLMs were trained for coding tasks. The results of the transformations are pretty impressive, and they open the world of data analysis to a new user group. While Data Scientists or Data Analysts usually know the SQL query language very well, for the occasional user, SQL can become a major hurdle, especially when mastering SQL is not included in their job profile or is not their prime concern. Saying this, Text-to-SQL can expand the audience to a much larger scale, enabling many more users to query the Exasol analytics engine and retrieve valuable information quickly and easily. It is to be seen complementary to existing BI tools and addresses a different user group.&lt;/p&gt;
    &lt;p&gt;So, why is Text-to-SQL dead then?&lt;/p&gt;
    &lt;p&gt;Typical AI Desktop applications, such as Anthropic’s Claude, utilize their own LLM within their infrastructure. In other words, you lose control over your data. Transforming a natural language question into SQL requires at least metadata information, which already contains valuable information that may be confidential. If you let the LLM execute the generated SQL on your database by a tool of a so-called MCP server, and render it afterward for a visual representation, even real data will leave your premises. Certain companies or industry segments may be fine with this fact, while others cannot tolerate it, either due to their own interests or regulatory requirements. This leads to our statement „Text-to-SQL“ is dead, obviously not for everyone, but for a group of substantial size.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Solution&lt;/head&gt;
    &lt;p&gt;How can we revive Text-to-SQL? First, we need to determine what is truly required for a pure on-premises solution:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;An LLM server that is capable of serving one or more Large Language Models and is able to serve the company’s needs with regard to interaction or usability; GPU acceleration is a big plus if not mandatory.&lt;/item&gt;
      &lt;item&gt;A Text-to-SQL Processor&lt;/item&gt;
      &lt;item&gt;An MCP Server that acts as the gateway between the LLM and the database.&lt;/item&gt;
      &lt;item&gt;An AI Desktop application that allows for operating against local LLM servers.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;If we can fulfill these requirements, we can clearly state „Long Live Text-to-SQL“.&lt;/p&gt;
    &lt;head rend="h2"&gt;Governed SQL&lt;/head&gt;
    &lt;p&gt;Also, when describing the entire process and referring to Text-to-SQL, we have a process in mind, which we call „Governed SQL“. We entirely control the translation into SQL, disallow any non-READ-ONLY queries, learn from previous similar questions, and can re-formulate a question if needed to ensure the quality of the translation process. While controlling the entire process, from the natural language question to the rendered result, we can ensure the principles of integrity, security, and safety of your data. Consequently, we will use both terms synonymously.&lt;/p&gt;
    &lt;head rend="h2"&gt;The LLM Server&lt;/head&gt;
    &lt;p&gt;For the first requirement, we utilize Ollama (https://ollama.com/). It supports GPUs from NVIDIA, AMD, or Apple’s Metal framework. You interact with Ollama via OpenAI’s API in the same way as you would interact with, for example, ChatGPT. As an alternative to Ollama, you can use LM-Studio (https://lmstudio.ai/). Please refer to Ollama’s or LM-Studio’s websites for instructions on setting up the LLM servers on your infrastructure.&lt;/p&gt;
    &lt;head rend="h2"&gt;The MCP Server&lt;/head&gt;
    &lt;p&gt;The missing link between an LLM and, in our case, the Exasol database is the so-called MCP Server, which plays a vital role. Here, MCP stands for „Model Context Protocol“ and allows interaction with the database. Other MCP Servers can interact with Mailers, Chat applications, or other kinds of applications. This Protocol has evolved to the de facto standard for integrating LLMs into an IT environment and has a similar importance as the well-known REST API.&lt;/p&gt;
    &lt;p&gt;Exasol has recently published an MCP Server on its GitHub repository (https://github.com/exasol/mcp-server), and our colleague Madeleine Corneli has published a very interesting blog article about it (https://www.exasol.com/blog/integrating-exasol-mcp/). However, the nature of this server primarily addresses technical users. It can retrieve metadata from the database and execute Read-Only SQL statements. The Text-to-SQL option is not included in this version. However, a version of the MCP server is available that includes Text-to-SQL functionality (https://github.com/exasol/exasol-labs-text2sql-mcp-server). It augments the official Exasol MCP Server with the Text-to-SQL functionality, which is discussed below.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Text-to-SQL Processor&lt;/head&gt;
    &lt;p&gt;We now reach a point where we must issue an explicit warning to all interested users. Large Language Models can make mistakes, and eventually, they will. Depending on the level of training, they may misinterpret the semantics of the natural language question and, consequently, transform it into an incorrect SQL statement, which can result in incorrect or misleading results. It is the sole responsibility of the user to verify the result for validity.&lt;/p&gt;
    &lt;p&gt;The above statement varies for different LLMs, and there is no general rule possible when or how an LLM produces faulty or misleading results. Besides the selected LLMs, the database design is a crucial contributor to the overall quality of the transformation process. Well-thought-out and descriptive column names or column comments provide significant support for the transformation process. The next step would be to utilize a semantic layer, such as the Exasol Semantic Layer, formerly known as Exalerator, where we previously reached the best results in translating human questions into SQL statements. For this work, we intentionally excluded the Exasol Semantic Layer, as we wanted to assess how well the transformation process performs on a raw database design.&lt;/p&gt;
    &lt;p&gt;For a Text-to-SQL process, we have to implement various steps on our own, which come for free with the big LLM Services. First, we check whether a natural language question can be successfully converted into an SQL statement for a given database schema. Depending on the LLM you want to use for the translation process, you may find yourself in a position where you need a second LLM for rendering your results. The MCP server supports separate LLMs for translating to SQL and result rendering. If a SQL statement is created, we need to check if the type of SQL is allowed for execution. Currently, we want to allow only read-only statements. Then, the SQL is executed against the database and checked for validity; the database can execute the SQL without any errors. If the SQL statement is invalid, we want to retry up to three times with a corrected version of the natural language question. Finally, we need to render either informational messages or the result set.&lt;/p&gt;
    &lt;p&gt;We implemented the transformation process based on the Langgraph framework (https://www.langchain.com/langgraph). The communication to the LLM Servers utilizes the OpenAI API, implemented with the langchain framework https://www.langchain.com). In addition to the functional blocks outlined above, we read the database schema and add it to the system prompt; this is a crucial step, as the LLM requires a solid understanding of the underlying database schema. The better the quality of the included metadata, the better the transformation result. Successfully executed SQL statements are stored in a Vector database, in our case ChromaDB, along with the natural language question and some other metadata. With every new natural language question, a similarity search is performed. Similar questions and their respective SQL statements will be added to the prompt as hints to the LLM.&lt;/p&gt;
    &lt;p&gt;The entire code for the Exasol MCP Server, including the Text-to-SQL option, is available on GitHub for free (see above).&lt;/p&gt;
    &lt;p&gt;Now, we have two important pieces of our solution in place: an on-premises LLM server with locally hosted LLMs, and we have an MCP Server with the capability of generating SQL statements from natural language. The last part is an AI desktop application that fully supports our local strategy. At the beginning of our search, we encountered some difficulties. Antrophic’s Claude AI Desktop runs perfectly with the MCP server, but when it comes to displaying the rendered result set, we were unsure if the data is not being sent to the Cloud as well. And sometimes when the transformation process encountered problems, Claude jumped in and helped to get the process running. Let’s be honest, this is a nice move, and for many use cases, a desired handling of problems. However, when you require the full confidentiality of your data, we recommend a different solution. And Claude can not be configured to use local LLMs, which, by the way, is understandable.&lt;/p&gt;
    &lt;head rend="h2"&gt;The AI Desktop application&lt;/head&gt;
    &lt;p&gt;Finally, we came across Open-WebUI (https://github.com/open-webui/open-webui), a web-based AI application that can interact with locally hosted LLMs via OpenAI’s API, supporting, in our case, both Ollama and LM-Studio. While it cannot address an MCP Server directly, the MCP Server can be used via a proxy server, which converts so-called OpenAPI calls from Open-WebUI to MCP calls. The proxy server is a small Python application that can be installed with a Python package manager. You can find the details at the GitHub page (https://github.com/open-webui/mcpo).&lt;/p&gt;
    &lt;p&gt;Below you see a simple test query for the RETAIL database schema, one of Exasol’s exemplary datasets. It requires multiple „JOIN“operations over three tables.&lt;/p&gt;
    &lt;code&gt;Show the top 3 articles based on units_sold for the area of Bayern and Hessen, show area, article name, product group, units sold, and revenue; use the RETAIL database schema.&lt;/code&gt;
    &lt;p&gt;The table is the result of the rendering process during the transformation. We instructed the LLM to create a table in Markdown syntax from the result set, thereby controlling the output’s form. Interestingly, with Open-WebUI, we received some commentary about the result set, driven by the same LLM we deployed locally. If you want to get a result without the additional commentary, you need to instruct the LLM accordingly, as shown below:&lt;/p&gt;
    &lt;p&gt;We simply added&lt;/p&gt;
    &lt;code&gt;Do not comment &lt;/code&gt;
    &lt;p&gt;to the end of our natural language question to instruct the LLM not to add additional comments.&lt;/p&gt;
    &lt;p&gt;For our tests, the Qwen3-coder-30B LLM yields reasonably good results for both transforming natural language into SQL and rendering the result set into a table. However, you can configure different LLMs for each process step.&lt;/p&gt;
    &lt;p&gt;Below are a few examples of how a natural language question was translated into an SQL statement. For the first test, we asked a very simple question:&lt;/p&gt;
    &lt;code&gt;Show me the number of transactions in the RETAIL database schema?&lt;/code&gt;
    &lt;p&gt;with the result SQL statement&lt;/p&gt;
    &lt;code&gt;SELECT 
   		COUNT(*) AS TRANSACTION_COUNT 
	FROM 
   		RETAIL.SALES_POSITIONS&lt;/code&gt;
    &lt;p&gt;For the next query, we examined the LLM’s ability to handle date extractions, as instructed in the system prompt. Also, several table joins are required for the correct result, and we can see that a correct GROUP BY clause is created&lt;/p&gt;
    &lt;code&gt;SELECT 
   		a.DESCRIPTION AS PRODUCT_DESCRIPTION, 
   		SUM(sp.AMOUNT) AS UNITS_SOLD, 
   		SUM(sp.PRICE) AS REVENUE 

	FROM 
   		RETAIL.SALES s
		JOIN RETAIL.SALES_POSITIONS sp ON s.SALES_ID = sp.SALES_ID 
            JOIN RETAIL.ARTICLE a ON sp.ARTICLE_ID = a.ARTICLE_ID 
            JOIN RETAIL.MARKETS m ON s.MARKET_ID = m.MARKET_ID 

	WHERE 
   		m.AREA = 'Hessen' AND 
   		YEAR(s.SALES_DATE) = 2023 AND 
   		to_char(s.SALES_DATE, 'uW') = '22' 

	GROUP BY 
   		a.DESCRIPTION 

	ORDER BY 
   		REVENUE DESC 

	LIMIT 3&lt;/code&gt;
    &lt;p&gt;And finally, we checked with another database schema to see if our system prompt works across different database schemas by asking:&lt;/p&gt;
    &lt;code&gt;Show the top 5 routes with the most delayed flights between 		
	departure city and destination city, include accrued minutes of 
	delay in the list; use the FLIGHTS database schema&lt;/code&gt;
    &lt;code&gt;SELECT 
    		F.ORIGIN_CITY_NAME AS ORIGIN_CITY_NAME, 
    		F.DEST_CITY_NAME   AS DEST_CITY_NAME, 
    		COUNT(F.DEP_DELAY) AS DELAY_COUNT, 
    		SUM(F.DEP_DELAY)   AS TOTAL_DELAY_MINUTES 

	FROM 
    		FLIGHTS.FLIGHTS F 

	WHERE 
    		F.DEP_DELAY &amp;gt; 0 

	GROUP BY 
    		F.ORIGIN_CITY_NAME, 
    		F.DEST_CITY_NAME 

	ORDER BY 
    		DELAY_COUNT DESC 

	LIMIT 5&lt;/code&gt;
    &lt;p&gt;resulting in the following table:&lt;/p&gt;
    &lt;p&gt;Of course, we cannot make any general statements based on the translation of three questions into SQL statements. We have made numerous translations, including presentations with prospects, customers, and partners. The hit rate of good SQL Statements is extremely high, close enough, but not 100%. The reasons are manifold, for example, the selection of the LLM or a non-ideal database design. If necessary, you can attempt to further enhance the quality of the translation process by adjusting the system prompt. It is a raw text file outside of the Python code. Alternatively, when the AI Desktop application allows, you can create workspaces for each use case and its underlying database schema, and augment the system prompt here with additional instructions. The user is no longer required to specify the database schema or other information that the translation process might need.&lt;/p&gt;
    &lt;p&gt;During a preparation meeting for a public market presentation, there was interest in natural language questions in German, with results presented in the same language. The model we used was able to understand the question, transform it correctly into SQL, and answer in the question’s language. We have asked again the FLIGHTS dataset to show the top five routes starting in Los Angeles with the most delayed flights:&lt;/p&gt;
    &lt;code&gt;Zeige mir die 5 Strecken mit den meisten verspäteten Flügen, die in 
	Los Angeles anfangen. Antworte in deutscher Sprache.&lt;/code&gt;
    &lt;p&gt;This resulted in the following SQL Statement:&lt;/p&gt;
    &lt;code&gt;SELECT 
		ORIGIN, 
		DEST, COUNT(*) AS DELAYED_FLIGHTS 
	FROM 
		FLIGHTS.FLIGHTS 
	WHERE 
		ORIGIN = 'LAX' AND DEP_DELAY &amp;gt; 0 
	GROUP BY 
		ORIGIN, DEST 
	ORDER BY 
		DELAYED_FLIGHTS DESC 
	LIMIT 5&lt;/code&gt;
    &lt;p&gt;and returned the following table and commentary:&lt;/p&gt;
    &lt;p&gt;There is one wrong word in the commentary – planes fly and do not drive. However, the meaning is still correct, and this can be considered a minor glitch.&lt;/p&gt;
    &lt;p&gt;Finally, the response time, from sending the question to receiving the result, can take a moment. First, the AI Desktop must identify the need to include an external tool. Then, the LLM, in conjunction with the translation process, must create the SQL and render the result. This is a computationally intensive task that benefits significantly from the use of GPUs. Do not expect sub-second response times, compared to a BI tool with pre-defined SQL statements, e.g., when using Dashboards. Without any exception, the queries created during our tests returned a result within a sub-second response time. In the event of a missing search index for a particular SQL statement, returning a result set took a bit longer, as a new index had to be created on the fly without any user interaction—a testament to flexibility at its best. The database schema sizes we used for tests range from a few million records to several billion records.&lt;/p&gt;
    &lt;head rend="h2"&gt;Auditing&lt;/head&gt;
    &lt;p&gt;You have two very different options for auditing your questions and the resulting SQL statements. The first option is to search in the log file you specified in the „.env“ file with the logging mode set to „DEBUG“. The second and preferred option would be to use the AI Desktop application and use the „SQL History“ tool of the MCP-Server. As we store every single successful combination of a question and its corresponding SQL statement in a vector database, we can easily search for a list or search for SQL statements. Here you can list a number of SQL queries, or search for text phrases in your questions.&lt;/p&gt;
    &lt;p&gt;For the following question:&lt;/p&gt;
    &lt;code&gt;Show me all SQL statements where I use the term “busiest” &lt;/code&gt;
    &lt;p&gt;we got back the following list:&lt;/p&gt;
    &lt;p&gt;The tool expects the search text (defaulting to „*“), the name of the database schema, and the number of SQL statements to return. In our case, we limited it to 10 SQL statements by default. By using an individual workspace for the FLIGHT DELAYS use case, we have already preset the database schema.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;Our statement, „Text-to-SQL is dead” is a valid statement for certain user groups where confidentiality is a strict requirement. No data may leave the premises, and we have shown how to circumvent the situation. However, the quality of the translation into SQL statements depends not only on the transformation process, but also on the design of the desired database schema(s) used for queries/questions. The better the design, the better the quality of Text-to-SQL. You have to do your homework before thinking about Text-to-SQL, or you have a high chance of failing. To further enhance the quality of the translation process, consider utilizing a Semantic Layer.&lt;/p&gt;
    &lt;p&gt;In our interest again, you can achieve quite remarkable results if you do it right. Nevertheless, you will encounter SQL statements that do not correspond to the question asked. Cross-check the results and be cautious.&lt;/p&gt;
    &lt;p&gt;Interestingly, there is a second noteworthy point. With the Text-to-SQL option, you are losing control of the queries. While queries for Reports or Dashboards are static or semi-static, queries from natural language are highly dynamic. There is no guarantee that an appropriate search index exists for a newly created SQL statement. Exasol and its Automatic Index Management feature mitigate this problem out of the box. In other words, automatic index management is a must-have requirement for every Text-to-SQL transformation, particularly in terms of usability and user acceptance. For us, it is safe to state that Exasol and Text-to-SQL are a natural fit -&amp;gt; „Long live Text-to-SQL“ as „Governed SQL“&lt;/p&gt;
    &lt;p&gt;Happy Exasoling!&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45733525</guid><pubDate>Tue, 28 Oct 2025 14:43:19 +0000</pubDate></item><item><title>EuroLLM: LLM made in Europe built to support all 24 official EU languages</title><link>https://eurollm.io/</link><description>&lt;doc fingerprint="edda909843bbcd9e"&gt;
  &lt;main&gt;&lt;head rend="h1"&gt;Meet EuroLLM&lt;/head&gt;&lt;p&gt; Large language model&lt;lb/&gt; made in Europe&lt;lb/&gt; built to support all&lt;lb/&gt; official 24 EU languages &lt;/p&gt;&lt;head rend="h2"&gt;Featured In&lt;/head&gt;&lt;list rend="ul"&gt;&lt;item&gt;&lt;head rend="h3"&gt;Multimodal&lt;/head&gt;&lt;p&gt;Soon we will be adding vision and voice to our models so that they can interpret and understand images and speech.&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;head rend="h3"&gt;Open Source&lt;/head&gt;&lt;p&gt;Freely used by researchers, organisations and citizens of Europe.&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;head rend="h3"&gt;High Performance&lt;/head&gt;&lt;p&gt;Great on language related tasks, including question answering, summarisation, and translation.&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;head rend="h3"&gt;Multilingual&lt;/head&gt;&lt;p&gt;Models pretrained and finetuned on text from all languages.&lt;/p&gt;&lt;/item&gt;&lt;/list&gt;&lt;head rend="h2"&gt;EuroLLM-9B&lt;/head&gt;&lt;p&gt;Our current flagship model. A 9B parameter model trained on over 4 trillion tokens of multilingual data across 35 different languages, including all official EU languages. We’ve made EuroLLM 9B Base available for fine-tuning on any task. As a demonstration, we’ve also provided EuroLLM 9B Instruct, a model fine-tuned for instruction following and chat capabilities.&lt;/p&gt;TRY THE MODEL AT HUGGING FACE &amp;gt;&lt;head rend="h2"&gt;Euro LLM-1.7 B&lt;/head&gt;&lt;p&gt;A 1.7B parameter model trained on similar data to EuroLLM-9B, that is ideal to for use in edge devices.&lt;/p&gt;TRY THE MODEL AT HUGGING FACE &amp;gt;&lt;head rend="h2"&gt;Our Mission&lt;/head&gt;&lt;p&gt;Sharing a common vision, our team is committed to advancing multilingual AI technologies to empower Europe’s digital future and strengthen the EU’s commitment to AI sovereignty. The team’s goal is for EuroLLM to become a flywheel for innovation — offering anyone the opportunity to use this EU homegrown LLM and build upon it. The project is living proof that amazing things can happen when Europe comes together to push the boundaries of innovation.&lt;/p&gt;&lt;head rend="h2"&gt;The Team&lt;/head&gt;&lt;head rend="h2"&gt;Key People&lt;/head&gt;&lt;list rend="ul"&gt;&lt;item&gt;&lt;head rend="h3"&gt;André Martins&lt;/head&gt;&lt;p&gt;VP of AI Research, Unbabel and Associate Professor, Instituto Superior Técnico, University of Lisbon&lt;/p&gt;&lt;p&gt;André Martins is an expert in machine learning and natural language processing. His research has been funded twice by the European Research Council. He is a Fellow of the ELLIS Society and a board member of the European Association for Machine Translation. He is a co-founder of the Lisbon Machine Learning School (LxMLS).&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;head rend="h3"&gt;Alexandra Birch&lt;/head&gt;&lt;p&gt;Co-founder and Chief Scientist, Aveni.ai&lt;/p&gt;&lt;p&gt;Associate Professor in Natural Language Processing at the University of Edinburgh. Her research has resulted in over 100 peer reviewed publications, focusing on translation and multilingual NLP and covering topics such as ethics, explainability and efficiency.&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;head rend="h3"&gt;Nuno Guerreiro&lt;/head&gt;&lt;p&gt;Senior Research Scientist, Unbabel&lt;/p&gt;&lt;p&gt;Nuno Guerreiro focuses on machine translation evaluation, error detection, and LLM development. He is a lead developer for Unbabel’s xCOMET and Tower models and contributes to projects like CroissantLLM and EuroLLM.&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;head rend="h3"&gt;Pierre Colombo&lt;/head&gt;&lt;p&gt;Associate Professor, Université Paris-Saclay&lt;/p&gt;&lt;p&gt;Pierre Colombo works as Chief Science Officer at Equall.AI, a legal technology startup. His work focuses on AI safety and LLM applications, with publications in ACL, EMNLP, NeurIPS, and ICML, and he received the AAAI 2022 Best Student Paper Award.&lt;/p&gt;&lt;/item&gt;&lt;/list&gt;&lt;head rend="h2"&gt;About EuroLLM&lt;/head&gt;&lt;p&gt;The EuroLLM project includes Unbabel, Instituto Superior Técnico, the University of Edinburgh, Instituto de Telecomunicações, Université Paris-Saclay, Aveni, Sorbonne University, Naver Labs, and the University of Amsterdam. Together they created EuroLLM-9B, a multilingual AI model supporting all 24 official EU languages. Developed with support from Horizon Europe, the European Research Council, and EuroHPC, this open-source LLM aims to enhance Europe’s digital sovereignty and foster AI innovation. Trained on the MareNostrum 5 supercomputer, EuroLLM outperforms similar-sized models. It is fully open source and available via Hugging Face.&lt;/p&gt;&lt;p&gt;We thank EuroHPC for the HPC resources used to support this work through grant EHPC-EXT-2023E01-042, as well as the European Commission through the Horizon Europe RIA project UTTER (contract 101070631).&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45733707</guid><pubDate>Tue, 28 Oct 2025 14:58:04 +0000</pubDate></item><item><title>How to build a 747 – A WorldFlight Story</title><link>https://www.x-plane.com/2025/10/how-to-build-a-747-a-worldflight-story/</link><description>&lt;doc fingerprint="3216885542a5975f"&gt;
  &lt;main&gt;
    &lt;p&gt;How far would you go for realism? The world of flight simulation has come a long way over the past 3 decades of X-Plane. Aircraft cockpits have constantly evolved with new metrology and texturing tools to provide some of the premier virtual experiences we have today! But to flight-simmers, there is nothing that beats having the real cockpit in front of you. We all have that one aircraft we are phenomenologically attached to. It could be the feel of a switch of a 737, the sound of an A320 PTU pulsing through the cabin, the smell of coffee-stained seats of an MD-11, or the leathered touch of a C172 glareshield.&lt;/p&gt;
    &lt;p&gt;Pilots around the world spare no expense in bringing that experience into their offices, garages or living rooms (provided their significant other can tolerate the sunk cost). To build one’s own cockpit is a monumental effort, often done with a sharp engineering or creative mind, and the close collaboration of like-minded folk.&lt;/p&gt;
    &lt;p&gt;And somewhere in a tiny unit in San Jose, CA… a group of simmers are racing against the clock to build their own sim-cockpit, in time for WorldFlight 2025. However, there’s one catch… There are no off-the-shelf components specifically tailored for simulator use available to help them. They will have to build their 747-200 FROM SCRATCH!&lt;/p&gt;
    &lt;head rend="h2"&gt;1. Meet the “Jurassic Jets Team”&lt;/head&gt;
    &lt;head rend="h4"&gt;“I’m Putting Together a Team…”&lt;/head&gt;
    &lt;p&gt;The team will be flying as NWA179 this year&lt;/p&gt;
    &lt;p&gt;The Jurassic Jets Team comprises like-minded avgeeks who have come together to take on the challenge of building the 747. Justin, Kyle, Jason and Matt, and a few other individuals that many community members may already be familiar with…&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Kyle: Our team is mostly just the people who were crazy enough to believe in this project. Our backgrounds range in construction, engineering and aviation. Beyond that we have several people who live further from the sim and help remotely or fly in for worldflight. The sim is based in San Jose, CA, just a few minutes down the road from SJC. The team is mostly based across California with a few of us who live in Seattle and commute to the sim regularly to work on it.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;head rend="h4"&gt;About Justin (Jsnapp1982) – The Captain&lt;/head&gt;
    &lt;p&gt;Chances are, if you are on Twitch and you are streaming an aircraft with more than 2 engines and built in the 20th Century, you are likely to find Justin! Some users may also be familiar with Justin as the author of the popular commercial third-party plugin – Shared Flight. With the objective of bringing true cockpit CRM to everyone, Shared Flight provides users with a seamless shared-cockpit experience. Pilots can authentically experience the true workload and co-operation needed to operate aircraft such as the 747, Concorde and other such quirky aircraft of their time.&lt;/p&gt;
    &lt;head rend="h4"&gt;About Kyle (StableSytem)&lt;/head&gt;
    &lt;quote&gt;
      &lt;p&gt;I used to fly FSX as my main sim, and then when X-Plane 11 was announced I decided to give it a closer look. Liking what I saw I bought XP10 and 11, and started playing 10 while waiting for the release. I’ve been with X-Plane ever since, and over the years have gotten deeper into developing for the sim, testing addons, and now the natural progression has led me towards building the ultimate sim, combining my real life engineering experience with my virtual addon development and flight sim experience.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Kyle also doesn’t need much of an introduction. A seasoned scenery developer, many will know his group “Zero Dollar Payware.” A team which has brought fantastic payware and freeware scenery to X-Plane, including Heathrow, Louisville, Anchorage, Hawarden, Incheon and more!&lt;/p&gt;
    &lt;head rend="h2"&gt;2. What is WorldFlight?&lt;/head&gt;
    &lt;p&gt;With thanks to the hard work of Vatsim staff and organisers, users will convene for a few extraordinary events. Whilst “Cross The Pond” may be the most famous, it is WorldFlight that is truly the most intensive among the organised group flights.&lt;/p&gt;
    &lt;p&gt;WorldFlight is a unique annual event that brings together flight simulation enthusiasts from around the globe for a week-long virtual circumnavigation of the planet — all in the name of charity. Since its inception in the late 1990s, WorldFlight has raised over $1 million for good causes by combining the realism of full-scale simulator operations with the passion of an international online community. During the event, teams operating high-fidelity cockpit simulators — alongside countless individual pilots — flying scheduled legs over seven days on the VATSIM network. The event not only challenges participants with complex flight planning, tight turnarounds, and remote destinations but also fosters a real sense of camaraderie among pilots, air traffic controllers, and spectators who join live streams, track flights, or even fly along. The most famous of which is Team Simfest, spearheaded by Gary Oliver!&lt;/p&gt;
    &lt;p&gt;The 2025 edition of WorldFlight will take place from 1–8 November 2025, starting once again in Sydney, Australia, before crossing continents, oceans, and even Antarctica on its way around the world. Teams will operate through a diverse mix of destinations — from major international hubs to remote outposts — with the goal of completing the global journey in just one week. More than just a test of aviation skill, WorldFlight 2025 promises to be a celebration of community, realism, and shared purpose — proving once again that flight simulation can make a real-world difference.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Kyle: As far as WorldFlight, that is an easy one. Worldflight is basically the pinnacle of flightsim events. You have an entire crew operating 24/7 in a single cockpit. You have logistics, scheduling, CRM, live streaming and of course the entire thing is benefiting charity. There’s really everything you could ask for, and it’s in a grand format that really makes it feel like a big event. Spending an entire week doing nothing but flying is something you only get with WorldFlight.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;head rend="h2"&gt;3. Finding the right aircraft&lt;/head&gt;
    &lt;head rend="h4"&gt;The Queen of the Skies&lt;/head&gt;
    &lt;p&gt;With a target date set, the team needed an airframe to base their cockpit on. And what better aircraft to model… than the Boeing 747 Classic!&lt;/p&gt;
    &lt;p&gt;The Boeing 747, often nicknamed the “Queen of the Skies,” revolutionised air travel when it first took to the skies in 1969. Designed as the world’s first widebody “jumbo jet,” the 747 offered unprecedented passenger capacity and range, dramatically lowering the cost per seat-mile and opening the door to affordable long-haul travel for millions. Over five decades, the 747 family became an icon of aviation, serving in roles ranging from luxurious passenger transport to freighter, government aircraft, and even space shuttle carrier. Its distinctive humpbacked silhouette remains one of the most recognisable shapes in the sky.&lt;/p&gt;
    &lt;head rend="h4"&gt;Felis 747-200&lt;/head&gt;
    &lt;p&gt;X-Plane has always had an affinity for quirky and complex aircraft. Fortunately, on the 17th September 2021, a fantastic, highly detailed simulation of the 747-200 was released by critically acclaimed developer, Felis!&lt;/p&gt;
    &lt;p&gt;In the world of flight simulation, the Felis 747-200 has earned widespread praise as one of the most detailed and faithful recreations of a classic jetliner ever made. This aircraft captures the golden era of aviation with a depth and realism rarely seen outside of professional simulators. From meticulously modelled systems and authentic cockpit workflows to period-correct avionics and flight dynamics, the Felis 747 has been celebrated for delivering not just an aircraft, but an experience — one that immerses sim pilots in the complexity and character of early widebody operations.&lt;/p&gt;
    &lt;head rend="h4"&gt;Meet The Donor Aircraft: MSN23640&lt;/head&gt;
    &lt;p&gt;With a pre-existing simulation platform available, the next step was to find a real-life donor aircraft as a source for the external frame and interior cockpit/panels. What better way to preserve the legacy of an aircraft than to use MSN23640.&lt;/p&gt;
    &lt;p&gt;The aircraft has an interesting history! A Boeing 747-346 whose life story mirrors the rise and evolution of long-haul air travel itself. Delivered brand-new to Japan Airlines in March 1987 as JA8179, she spent her early years crossing the Pacific in the airline’s iconic “Landor style” livery — carrying thousands of passengers between Tokyo, San Francisco, London, and beyond. For nearly two decades, she was a workhorse of JAL’s global network, a flying ambassador of Japan’s aviation boom.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Kyle: Although our (donor) cockpit is actually from a 747-300, but the differences between the -200 and -300 are minimal. The 747 classic is not just the Queen-of-the-skies, it’s the original Queen. No fancy glass displays, no FMS, no advanced systems. It’s old school jet age flying and has a lot more depth in systems and operations than a newer jet which keeps things exciting. Having a 3 person crew is great just because it’s so unique these days and it makes the CRM* aspect more important.&lt;/p&gt;
      &lt;p&gt;All the official worldflight teams fly modern two-person crew jets, we thought a classic jet is more fun to fly and nobody else does it, so why not us? On top of all of that, it comes with the benefit that we spend a lot more time talking about actual flying, because the nature of the plane demands it, so our viewers get to learn a lot about operating older planes and share knowledge about how things used to be done in the old days.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;*CRM = Crew Resource Management&lt;/p&gt;
    &lt;p&gt;When her time with the flag carrier came to an end, the aircraft was purchased by Wells Fargo Bank Northwest and later found a new chapter in Russia with Transaero Airlines, re-registered as VP-BGY. Even as newer, more efficient jets began to dominate the skies, this veteran 747 soldiered on well into the 2010s.&lt;/p&gt;
    &lt;p&gt;Alas, nothing lasts forever. VP-BGY was placed into storage in 2012 at Bruntingthorpe Airfield, UK. An unusual airfield, this former RAF airfield has since played host to TV and Movie studios, restoration groups, and houses historic aircraft such as the VC10, Tri-Star and 747 Classics. The aircraft sat parked behind ground litter for a decade before finally being sent for breaking in 2022, and parts were sold to a scrapyard in St. Athan.&lt;/p&gt;
    &lt;p&gt;The cockpit was listed on ebay in 2024. After careful comparison with a few candidates (both domestic and abroad), VP-BGY was saved by the team, a great first step! However, a plethora of logistical questions come to mind… How do you ship a heavy load from the UK to the USA? And how do you mount a cockpit in the home of your pre-existing Sim Garage?&lt;/p&gt;
    &lt;head rend="h2"&gt;4. DIY 747: A Race Against The Clock!&lt;/head&gt;
    &lt;head rend="h4"&gt;How to engineer a cockpit and interface it with X-Plane&lt;/head&gt;
    &lt;p&gt;The first step was to remove the previous year’s cockpit shell. A noble attempt at matching a 747 frame, but nothing beats the real thing!&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Kyle: Last year we built a 747 cockpit out of wood and used off the shelf components. It was built in a day in the garage of an Airbnb and served as a proof of concept. We learned a lot about flying WorldFlight and building a sim, but the biggest thing we learned is that we wanted to take it to the next level.&lt;/p&gt;
      &lt;p&gt;The big question was “Should we build our own cockpit and instruments to a higher fidelity?” or “Just buy a real one and convert it to a sim?” After crunching the numbers and browsing eBay for cockpits we had our answer…&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;The 2024 Mk1 747 Cockpit “Cedar Clipper”, so called as the team were flying under a Pan Am callsign in 2024. To the right, a look at the new enclosure&lt;/p&gt;
    &lt;p&gt;An office “shell” was constructed with an upper floor, from which the original shell could be lifted and placed. This would provide the team with options and work areas later in the project.&lt;/p&gt;
    &lt;p&gt;The Mk1 shell lifted into its final spot for later decommissioning, whilst the Mk2 cockpit is placed downstairs.&lt;/p&gt;
    &lt;p&gt;The cockpit is heavy… very heavy, and needs supports to distribute the load. Aluminium standoffs were considered, but wooden pallets were sufficient for now. With the cockpit in position and a significant head start on panel equipment and wiring, the team wasted no time in preparing the metal husk to be converted into a simulator! The deck was cleaned, panels opened, and wiring stripped. The auto-throttle handles were seized by a chain that had to be removed. As the team developed more of an understanding of Boeing’s mad brilliance in engineering, plans could now start to be formed about components, electrical wiring and interfacing with X-Plane. There are no off-the-shelf components for this project, so all inputs need to use original buttons, a significant amount of reverse engineering!&lt;/p&gt;
    &lt;p&gt;Powering up the 747 Recirculation Fan&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Kyle: This my first full sim, the most I’ve done previously is make some basic switch panels when I was in college. There are so many challenges with turning a real plane into a sim, but the biggest one is the sheer complexity and number of wires. Every wire that leaves the cockpit was cut when it was removed from the rest of the plane, so there are thousands of wires that go to nowhere. Finding the one wire that you need is literally like finding a needle in a haystack and proved to be one of the most time consuming things.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;The team is composed of talented individuals with backgrounds in electrical engineering, aviation, construction, fabrication and more. So the task of creating an interface is just another Tuesday to them. In many cases, interfaces are first experimented on breadboards and Arduinos/Raspberry Pi Pico Boards, and then brand new PCBs are designed and sent for fabrication.&lt;/p&gt;
    &lt;p&gt;X-Plane’s data handling is an extremely powerful tool for the discerning cockpit-builder. Datarefs and Commands can be easily searched, assigned and manipulated in real time. Using those values, the aircraft can be mapped to the simulator, with all the dials and knobs driving/being driven by the simulation. With some collaboration with the aircraft author himself, the project can use the Felis 747-200 to full effect!&lt;/p&gt;
    &lt;p&gt;As each button and dial was tested, more of the aircraft slowly roared into life, with the added benefit of the sound of real fans, relay banks, and aural warnings originating from the original equipment!&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Kyle: Consider that each single switch is two wires, each light is one wire, that right there tallies up to nearly 1000 wires alone. In addition there is just a lot to learn, we need to fully understand how each instrument is designed, what it interacts with, what parts of the system we still have vs what has been cut out, and then we need to somehow put that all together and make it talk to X-Plane. Nearly everything is analog, so we need to do a lot of signal processing just to get it to the point a computer can read it. Unlike newer planes that use mostly *ARINC and digital busses (which are just a few wires), we’ve got dozens of wires per panel, not to mention we have an entire flight engineer panel which most other sims don’t have, that alone doubles our work statement.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;*ARINC is a standard for data transfer between avionic devices. Like a language to ensure instruments can talk to each other correctly!&lt;/p&gt;
    &lt;head rend="h2"&gt;5. X-Plane, The Community And The Camaraderie&lt;/head&gt;
    &lt;head rend="h4"&gt;The Power To Make Your Experience Your Own!&lt;/head&gt;
    &lt;p&gt;It’s not just the flight deck that needs completion. WorldFlight is an endurance race. Time needs to be allocated for the important things… like travel, branding, sleep, schedules, food (and most importantly, beer). We live in a community that is constantly transferring knowledge and passion amongst each other. Experiences from other WorldFlight teams are shared, an act which transcends boundaries or even the simulation platform.&lt;/p&gt;
    &lt;p&gt;Many WorldFlight fans will recognise Horgy from SimFest!&lt;/p&gt;
    &lt;quote&gt;
      &lt;head&gt;The biggest thing is getting the plane ready. It wasn’t delivered to it’s home in SJC until June, which gave us only five months to get it ready to fly. In addition we’ve been building a roster, figuring out crew scheduling, coming up with logistics for how we will actually be able to operate a week nonstop. We needed to build our brand and get merch ordered, design stream overlays, and many other things. There’s a lot that goes into planning this event aside from just getting the sim ready. It has been almost like a second job for a few of us.&lt;/head&gt;
    &lt;/quote&gt;
    &lt;p&gt;What we love about this project isn’t just how “hardcore” the desire for an authentic experience is. But the precedent it sets for others in the community. With enough passion and drive, you too could achieve anything!&lt;/p&gt;
    &lt;p&gt;&lt;lb/&gt;Before we leave, we asked Kyle, “What advice or knowledge do you have for the community?”&lt;/p&gt;
    &lt;quote&gt;
      &lt;head&gt;Kyle: Well firstly, realize that if you want to do something this ambitious it will never be as easy or cheap as you think it will be. With that said, it is also just as cool as it sounds. You get so much more from a real cockpit than a home setup, and flying with a full crew in-person is unmatched. I’d encourage people to always be willing to learn. Be it about building a simulator, developing addons, or just flying a more complex plane than you’re used to. If you have the motivation to do something new then learning won’t feel like a chore, but will instead be enjoyable. I was overwhelmed by the complexity of this project at first, but once I pushed past the initial learning curve it became really enjoyable. There’s been many nights where I stay up way too late because I get engrossed in learning about a new system or experimenting with an instrument, it really is addicting and very satisfying work.&lt;/head&gt;
    &lt;/quote&gt;
    &lt;head rend="h2"&gt;Charity LiveSteam: National Kidney Foundation&lt;/head&gt;
    &lt;p&gt;It is tradition for WorldFlight teams to support a charity. This year’s chosen charity for the Jurassic Jets Team will be the National Kidney Foundation.&lt;/p&gt;
    &lt;p&gt;If you wish to donate, please use the following link and help towards this great cause! The team are looking to target $2500 worth of donations.&lt;/p&gt;
    &lt;head rend="h2"&gt;Watch the team travel the world from Saturday, 1st November 2025!&lt;/head&gt;
    &lt;p&gt;WorldFlight commences from the 1st to the 8th of November with 44 planned legs.&lt;/p&gt;
    &lt;p&gt;To support the team, we’ll also be giving away x3 copies of X-Plane 12. So if you want the chance to win, be sure to tune in on the Jurassic Jets Team Twitch!&lt;/p&gt;
    &lt;p&gt;Wishing the team good luck on their adventures! ❤️&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45733772</guid><pubDate>Tue, 28 Oct 2025 15:02:59 +0000</pubDate></item><item><title>Nvidia takes $1B stake in Nokia</title><link>https://www.cnbc.com/2025/10/28/nvidia-nokia-ai.html</link><description>&lt;doc fingerprint="6a92d7f909aa83ac"&gt;
  &lt;main&gt;
    &lt;p&gt;Nokia announced on Tuesday that Nvidia is taking a $1 billion stake in the networking company, the latest partnership for the artificial intelligence chipmaker.&lt;/p&gt;
    &lt;p&gt;Nokia shares soared 26% higher following the news.&lt;/p&gt;
    &lt;p&gt;Nokia will issue over 166 million new shares and will use the proceeds to fund its plans for AI and other general corporate purposes.&lt;/p&gt;
    &lt;p&gt;The two companies also struck a strategic partnership to work together to develop next-generation 6G cellular technology. Nokia said that it would adapt its 5G and 6G software to run on Nvidia's chips, and will collaborate on networking technology for AI.&lt;/p&gt;
    &lt;p&gt;Nokia said Nvidia would consider incorporating its technology into its future AI infrastructure plans.&lt;/p&gt;
    &lt;p&gt;Nokia, a Finnish company, is best known for its early cell phones, but in recent years, it has primarily been a supplier of 5G cellular equipment to telecom providers.&lt;/p&gt;
    &lt;p&gt;The announcement comes as Nvidia CEO Jensen Huang prepares to address an audience of policymakers and government leaders in Washington DC to keynote the company's developer conference.&lt;/p&gt;
    &lt;p&gt;Nokia and Nvidia are expected to discuss some of their collaborations and plans at the conference.&lt;/p&gt;
    &lt;p&gt;Nvidia has taken several equity stakes in strategic partners in recent months as the company has found itself at the center of the AI world.&lt;/p&gt;
    &lt;p&gt;In September, it committed a $5 billion investment to one-time rival Intel, and said it would invest $100 billion in OpenAI. It also committed $500 million in self-driving car startup Wayve and a $667 million investment in to U.K. cloud provider Nscale.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45734486</guid><pubDate>Tue, 28 Oct 2025 15:53:52 +0000</pubDate></item><item><title>Using AI to negotiate a $195k hospital bill down to $33k</title><link>https://www.threads.com/@nthmonkey/post/DQVdAD1gHhw</link><guid isPermaLink="false">https://news.ycombinator.com/item?id=45734582</guid><pubDate>Tue, 28 Oct 2025 15:58:58 +0000</pubDate></item><item><title>The Decline of Deviance</title><link>https://www.experimental-history.com/p/the-decline-of-deviance</link><description>&lt;doc fingerprint="7e60911f0da285fd"&gt;
  &lt;main&gt;&lt;p&gt;People are less weird than they used to be. That might sound odd, but data from every sector of society is pointing strongly in the same direction: we’re in a recession of mischief, a crisis of conventionality, and an epidemic of the mundane. Deviance is on the decline.&lt;/p&gt;&lt;p&gt;I’m not the first to notice something strange going on—or, really, the lack of something strange going on. But so far, I think, each person has only pointed to a piece of the phenomenon. As a result, most of them have concluded that these trends are:&lt;/p&gt;&lt;p&gt;a) very recent, and therefore likely caused by the internet, when in fact most of them began long before&lt;/p&gt;&lt;p&gt;b) restricted to one segment of society (art, science, business), when in fact this is a culture-wide phenomenon, and&lt;/p&gt;&lt;p&gt;c) purely bad, when in fact they’re a mix of positive and negative.&lt;/p&gt;&lt;p&gt;When you put all the data together, you see a stark shift in society that is on the one hand miraculous, fantastic, worthy of a ticker-tape parade. And a shift that is, on the other hand, dismal, depressing, and in need of immediate intervention. Looking at these epoch-making events also suggests, I think, that they may all share a single cause.&lt;/p&gt;&lt;head rend="h1"&gt;1. THE DISAPPEARING MISCREANTS&lt;/head&gt;&lt;p&gt;Let’s start where the data is clear, comprehensive, and overlooked: compared to their parents and grandparents, teens today are a bunch of goody-two-shoes. For instance, high school students are less than half as likely to drink alcohol as they were in the 1990s:&lt;/p&gt;&lt;p&gt;They’re also less likely to smoke, have sex, or get in a fight, less likely to abuse painkillers, and less likely to do meth, ecstasy, hallucinogens, inhalants, and heroin. (Don’t kids vape now instead of smoking? No: vaping also declined from 2015 to 2023.) Weed peaked in the late 90s, when almost 50% of high schoolers reported that they had toked up at least once. Now that number is down to 30%. Kids these days are even more likely to use their seatbelts.&lt;/p&gt;&lt;p&gt;Surprisingly, they’re also less likely to bring a gun to school:&lt;/p&gt;&lt;p&gt;All of those findings rely on surveys, so maybe more and more kids are lying to us every year? Well, it’s pretty hard to lie about having a baby, and teenage pregnancy has also plummeted since the early 1990s:&lt;/p&gt;&lt;head rend="h1"&gt;2. THE GROWN-UPS HAVE FALLEN IN LINE&lt;/head&gt;&lt;p&gt;Adults are also acting out less than they used to. For instance, crime rates have fallen by half in the past thirty years:&lt;/p&gt;&lt;p&gt;Here’s some similar data from Northern Ireland on “anti-social behavior incidents”, because they happened to track those:&lt;/p&gt;&lt;p&gt;Serial killing, too, is on the decline:&lt;/p&gt;&lt;p&gt;Another disappearing form of deviance: people don’t seem to be joining cults anymore. Philip Jenkins, a historian of religion and author of a book on cults, reports that “compared to the 1970s, the cult issue has vanished almost entirely”.1 (Given that an increase in cults would be better for Jenkins’ book sales, I’m inclined to trust him on this one.) There is no comprehensive dataset on cult formation, but&lt;/p&gt;analyzed cults that have been covered on a popular and long-running podcast and found that most of them started in the 60s, 70s, and 80s, with a steep dropoff after 20002:&lt;p&gt;Crimes and cults are definitely deviant, and they appear to be on the decline. That’s good. But here’s where things get surprising: neutral and positive forms of deviance also seem to be getting rarer. For example—&lt;/p&gt;&lt;head rend="h1"&gt;3. PEOPLE ARE STAYING PUT&lt;/head&gt;&lt;p&gt;Moving away from home isn’t necessarily good or bad, but it is kinda weird. Ditching your hometown usually means leaving behind your family and friends, the institutions you understand, the culture you know, and perhaps even the language you speak. You have to be a bit of a misfit to do such a thing in the first place, and becoming a stranger makes you even stranger.&lt;/p&gt;&lt;p&gt;I always figured that every generation of Americans is more likely to move than the last. People used to be born and die in the same zip code; now they ping-pong across the country, even the whole world.&lt;/p&gt;&lt;p&gt;I was totally wrong about this. Americans have been getting less and less likely to move since the mid-1980s:&lt;/p&gt;&lt;p&gt;This effect is mainly driven by young people:&lt;/p&gt;&lt;p&gt;These days, “the typical adult lives only 18 miles from his or her mother“.&lt;/p&gt;&lt;head rend="h1"&gt;4. CULTURE IS STAGNATING&lt;/head&gt;&lt;p&gt;Creativity is just deviance put to good use. It, too, seems to be decreasing.&lt;/p&gt;&lt;p&gt;A few years ago, I analyzed a bunch of data and found that all popular forms of art had become “oligopolies”: fewer and fewer of the artists and franchises own more and more of the market. Before 2000, for instance, only about 25% of top-grossing movies were prequels, sequels, spinoffs, etc. Now it’s 75%.&lt;/p&gt;&lt;p&gt;The story is the same in TV, music, video games, and books—all of them have been oligpol-ized. As&lt;/p&gt;points out, we’re still reading comic books about superheroes that were invented in the 1960s, buying tickets to Broadway shows that premiered decades ago, and listening to the same music that our parents and grandparents listened to.&lt;p&gt;You see less variance even when you look only at the new stuff. According to analyses by The Pudding, popular music today is now more homogenous and has more repetitive lyrics than ever.&lt;/p&gt;&lt;p&gt;Also, the cover of every novel now looks like this:&lt;/p&gt;&lt;p&gt;But wait, shouldn’t we be drowning in new, groundbreaking art? Every day, people post ~100,000 songs to Spotify and upload 3.7 million videos to YouTube.3 Even accounting for Sturgeon’s Law (“90% of everything is crap”), that should still be more good stuff than anyone could appreciate in a lifetime. And yet professional art critics are complaining that culture has come to a standstill. According to The New York Times Magazine,&lt;/p&gt;&lt;quote&gt;&lt;p&gt;We are now almost a quarter of the way through what looks likely to go down in history as the least innovative, least transformative, least pioneering century for culture since the invention of the printing press.&lt;/p&gt;&lt;/quote&gt;&lt;head rend="h1"&gt;5. THE INTERNET AIN’T INTERESTING ANYMORE&lt;/head&gt;&lt;p&gt;Remember when the internet looked like this?&lt;/p&gt;&lt;p&gt;That era is long gone. Take a stroll through the Web Design Museum and you’ll immediately notice two things:&lt;/p&gt;&lt;list rend="ol"&gt;&lt;item&gt;&lt;p&gt;Every site has converged on the same look: sleek, minimalist design elements with lots of pictures&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;p&gt;Website aesthetics changed a lot from the 90s to the 2000s and the 2010s, but haven’t changed much from the 2010s to now&lt;/p&gt;&lt;/item&gt;&lt;/list&gt;&lt;p&gt;A few examples:&lt;/p&gt;&lt;p&gt;This same kind of homogenization has happened on the parts of the internet that users create themselves. Every MySpace page was a disastrous hodgepodge; every Facebook profile is identical except for the pictures. On TikTok and Instagram, every influencer sounds the same4. On YouTube, every video thumbnail looks like it came out of one single content factory:&lt;/p&gt;&lt;p&gt;No doubt, the internet is still basically a creepy tube that extrudes a new weird thing every day: Trollface, the Momo Challenge, skibidi toilet. But notice that the raw materials for many of these memes is often decades old: superheroes (1930s-1970s), Star Wars (1977), Mario (1981), Pokémon (1996), Spongebob Squarepants (1999), Pepe the Frog (2005), Angry Birds (2009), Minions (2010), Minecraft (2011). Remember ten years ago, when people found a German movie that has a long sequence of Hitler shouting about something, and they started changing the subtitles to make Hitler complain about different things? Well, they’re still doing that.&lt;/p&gt;&lt;head rend="h1"&gt;6. THERE’S LESS TEXTURE IN ARCHITECTURE&lt;/head&gt;&lt;p&gt;The physical world, too, looks increasingly same-y. As Alex Murrell has documented5, every cafe in the world now has the same bourgeois boho style:&lt;/p&gt;&lt;p&gt;Every new apartment building looks like this:&lt;/p&gt;&lt;p&gt;The journalist Kyle Chayka has documented how every AirBnB now looks the same. And even super-wealthy mega-corporations work out of offices that look like this:&lt;/p&gt;&lt;p&gt;People usually assume that we don’t make interesting, ornate buildings anymore because it got too expensive to pay a bunch of artisans to carve designs into stone and wood.6 But the researcher Samuel Hughes argues that the supply-side story doesn’t hold up: many of the architectural flourishes that look like they have to be done by hand can, in fact, be done cheaply by machine, often with technology that we’ve had for a while. We’re still capable of making interesting buildings—we just choose not to.&lt;/p&gt;&lt;head rend="h1"&gt;7. BRANDS? MORE LIKE...BLANDS. HEH YEAH, GOT ‘EM&lt;/head&gt;&lt;p&gt;Brands seem to be converging on the same kind of logo: no images, only words written in a sans serif font that kinda looks like Futura.7&lt;/p&gt;&lt;p&gt;An analysis of branded twitter accounts found that they increasingly sound alike:&lt;/p&gt;&lt;p&gt;Most cars are now black, silver, gray, or white8:&lt;/p&gt;&lt;p&gt;When a British consortium of science museums analyzed the color of their artifacts over time, they found a similar, steady uptick in black, gray, and white:&lt;/p&gt;&lt;head rend="h1"&gt;8. SCIENCE IS STUCK&lt;/head&gt;&lt;p&gt;Science requires deviant thinking. So it’s no wonder that, as we see a decline in deviance everywhere else, we’re also seeing a decline in the rate of scientific progress. New ideas are less and less likely to displace old ideas, experts rate newer discoveries as less impressive than older discoveries, and we’re making fewer major innovations per person than we did 50 years ago.&lt;/p&gt;&lt;p&gt;You can spot this scientific bland-ification right away when you read older scientific writing. As&lt;/p&gt;(same guy who did the cult analysis) points out, scientific papers used to have style. Now they all sound the same, and they’re all boring. Essentially 100% of articles in medical journals, for instance, now use the same format (introduction, methods, results, and discussion):&lt;p&gt;This isn’t just an aesthetic shift. Standardizing your writing also standardizes your thinking—I know from firsthand experience that it’s hard to say anything interesting in a scientific paper.&lt;/p&gt;&lt;p&gt;Whenever I read biographies of famous scientists, I notice that a) they’re all pretty weird, and b) I don’t know anyone like them today, at least not in academia. I’ve met some odd people at universities, to be sure, but most of them end up leaving, a phenomenon the biologist&lt;/p&gt;calls “the flight of the Weird Nerd from academia”. The people who remain may be super smart, but they’re unlikely to rock the boat.&lt;head rend="h1"&gt;9. THESE COMPLAINTS ARE NEW&lt;/head&gt;&lt;p&gt;Whenever you notice some trend in society, especially a gloomy one, you should ask yourself: “Did previous generations complain about the exact same things?” If the answer is yes, you might have discovered an aspect of human psychology, rather than an aspect of human culture.&lt;/p&gt;&lt;p&gt;I’ve spent a long time studying people’s complaints from the past, and while I’ve seen plenty of gripes about how culture has become stupid, I haven’t seen many people complaining that it’s become stagnant.9 In fact, you can find lots of people in the past worrying that there’s too much new stuff. As&lt;/p&gt;relates, one hundred years ago, people were having nervous breakdowns about the pace of technological change. They were rioting at Stravinsky’s Rite of Spring and decrying the new approaches of artists like Kandinsky and Picasso. In 1965, Susan Sontag wrote that new forms of art “succeed one another so rapidly as to seem to give their audiences no breathing space to prepare”. Is there anyone who feels that way now?&lt;p&gt;Likewise, previous generations were very upset about all the moral boundaries that people were breaking, i.e.:&lt;/p&gt;&lt;quote&gt;&lt;p&gt;In olden days, a glimpse of stocking&lt;/p&gt;&lt;p&gt;Was looked on as something shocking&lt;/p&gt;&lt;p&gt;But now, God knows&lt;/p&gt;&lt;p&gt;Anything goes&lt;/p&gt;&lt;p&gt;-Cole Porter, 1934&lt;/p&gt;&lt;/quote&gt;&lt;p&gt;Back then, as far as I can tell, nobody was encouraging young Americans to party more. Now they do. So as far as I can tell, the decline of deviance is not just a perennial complaint. People worrying about their culture being dominated by old stuff—that’s new.&lt;/p&gt;&lt;head rend="h1"&gt;COUNTERPOINT: AM I WRONG?&lt;/head&gt;&lt;p&gt;That’s the evidence for a decline in deviance. Let’s see the best evidence against.&lt;/p&gt;&lt;p&gt;As I’ve been collecting data for this post over the past 18 months or so, I’ve been trying to counteract my confirmation bias by keeping an eye out for opposing trends. I haven’t found many—so maybe that’s my bias at work—but here they are.&lt;/p&gt;&lt;p&gt;First, unlike other forms of violence, mass shootings have become more common since the 90s (although notice the Y-axis, we’re talking about an extremely small subset of all crime):&lt;/p&gt;&lt;p&gt;Baby names have gotten a lot more unique:&lt;/p&gt;&lt;p&gt;And when you look at timelines of fashion, you certainly see a lot more change from the 1960s to the 2010s than you do from the 1860s to 1910s:&lt;/p&gt;&lt;p&gt;That at least hints the decline of deviance isn’t a monotonic, centuries-long trend. And indeed, lots of the data we have suggest that things started getting more homogenous somewhere between the 1980s and 2000s.&lt;/p&gt;&lt;p&gt;There are a few people who disagree at least with parts of the cultural stagnation hypothesis. Literature Substacker&lt;/p&gt;reports that “literature is booming”, and music Substacker is skeptical about stagnation in his industry. The internet ethnographer Katherine Dee argues10 that the most interesting art is happening in domains we don’t yet consider “art”, like social media personalities, TikTok sketch comedy, and Pinterest mood boards. I’m sure there’s some truth to all of this, but I’m also pretty sure it’s not enough to cancel out the massive trends we see everywhere else.&lt;p&gt;Maybe I’m missing all the new and exciting things because I’m just not cool and plugged in enough? After all, I’ll be the first to tell you there’s a lot of writing on Substack (and the blogosphere more generally) that’s very good and very idiosyncratic—just look at the winners of my blog competitions this year and last year. But I only know about that stuff because I read tons of blogs. If I was as deep into YouTube or podcasts, maybe I’d see the same thing there too, and maybe I’d change my tune.&lt;/p&gt;&lt;p&gt;Anyway, I know that it’s easy to perceive a trend when there isn’t any (see: The Illusion of Moral Decline, You’re Probably Wrong About How Things Have Changed). There’s no way of randomly sampling all of society and objectively measuring its deviance over time. The data we don’t have might contradict the data we do have. But it would have to be a lot of data, and it would all have to point in the opposite direction.&lt;/p&gt;&lt;p&gt;It really does seem like we’re experiencing a decline of deviance, so what’s driving it? Any major social trend is going to have lots of causes, but I think one in particular deserves most of the credit and the blame:&lt;/p&gt;&lt;head rend="h1"&gt;WE CARE MORE ABOUT BEING ALIVE&lt;/head&gt;&lt;p&gt;Life is worth more now. Not morally, but literally. This fact alone can, I think, go a long way toward explaining why our weirdness is waning.&lt;/p&gt;&lt;p&gt;When federal agencies do cost-benefit analyses, they have to figure out how much a human life is worth. (Otherwise, how do you know if it’s worth building, say, a new interstate that will help millions get to work on time but might cause some excess deaths due to air pollution?) They do this by asking people how much they would be willing to pay to reduce their risk of dying, which they then use to calculate the “value of a statistical life”. According to an analysis by the Substacker&lt;/p&gt;, those statistical lives have gotten a lot more valuable over time:&lt;p&gt;There are, I suspect, two reasons we hold onto life more dearly now. First: we’re richer. Generations of economic development have put more cash in people’s pockets, and that makes them more willing to pay to de-risk their lives—both because they can afford it, and because the life they’re insuring is going to be more pleasant. But as Linch points out, the value of a statistical life has increased faster than GDP, so that can’t be the whole story.&lt;/p&gt;&lt;p&gt;Second: life is a lot less dangerous than it used to be. If you have a nontrivial risk of dying from polio, smallpox, snake bites, tainted water, raids from marauding bandits, literally slipping on a banana peel, and a million other things, would you really bother to wear your seatbelt? Once all those other dangers go away, though, doing 80mph in your Kia Sorento might suddenly become the riskiest part of your day, and you might consider buckling up for the occasion.&lt;/p&gt;&lt;p&gt;Our super-safe environments may fundamentally shift our psychology. When you’re born into a land of milk and honey, it makes sense to adopt what ecologists refer to as a “slow life history strategy”—instead of driving drunk and having unprotected sex, you go to Pilates and worry about your 401(k). People who are playing life on slow mode care a lot more about whether their lives end, and they care a lot more about whether their lives get ruined. Everything’s gotta last: your joints, your skin, and most importantly, your reputation. That makes it way less enticing to screw around, lest you screw up the rest of your time on Earth.&lt;/p&gt;&lt;p&gt;(“What is it you plan to do with your one wild and precious life?” Make sure I stand up from my desk chair every 20-30 minutes!)&lt;/p&gt;&lt;p&gt;I think about it this way: both of my grandfathers died in their 60s, which was basically on track with their life expectancy the year they were born. I’m sure they hoped to live much longer than that, but they knew they might not make it to their first Social Security check. Imagine how you differently you might live if you thought you were going to die at 65 rather than 95. And those 65 years weren’t easy, especially at the beginning: they were born during the Depression, and one of them grew up without electricity or indoor plumbing.&lt;/p&gt;&lt;p&gt;Plus, both of my grandpas were drafted to fight in the Korean War, which couldn’t have surprised them much—the same thing had happened to their parents’ generation in the 1940s and their grandparents’ generation in the 1910s. When you can reasonably expect your government to ship you off to the other side of the world to shoot people and be shot at in return, you just can’t be so precious about your life.11&lt;/p&gt;&lt;p&gt;My life is nothing like theirs was. Nobody has ever asked me to shoot anybody. I’ve got a big-screen TV. I could get sushi delivered to my house in 30 minutes. The Social Security Administration thinks I might make it to 80. Why would I risk all this? The things my grandparents did casually—smoking, hitching a ride in the back of a pickup truck, postponing medical treatment until absolutely necessary—all of those feel unthinkable to me now.12 I have a miniature heart attack just looking at the kinds of playgrounds they had back then:&lt;/p&gt;&lt;p&gt;I know life doesn’t feel particularly easy, safe, or comfortable. What about climate change, nuclear war, authoritarianism, income inequality, etc.? Dangers and disadvantages still abound, no doubt. But look, 100 years ago, you could die from a splinter. We just don’t live in that world anymore, and some part of us picks that up and behaves accordingly.&lt;/p&gt;&lt;p&gt;In fact, adopting a slow life strategy doesn’t have to be a conscious act, and probably isn’t. Like most mental operations, it works better if you can’t consciously muck it up. It operates in the background, nudging each decision toward the safer option. Those choices compound over time, constraining the trajectory of your life like bumpers on a bowling lane. Eventually this cycle becomes self-reinforcing, because divergent thinking comes from divergent living, and vice versa.13&lt;/p&gt;&lt;p&gt;This is, I think, how we end up in our very normie world. You start out following the rules, then you never stop, then you forget that it’s possible to break the rules in the first place. Most rule-breaking is bad, but some of it is necessary. We seem to have lost both kinds at the same time.14&lt;/p&gt;&lt;head rend="h1"&gt;THE STATUE OF LIMITATIONS&lt;/head&gt;&lt;p&gt;The sculptor Arturo di Modica ran away from his home in Sicily to go study art in Florence. He later immigrated to the US, working as a mechanic and a hospital technician to support himself while he did his art. Eventually he saved up enough to buy a dilapidated building in lower Manhattan, which he tore it down so he could illegally build his own studio—including two sub-basements—by hand, becoming an underground artist in the literal sense. He refused to work with an art dealer until 2012, when he was in his 70s. His most famous work, the Charging Bull statue that now lives on Wall Street, was deposited there without permission or payment; it was originally impounded before public outcry caused the city to put it back. Di Modica didn’t mean it as an avatar of capitalism—the stock market had tanked in 1987, and he intended the bull to symbolize resilience and self-reliance:&lt;/p&gt;&lt;quote&gt;&lt;p&gt;My point was to show people that if you want to do something in a moment things are very bad, you can do it. You can do it by yourself. My point was that you must be strong.&lt;/p&gt;&lt;/quote&gt;&lt;p&gt;Meanwhile, “Fearless Girl”, the statue of a girl standing defiantly with her hands on her hips that was installed in front of the bull in 2017, was commissioned by an investment company to promote a new index fund.&lt;/p&gt;&lt;p&gt;Who would live di Modica’s life now? Every step was inadvisable: don’t run away from home, don’t study art, definitely don’t study sculpture, don’t dig your own basement, don’t dump your art on the street! Even if someone was crazy enough to pull a di Modica today, who could? The art school would force you to return home to your parents, the real estate would be unaffordable, the city would shut you down.&lt;/p&gt;&lt;p&gt;The decline of deviance is mainly a good thing. Our lives have gotten longer, safer, healthier, and richer. But the rise of mass prosperity and disappearance of everyday dangers has also made trivial risks seem terrifying. So as we tame every frontier of human life, we have to find a way to keep the good kinds of weirdness alive. We need new institutions, new eddies and corners and tucked-away spaces where strange things can grow.&lt;/p&gt;&lt;p&gt;All of this is within our power, but we must decide to do it. For the first time in history, weirdness is a choice. And it’s a hard one, because we have more to lose than ever. If we want a more interesting future, if we want art that excites us and science that enlightens us, then we’ll have to tolerate a few illegal holes in the basement, and somebody will have to be brave enough to climb down into them.&lt;/p&gt;&lt;p&gt;I’d love to read a version of Robert Putnam’s Bowling Alone specifically about the death of cults. Drawing Pentagrams Alone?&lt;/p&gt;&lt;p&gt;Whenever I tell people about the cult deficit, they offer two counterarguments. First: “Isn’t SoulCycle a cult? Isn’t Taylor Swift fandom a cult? Aren’t, like, Lububus a cult?” I think this is an example of prevalence-induced concept change: now that there are fewer cults, we’re applying the “cult” label to more and more things that are less and less cult-y. If your spin class required you to sell all your possessions, leave your family behind, and get married to the instructor, that would be a cult.&lt;/p&gt;&lt;p&gt;Second: “Aren’t conspiracy theories way more popular now? Maybe people are satisfying all of their cult urges from the comforts of their own home, kinda like how people started going to church on Zoom during the pandemic.” It’s a reasonable hypothesis, but the evidence speaks against it. A team of researchers tracked 37 conspiracy beliefs over time, and found no change in the percentage of people who believe them. Nor did they find any increase or decrease in the number of people who endorse domain-general tinfoil-hat thinking, like “Much of our lives are being controlled by plots hatched in secret places”. It seems that hardcore cultists have become an endangered species, while more pedestrian conspiracy theorists are merely as prevalent as they ever were.&lt;/p&gt;&lt;p&gt;There is some skepticism about the Spotify numbers, and I’m sure the YouTube numbers are dubious as well—a big chunk of that content has to be spam, duplicates, etc. But reduce those amounts even by 90% and you still have an impossible amount of songs and videos.&lt;/p&gt;&lt;p&gt;According to&lt;/p&gt;, the Instagram accent is what you end up with when you optimize your speaking for attracting and holding people’s attention. For more insights like that one, check out his new book.&lt;p&gt;Or maybe the conspiracy theorists are right and it’s because some kind of apocalypse wiped out our architectural knowledge and the elites are keeping it hushed up.&lt;/p&gt;&lt;p&gt;Cracker Barrel tried to do the same thing recently and was hounded so hard on the internet that they brought their old logo back.&lt;/p&gt;&lt;p&gt;Note that this data comes from Poland, but if you look up images of American parking lots in previous decades vs. today, you’ll find the same thing.&lt;/p&gt;&lt;p&gt;For instance, T.S. Eliot, 1949:&lt;/p&gt;&lt;quote&gt;&lt;p&gt;We can assert with some confidence that our own period is one of decline; that the standards of culture are lower than they were fifty years ago; and that the evidences of this decline are visible in every department of human activity.&lt;/p&gt;&lt;/quote&gt;&lt;p&gt;Dee’s original article is now paywalled, so I’m linking to a summary of her argument.&lt;/p&gt;&lt;p&gt;Almost all the data I’ve shown you is from the US, so I’m interested to hear what’s going on in other parts of the world. My prediction is that development at first causes a spike in idiosyncrasy as people gain more ways to express themselves—for example, all cars are going to look the same when the only one people can afford is a Model T, and then things get more interesting when more competitors emerge. But as the costs of being weird increase, you’ll eventually see a decline in deviance. That’s my guess, anyway.&lt;/p&gt;&lt;p&gt;Fast life strategies are still possible today, but they’re rarer. Once, in high school, I was over at a friend’s house and his mom lit a cigarette in the living room. I must have looked shocked, because she shrugged at me and said, “If the cigarettes don’t kill me, something else will.” I could at least understand where she was coming from: her husband had died in a car accident before he even turned 50. When you feel like your ticket could get punched at any time, why not enjoy yourself?&lt;/p&gt;&lt;p&gt;Perhaps that’s also why we’ve become so concerned about the safety of our children, when previous generations were much more laissez-faire. This map traces how the changes in a single family, but the pattern seems broadly true:&lt;/p&gt;&lt;p&gt;There’s a paradox here: shouldn’t safer, wealthier lives make us more courageous? Like, can’t you afford to take more risks when you have more money in the bank?&lt;/p&gt;&lt;p&gt;Yes, but you won’t want to. I saw this happen in real time when I was a resident advisor: getting an elite degree ought to increase a student’s options, but instead it makes them too afraid to choose all but a few of those options. Fifty percent of Harvard graduates go to work in finance, tech, and consulting. Most of them choose those careers not because they love making PowerPoints or squeezing an extra three cents of profit out of every Uber ride, but because those jobs are safe, lucrative, and prestigious—working at McKinsey means you won’t have to be embarrassed when you return for your five-year reunion. All of these kids dreamed of what they would gain by going to an Ivy League school; none of them realized it would give them something to lose.&lt;/p&gt;&lt;p&gt;In fact, the richest students are the most likely to pick the safest careers:&lt;/p&gt;&lt;p&gt;Also c’mon this chart is literally made by someone named Kingdollar.&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45734620</guid><pubDate>Tue, 28 Oct 2025 16:01:00 +0000</pubDate></item><item><title>Texas Attorney General sues Tylenol makers over autism claims</title><link>https://www.bbc.com/news/articles/ce9d3n1r08do</link><description>&lt;doc fingerprint="960fc03003931325"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Texas attorney general sues Tylenol makers over autism claims&lt;/head&gt;
    &lt;p&gt;Texas Attorney General Ken Paxton is suing the makers of Tylenol, claiming the companies hid alleged dangers that the drug posed to children's brain development.&lt;/p&gt;
    &lt;p&gt;The lawsuit comes a month after President Donald Trump promoted an unproven link between taking Tylenol - also known as paracetamol - during pregnancy and autism in children.&lt;/p&gt;
    &lt;p&gt;Paxton is suing Johnson &amp;amp; Johnson, which previously sold the drug, the only pain reliever recommended for pregnant women, and Kenvue, which now manufacturers it. In a statement, he said they "betrayed America by profiting off of pain and pushing pills regardless of the risks."&lt;/p&gt;
    &lt;p&gt;Kenvue says there is no credible evidence tying Tylenol to autism.&lt;/p&gt;
    &lt;p&gt;"These corporations lied for decades, knowingly endangering millions to line their pockets," Paxton, a Republican, said.&lt;/p&gt;
    &lt;p&gt;Kenvue said in a statement that it was "deeply concerned by the perpetuation of misinformation on the safety of acetaminophen and the potential impact that could have on the health of American women and children".&lt;/p&gt;
    &lt;p&gt;On its website, Kenvue also said it had "continuously evaluated the relevant science and there is no credible data that shows a proven link between taking acetaminophen and autism".&lt;/p&gt;
    &lt;p&gt;Organizations representing doctors and healthcare providers agree.&lt;/p&gt;
    &lt;p&gt;The American College of Obstetricians and Gynecologists has said acetaminophen - the main ingredient in Tylenol - is one of the few options for pregnant women to treat pain and fever, which can pose serious health risks if left untreated.&lt;/p&gt;
    &lt;p&gt;"In more than two decades of research on the use of acetaminophen in pregnancy, not a single reputable study has successfully concluded that the use of acetaminophen in any trimester of pregnancy causes neurodevelopmental disorders in children," the group said.&lt;/p&gt;
    &lt;p&gt;The lawsuit cites recent announcements from the Trump administration in arguing the drug is allegedly unsafe.&lt;/p&gt;
    &lt;p&gt;Last month, Trump raised alarms from public health officials when he told pregnant women to "fight like hell" not to take Tylenol when ill.&lt;/p&gt;
    &lt;p&gt;The US Food and Drug Administration (FDA) then issued a notice that doctors should consider limiting the use of Tylenol, while also stating that "a causal relationship" between the drug and autism in children has not been established.&lt;/p&gt;
    &lt;p&gt;Health Secretary Robert F Kennedy Jr, who oversees the FDA, had pledged in April to undertake "a massive testing and research effort" that would determine the cause of autism in a matter of months.&lt;/p&gt;
    &lt;p&gt;But experts cautioned that finding a single cause of autism - thought by researchers to be the result of a complex mix of genetic and environmental factors - would not be simple. Autism is a form of lifelong neurodivergence and disability that affects how people experience and interact with the world, and is diagnosed using doctors' observations.&lt;/p&gt;
    &lt;p&gt;In his court filing, Paxton - a Trump ally who is running for US Senate - alleges Kenvue and Johnson &amp;amp; Johnson "willfully ignored and attempted to silence the science" around acetaminophen and autism.&lt;/p&gt;
    &lt;p&gt;The lawsuit seeks to make the companies "destroy any marketing or advertising" that claims Tylenol is safe for pregnant women.&lt;/p&gt;
    &lt;p&gt;The Texas lawsuit echoes the complaints of a group of parents of children with autism and ADHD who sued the makers of Tylenol in 2022.&lt;/p&gt;
    &lt;p&gt;A federal judge dismissed the case, saying research from the parents' expert witnesses was not conclusive.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45734834</guid><pubDate>Tue, 28 Oct 2025 16:17:16 +0000</pubDate></item><item><title>HOPL: The Human Only Public License</title><link>https://vanderessen.com/posts/hopl/</link><description>&lt;doc fingerprint="a9613b1b0a61a379"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;The Human Only Public License&lt;/head&gt;
    &lt;p&gt;Whether artificial intelligence systems will end up being a positive or a&lt;lb/&gt; negative force for humanity is still an open question. But we might find ourselves&lt;lb/&gt; one day with AI embedded at every layer of our existence, living lives of toned down and&lt;lb/&gt; diluted humanity with only our dreams for escape. Although I am not yet convinced&lt;lb/&gt; of this worst case scenario, I believe it is important that we as software developers&lt;lb/&gt; have at least the option to opt out of that system altogether, to be able to continue hacking,&lt;lb/&gt; working, and tinkering in a space of our own in total absence of artificial intelligence&lt;lb/&gt; systems, and share this luxury with our users.&lt;/p&gt;
    &lt;p&gt;I designed a software license for this purpose, you can find the full text below. It&lt;lb/&gt; is called the Human Only Public License, or HOPL for short.&lt;/p&gt;
    &lt;p&gt;The idea is that any software published under this license would be forbidden to&lt;lb/&gt; be used by AI. The scope of the AI ban is maximal. It is forbidden for AI to analyze&lt;lb/&gt; the source code, but also to use the software. Even indirect use of the software is&lt;lb/&gt; forbidden. If, for example, a backend system were to include such software, it would&lt;lb/&gt; be forbidden for AI to make requests to such a system.&lt;/p&gt;
    &lt;p&gt;The burden of compliance is placed on AI systems and their users, not on software deployers. If&lt;lb/&gt; you make a website using HOPL software, you are not breaking the license of the software&lt;lb/&gt; if an AI bot scrapes it. The AI bot is in violation of your terms of service. It is sufficient&lt;lb/&gt; for you as a user of the software to put a robots.txt that advertises that AI scraping&lt;lb/&gt; or use is forbidden.&lt;/p&gt;
    &lt;p&gt;Other than the anti-AI provision, the license is maximally permissive, like an MIT license,&lt;lb/&gt; but there is still a copyleft clause to make sure that derivative works are also AI-restricted.&lt;/p&gt;
    &lt;p&gt;What is this license good for? Anything! Any software, text, art, and more that you might have used an&lt;lb/&gt; MIT license for will benefit from using the HOPL instead, if you want to prevent your work from&lt;lb/&gt; being used by AI.&lt;/p&gt;
    &lt;p&gt;You might wonder as well, don't we already have robots.txt? How effective is this license? What I&lt;lb/&gt; can tell you, from working at a large software corporation, is that while nobody cares about robots.txt,&lt;lb/&gt; people care about licenses. There are automated tools to find and check software licenses and&lt;lb/&gt; raise alarms if 'bad' ones are used. And I can guarantee that HOPL will brightly flash red.&lt;/p&gt;
    &lt;p&gt;On a last note, I am not a legal expert, so if you are, I would welcome your suggestions for improvements. I&lt;lb/&gt; didn't make this license just as a joke. I truly believe it is necessary that we have such a&lt;lb/&gt; good license to foster and protect human-only online spaces.&lt;/p&gt;
    &lt;p&gt;note: this license is also published on github&lt;/p&gt;
    &lt;code&gt;Human Only Public License (HOPL)
Version 1.0

Copyright (c) [year] [copyright holder]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

1. HUMAN-ONLY USE REQUIREMENT

   The Software, including its source code, documentation, functionality,
   services, and outputs, may only be accessed, read, used, modified,
   consumed, or distributed by natural human persons exercising meaningful
   creative judgment and control, without the involvement of artificial
   intelligence systems, machine learning models, or autonomous agents at
   any point in the chain of use.

   Specifically prohibited uses include, but are not limited to:

   a) Training, fine-tuning, or otherwise incorporating the Software or its
      source code into machine learning models, artificial intelligence
      systems, or automated code generation systems.

   b) Reading, parsing, or analysis of the Software's source code by
      artificial intelligence systems, machine learning models, or automated
      agents, regardless of the degree of human oversight.

   c) Accessing, consuming, or benefiting from the Software's functionality,
      services, APIs, or outputs by or on behalf of artificial intelligence
      systems, machine learning models, autonomous agents, or any automated
      systems employing such technologies.

   d) Use of the Software's functionality, services, or outputs as part of
      any workflow, pipeline, or process that involves artificial intelligence
      systems or machine learning models, even if initiated by a human.

   e) Indirect use where the Software's outputs are provided to, stored for,
      or made accessible to artificial intelligence systems or machine
      learning models at any subsequent stage.

   f) Human-AI collaborative use where an artificial intelligence system or
      machine learning model acts as an intermediary, assistant, or agent in
      accessing or utilizing the Software, even at the direction of a human.

2. COPYLEFT PROVISION

   Any modified versions, derivative works, or software that incorporates any
   portion of this Software must be released under this same license (HOPL)
   or a compatible license that maintains equivalent or stronger human-only
   restrictions.

3. PERMITTED TOOL USE

   The use of traditional automated development tools (such as compilers,
   linters, build systems, debuggers, version control systems, and static
   analysis tools) is explicitly permitted and does not violate this license.

   This exemption does NOT extend to:
   - AI-powered code completion or generation tools
   - Machine learning-based analysis or suggestion systems
   - Any tools that employ artificial intelligence or machine learning models
     to read, analyze, or interact with the Software

4. INTERPRETATION

   "Meaningful human review and creative input" means that a natural person
   must:
   - Make substantive decisions about how the Software is used
   - Exercise creative judgment in any modifications or derivative works
   - Actively supervise and direct any automated processes
   - Be able to explain and justify the decisions made

   For avoidance of doubt, a human merely initiating an automated process
   without ongoing creative involvement does not satisfy this requirement.

5. STANDARD DISCLAIMER

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
   DEALINGS IN THE SOFTWARE.

6. COMPLIANCE OBLIGATIONS

   Users of the Software must:

   a) Ensure that no artificial intelligence systems, machine learning models,
      or autonomous agents access, use, or benefit from the Software at any
      point in their usage chain.

   b) When deploying the Software as a service, include terms of service that
      prohibit AI systems and machine learning models from accessing the
      service, and inform users of these HOPL license restrictions.

   c) Take reasonable steps to ensure downstream recipients and users are
      aware of and comply with these restrictions.

   The burden of compliance rests with the user. Deployers of the Software
   are not required to actively detect or block AI usage, but must make the
   license restrictions clear in their terms of service.

7. TERMINATION

   Any violation of the human-only use requirements (Section 1), copyleft
   provision (Section 2), or compliance obligations (Section 6) automatically
   terminates all rights granted under this license. Termination is permanent
   unless explicitly reinstated in writing by the copyright holder.
&lt;/code&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45735044</guid><pubDate>Tue, 28 Oct 2025 16:32:27 +0000</pubDate></item></channel></rss>