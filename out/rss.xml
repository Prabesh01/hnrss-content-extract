<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Hacker News: Front Page</title><link>https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml</link><description>Hacker News RSS</description><atom:link href="https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml" rel="self"/><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><language>en</language><lastBuildDate>Sun, 08 Feb 2026 18:20:52 +0000</lastBuildDate><item><title>Matchlock – Secures AI agent workloads with a Linux-based sandbox</title><link>https://github.com/jingkaihe/matchlock</link><description>&lt;doc fingerprint="50b75d109ef028e2"&gt;
  &lt;main&gt;
    &lt;p&gt;Matchlock is a CLI tool for running AI agents in ephemeral microVMs - with network allowlisting, secret injection via MITM proxy, and everything else blocked by default. Your secrets never enter the VM.&lt;/p&gt;
    &lt;p&gt;AI agents need to run code, but giving them unrestricted access to your machine is a risk. Matchlock lets you hand an agent a full Linux environment that boots in under a second - isolated, disposable, and locked down by default.&lt;/p&gt;
    &lt;p&gt;When your agent calls an API the real credentials are injected in-flight by the host. The sandbox only ever sees a placeholder. The network is sealed by default and nothing gets out unless you say so. Even if the agent is tricked into running something malicious your keys don't leak and there's nowhere for data to go. Inside the agent gets a full Linux environment to do whatever it needs. It can install packages and write files and make a mess. Outside your machine doesn't feel a thing. Every sandbox runs on its own copy-on-write filesystem that vanishes when you're done. Same CLI and same behaviour whether you're on a Linux server or a MacBook.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Linux with KVM support&lt;/item&gt;
      &lt;item&gt;macOS on Apple Silicon&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;brew tap jingkaihe/essentials
brew install matchlock&lt;/code&gt;
    &lt;code&gt;# Basic
matchlock run --image alpine:latest cat /etc/os-release
matchlock run --image alpine:latest -it sh

# Network allowlist
matchlock run --image python:3.12-alpine \
  --allow-host "api.openai.com" python agent.py

# Secret injection (never enters the VM)
export ANTHROPIC_API_KEY=sk-xxx
matchlock run --image python:3.12-alpine \
  --secret ANTHROPIC_API_KEY@api.anthropic.com python call_api.py

# Long-lived sandboxes
matchlock run --image alpine:latest --rm=false   # prints VM ID
matchlock exec vm-abc12345 -it sh                # attach to it

# Lifecycle
matchlock list | kill | rm | prune

# Build from Dockerfile (uses BuildKit-in-VM)
matchlock build -f Dockerfile -t myapp:latest .

# Pre-build rootfs from registry image (caches for faster startup)
matchlock build alpine:latest

# Image management
matchlock image ls                                           # List all images
matchlock image rm myapp:latest                              # Remove a local image
docker save myapp:latest | matchlock image import myapp:latest  # Import from tarball&lt;/code&gt;
    &lt;p&gt;Matchlock also ships with Go and Python SDKs for embedding sandboxes directly in your application. Allows you to programmatically launch VMs, exec commands, stream output and write files.&lt;/p&gt;
    &lt;p&gt;Go&lt;/p&gt;
    &lt;code&gt;package main

import (
	"fmt"
	"os"

	"github.com/jingkaihe/matchlock/pkg/sdk"
)

func main() {
	client, _ := sdk.NewClient(sdk.DefaultConfig())
	defer client.Close()

	sandbox := sdk.New("alpine:latest").
		AllowHost("dl-cdn.alpinelinux.org", "api.anthropic.com").
		AddSecret("ANTHROPIC_API_KEY", os.Getenv("ANTHROPIC_API_KEY"), "api.anthropic.com")

	client.Launch(sandbox)
	client.Exec("apk add --no-cache curl")

	// The VM only ever sees a placeholder - the real key never enters the sandbox
	result, _ := client.Exec("echo $ANTHROPIC_API_KEY")
	fmt.Print(result.Stdout) // prints "SANDBOX_SECRET_a1b2c3d4..."

	curlCmd := `curl -s --no-buffer https://api.anthropic.com/v1/messages \
  -H "content-type: application/json" \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -d '{"model":"claude-haiku-4-5-20251001","max_tokens":1024,"stream":true,
       "messages":[{"role":"user","content":"Explain TCP to me"}]}'`
	client.ExecStream(curlCmd, os.Stdout, os.Stderr)
}&lt;/code&gt;
    &lt;p&gt;Python (PyPI)&lt;/p&gt;
    &lt;code&gt;pip install matchlock
# or
uv add matchlock&lt;/code&gt;
    &lt;code&gt;import os
import sys

from matchlock import Client, Config, Sandbox

sandbox = (
    Sandbox("alpine:latest")
    .allow_host("dl-cdn.alpinelinux.org", "api.anthropic.com")
    .add_secret(
        "ANTHROPIC_API_KEY", os.environ["ANTHROPIC_API_KEY"], "api.anthropic.com"
    )
)

curl_cmd = """curl -s --no-buffer https://api.anthropic.com/v1/messages \
  -H "content-type: application/json" \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -d '{"model":"claude-haiku-4-5-20251001","max_tokens":1024,"stream":true,
       "messages":[{"role":"user","content":"Explain TCP/IP."}]}'"""

with Client(Config()) as client:
    client.launch(sandbox)
    client.exec("apk add --no-cache curl")
    client.exec_stream(curl_cmd, stdout=sys.stdout, stderr=sys.stderr)&lt;/code&gt;
    &lt;p&gt;See full examples in &lt;code&gt;examples/go&lt;/code&gt; and &lt;code&gt;examples/python&lt;/code&gt;.&lt;/p&gt;
    &lt;code&gt;graph LR
    subgraph Host
        CLI["Matchlock CLI"]
        Policy["Policy Engine"]
        Proxy["Transparent Proxy + TLS MITM"]
        VFS["VFS Server"]

        CLI --&amp;gt; Policy
        CLI --&amp;gt; Proxy
        Policy --&amp;gt; Proxy
    end

    subgraph VM["Micro-VM (Firecracker / Virtualization.framework)"]
        Agent["Guest Agent"]
        FUSE["/workspace (FUSE)"]
        Image["Any OCI Image (Alpine, Ubuntu, etc.)"]

        Agent --- Image
        FUSE --- Image
    end

    Proxy -- "vsock :5000" --&amp;gt; Agent
    VFS -- "vsock :5001" --&amp;gt; FUSE
&lt;/code&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Platform&lt;/cell&gt;
        &lt;cell role="head"&gt;Mode&lt;/cell&gt;
        &lt;cell role="head"&gt;Mechanism&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Linux&lt;/cell&gt;
        &lt;cell&gt;Transparent proxy&lt;/cell&gt;
        &lt;cell&gt;nftables DNAT on ports 80/443&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;macOS&lt;/cell&gt;
        &lt;cell&gt;NAT (default)&lt;/cell&gt;
        &lt;cell&gt;Virtualization.framework built-in NAT&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;macOS&lt;/cell&gt;
        &lt;cell&gt;Interception (with &lt;code&gt;--allow-host&lt;/code&gt;/&lt;code&gt;--secret&lt;/code&gt;)&lt;/cell&gt;
        &lt;cell&gt;gVisor userspace TCP/IP at L4&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;See AGENTS.md for the full developer reference.&lt;/p&gt;
    &lt;p&gt;MIT&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46932343</guid><pubDate>Sun, 08 Feb 2026 08:07:55 +0000</pubDate></item><item><title>Reverse Engineering Raiders of the Lost Ark for the Atari 2600</title><link>https://github.com/joshuanwalker/Raiders2600</link><description>&lt;doc fingerprint="2214572a0f18b74f"&gt;
  &lt;main&gt;
    &lt;p&gt;Original Game (1982) by Atari, Inc.&lt;lb/&gt; Original Designer: Howard Scott Warshaw&lt;lb/&gt; Disassembly &amp;amp; Analysis: Dennis Debro &amp;amp; Halkun (That's me!)&lt;/p&gt;
    &lt;p&gt;This repository contains the fully reverse-engineered and commented source code for the Atari 2600 classic, Raiders of the Lost Ark.&lt;/p&gt;
    &lt;p&gt;The project has been reorganized for a clean development workflow:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;src/&lt;/code&gt;: Contains the main assembly source (&lt;code&gt;raiders.asm&lt;/code&gt;) and header files (&lt;code&gt;tia_constants.h&lt;/code&gt;).&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;bin/&lt;/code&gt;: Contains build tools (DASM) and emulator executable (Stella).&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;out/&lt;/code&gt;: Destination for compiled binaries (&lt;code&gt;.bin&lt;/code&gt;), symbol files (&lt;code&gt;.sym&lt;/code&gt;), and listing files (&lt;code&gt;.lst&lt;/code&gt;). (auto generated at compile time)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;make.bat&lt;/code&gt;: Windows batch script to compile the project.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;run.bat&lt;/code&gt;: Windows batch script to launch the compiled game.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Windows OS&lt;/item&gt;
      &lt;item&gt;DASM: &lt;code&gt;dasm.exe&lt;/code&gt;must be in the&lt;code&gt;bin/&lt;/code&gt;folder.&lt;/item&gt;
      &lt;item&gt;Stella: &lt;code&gt;Stella.exe&lt;/code&gt;and&lt;code&gt;SDL2.dll&lt;/code&gt;must be in the&lt;code&gt;bin/&lt;/code&gt;folder (optional, for running).&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Run the build script from the root directory:&lt;/p&gt;
    &lt;code&gt;make.bat&lt;/code&gt;
    &lt;p&gt;Launch the compiled ROM in Stella:&lt;/p&gt;
    &lt;code&gt;run.bat&lt;/code&gt;
    &lt;p&gt;The game uses a 2-bank ROM (8KB total) with bank-switching via strobes at &lt;code&gt;BANK0STROBE&lt;/code&gt; (&lt;code&gt;$FFF8&lt;/code&gt;) and &lt;code&gt;BANK1STROBE&lt;/code&gt; (&lt;code&gt;$FFF9&lt;/code&gt;). Bank switching is done through a self-modifying code technique whare opcodes are written into zero-page RAM variables and executed in-place.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Bank 0 (&lt;code&gt;BANK0TOP&lt;/code&gt;=&lt;code&gt;$D000&lt;/code&gt;): Contains game logic — collision handling, inventory management, room event handlers, scoring, movement, input processing, and sound.&lt;/item&gt;
      &lt;item&gt;Bank 1 (&lt;code&gt;BANK1TOP&lt;/code&gt;=&lt;code&gt;$F000&lt;/code&gt;): Contains the display kernels, sprite data, playfield graphics, room handler dispatch, and music frequency tables.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Like all Atari 2600 games, the program is structured around the NTSC television signal — one complete pass through the loop produces one frame of video (~60 fps). The frame is divided into four phases: VSYNC, VBLANK, Kernel (visible picture), and Overscan. Game logic is split across VBLANK and Overscan to stay within the CPU time budgets of each phase, and the two ROM banks are switched in and out at specific points every frame.&lt;/p&gt;
    &lt;code&gt;newFrame ──spin on INTIM──►
startNewFrame
  ├── VSYNC (3 scanlines)
  │     Timers, weapon clamp, RESET check
  │
  ├── VBLANK (~37 scanlines of CPU time)
  │   ├── [Bank 0] Main game logic
  │   │     Ark Room / title ── Snake AI ──
  │   │     Event checks ── Input &amp;amp; movement ──
  │   │     Inventory ── Item use ──
  │   │     Sprite animation ── Mesa scroll
  │   │
  │   ├── [Bank 1] Room-specific handler
  │   │     Per-room AI, physics, spawning
  │   │
  │   └── [Bank 0] Pre-kernel setup
  │         Colors, NUSIZ, CTRLPF from tables
  │         setObjPosX: position all 5 TIA objects
  │         Spin on INTIM until VBLANK expires
  │
  ├── VISIBLE KERNEL (~192 scanlines)
  │   ├── [Bank 1] drawScreen preamble (5 lines)
  │   │     Clear collisions, set initial PF, enable TIA
  │   │
  │   ├── [Bank 1] Room kernel dispatch (160 lines)
  │   │     staticSpriteKernel ──── rooms 0–5
  │   │     scrollingPlayfieldKernel ── rooms 6–10
  │   │     multiplexedSpriteKernel ── rooms 11–12
  │   │     arkPedestalKernel ──── room 13
  │   │
  │   └── [Bank 1] drawInventoryKernel (~27 lines)
  │         6-item inventory strip, selection cursor
  │
  └── OVERSCAN (~30 scanlines of CPU time)
      ├── [Bank 1] Post-kernel logic
      │     Sound/music ── Timepiece sprite ──
      │     Event animation ── Death sequence ──
      │     Inventory cycling ── Grapple state
      │
      └── [Bank 0] Collision handling
            Weapon hits ── Indy vs objects ──
            Room-specific pickups ── Idle handlers
            ──► newFrame (loop closes)
&lt;/code&gt;
    &lt;p&gt;Entry point: &lt;code&gt;startNewFrame&lt;/code&gt;&lt;/p&gt;
    &lt;p&gt;The CPU asserts the VSYNC signal for exactly 3 scanlines, during which it performs lightweight housekeeping:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Scanline&lt;/cell&gt;
        &lt;cell role="head"&gt;Work&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;Assert VSYNC. Clamp weapon position — if &lt;code&gt;weaponPosY&lt;/code&gt; ≤ &lt;code&gt;$50&lt;/code&gt;, center &lt;code&gt;weaponPosX&lt;/code&gt;. Increment &lt;code&gt;frameCount&lt;/code&gt;; every 64th frame (&lt;code&gt;and #$3f&lt;/code&gt;) increments &lt;code&gt;timeOfDay&lt;/code&gt;. If &lt;code&gt;eventTimer&lt;/code&gt; is negative, decrement it (paralysis/cutscene countdown).&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;Check for game restart — if &lt;code&gt;arkRoomStateFlag&lt;/code&gt; bit 7 is set (endgame state) AND the RESET switch is pressed, jump to &lt;code&gt;startGame&lt;/code&gt;.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;De-assert VSYNC. Arm the VBLANK timer: &lt;code&gt;TIM64T = VBLANK_TIME&lt;/code&gt; (44). This gives 44 × 64 = 2,816 cycles ≈ 37 scanlines of CPU time for game logic.&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;All game logic runs while the TIA outputs a blank screen. Work is spread across both ROM banks with two bank switches during this phase.&lt;/p&gt;
    &lt;p&gt;This is the largest block of game code, executing in order every frame:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Step&lt;/cell&gt;
        &lt;cell role="head"&gt;Label&lt;/cell&gt;
        &lt;cell role="head"&gt;Description&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;frameFirstLine&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Game-over check: if &lt;code&gt;gameEventFlag&lt;/code&gt; overflows to 0, call &lt;code&gt;getFinalScore&lt;/code&gt; and transition to the Ark Room.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkShowDevInitials&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Ark Room / title screen: if in the Ark Room, play Raiders March, check Yar bonus for HSW initials easter egg. Otherwise skip.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;(Ark Room only)&lt;/cell&gt;
        &lt;cell&gt;Pedestal elevator: slowly lower Indy to his score height. Check fire button for restart. Set &lt;code&gt;arkRoomStateFlag&lt;/code&gt; to enable RESET.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;HandleEasterEgg&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Cutscene check: if &lt;code&gt;screenEventState&lt;/code&gt; bit 6 is set, advance the Arkbreveal sequence.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;advanceArkSeq&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Snake AI: every 4th frame, grow snake sprite, steer toward Indy using &lt;code&gt;snakePosXOffsetTable&lt;/code&gt;, update &lt;code&gt;ballPosX&lt;/code&gt;/&lt;code&gt;ballPosY&lt;/code&gt; and &lt;code&gt;kernelRenderState&lt;/code&gt;.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;6&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;configSnake&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Snake kernel setup: load &lt;code&gt;kernelDataPtrLo/Hi&lt;/code&gt; and &lt;code&gt;kernelDataIndex&lt;/code&gt; from &lt;code&gt;snakeMotionTable&lt;/code&gt; for the wiggling ball sprite.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;7&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkMajorEventDone&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;If &lt;code&gt;gameEventFlag&lt;/code&gt; bit 7 is set (death in progress), skip to &lt;code&gt;finishedScrollUpdate&lt;/code&gt; — bypass normal input.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;8&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkGameScriptTimer&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;If &lt;code&gt;eventTimer&lt;/code&gt; is negative (Indy paralyzed/frozen), force standing sprite and skip input.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;9&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;branchOnFrameParity&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Frame parity split: even frames run full input processing. Odd frames skip to &lt;code&gt;clearItemUseOnButtonRelease&lt;/code&gt;.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;10&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;gatePlayerTriggeredEvent&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Weapon aiming: joystick moves the weapon crosshair (missile 1) with boundary clamping.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;11&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;handleIndyMove&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Movement: read &lt;code&gt;SWCHA&lt;/code&gt; → &lt;code&gt;getMoveDir&lt;/code&gt; → move Indy → check room boundary override tables (&lt;code&gt;CheckRoomOverrideCondition&lt;/code&gt;) → trigger room transitions if a boundary is crossed.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;12&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;HandleIInventorySelect&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Left controller: fire button cycles through inventory slots. Handles item drop, bullet reload (+3), and shovel placement.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;13&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;clearItemUseOnButtonRelease&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Clears &lt;code&gt;USING_GRENADE_OR_PARACHUTE&lt;/code&gt; flag on right fire button release.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;14&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;handleItemUse&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Right controller: fire button dispatches the selected item — grenade throw/cook timer, parachute deploy, grapple hook launch, shovel dig, Ankh warp, revolver fire, whip strike. This is the largest single block in VBLANK.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;15&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;updateIndyParachuteSprite&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Sprite selection: choose Indy's current sprite pointer — parachute sprite, standing sprite, or walk-cycle animation (advances frame on a timer).&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;16&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;handleMesaScroll&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Vertical scrolling: in Mesa Field or Valley of Poison, shift the camera offset (&lt;code&gt;roomObjectVar&lt;/code&gt;) and adjust all object Y positions to scroll the world.&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;At &lt;code&gt;finishedScrollUpdate&lt;/code&gt;, the code writes &lt;code&gt;selectRoomHandler&lt;/code&gt; as the target address and jumps through the &lt;code&gt;jumpToBank1&lt;/code&gt; trampoline.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;selectRoomHandler&lt;/code&gt; dispatches via &lt;code&gt;roomHandlerJmpTable&lt;/code&gt; — each room has its own handler that runs room-specific AI and physics:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Room&lt;/cell&gt;
        &lt;cell role="head"&gt;Handler&lt;/cell&gt;
        &lt;cell role="head"&gt;Key Logic&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Treasure Room&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;treasureRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Item cycle timer, treasure availability, treasure spawning&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Marketplace&lt;/cell&gt;
        &lt;cell&gt;(none — immediate return)&lt;/cell&gt;
        &lt;cell&gt;—&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Entrance Room&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;entranceRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Sets &lt;code&gt;screenEventState = $40&lt;/code&gt;&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Black Market&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;blackMarketRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Lunatic/blocker positioning, bribe check&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Map Room&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;mapRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Sun height from &lt;code&gt;timeOfDay&lt;/code&gt;, Head of Ra beam, movement constraints&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Mesa Side&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;mesaSideRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Parachute/freefall physics, gravity, horizontal input&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Temple Entrance&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;templeEntranceRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Timepiece placement, room graphics from &lt;code&gt;entranceRoomEventState&lt;/code&gt;&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Spider Room&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;spiderRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Spider AI (passive→aggressive), web positioning, animation&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Shining Light&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;roomOfShiningLightHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Chase AI, dungeon secret exit check&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Mesa Field&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;mesaFieldRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Pins P0/M0/Ball to center Y (&lt;code&gt;$7F&lt;/code&gt;) for scrolling&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Valley of Poison&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;valleyOfPoisonRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Thief chase/escape AI, tsetse swarm spawning&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Thieves' Den&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;thievesDenRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Moves 5 thieves with left/right boundary bounce&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Well of Souls&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;WellOfSoulsRoomHandler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Sets mesa landing bonus, then shares thief-movement code&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;All handlers exit via &lt;code&gt;jmpSetupNewRoom&lt;/code&gt;, which bank-switches back to Bank 0.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;setupNewRoom&lt;/code&gt; prepares the TIA for display:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;If &lt;code&gt;screenInitFlag&lt;/code&gt;≠ 0, call&lt;code&gt;updateRoomEventState&lt;/code&gt;(one-shot room initialization), then clear the flag.&lt;/item&gt;
      &lt;item&gt;Set &lt;code&gt;NUSIZ0&lt;/code&gt;from the per-room&lt;code&gt;HMOVETable&lt;/code&gt;entry.&lt;/item&gt;
      &lt;item&gt;Set &lt;code&gt;CTRLPF&lt;/code&gt;from&lt;code&gt;roomPFControlFlags&lt;/code&gt;(playfield reflection/priority/ball size).&lt;/item&gt;
      &lt;item&gt;Set &lt;code&gt;COLUBK&lt;/code&gt;,&lt;code&gt;COLUPF&lt;/code&gt;,&lt;code&gt;COLUP0&lt;/code&gt;,&lt;code&gt;COLUP1&lt;/code&gt;from per-room color tables.&lt;/item&gt;
      &lt;item&gt;If in the Thieves' Den or Well of Souls, initialize 5 thief HMOVE positions from table data.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Then &lt;code&gt;setObjPosX&lt;/code&gt; positions all 5 TIA objects (P0, P1, M0, M1, Ball) using the coarse/fine HMOVE technique. This consumes 6 scanlines (one WSYNC per object + one for HMOVE).&lt;/p&gt;
    &lt;p&gt;Finally, &lt;code&gt;waitTime&lt;/code&gt; spins on &lt;code&gt;INTIM&lt;/code&gt; until the VBLANK timer expires, then bank-switches to Bank 1 for &lt;code&gt;drawScreen&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;Entry point: &lt;code&gt;drawScreen&lt;/code&gt; (Bank 1)&lt;/p&gt;
    &lt;p&gt;The first few visible lines set up the display state:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Clear horizontal motion registers (&lt;code&gt;HMCLR&lt;/code&gt;) and collision latches (&lt;code&gt;CXCLR&lt;/code&gt;).&lt;/item&gt;
      &lt;item&gt;Write initial PF0/PF1/PF2 from per-room playfield tables.&lt;/item&gt;
      &lt;item&gt;Enable TIA output (&lt;code&gt;VBLANK = 0&lt;/code&gt;), zero the&lt;code&gt;scanline&lt;/code&gt;counter.&lt;/item&gt;
      &lt;item&gt;Disable the Ball sprite in the Map Room (used for the sun position mechanic).&lt;/item&gt;
      &lt;item&gt;Read &lt;code&gt;SWCHA&lt;/code&gt;→ set&lt;code&gt;REFP1&lt;/code&gt;for Indy sprite reflection (skipped during death/Ark Room).&lt;/item&gt;
      &lt;item&gt;Three WSYNC+HMOVE pairs to settle object positions.&lt;/item&gt;
      &lt;item&gt;Dispatch to the appropriate kernel via RTS-trick: push return address from &lt;code&gt;kernelJumpTable&lt;/code&gt;indexed by&lt;code&gt;KernelJumpTableIndex&lt;/code&gt;for the current room, then&lt;code&gt;rts&lt;/code&gt;.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The kernel index table maps each room to one of four kernels:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Index&lt;/cell&gt;
        &lt;cell role="head"&gt;Kernel&lt;/cell&gt;
        &lt;cell role="head"&gt;Rooms&lt;/cell&gt;
        &lt;cell role="head"&gt;Scanline Method&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;staticSpriteKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;0–5&lt;/cell&gt;
        &lt;cell&gt;2 scanlines/iteration, 80 iterations&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;scrollingPlayfieldKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;6–10&lt;/cell&gt;
        &lt;cell&gt;2 scanlines/iteration, 80 iterations&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;multiplexedSpriteKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;11–12&lt;/cell&gt;
        &lt;cell&gt;State machine, variable per thief zone&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;6&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;arkPedestalKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;13&lt;/cell&gt;
        &lt;cell&gt;1 scanline/iteration, ~160 lines&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;&lt;code&gt;staticSpriteKernel&lt;/code&gt; (Treasure Room, Marketplace, Entrance, Black Market, Map Room, Mesa Side):
Two scanlines per loop. Scanline 1: HMOVE, check snake/ball draw range, enable missiles M0 (web/swarm) and M1 (weapon) by comparing against their Y positions. Scanline 2: draw P0 sprite — bit 7 of the graphics data encodes inline TIA register writes (color/HMOVE) instead of shape data, allowing P0 to change color or position mid-frame. Enable the ball by scanline comparison.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;scrollingPlayfieldKernel&lt;/code&gt; (Temple Entrance, Spider Room, Shining Light, Mesa Field, Valley of Poison):
Two scanlines per loop with playfield scrolling. On each iteration, the scanline is compared to &lt;code&gt;p0DrawStartLine&lt;/code&gt; — above that boundary, the kernel indexes &lt;code&gt;(pf1GfxPtrLo),y&lt;/code&gt; / &lt;code&gt;(pf2GfxPtrLo),y&lt;/code&gt; with a scroll offset (&lt;code&gt;roomObjectVar&lt;/code&gt;) to render the scrolling wall. Below that boundary, &lt;code&gt;dynamicGfxData&lt;/code&gt; renders destructible dungeon wall segments or cleared passages. Both paths draw P0 and P1 (Indy) by scanline–vs–Y comparison. The ball object is driven through &lt;code&gt;(kernelDataPtrLo),y&lt;/code&gt; for the snake wiggle animation.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;multiplexedSpriteKernel&lt;/code&gt; (Thieves' Den, Well of Souls):
Displays 5 enemy thieves using a single P0 hardware sprite, repositioned between each thief's zone (~32 scanlines each). Operates as a state machine via &lt;code&gt;kernelRenderState&lt;/code&gt;: positioning phase (bit 7) uses a coarse/fine delay loop to place RESP0, drawing phase (bit 6) streams &lt;code&gt;(p0GfxPtrLo),y&lt;/code&gt; and &lt;code&gt;(kernelDataPtrLo),y&lt;/code&gt; for sprite and color data across 16 lines. Between thief zones, P1 (Indy) is drawn using the PHP/stack trick — &lt;code&gt;txs&lt;/code&gt; redirects the stack pointer so that &lt;code&gt;php&lt;/code&gt; writes directly to TIA enable registers (&lt;code&gt;ENABL&lt;/code&gt;/&lt;code&gt;ENAM1&lt;/code&gt;/&lt;code&gt;ENAM0&lt;/code&gt; at &lt;code&gt;$1F&lt;/code&gt;/&lt;code&gt;$1E&lt;/code&gt;/&lt;code&gt;$1D&lt;/code&gt;).&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;arkPedestalKernel&lt;/code&gt; (Ark Room — title and ending screen):
Single-height scanlines (1 WSYNC per line). Lines 0–14: draw the Ark top/wings sprite with rainbow color cycling (only in win state). Lines 15–28: draw the Ark body with alternating gold patterns. Lines 29–143: draw Indy's standing sprite at the pedestal height determined by &lt;code&gt;adventurePoints&lt;/code&gt; — above Indy is empty, below is the diamond-pattern &lt;code&gt;PedestalLiftSprite&lt;/code&gt;. Lines 144–159: draw the pedestal base.&lt;/p&gt;
    &lt;p&gt;All four room kernels converge at &lt;code&gt;drawInventoryKernel&lt;/code&gt;, which draws the bottom-of-screen inventory strip:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;2 lines: Clear all sprites, fill PF1/PF2 solid (separator bar).&lt;/item&gt;
      &lt;item&gt;2 lines: Set &lt;code&gt;NUSIZ0&lt;/code&gt;/&lt;code&gt;NUSIZ1&lt;/code&gt;to 3-copies-close mode, enable VDEL for both players, position P0/P1 for 48-pixel-wide multiplexed rendering.&lt;/item&gt;
      &lt;item&gt;1 line: HMOVE to fine-position, set inventory item colors (gold), position ball (selection cursor).&lt;/item&gt;
      &lt;item&gt;1 line: Clear playfield, set &lt;code&gt;COLUBK&lt;/code&gt;to black.&lt;/item&gt;
      &lt;item&gt;5 lines: Burgundy background border.&lt;/item&gt;
      &lt;item&gt;8 lines: &lt;code&gt;drawInventoryItems&lt;/code&gt;— render 6 inventory item sprites using the 48-pixel GRP0/GRP1 VDEL technique (write P0, P1, P0, P1, P0, P1 in rapid succession each line).&lt;/item&gt;
      &lt;item&gt;4 lines: Clear sprites, reset VDEL/NUSIZ, draw selection cursor ball.&lt;/item&gt;
      &lt;item&gt;4 lines: Final separator lines and overscan preparation.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Immediately after the inventory kernel, the TIA is blanked (&lt;code&gt;VBLANK = $0F&lt;/code&gt;) and the overscan timer is armed: &lt;code&gt;TIM64T = OVERSCAN_TIME&lt;/code&gt; (36). This gives 36 × 64 = 2,304 cycles ≈ 30 scanlines. The stack pointer is also reset to &lt;code&gt;$FF&lt;/code&gt; here.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Step&lt;/cell&gt;
        &lt;cell role="head"&gt;Label&lt;/cell&gt;
        &lt;cell role="head"&gt;Description&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;updateSoundRegisters&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Process both TIA audio channels (X=1, then X=0). Set AUDC, AUDV, AUDF. Dispatch to &lt;code&gt;playRaidersMarch&lt;/code&gt; (effect &lt;code&gt;$9C&lt;/code&gt;) or &lt;code&gt;playFluteMelody&lt;/code&gt; (effect &lt;code&gt;$84&lt;/code&gt;) for sustained music playback.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;finishUpdateSound&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;If holding the Timepiece: toggle open/closed sprite on right fire press. If holding the Flute: activate Snake Charmer song.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;updateEventState&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;If &lt;code&gt;screenEventState&lt;/code&gt; bit 7 is set: animate the on-screen event (move object toward target via &lt;code&gt;updateMoveToTarget&lt;/code&gt;), update timepiece graphics pointer for the snake reveal animation.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;UpdateInvItemPos&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Position 3 inventory display objects (X=2,3,4) via &lt;code&gt;UpdateInvObjPos&lt;/code&gt; — converts item slot sprite pointers into on-screen X positions.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;(death check)&lt;/cell&gt;
        &lt;cell&gt;Death dissolve sequence: if &lt;code&gt;gameEventFlag&lt;/code&gt; bit 7 is set, shrink &lt;code&gt;indySpriteHeight&lt;/code&gt; by 1 line every 16 frames with a descending sound effect. At height &amp;lt; 3 (hat only), rotate the flag and pause for 60 frames. At frame 120: respawn with full height, decrement &lt;code&gt;livesLeft&lt;/code&gt;. If &lt;code&gt;livesLeft&lt;/code&gt; goes negative, set &lt;code&gt;gameEventFlag = $FF&lt;/code&gt; (triggers game-over on the next frame's overflow check).&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;6&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;invItemSelectCycle&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;If not in the Ark Room: read &lt;code&gt;SWCHA&lt;/code&gt; left/right to cycle inventory selection. Handle hourglass → grapple initialization in Mesa Field. Drive the grapple state machine (incrementing stages, position alignment checks).&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;At &lt;code&gt;jmpObjHitHandeler&lt;/code&gt;, the code bank-switches to Bank 0 and enters the collision dispatch chain. This reads the TIA collision registers that were latched during the kernel:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Step&lt;/cell&gt;
        &lt;cell role="head"&gt;Label&lt;/cell&gt;
        &lt;cell role="head"&gt;Collision Register&lt;/cell&gt;
        &lt;cell role="head"&gt;Description&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkWeaponPlayerHit&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;CXM1P&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Weapon (M1) hit player/thief → flip thief direction, clear weapon, apply &lt;code&gt;thiefShotPenalty&lt;/code&gt;.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkWeaponPlayfieldHit&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;CXM1FB&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Weapon hit playfield → destroy dungeon wall segment (modify &lt;code&gt;dynamicGfxData&lt;/code&gt; bitmask).&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkWeaponBallHit&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;CXM1FB&lt;/code&gt; bit 6&lt;/cell&gt;
        &lt;cell&gt;Weapon hit ball/snake → kill the snake.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkIndyBallHit&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;CXP1FB&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Indy hit playfield/ball → timepiece pickup, flute immunity check, tsetse fly paralysis, snake death.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;5&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkMesaSideExit&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;CXM0P&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Mesa Side: M0 collision enters Well of Souls; falling off (Indy Y ≥ &lt;code&gt;$4F&lt;/code&gt;) enters Valley of Poison.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;6&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkPlayerCollision&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;CXPPMM&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Player-player collision → dispatches to room-specific handlers via &lt;code&gt;playerHitJumpTable&lt;/code&gt; for pickups and interactions (whip, key, baskets, shovel, parachute landing, etc.).&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;7&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;playerHitDefault&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;CXP1FB&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Secondary dispatch → &lt;code&gt;playfieldHitJumpTable&lt;/code&gt; for wall/boundary collisions and idle room logic.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;8&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;checkMissile0Hit&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;CXM0P&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;M0-player collisions (spider web capture, tsetse swarm death), grenade detonation timer check.&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;After the collision chain completes, execution falls through to &lt;code&gt;newFrame&lt;/code&gt;, which spins on &lt;code&gt;INTIM&lt;/code&gt; waiting for the overscan timer to expire — and the cycle begins again.&lt;/p&gt;
    &lt;p&gt;Both banks contain a symmetric trampoline routine (&lt;code&gt;jumpToBank1&lt;/code&gt; in Bank 0, &lt;code&gt;JumpToBank0&lt;/code&gt; in Bank 1). The trampoline writes self-modifying code into zero-page RAM (&lt;code&gt;temp0&lt;/code&gt;–&lt;code&gt;temp5&lt;/code&gt;):&lt;/p&gt;
    &lt;code&gt;temp0: LDA $FFF8/$FFF9    ; reading the strobe address switches banks
temp3: JMP &amp;lt;target&amp;gt;        ; then jumps to the target address
&lt;/code&gt;
    &lt;p&gt;The caller sets &lt;code&gt;temp4&lt;/code&gt;/&lt;code&gt;temp5&lt;/code&gt; to the target address before jumping to the trampoline. Executing &lt;code&gt;jmp temp0&lt;/code&gt; reads the bank strobe (switching ROM) and immediately jumps to the target label in the new bank.&lt;/p&gt;
    &lt;p&gt;Bank switches per frame (in execution order):&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;#&lt;/cell&gt;
        &lt;cell role="head"&gt;Direction&lt;/cell&gt;
        &lt;cell role="head"&gt;Trigger&lt;/cell&gt;
        &lt;cell role="head"&gt;Target&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;Bank 0 → 1&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;finishedScrollUpdate&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;selectRoomHandler&lt;/code&gt; (room-specific handler)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;Bank 1 → 0&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;jmpSetupNewRoom&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;setupNewRoom&lt;/code&gt; (pre-kernel color/position setup)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;Bank 0 → 1&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;jmpDisplayKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;drawScreen&lt;/code&gt; (visible kernel + overscan)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;Bank 1 → 0&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;jmpObjHitHandeler&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;checkWeaponPlayerHit&lt;/code&gt; (collision dispatch)&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Bank 1 also has a safety stub (&lt;code&gt;BANK1Start&lt;/code&gt;) at its reset vector entry — it immediately reads &lt;code&gt;BANK0STROBE&lt;/code&gt; to switch back to Bank 0 if Bank 1 is entered on power-on.&lt;/p&gt;
    &lt;p&gt;Title / Ark Room: The Ark Room (&lt;code&gt;ID_ARK_ROOM&lt;/code&gt;, &lt;code&gt;$0D&lt;/code&gt;) serves double duty as the title screen and the endgame screen. On cold boot, &lt;code&gt;startGame&lt;/code&gt; sets &lt;code&gt;currentRoomId = ID_ARK_ROOM&lt;/code&gt; and fills inventory with copyright text sprites. The VBLANK Ark Room logic plays the Raiders March, runs the pedestal elevator animation (lowering Indy to his score height), and checks the fire button for restart.&lt;/p&gt;
    &lt;p&gt;Death Sequence: Setting &lt;code&gt;gameEventFlag&lt;/code&gt; bit 7 triggers the death dissolve during overscan. Indy's sprite height shrinks by one line every 16 frames. Once only the hat remains (height &amp;lt; 3), the flag is rotated and the sprite disappears for 60 frames. At frame 120, Indy respawns at full height and &lt;code&gt;livesLeft&lt;/code&gt; is decremented. If lives drop below zero, &lt;code&gt;gameEventFlag&lt;/code&gt; is set to &lt;code&gt;$FF&lt;/code&gt; — on the next frame, the VBLANK overflow check catches this and transitions to the Ark Room.&lt;/p&gt;
    &lt;p&gt;Room Transitions: Triggered by the boundary override system in &lt;code&gt;handleIndyMove&lt;/code&gt;. When Indy crosses a room edge (checked via &lt;code&gt;CheckRoomOverrideCondition&lt;/code&gt; against per-room boundary tables), &lt;code&gt;currentRoomId&lt;/code&gt; is changed and &lt;code&gt;initRoomState&lt;/code&gt; reinitializes all per-room state — sprites, playfield pointers, object positions, and event flags. Special transitions include: Mesa Side fall into Valley of Poison (Y position check), M0 collision into Well of Souls, blown-open wall alignment into the Temple, and Ankh warp directly to Mesa Field.&lt;/p&gt;
    &lt;p&gt;The game uses 4 different scanline kernels selected via &lt;code&gt;KernelJumpTableIndex&lt;/code&gt; and &lt;code&gt;kernelJumpTable&lt;/code&gt;:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Index&lt;/cell&gt;
        &lt;cell role="head"&gt;Kernel&lt;/cell&gt;
        &lt;cell role="head"&gt;Rooms&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;staticSpriteKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Treasure Room, Marketplace, Entrance Room, Black Market, Map Room, Mesa Side&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;scrollingPlayfieldKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Temple Entrance, Spider Room, Shining Light, Mesa Field, Valley of Poison&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;multiplexedSpriteKernel&lt;/code&gt; (thiefKernel)&lt;/cell&gt;
        &lt;cell&gt;Thieves' Den, Well of Souls&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;arkPedestalKernel&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Ark Room (title/ending)&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Each kernel handles TIA register writes differently to accommodate the visual needs of those rooms — the thief kernel manages multiple P0 objects across scanlines, while the playfield kernel handles scrolling dungeon walls.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;staticSpriteKernel&lt;/code&gt;: P0's data stream is dual-purpose — bit 7 encodes direct TIA register writes (color/HMOVE) instead of graphics. Simplest kernel.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;scrollingPlayfieldKernel&lt;/code&gt;: Full PF1/PF2 rendering from pointer tables, dynamic dungeon wall segments, conventional P0/P1 drawing, ball object for timepiece. Supports scrollable rooms.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;multiplexedSpriteKernel&lt;/code&gt;: P0 is repositioned and redrawn multiple times per frame via coarse timing loops — classic scanline multiplexing to display several enemies from one hardware sprite.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;arkPedestalKernel&lt;/code&gt;: Single-purpose kernel for the title/ending screen — draws the Ark sprite and Indy on a height-adjustable pedestal.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;There are 14 rooms defined as constants (IDs &lt;code&gt;$00&lt;/code&gt;–&lt;code&gt;$0D&lt;/code&gt;):&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;ID&lt;/cell&gt;
        &lt;cell role="head"&gt;Constant&lt;/cell&gt;
        &lt;cell role="head"&gt;Room&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$00&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_TREASURE_ROOM&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Treasure Room&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$01&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_MARKETPLACE&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Marketplace&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$02&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_ENTRANCE_ROOM&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Entrance Room&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$03&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_BLACK_MARKET&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Black Market&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$04&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_MAP_ROOM&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Map Room&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$05&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_MESA_SIDE&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Side of Mesa&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$06&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_TEMPLE_ENTRANCE&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Temple Entrance&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$07&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_SPIDER_ROOM&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Spider Room&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$08&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_ROOM_OF_SHINING_LIGHT&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Room of Shining Light&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$09&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_MESA_FIELD&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Mesa Field&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$0A&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_VALLEY_OF_POISON&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Valley of Poison&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$0B&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_THIEVES_DEN&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Thieves' Den&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;$0C&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_WELL_OF_SOULS&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Well of Souls&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;code&gt;$0D&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_ARK_ROOM&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Ark Room (Title/End)&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Room transitions call &lt;code&gt;initRoomState&lt;/code&gt; which loads per-room data from tables: &lt;code&gt;roomBGColorTable&lt;/code&gt;, &lt;code&gt;roomPFColorTable&lt;/code&gt;, &lt;code&gt;PFControlTable&lt;/code&gt;, &lt;code&gt;objectPosXTable&lt;/code&gt;, &lt;code&gt;roomObjPosYTable&lt;/code&gt;, playfield graphics pointers, and sprite data.&lt;/p&gt;
    &lt;p&gt;Each room has a handler dispatched from &lt;code&gt;roomHandlerJmpTable&lt;/code&gt; (Bank 1), which runs room-specific logic every frame.&lt;/p&gt;
    &lt;p&gt;The player can carry up to 6 items (&lt;code&gt;MAX_INVENTORY_ITEMS&lt;/code&gt;). Each slot is a pair of zero-page pointers (&lt;code&gt;invSlotLo&lt;/code&gt;/&lt;code&gt;invSlotHi&lt;/code&gt; through &lt;code&gt;invSlotLo6&lt;/code&gt;/&lt;code&gt;invSlotHi6&lt;/code&gt;) that point directly to 8-byte sprite data in the &lt;code&gt;inventorySprites&lt;/code&gt; table.&lt;/p&gt;
    &lt;p&gt;Item IDs are computed at assembly time as offsets from the sprite table:&lt;/p&gt;
    &lt;code&gt;ID = (spriteLabel - inventorySprites) / HEIGHT_ITEM_SPRITES
&lt;/code&gt;
    &lt;p&gt;Key items and their IDs include:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Item&lt;/cell&gt;
        &lt;cell role="head"&gt;Constant&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Empty&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_EMPTY&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Whip&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_WHIP&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Flute&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_FLUTE&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Coins&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_COINS&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Grenade (Market)&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_MARKETPLACE_GRENADE&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Grenade (Black Market)&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_BLACK_MARKET_GRENADE&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Key&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_KEY&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Revolver&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_REVOLVER&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Head of Ra&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_HEAD_OF_RA&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Parachute&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_PARACHUTE&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Timepiece&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_TIME_PIECE&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Ankh&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_ANKH&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Chai&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_CHAI&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Hourglass&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_HOUR_GLASS&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Shovel&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;ID_INVENTORY_SHOVEL&lt;/code&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Selection uses the left joystick. &lt;code&gt;selectedItemSlot&lt;/code&gt; tracks the cursor position (byte offset 0,2,4,6,8,10 into the slot array), and &lt;code&gt;selectedInventoryId&lt;/code&gt; holds the current item's ID. Items are added via &lt;code&gt;placeItemInInventory&lt;/code&gt; and removed via &lt;code&gt;removeItem&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;Item Tracking Bitmasks:&lt;/p&gt;
    &lt;p&gt;The game tracks which items have been collected using two separate bitmasks:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;basketItemStatus&lt;/code&gt;— Tracks spawnable items found at fixed world locations. In the Marketplace, these are the three literal baskets that contain the Key, Grenades, and Revolver. In the Treasure Room, the term "basket" is a code abstraction — it simply means the item is in its original, non-picked-up state (P0 displays the cycling item, and touching it picks it up). These items can respawn when dropped.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;pickupItemStatus&lt;/code&gt;— Tracks unique items that exist as one-of-a-kind objects in the world: Whip, Shovel, Head of Ra, Timepiece, Hourglass, Ankh, and Chai. Once collected, their world placement changes.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The &lt;code&gt;itemIndexTable&lt;/code&gt; determines which bitmask applies to each item: even indices use &lt;code&gt;basketItemStatus&lt;/code&gt;, odd indices use &lt;code&gt;pickupItemStatus&lt;/code&gt;. The helper routines &lt;code&gt;showItemAsTaken&lt;/code&gt;, &lt;code&gt;setItemAsNotTaken&lt;/code&gt;, and &lt;code&gt;isItemAlreadyTaken&lt;/code&gt; handle the bit manipulation transparently.&lt;/p&gt;
    &lt;p&gt;The score (&lt;code&gt;adventurePoints&lt;/code&gt;) starts at &lt;code&gt;INIT_SCORE&lt;/code&gt; (100) and is modified in &lt;code&gt;getFinalScore&lt;/code&gt;. Lower is better — bonuses are subtracted and penalties are added.&lt;/p&gt;
    &lt;p&gt;Bonuses (subtracted):&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Variable&lt;/cell&gt;
        &lt;cell role="head"&gt;Description&lt;/cell&gt;
        &lt;cell role="head"&gt;Points&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;findingArkBonus&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Found the Ark&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;usingParachuteBonus&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Used parachute&lt;/cell&gt;
        &lt;cell&gt;3&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;ankhUsedBonus&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Used Ankh for Mesa skip&lt;/cell&gt;
        &lt;cell&gt;9&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;yarFoundBonus&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Found Yar easter egg&lt;/cell&gt;
        &lt;cell&gt;5&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;mapRoomBonus&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Used Head of Ra&lt;/cell&gt;
        &lt;cell&gt;14&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;mesaLandingBonus&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Landed on mesa&lt;/cell&gt;
        &lt;cell&gt;3&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;code&gt;livesLeft&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Remaining lives&lt;/cell&gt;
        &lt;cell&gt;varies&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Penalties (added):&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Variable&lt;/cell&gt;
        &lt;cell role="head"&gt;Description&lt;/cell&gt;
        &lt;cell role="head"&gt;Points&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;grenadeOpeningPenalty&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Blasted wall&lt;/cell&gt;
        &lt;cell&gt;2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;
          &lt;code&gt;escapePrisonPenalty&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Escaped dungeon via secret exit&lt;/cell&gt;
        &lt;cell&gt;13&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;code&gt;thiefShotPenalty&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Shot the thief&lt;/cell&gt;
        &lt;cell&gt;4&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;The final value determines Indy's pedestal height in the Ark Room.&lt;/p&gt;
    &lt;p&gt;Implemented in &lt;code&gt;playerHitInWellOfSouls&lt;/code&gt;. All three conditions must be true:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;&lt;code&gt;indyPosY &amp;gt;= $3F&lt;/code&gt;— Indy is deep enough in the Well&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;diggingState == $54&lt;/code&gt;— dirt fully cleared via shovel&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;secretArkMesaID == activeMesaID&lt;/code&gt;— correct mesa (discovered via Map Room)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;When all three are met, &lt;code&gt;arkRoomStateFlag&lt;/code&gt; is set positive, triggering the endgame sequence in &lt;code&gt;arkPedestalKernel&lt;/code&gt; which shows the Ark above Indy's pedestal.&lt;/p&gt;
    &lt;p&gt;Calculated in &lt;code&gt;calculateMesaGrapple&lt;/code&gt; — converts the hook's pixel position to a grid ID:&lt;/p&gt;
    &lt;code&gt;RegionY = ((HookY - 6) + ScrollOffset) / 16
RegionX = (HookX - 16) / 32
&lt;/code&gt;
    &lt;p&gt;In &lt;code&gt;mapRoomHandler&lt;/code&gt;, when Indy holds the Head of Ra and the sun (driven by &lt;code&gt;timeOfDay&lt;/code&gt;) is at the correct position, a beam reveals the Ark's mesa using data from &lt;code&gt;mapRoomArkLocX&lt;/code&gt; / &lt;code&gt;mapRoomArkLocY&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;timeOfDay&lt;/code&gt; increments every ~63 frames (roughly once per second), driven in the VBLANK section. It controls the timepiece display, treasure room rotation, sun position, and Head of Ra timing.&lt;/p&gt;
    &lt;p&gt;Handled in &lt;code&gt;handleMesaScroll&lt;/code&gt; — the camera offset &lt;code&gt;roomObjectVar&lt;/code&gt; shifts all object positions when Indy nears screen edges, bounded by &lt;code&gt;MESA_MAP_MAX_HEIGHT&lt;/code&gt; (&lt;code&gt;$50&lt;/code&gt;).&lt;/p&gt;
    &lt;p&gt;Two channels with effect timers (&lt;code&gt;soundChan0Effect&lt;/code&gt;, &lt;code&gt;soundChan1Effect&lt;/code&gt;). The Raiders March plays from &lt;code&gt;raidersMarchFreqTable&lt;/code&gt; when triggered with &lt;code&gt;RAIDERS_MARCH&lt;/code&gt; (&lt;code&gt;$9C&lt;/code&gt;). The flute melody uses &lt;code&gt;snakeCharmFreqTable&lt;/code&gt; with &lt;code&gt;SNAKE_CHARM_SONG&lt;/code&gt; (&lt;code&gt;$84&lt;/code&gt;).&lt;/p&gt;
    &lt;p&gt;Triggered via &lt;code&gt;HandleEasterEgg&lt;/code&gt; — finding Yar on the Flying Saucer Mesa sets &lt;code&gt;yarFoundBonus&lt;/code&gt;. When combined with a high enough score, Howard Scott Warshaw's initials (&lt;code&gt;devInitialsGfx0&lt;/code&gt; / &lt;code&gt;devInitialsGfx1&lt;/code&gt;) appear in the inventory strip at &lt;code&gt;checkShowDevInitials&lt;/code&gt;.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Right joystick: Movement + action button (use items/weapons)&lt;/item&gt;
      &lt;item&gt;Left joystick: Inventory selection + drop button&lt;/item&gt;
      &lt;item&gt;Input is read from &lt;code&gt;SWCHA&lt;/code&gt;(&lt;code&gt;$0280&lt;/code&gt;) and&lt;code&gt;INPT5&lt;/code&gt;(fire buttons)&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46932678</guid><pubDate>Sun, 08 Feb 2026 09:10:18 +0000</pubDate></item><item><title>Curating a Show on My Ineffable Mother, Ursula K. Le Guin</title><link>https://hyperallergic.com/curating-a-show-on-my-ineffable-mother-ursula-k-le-guin/</link><description>&lt;doc fingerprint="7d92b1249b0b07f2"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Curating a Show on My Ineffable Mother, Ursula K. Le Guin&lt;/head&gt;
    &lt;p&gt;I would never have proposed this exhibition in her lifetime. This is, after all, a writer who said in an interview, “Don’t shove me into your damn pigeonhole, where I don’t fit, because I’m all over.”&lt;/p&gt;
    &lt;p&gt;PORTLAND — Under an acrylic case in an exhibition I curated about my mother, the writer Ursula K. Le Guin (1929–2018), sits the first typewriter she purchased. Compact and impossibly heavy, the machine comes from an era of word production so distant as to feel alien. The keyboard has no exclamation point. To create the favorite punctuation of tyrants and optimists, one must type an apostrophe, then backspace and type a period.&lt;/p&gt;
    &lt;p&gt;The Underwood waited in my parents’ attic for decades as Ursula and the world moved on to electronic typewriters and eventually to computers. I hoped visitors to A Larger Reality, at Oregon Contemporary through February 8, could experience a little of the residual magic that I find clings to it, pecking out whatever they please, taking home the original and leaving a carbon copy for posterity.&lt;/p&gt;
    &lt;p&gt;I’m happiest when the case is removed and the gallery is filled with the sound of metal meeting paper. Visitors who’ve never used a manual typewriter, or who don’t touch type, peck tentatively. Others engage physically, producing the familiar percussive clack-clack sound of my childhood. Either way, I feel I’m sharing not just a machine but a sacred trust with strangers who love my mother’s writing and words in general.&lt;/p&gt;
    &lt;p&gt;People type poetry, memoir, fiction, epistles, articles, political statements, and fan mail on the Underwood. Some offer short tributes to Ursula or variations on “I can’t believe I’m typing on Ursula K. Le Guin’s typewriter.” Others compose prose or poetry on the spot. A few write nothing, go home to draft several pages, and return later to type something polished.&lt;/p&gt;
    &lt;p&gt;One visitor’s letter wondered how Ursula would feel knowing that her writing and cultural presence are no longer her own after death. The question is apt for me as curator and literary executor. Even a very private writer, while she is alive, exercises a restraining influence on people’s ability to misinterpret her words or life story. I can take comfort in my mother’s respect for the agency and necessity of readers in creating literature. For many years, her stock fan mail reply was a thank-you note, in her handwriting, acknowledging that “a book is just a box of words until a reader opens it.”&lt;/p&gt;
    &lt;p&gt;Over the past year, I’ve experienced cycles of grief and joy as I pored over my mother’s letters, manuscripts, and drawings to exhibit. I listened to hours of her voice, recreated an oak tree from her childhood and the room she wrote in from my childhood home. Curating an exhibition about your parent is a strange experience. Many visitors intuit this; the most common question I’m asked about the exhibition is what my mother would think about it.&lt;/p&gt;
    &lt;p&gt;Honestly, I have no idea. I’ve learned not to second-guess my decisions by constantly asking myself, “What would Ursula do?” I would never have proposed this exhibition in her lifetime, for fear that she might see it as reductionist. This is, after all, a writer who said in an interview, “Don’t shove me into your damn pigeonhole, where I don’t fit, because I’m all over. My tentacles are coming out of the pigeonhole in all directions.” Biographical and retrospective exhibitions exist in large part to assert and codify who an artist is. That is, at some level, a type of pigeon-holing.&lt;/p&gt;
    &lt;p&gt;This icon-production takes various forms, from hagiography to “objective” centrism to critique. True, if anyone is going to codify my mother, I prefer it to be me. I’m granted an advantage due to proximity and memory. But my version of Ursula is just one version. Even her version of herself was not authoritative. My mother remade herself, through her art, constantly and over decades. She revised everything from her early centering of male characters, to her use of he/him as the default pronoun in an imagined ambisexual world, to her critique of a Kazuo Ishiguro novel. Rather than worship an immutable icon, we should aspire to her willingness to learn and change.&lt;/p&gt;
    &lt;p&gt;From a technical, curatorial perspective, however, the mandate of narrative was my greatest hindrance. We’ve had it drummed into us that humans learn through stories, so anyone in an educative role must tell a story. For biographical exhibitions, however, linearity flattens the subject and condescends to the audience. I would go so far as to say this may be true for linearity imposed on any kind of exhibition.&lt;/p&gt;
    &lt;p&gt;My mother had something useful to say on this subject. Her essay The Carrier Bag Theory of Fiction (1986), long a touchstone for writers, has recently become one for curators as well. Ursula posits, to simplify, that the reduction of narrative to linear, techno-heroic stories of conflict and conquest doesn’t serve us well. The hero’s journey remains a default model for storytelling in our culture, including for exhibitions. Ursula argues that the carrier bag, a humble yet capacious tool for gathering, is a better model for storytelling.&lt;/p&gt;
    &lt;p&gt;Exhibitions can be superb carrier bags for culture and knowledge. Few experiences offer so many chances for discursion and recursion, negative space and introspection. A carrier bag can expand to make room for the needs of the moment, for participation, spectacle, and immersion. In a carrier bag, none of these qualities, in balance, is antithetical.&lt;/p&gt;
    &lt;p&gt;For my part, releasing myself from the need to tell a tidy story about my mother led to an exhibition that is wordy, baggy, and inconclusive — but also, I believe, engaging and true to the subject.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46932985</guid><pubDate>Sun, 08 Feb 2026 10:13:00 +0000</pubDate></item><item><title>Slop Terrifies Me</title><link>https://ezhik.jp/ai-slop-terrifies-me/</link><description>&lt;doc fingerprint="356353556b422199"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;(AI) Slop Terrifies Me&lt;/head&gt;
    &lt;head rend="h2"&gt;🦔 🦔 🦔&lt;/head&gt;
    &lt;p&gt;What if this is as good as software is ever going to be? What if AI stops getting better and what if people stop caring?&lt;/p&gt;
    &lt;p&gt;Imagine if this is as good as AI gets. If this is where it stops, you'd still have models that can almost code a web browser, almost code a compiler—and can even present a pretty cool demo if allowed to take a few shortcuts. You'd still get models that can kinda-sorta simulate worlds and write kinda-sorta engaging stories. You'd still get self-driving cars that almost work, except when they don't. You get AI that can make you like 90% of a thing!&lt;/p&gt;
    &lt;p&gt;90% is a lot. Will you care about the last 10%?&lt;/p&gt;
    &lt;p&gt;I'm terrified that you won't.&lt;/p&gt;
    &lt;p&gt;I'm terrified of the good enough to ship—and I'm terrified of nobody else caring. I'm less afraid of AI agents writing apps that they will never experience than I am of the AI herders who won't care enough to actually learn what they ship. And I sure as hell am afraid of the people who will experience the slop and will be fine with it.&lt;/p&gt;
    &lt;p&gt;As a woodworking enthusiast I am slowly making my peace with standing in the middle of an IKEA. But at the rate things are going in this dropshipping hell, IKEA would be the dream. Software temufication stings much more than software commoditization.&lt;/p&gt;
    &lt;p&gt;I think Claude and friends can help with crafting good software and with learning new technologies and programming languages—though I sure as hell move slower when I stop to learn and understand than the guy playing Dwarf Fortress with 17 agents. But at the same time AI models seem to constantly nudge towards that same median Next-React-Tailwind, good enough app. These things just don't handle going off the beaten path well.&lt;/p&gt;
    &lt;p&gt;Mind you, it's not like slop is anything new. A lot of human decisions had to happen before your backside ended up in an extremely uncomfortable chair, your search results got polluted by poorly-written SEO-optimized articles, and your brain had to deal with a ticket booking website with a user interface so poorly designed that it made you cry. So it's a people problem. Incentives just don't seem to align to make good software. Move fast and break things, etc, etc. You'll make a little artisan app, and if it's any good, Google will come along with a free clone, kill you, then kill its clone—and the world will be left with net zero new good software. And now, with AI agents, it gets even worse as agent herders can do the same thing much faster.&lt;/p&gt;
    &lt;p&gt;Developers aside, there's also the users. AI models can't be imaginative, and the developers can't afford to, but surely with AI tools, the gap between users and developers will be bridged, ChatGPT will become the new HyperCard and people will turn their ideas into reality with just a few sentences? There's so many people out there who are coding without knowing it, from Carol in Accounting making insane Excel spreadsheets to all the kids on TikTok automating their phones with Apple Shortcuts and hacking up cool Notion notebooks.&lt;/p&gt;
    &lt;p&gt;But what if those people are an aberration? What if this state of tech learned helplessness cannot be fixed? What if people really do just want a glorified little TV in their pocket? What if most people truly just don't care about tech problems, about privacy, about Liquid Glass, about Microsoft's upsells, about constantly dealing with apps and features which just don't work? What if there will be nobody left to carry the torch? What if the future of computing belongs not to artisan developers or Carol from Accounting, but to whoever can churn out the most software out the fastest? What if good enough really is good enough for most people?&lt;/p&gt;
    &lt;p&gt;I'm terrified that our craft will die, and nobody will even care to mourn it.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46933067</guid><pubDate>Sun, 08 Feb 2026 10:31:35 +0000</pubDate></item><item><title>Why E cores make Apple silicon fast</title><link>https://eclecticlight.co/2026/02/08/last-week-on-my-mac-why-e-cores-make-apple-silicon-fast/</link><description>&lt;doc fingerprint="6782f0e3103cfaf9"&gt;
  &lt;main&gt;
    &lt;p&gt;If you use an Apple silicon Mac I’m sure you have been impressed by its performance. Whether you’re working with images, audio, video or building software, we’ve enjoyed a new turn of speed since the M1 on day 1. While most attribute this to their Performance cores, as it goes with the name, much is in truth the result of the unsung Efficiency cores, and how they keep background tasks where they should be.&lt;/p&gt;
    &lt;p&gt;To see what I mean, start your Apple silicon Mac up from the cold, and open Activity Monitor in its CPU view, with its CPU History window open as well. For the first five to ten minutes you’ll see its E cores are a wall of red and green with Spotlight’s indexing services, CGPDFService, mediaanalysisd, BackgroundShortcutRunner, Siri components, its initial Time Machine backup, and often an XProtect Remediator scan. Meanwhile its P cores are largely idle, and if you were to dive straight into using your working apps, there’s plenty of capacity for them to run unaffected by all that background mayhem.&lt;/p&gt;
    &lt;p&gt;It’s this stage that scares those who are still accustomed to using Intel Macs. Seeing processes using more than 100% CPU is terrifying, because they know that Intel cores can struggle under so much load, affecting user apps. But on an Apple silicon Mac, who notices or cares that there’s over a dozen mdworker processes each taking a good 50% CPU simultaneously? After all, this is what the Apple silicon architecture is designed for. Admittedly the impression isn’t helped by a dreadful piece of psychology, as those E cores at 100% are probably running at a frequency a quarter of those of P cores shown at the same 100%, making visual comparison completely false.*&lt;/p&gt;
    &lt;p&gt;This is nothing new. Apple brought it to the iPhone 7 in 2016, in its first SoC with separate P and E cores. That’s an implementation of Arm’s big.LITTLE announced in 2011, and development work at Cray and elsewhere in the previous decade. What makes the difference in Apple silicon Macs is how threads are allocated to the two different CPU core types on the basis of a metric known as Quality of Service, or QoS.&lt;/p&gt;
    &lt;p&gt;As with so much in today’s Macs, QoS has been around since OS X 10.10 Yosemite, six years before it became so central in performance. When all CPU cores are the same, it has limited usefulness over more traditional controls like Posix’s &lt;code&gt;nice&lt;/code&gt; scheduling priority. All those background tasks still have to be completed, and giving them a lower priority only prolongs the time they take on the CPU cores, and the period in which the user’s apps are competing with them for CPU cycles.&lt;/p&gt;
    &lt;p&gt;With the experience gained from its iPhones and other devices, Apple’s engineers had a better solution for future Macs. In addition to providing priority-based queues, QoS makes a fundamental distinction between those threads run in the foreground, and those of the background. While foreground threads will be run on P cores when they’re available, they can also be scheduled on E cores when necessary. But background threads aren’t normally allowed to run on P cores, even if they’re delayed by the load on the E cores they’re restricted to. We know this from our inability to promote existing background threads to run on P cores using St. Clair Software’s App Tamer and the command tool &lt;code&gt;taskpolicy&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;This is why, even if you sit and watch all those background processes loading the E cores immediately after starting up, leaving the P cores mostly idle, macOS won’t try running them on its P cores. If it did, even if you wanted it to, the distinction between foreground and background, P and E cores would start to fall apart, our apps would suffer as a consequence, and battery endurance would decline. Gone are the days of crashing mdworker processes bringing our Macs to their knees with a spinning beachball every few seconds.&lt;/p&gt;
    &lt;p&gt;If seeing all those processes using high % CPU can look scary, the inevitable consequence in terms of software architecture might seem terrifying. Rather than building monolithic apps, many of their tasks are now broken out into discrete processes run in the background on demand, on the E cores when appropriate. The fact that an idle Mac has over 2,000 threads running in over 600 processes is good news, and the more of those that are run on the E cores, the faster our apps will be. The first and last M-series chips to have only two E cores were the M1 Pro and Max, since when every one has had at least four E cores, and some as many as six or eight.&lt;/p&gt;
    &lt;p&gt;Because Efficiency cores get the background threads off the cores we need for performance.&lt;/p&gt;
    &lt;p&gt;* For the record, I have measured those frequencies using powermetrics. For an M4 Pro, for example, high QoS threads running on the P cores benefit from frequencies close to the P core max of 4,512 MHz. Low QoS threads running on the E cores are run at frequencies close to idle, typically around 1,050 MHz. However, when the E cores run high QoS threads that have overflowed from the P cores, the E cores are normally run at around their maximum of 2,592 MHz. By my arithmetic, 1,050 divided by 4,512 is 0.233, which is slightly less than a quarter. Other M-series chips are similar.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46933365</guid><pubDate>Sun, 08 Feb 2026 11:31:49 +0000</pubDate></item><item><title>Dave Farber has died</title><link>https://lists.nanog.org/archives/list/nanog@lists.nanog.org/thread/TSNPJVFH4DKLINIKSMRIIVNHDG5XKJCM/</link><description>&lt;doc fingerprint="72d0c1d6a9aba64f"&gt;
  &lt;main&gt;
    &lt;head rend="h3"&gt;Fwd: [cherry.heiyui@keio.jp: Sad news: Dave Farber has passed away]&lt;/head&gt;
    &lt;p&gt;----- Forwarded message from "Cherry, Hei Yui WONG" &amp;lt;cherry.heiyui@keio.jp&amp;gt; -----&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;From: "Cherry, Hei Yui WONG" &amp;lt;cherry.heiyui@keio.jp&amp;gt; Date: Sun, 8 Feb 2026 11:06:40 +0900 Subject: Sad news: Dave Farber has passed away&lt;/p&gt;
      &lt;p&gt;We are heartbroken to report that our colleague -- our mentor, friend, and conscience -- David J. Farber passed away suddenly at his home in Roppongi, Tokyo. He left us on Saturday, Feb. 7, 2026, at the too-young age of 91.&lt;/p&gt;
      &lt;p&gt;To his son Manny, he was simply ???Dad???, his bedrock whom he will miss immeasurably. They spoke almost daily by video throughout his time in Japan, and shared special times on numerous visits. He is survived by son Manny Farber and daughter-in-law Mei Xu, daughter-in-law Carol Hagan and grandsons Nate Farber and Sam Farber. He was preceded in death by his wife Gloria (G.G.) and son Joe Farber.&lt;/p&gt;
      &lt;p&gt;Dave???s career began with his education at Stevens Institute of Technology, which he loved deeply and served as a Trustee. He joined the legendary Bell Labs during its heyday, and worked at the Rand Corporation. Along the way, among countless other activities, he served as Chief Technologist of the U.S. Federal Communications Commission; became a proficient (instrument-rated) pilot; and was an active board member of the Electronic Frontier Foundation, a digital civil-liberties organization.&lt;/p&gt;
      &lt;p&gt;His professional accomplishments and impact are almost endless, but often captured by one moniker: ???grandfather of the Internet,??? acknowledging the foundational contributions made by his many students at the University of California, Irvine; the University of Delaware; the University of Pennsylvania; and Carnegie Mellon University&lt;/p&gt;
      &lt;p&gt;In 2018, at the age of 83, Dave moved to Japan to become Distinguished Professor at Keio University and Co-Director of the Keio Cyber Civilization Research Center (CCRC). He loved teaching, and taught his final class on January 22, 2026.&lt;/p&gt;
      &lt;p&gt;At CCRC, one of his most enjoyable activities was co-hosting the IP-Asia online gathering, which has met every Monday for more than five years and has addressed many aspects of the impact of technology on civilization. Dave thrived in Japan in every way.&lt;/p&gt;
      &lt;p&gt;We, the IP-Asia community, will gather for an online remembrance of Dave at the usual time and place, 2100 JST on Monday, February 9, 2026.&lt;/p&gt;
      &lt;p&gt;It???s impossible to summarize a life and career as rich and long as Dave???s in our few words here. And each of us, even those who knew him for decades, represent just one facet of his life. But because we are here at its end, we have the sad duty of sharing this news. Further information and a more formal obituary are forthcoming.&lt;/p&gt;
      &lt;p&gt;With condolences to Manny and the rest of the family,&lt;/p&gt;
      &lt;p&gt;Jiro Kokuryo Cherry Wong Kaori Suzuki Rodney Van Meter Dan Gillmor&lt;/p&gt;
      &lt;p&gt;Manny can be reached at manny.farber@gmail.com.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;----- End forwarded message -----&lt;/p&gt;
    &lt;head rend="h3"&gt;participants (2)&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt; Rich Kulawiec&lt;/item&gt;
      &lt;item&gt; Suresh Ramasubramanian&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46933401</guid><pubDate>Sun, 08 Feb 2026 11:38:57 +0000</pubDate></item><item><title>GitHub Agentic Workflows</title><link>https://github.github.io/gh-aw/</link><description>&lt;doc fingerprint="da42b021e6a3e2ce"&gt;
  &lt;main&gt;&lt;head rend="h1"&gt;GitHub Agentic Workflows&lt;/head&gt;&lt;head rend="h2"&gt;What are GitHub Agentic Workflows?&lt;/head&gt;Section titled “What are GitHub Agentic Workflows?”&lt;p&gt;Imagine a world where improvements to your repositories are delivered automatically each morning. Issues are automatically triaged, CI failures analyzed, documentation maintained, test coverage improved and compliance monitored - all defined via simple markdown files.&lt;/p&gt;&lt;p&gt;GitHub Agentic Workflows deliver this: automated repository agents, running in GitHub Actions, with security-first design principles.&lt;/p&gt;&lt;head rend="h2"&gt;Key Features&lt;/head&gt;Section titled “Key Features”&lt;head rend="h3"&gt;Automated Markdown Workflows&lt;/head&gt;&lt;p&gt;Write automation in markdown instead of complex YAML&lt;/p&gt;&lt;head rend="h3"&gt;AI-Powered Decision Making&lt;/head&gt;&lt;p&gt;Workflows that understand context and adapt to situations&lt;/p&gt;&lt;head rend="h3"&gt;GitHub Integration&lt;/head&gt;&lt;p&gt;Deep integration with Actions, Issues, PRs, Discussions, and repository management&lt;/p&gt;&lt;head rend="h3"&gt;Safety First&lt;/head&gt;&lt;p&gt;Sandboxed execution with minimal permissions and safe output processing&lt;/p&gt;&lt;head rend="h3"&gt;Multiple AI Engines&lt;/head&gt;&lt;p&gt;Support for Copilot, Claude, Codex, and custom AI processors&lt;/p&gt;&lt;head rend="h3"&gt;Continuous AI&lt;/head&gt;&lt;p&gt;Systematic, automated application of AI to software collaboration&lt;/p&gt;&lt;head rend="h3"&gt;Security Built-In&lt;/head&gt;Section titled “Security Built-In”&lt;p&gt;Workflows run with read-only permissions by default. Write operations require explicit approval through sanitized safe outputs (pre-approved GitHub operations), with sandboxed execution, tool allowlisting, and network isolation ensuring AI agents operate within controlled boundaries.&lt;/p&gt;&lt;head rend="h2"&gt;Example: Daily Issues Report&lt;/head&gt;Section titled “Example: Daily Issues Report”&lt;p&gt;How they work:&lt;/p&gt;&lt;list rend="ol"&gt;&lt;item&gt;Write - Create a &lt;code&gt;.md&lt;/code&gt;file with your automation instructions in natural language&lt;/item&gt;&lt;item&gt;Compile - Run &lt;code&gt;gh aw compile&lt;/code&gt;to transform it into a secure GitHub Actions workflow (&lt;code&gt;.lock.yml&lt;/code&gt;)&lt;/item&gt;&lt;item&gt;Run - GitHub Actions executes your workflow automatically based on your triggers&lt;/item&gt;&lt;/list&gt;&lt;p&gt;Here’s a simple workflow that runs daily to create an upbeat status report:&lt;/p&gt;&lt;p&gt;The &lt;code&gt;gh aw&lt;/code&gt; cli converts this into a GitHub Actions Workflow (.yml) that runs an AI agent (Copilot, Claude, Codex, …) in a containerized environment on a schedule or manually.&lt;/p&gt;&lt;p&gt;The AI coding agent reads your repository context, analyzes issues, generates visualizations, and creates reports - all defined in natural language rather than complex code.&lt;/p&gt;&lt;head rend="h2"&gt;Getting Started&lt;/head&gt;Section titled “Getting Started”&lt;p&gt;Install the extension, add a sample workflow, and trigger your first run - all from the command line in minutes.&lt;/p&gt;&lt;p&gt;Create custom agentic workflows directly from the GitHub web interface using natural language.&lt;/p&gt;&lt;head rend="h2"&gt;Workflow Examples&lt;/head&gt;Section titled “Workflow Examples”&lt;head rend="h3"&gt;Continuous Improvement&lt;/head&gt;&lt;p&gt;Daily code simplification, refactoring, and style improvements&lt;/p&gt;&lt;head rend="h3"&gt;Continuous Refactoring&lt;/head&gt;&lt;p&gt;Slash commands for on-demand analysis and automation&lt;/p&gt;&lt;head rend="h3"&gt;Continuous Documentation&lt;/head&gt;&lt;p&gt;Continuous documentation maintenance and consistency&lt;/p&gt;&lt;head rend="h3"&gt;Issue &amp;amp; PR Management&lt;/head&gt;&lt;p&gt;Automated triage, labeling, and project coordination&lt;/p&gt;&lt;head rend="h3"&gt;Metrics &amp;amp; Analytics&lt;/head&gt;&lt;p&gt;Daily reports, trend analysis, and workflow health monitoring&lt;/p&gt;&lt;head rend="h3"&gt;Continuous Scanning &amp;amp; Compliance&lt;/head&gt;&lt;p&gt;Scanning, alert triage, and compliance monitoring&lt;/p&gt;&lt;head rend="h3"&gt;Quality &amp;amp; Testing&lt;/head&gt;&lt;p&gt;CI failure diagnosis, test improvements, and quality checks&lt;/p&gt;&lt;head rend="h3"&gt;Multi-Repository&lt;/head&gt;&lt;p&gt;Feature sync and cross-repo tracking workflows&lt;/p&gt;&lt;head rend="h3"&gt;Scheduled Workflows&lt;/head&gt;&lt;p&gt;DailyOps, research, and automated maintenance&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46934107</guid><pubDate>Sun, 08 Feb 2026 13:40:56 +0000</pubDate></item><item><title>Running Your Own As: BGP on FreeBSD with FRR, GRE Tunnels, and Policy Routing</title><link>https://blog.hofstede.it/running-your-own-as-bgp-on-freebsd-with-frr-gre-tunnels-and-policy-routing/</link><description>&lt;doc fingerprint="aaa26951b120cbf2"&gt;
  &lt;main&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Sun 08 February 2026&lt;/item&gt;
      &lt;item&gt;Networking&lt;/item&gt;
      &lt;item&gt;#freebsd, #bgp, #networking, #ipv6, #frr, #pf, #tunneling&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Running your own Autonomous System on the public internet sounds like something reserved for ISPs and large enterprises. It’s not. With sponsoring LIRs making AS numbers and IPv6 prefixes accessible to individuals, and FreeBSD providing the routing tools to make it work, you can announce your own address space to the Default-Free Zone from a single virtual machine.&lt;/p&gt;
    &lt;p&gt;This article walks through the complete setup: obtaining resources from RIPE via a sponsoring LIR, configuring a FreeBSD BGP router with FRR, building GRE/GIF tunnels to distribute prefixes to remote servers, and solving the routing challenge that arises when a server needs to speak from two different IPv6 address spaces simultaneously.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Note on addresses: All provider-assigned IP addresses, hostnames, and management IPs in this article have been replaced with RFC 5737 / RFC 3849 documentation ranges. My own AS number (AS201379) and prefix (2a06:9801:1c::/48) are public BGP resources and shown as-is. The upstream AS numbers (AS34927, AS209735) are equally visible in public routing tables.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;head rend="h2"&gt;Why Run Your Own AS?&lt;/head&gt;
    &lt;p&gt;Provider-assigned IPv6 addresses are tied to that provider. Move to a different hoster and your addresses change - along with DNS records, firewall rules, reputation, and every system that references them. With your own AS and prefix, your addresses follow you. Migrate a server, update a tunnel endpoint, and traffic flows again without touching a single service configuration.&lt;/p&gt;
    &lt;p&gt;There are also less practical reasons. Understanding BGP transforms how you think about internet routing. Watching your prefix propagate through the DFZ and appear on looking glasses worldwide is genuinely satisfying. And if you run services across multiple providers, having provider-independent addressing simplifies the architecture considerably.&lt;/p&gt;
    &lt;head rend="h2"&gt;Obtaining Resources&lt;/head&gt;
    &lt;p&gt;To announce prefixes on the internet, you need two things from a Regional Internet Registry (in Europe, that’s RIPE NCC):&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;An AS number - your identity in BGP. Mine is AS201379.&lt;/item&gt;
      &lt;item&gt;An IPv6 prefix - the address space you’ll announce. I received 2a06:9801:1c::/48.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;As an individual, you don’t need to become a RIPE member (which involves fees and bureaucracy). Instead, you work with a sponsoring LIR - an existing RIPE member who sponsors your resource registration. Several LIRs cater to hobbyists and small operators. The process typically involves:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Filling out a request form with your intended use case&lt;/item&gt;
      &lt;item&gt;Creating the appropriate RIPE database objects (aut-num, inet6num, route6)&lt;/item&gt;
      &lt;item&gt;Setting up RPKI ROAs (Route Origin Authorizations) to cryptographically bind your prefix to your AS&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Once the paperwork is done, you need upstream connectivity - someone willing to carry your BGP sessions and announce your routes to the rest of the internet.&lt;/p&gt;
    &lt;head rend="h2"&gt;Architecture Overview&lt;/head&gt;
    &lt;p&gt;The setup involves two tiers: a BGP router that peers with upstream providers, and downstream servers that receive tunneled subnets from the router’s /48.&lt;/p&gt;
    &lt;code&gt;                    ââââââââââââââââââââââââââââââââ
                    â     Default-Free Zone         â
                    ââââââââ¬âââââââââââââââ¬ââââââââââ
                           â              â
                    AS34927 (iFog)   AS209735 (Lagrange)
                           â              â
                      GRE tunnel     Direct peering
                           â              â
                    ââââââââ´âââââââââââââââ´ââââââââââ
                    â    router01 (BGP Router)       â
                    â     FreeBSD + FRR              â
                    â     AS201379                   â
                    â     2a06:9801:1c::/48          â
                    ââââââââ¬âââââââââââââââ¬ââââââââââ
                           â              â
                      GIF tunnel     GIF tunnel
                      (proto 41)     (proto 41)
                           â              â
                    ââââââââ´ââââ   ââââââââ´âââââââââââ
                    â  vps01   â   â  dcgw01          â
                    â  VPS     â   â  DC OPNsense     â
                    â  :1000:: â   â  :2000::/62      â
                    â  /64     â   â                   â
                    ââââââââââââ   ââââââââââââââââââââ
&lt;/code&gt;
    &lt;p&gt;The BGP router (&lt;code&gt;router01&lt;/code&gt;) announces 2a06:9801:1c::/48 to two upstream providers and maintains a blackhole route for the aggregate. Individual /64s (and a /62 for my Colocation datacenter) are tunneled to downstream servers via GIF tunnels (IPv6-in-IPv4 encapsulation). Each server receives real, globally routable addresses from my prefix while keeping its existing provider-assigned IPv6 fully operational.&lt;/p&gt;
    &lt;head rend="h2"&gt;The BGP Router&lt;/head&gt;
    &lt;p&gt;The router runs on a FreeBSD VM at a colocation facility with direct connectivity to two upstream networks. Let’s walk through each layer.&lt;/p&gt;
    &lt;head rend="h3"&gt;Network Configuration&lt;/head&gt;
    &lt;p&gt;The router’s &lt;code&gt;/etc/rc.conf&lt;/code&gt; sets up the physical interface, tunnel interfaces, and static routes:&lt;/p&gt;
    &lt;code&gt;hostname="router01"

# Security
kern_securelevel_enable="YES"
kern_securelevel="2"

# Physical interface
ifconfig_vtnet0="inet 198.51.100.10/24 -rxcsum -txcsum -rxcsum6 -txcsum6 -lro -tso"
ifconfig_vtnet0_ipv6="inet6 2001:db8:100::96/64"

defaultrouter="198.51.100.1"
ipv6_defaultrouter="2001:db8:100::1"

# Loopback alias for originated prefix
ifconfig_lo0_alias0="inet6 2a06:9801:1c::1 prefixlen 64"

# Tunnel interfaces
cloned_interfaces="gif0 gif1 gre0"
kld_list="if_gif if_gre"

# GRE Tunnel to transit provider (iFog)
ifconfig_gre0="tunnel 198.51.100.10 198.51.100.44"
ifconfig_gre0_ipv6="inet6 2001:db8:300::2 2001:db8:300::1 prefixlen 128"
ifconfig_gre0_descr="Transit-iFog"

# GIF Tunnel to VPS (vps01)
ifconfig_gif0="tunnel 198.51.100.10 203.0.113.10"
ifconfig_gif0_ipv6="inet6 2a06:9801:1c:ffff::1 2a06:9801:1c:ffff::2 prefixlen 128"
ifconfig_gif0_descr="Tunnel-to-VPS"
ipv6_route_cloud="2a06:9801:1c:1000::/64 2a06:9801:1c:ffff::2"

# GIF Tunnel to datacenter firewall (dcgw01)
ifconfig_gif1="tunnel 198.51.100.10 192.0.2.50"
ifconfig_gif1_ipv6="inet6 2a06:9801:1c:ffff::3 2a06:9801:1c:ffff::4 prefixlen 128"
ifconfig_gif1_descr="Tunnel-to-Datacenter"
ipv6_route_dc="2a06:9801:1c:2000::/62 2a06:9801:1c:ffff::4"

# Blackhole route for the aggregate + downstream routes
ipv6_static_routes="myblock cloud dc"
ipv6_route_myblock="2a06:9801:1c::/48 -reject"
ipv6_gateway_enable="YES"

# Services
pf_enable="YES"
pflog_enable="YES"
frr_enable="YES"
zfs_enable="YES"
sshd_enable="YES"
&lt;/code&gt;
    &lt;p&gt;A few things worth explaining:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;The blackhole route (&lt;code&gt;-reject&lt;/code&gt;for the /48) is essential. Without it, traffic for unassigned subnets within your prefix would follow the default route back to the upstream, creating a routing loop. The blackhole ensures unrouted traffic is dropped locally.&lt;/item&gt;
      &lt;item&gt;Point-to-point tunnel addresses use /128 prefixes on the &lt;code&gt;2a06:9801:1c:ffff::/64&lt;/code&gt;link subnet. Each tunnel gets a pair of addresses from this range.&lt;/item&gt;
      &lt;item&gt;Downstream routes point specific subnets at the far end of each tunnel. The /64 for the VPS and /62 for the datacenter are routed to their respective tunnel endpoints.&lt;/item&gt;
      &lt;item&gt;GRE vs GIF: The iFog peering uses GRE because that’s what the provider requires. The downstream tunnels use GIF (protocol 41, IPv6-in-IPv4) which is simpler and has less overhead.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;FRR Configuration&lt;/head&gt;
    &lt;p&gt;FRR (Free Range Routing) handles the BGP sessions. The configuration lives at &lt;code&gt;/usr/local/etc/frr/frr.conf&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;frr version 10.5.1
frr defaults traditional
hostname router01
log syslog informational
service integrated-vtysh-config
!
ipv6 prefix-list PL-MY-NET seq 5 permit 2a06:9801:1c::/48
!
ipv6 prefix-list PL-BOGONS seq 5 deny ::/0 le 7
ipv6 prefix-list PL-BOGONS seq 10 deny ::/8
ipv6 prefix-list PL-BOGONS seq 15 deny 100::/8
ipv6 prefix-list PL-BOGONS seq 20 deny 200::/7
ipv6 prefix-list PL-BOGONS seq 25 deny 400::/6
ipv6 prefix-list PL-BOGONS seq 30 deny 800::/5
ipv6 prefix-list PL-BOGONS seq 35 deny 1000::/4
ipv6 prefix-list PL-BOGONS seq 40 deny 4000::/3
ipv6 prefix-list PL-BOGONS seq 45 deny 6000::/3
ipv6 prefix-list PL-BOGONS seq 50 deny 8000::/3
ipv6 prefix-list PL-BOGONS seq 55 deny a000::/3
ipv6 prefix-list PL-BOGONS seq 60 deny c000::/3
ipv6 prefix-list PL-BOGONS seq 65 deny e000::/4
ipv6 prefix-list PL-BOGONS seq 70 deny f000::/5
ipv6 prefix-list PL-BOGONS seq 75 deny f800::/6
ipv6 prefix-list PL-BOGONS seq 80 deny fc00::/7
ipv6 prefix-list PL-BOGONS seq 85 deny fe80::/10
ipv6 prefix-list PL-BOGONS seq 90 deny fec0::/10
ipv6 prefix-list PL-BOGONS seq 95 deny ff00::/8
ipv6 prefix-list PL-BOGONS seq 100 deny 2a06:9801:1c::/48
ipv6 prefix-list PL-BOGONS seq 105 deny ::/0 ge 49
ipv6 prefix-list PL-BOGONS seq 110 permit ::/0 le 48
!
route-map RM-IFOG-OUT permit 10
 match ipv6 address prefix-list PL-MY-NET
 set community 34927:9501 34927:9301 additive
exit
!
route-map RM-LAGRANGE-OUT permit 10
 match ipv6 address prefix-list PL-MY-NET
 set as-path prepend 201379 201379
exit
!
route-map RM-IFOG-IN permit 10
 match ipv6 address prefix-list PL-BOGONS
exit
!
route-map RM-LAGRANGE-IN permit 10
 match ipv6 address prefix-list PL-BOGONS
exit
!
ipv6 route 2a06:9801:1c::/48 blackhole
!
router bgp 201379
 bgp router-id 198.51.100.10
 no bgp default ipv4-unicast
 neighbor 2001:db8:300::1 remote-as 34927
 neighbor 2001:db8:300::1 description Upstream-iFog
 neighbor 2001:db8:300::1 ttl-security hops 1
 neighbor 2001:db8:300::1 update-source gre0
 neighbor 2001:db8:100::ff remote-as 209735
 neighbor 2001:db8:100::ff description Upstream-Lagrange
 neighbor 2001:db8:100::ff ttl-security hops 1
 neighbor 2001:db8:100::ff update-source 2001:db8:100::96
 !
 address-family ipv6 unicast
  network 2a06:9801:1c::/48
  neighbor 2001:db8:300::1 activate
  neighbor 2001:db8:300::1 soft-reconfiguration inbound
  neighbor 2001:db8:300::1 maximum-prefix 250000 90 restart 30
  neighbor 2001:db8:300::1 route-map RM-IFOG-IN in
  neighbor 2001:db8:300::1 route-map RM-IFOG-OUT out
  neighbor 2001:db8:100::ff activate
  neighbor 2001:db8:100::ff soft-reconfiguration inbound
  neighbor 2001:db8:100::ff maximum-prefix 250000 90 restart 30
  neighbor 2001:db8:100::ff route-map RM-LAGRANGE-IN in
  neighbor 2001:db8:100::ff route-map RM-LAGRANGE-OUT out
 exit-address-family
exit
&lt;/code&gt;
    &lt;p&gt;There’s a lot happening here. Let me break down the key design decisions.&lt;/p&gt;
    &lt;head rend="h4"&gt;Prefix Lists&lt;/head&gt;
    &lt;p&gt;Two prefix lists control what gets sent and received:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;PL-MY-NET: Matches only our /48. Used in outbound route-maps to ensure we only ever announce our own prefix.&lt;/item&gt;
      &lt;item&gt;PL-BOGONS: A comprehensive bogon filter for inbound routes. This rejects non-routable address space (link-local, ULA, multicast, documentation ranges), our own prefix (to prevent loops), and anything more specific than a /48 or less specific than a /8. The final &lt;code&gt;permit ::/0 le 48&lt;/code&gt;at the end accepts everything that survived the deny rules.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The bogon filter deserves emphasis. Accepting bad routes from peers can cause anything from black-holed traffic to becoming an unwitting participant in route hijacks. Filter aggressively on inbound.&lt;/p&gt;
    &lt;head rend="h4"&gt;Route Maps&lt;/head&gt;
    &lt;p&gt;Each peer gets its own pair of inbound/outbound route maps:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Outbound to iFog (&lt;code&gt;RM-IFOG-OUT&lt;/code&gt;): Announces our /48 with BGP communities&lt;code&gt;34927:9501&lt;/code&gt;and&lt;code&gt;34927:9301&lt;/code&gt;. These are iFog-specific communities that control route propagation - in this case, requesting announcement to specific peering partners.&lt;/item&gt;
      &lt;item&gt;Outbound to Lagrange (&lt;code&gt;RM-LAGRANGE-OUT&lt;/code&gt;): Announces our /48 with AS-path prepending (adds our ASN twice). This makes the Lagrange path appear longer to the rest of the internet, steering inbound traffic to prefer the iFog path. Useful for traffic engineering when one upstream has better connectivity.&lt;/item&gt;
      &lt;item&gt;Inbound from both: Apply the bogon filter to reject garbage routes.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h4"&gt;BGP Session Details&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;no bgp default ipv4-unicast&lt;/code&gt;: We’re IPv6-only. Don’t activate IPv4 address family by default.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;ttl-security hops 1&lt;/code&gt;: GTSM (Generalized TTL Security Mechanism) - reject BGP packets with TTL less than 254. This prevents remote attacks on the BGP session since only directly connected peers can send packets with TTL 255.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;soft-reconfiguration inbound&lt;/code&gt;: Store received routes before applying filters. This lets you change inbound policy without resetting the BGP session.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;maximum-prefix 250000 90 restart 30&lt;/code&gt;: Safety valve. If a peer sends more than 250,000 prefixes (or 90% of that as a warning), tear down the session and retry after 30 minutes. Protects against route leaks from upstream.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Firewall on the Router&lt;/head&gt;
    &lt;p&gt;The BGP router’s PF configuration protects the control plane while allowing data plane forwarding:&lt;/p&gt;
    &lt;code&gt;# --- Macros ---
ext_if = "vtnet0"
dc_tun = "gif1"
vps_tun = "gif0"

trusted_ipv4 = "{ 198.51.100.100, 198.51.100.101 }"
trusted_ipv6 = "{ 2001:db8:ffff:1::/64, 2001:db8:ffff:2::/64 }"

bgp_peers_v4 = "{ 198.51.100.20 }"
bgp_peers_v6 = "{ 2001:db8:100::ff }"
ifog_gre_endpoint = "198.51.100.44"
ifog_bgp_peer     = "2001:db8:300::1"

my_network_v6 = "2a06:9801:1c::/48"
vps_v4 = "203.0.113.10"

# --- Tables ---
table &amp;lt;bruteforce&amp;gt; persist
table &amp;lt;trusted_v4&amp;gt; const { $trusted_ipv4 }
table &amp;lt;trusted_v6&amp;gt; const { $trusted_ipv6 }
table &amp;lt;bgp_peers_v4&amp;gt; const { $bgp_peers_v4 }
table &amp;lt;bgp_peers_v6&amp;gt; const { $bgp_peers_v6 }
table &amp;lt;bogons&amp;gt; const { 0.0.0.0/8, 10.0.0.0/8, 172.16.0.0/12, \
    192.168.0.0/16, 169.254.0.0/16, ::/96, fc00::/7, \
    fec0::/10, ff00::/8 }

# --- Options ---
set skip on lo0
set block-policy drop
set loginterface $ext_if

# --- Scrub ---
scrub in all fragment reassemble
scrub on $vps_tun max-mss 1440
scrub on $dc_tun max-mss 1140
scrub on gre0 max-mss 1400

# --- Filtering ---
block log all
block in quick on $ext_if from { &amp;lt;bogons&amp;gt;, $my_network_v6 } to any
antispoof quick for { $ext_if }

# --- Control Plane ---

# SSH from trusted sources only
pass in quick on $ext_if proto tcp from &amp;lt;trusted_v4&amp;gt; to ($ext_if) port 22 \
    flags S/SA keep state \
    (max-src-conn 5, max-src-conn-rate 3/30, \
     overload &amp;lt;bruteforce&amp;gt; flush global)
pass in quick on $ext_if proto tcp from &amp;lt;trusted_v6&amp;gt; to ($ext_if) port 22 \
    flags S/SA keep state \
    (max-src-conn 5, max-src-conn-rate 3/30, \
     overload &amp;lt;bruteforce&amp;gt; flush global)

# BGP (TCP 179) - strictly limited to known peers
pass in quick on $ext_if proto tcp from &amp;lt;bgp_peers_v4&amp;gt; to ($ext_if) port 179 \
    flags S/SA keep state
pass in quick on $ext_if proto tcp from &amp;lt;bgp_peers_v6&amp;gt; to ($ext_if) port 179 \
    flags S/SA keep state

# GRE tunnel from iFog
pass in quick on $ext_if proto gre from $ifog_gre_endpoint to ($ext_if)
pass in quick on gre0 proto tcp from $ifog_bgp_peer to any port 179

# ICMPv6: essential for NDP, PMTUD, and diagnostics
pass in quick inet6 proto ipv6-icmp icmp6-type { \
    echoreq, echorep, neighbrsol, neighbradv, \
    toobig, timex, paramprob, routersol }
pass in quick inet proto icmp icmp-type { echoreq, unreach, timex }

# --- Data Plane ---

# Inbound traffic destined for our prefix
pass in quick on $ext_if inet6 from any to $my_network_v6 keep state
pass in quick on gre0 inet6 from any to $my_network_v6 keep state

# Return traffic from downstream tunnels
pass in quick on $vps_tun inet6 from $my_network_v6 to any keep state
pass in quick on $dc_tun inet6 from $my_network_v6 to any keep state

# GIF tunnel encapsulation (proto 41) from downstream endpoints
pass in quick on $ext_if proto 41 from $vps_v4 to ($ext_if)

# Outbound
pass out quick all keep state
&lt;/code&gt;
    &lt;p&gt;The firewall cleanly separates control plane (SSH, BGP sessions) from data plane (forwarded traffic). The control plane rules are strict: BGP is locked to known peer addresses, SSH to trusted management IPs. The data plane rules are simpler since the router just needs to forward packets between upstreams and downstream tunnels.&lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;block in quick on $ext_if from { &amp;lt;bogons&amp;gt;, $my_network_v6 }&lt;/code&gt; rule is important - it drops packets claiming to come from our own prefix arriving on the external interface. If someone on the internet spoofs a source address from our range, this catches it before it enters the forwarding path.&lt;/p&gt;
    &lt;p&gt;Note the per-tunnel MSS clamping in the scrub section. Each tunnel has different overhead (GRE adds more headers than GIF), so the MSS values differ. Getting this wrong causes mysterious connection stalls with large packets.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Downstream Server: Dual-Stack with Policy Routing&lt;/head&gt;
    &lt;p&gt;This is where things get interesting. The VPS (&lt;code&gt;vps01&lt;/code&gt;) already has provider-assigned IPv6 from its hoster. Jails on this server use addresses from both address spaces:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Provider IPv6 (2001:db8:200:0:1000::/68) - the hoster’s addresses, NATed to the host&lt;/item&gt;
      &lt;item&gt;BGP IPv6 (2a06:9801:1c:1000::/64) - our own prefix, routed natively via the GIF tunnel&lt;/item&gt;
      &lt;item&gt;Private IPv4 (10.254.254.0/24) - NATed to the host’s public IPv4&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The challenge: when a jail sends traffic from its BGP address (2a06:…), that traffic must exit through the GIF tunnel to the BGP router - not through the default route to the VPS provider, where it would be dropped as spoofed. But traffic from the provider address must continue using the normal default route.&lt;/p&gt;
    &lt;p&gt;The solution is dual-FIB policy routing - FreeBSD’s implementation of multiple routing tables.&lt;/p&gt;
    &lt;head rend="h3"&gt;How Dual-FIB Works&lt;/head&gt;
    &lt;p&gt;FreeBSD supports multiple routing tables called FIBs (Forwarding Information Bases). Each FIB is an independent routing table with its own default route and entries. Interfaces and PF rules can assign traffic to a specific FIB, and the kernel consults the appropriate table when forwarding.&lt;/p&gt;
    &lt;code&gt;FIB 0 (default):
  default --&amp;gt; vtnet0 --&amp;gt; VPS provider upstream
  Used by: host traffic, provider-addressed jail traffic

FIB 1:
  default --&amp;gt; gif0 --&amp;gt; BGP router (router01)
  Used by: BGP-addressed jail traffic (2a06:9801:1c::/48)
&lt;/code&gt;
    &lt;head rend="h3"&gt;Network Configuration&lt;/head&gt;
    &lt;p&gt;Here’s the relevant portion of the server’s &lt;code&gt;/etc/rc.conf&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;hostname="vps01.example.com"

kern_securelevel_enable="YES"
kern_securelevel="2"

# Primary interface - provider IPv4 and IPv6
ifconfig_vtnet0="inet 203.0.113.10 netmask 255.255.252.0 -lro -tso"
ifconfig_vtnet0_ipv6="inet6 2001:db8:200::2 prefixlen 68"
defaultrouter="203.0.113.1"
ipv6_defaultrouter="fe80::1%vtnet0"

# Jail bridge - three address spaces
cloned_interfaces="bridge0 gif0"
ifconfig_bridge0_name="bastille0"
ifconfig_bastille0="inet 10.254.254.1/24"
ifconfig_bastille0_ipv6="inet6 2001:db8:200:0:1000::1 prefixlen 68"
ifconfig_bastille0_alias0="inet6 2a06:9801:1c:1000::1 prefixlen 64"

# GIF tunnel to BGP router - assigned to FIB 1
ifconfig_gif0="fib 1 tunnel 203.0.113.10 198.51.100.10 tunnelfib 0"
ifconfig_gif0_ipv6="inet6 2a06:9801:1c:ffff::2 2a06:9801:1c:ffff::1 prefixlen 128"

# Enable forwarding
gateway_enable="YES"
ipv6_gateway_enable="YES"

# FIB 1 routing table entries
static_routes="fib1default jailleak bgplink"
route_fib1default="-6 default -interface gif0 -fib 1"
route_jailleak="-6 2001:db8:200:0:1000::/68 -interface bastille0 -fib 1"
route_bgplink="-6 2a06:9801:1c:1000::/64 -interface bastille0 -fib 1"
&lt;/code&gt;
    &lt;p&gt;The GIF tunnel configuration deserves a closer look:&lt;/p&gt;
    &lt;code&gt;ifconfig_gif0="fib 1 tunnel 203.0.113.10 198.51.100.10 tunnelfib 0"
&lt;/code&gt;
    &lt;p&gt;This single line contains two critical directives:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;fib 1&lt;/code&gt;: The tunnel interface itself lives in FIB 1. Traffic arriving on gif0 and traffic routed out gif0 consults routing table 1.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;tunnelfib 0&lt;/code&gt;: But the outer IPv4 encapsulation (the 203.0.113.10 —&amp;gt; 198.51.100.10 wrapper) uses FIB 0. This is essential - the IPv4 path to the BGP router goes through the provider’s default route in FIB 0. Without&lt;code&gt;tunnelfib 0&lt;/code&gt;, the encapsulated packets would try to use FIB 1’s default route (which points at gif0 itself), creating a recursive loop.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The three static routes in FIB 1 complete the picture:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;fib1default&lt;/code&gt;: Default route in FIB 1 exits through gif0 to the BGP router&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;jailleak&lt;/code&gt;: Tells FIB 1 that the provider’s jail subnet is reachable via bastille0 (without this, return traffic in FIB 1 for jails’ provider addresses would try to exit through gif0)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;bgplink&lt;/code&gt;: Same for the BGP jail subnet - FIB 1 needs to know these addresses are local on bastille0&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;PF: The Routing Glue&lt;/head&gt;
    &lt;p&gt;PF is where the address-based routing decision happens. When a jail sends a packet from a BGP address, PF assigns it to FIB 1:&lt;/p&gt;
    &lt;code&gt;# BGP-addressed jail traffic --&amp;gt; force into routing table 1 (exits via gif0)
pass in quick on bastille0 inet6 from $bgp_net to any rtable 1 keep state
&lt;/code&gt;
    &lt;p&gt;The &lt;code&gt;rtable 1&lt;/code&gt; directive is the key. It tells PF to route matching packets using FIB 1 instead of the default FIB 0. Since FIB 1’s default route points out gif0 to the BGP router, these packets get encapsulated and sent to router01, which then forwards them to the internet with the correct source address.&lt;/p&gt;
    &lt;p&gt;For traffic arriving on the tunnel destined for jails, PF uses &lt;code&gt;reply-to&lt;/code&gt; to ensure return traffic takes the same path:&lt;/p&gt;
    &lt;code&gt;# Inbound BGP traffic - reply-to ensures responses exit via gif0
pass in quick on $tun_if reply-to ($tun_if $bgp_hub_ip) inet6 \
    from any to $bgp_net keep state

# BGP ICMPv6 - also needs reply-to for correct return path
pass in quick on $tun_if reply-to ($tun_if $bgp_hub_ip) inet6 proto ipv6-icmp \
    from any to $bgp_net \
    icmp6-type { echoreq, echorep, toobig, timex, paramprob } \
    keep state
&lt;/code&gt;
    &lt;p&gt;Without &lt;code&gt;reply-to&lt;/code&gt;, the kernel would consult FIB 0 for return traffic (since the jail itself isn’t in FIB 1), and replies to BGP-addressed connections would exit through vtnet0 with the wrong source routing - getting dropped as spoofed by the provider. The &lt;code&gt;reply-to&lt;/code&gt; directive forces PF to send reply packets back out the interface they arrived on, to the specified next-hop.&lt;/p&gt;
    &lt;head rend="h3"&gt;The Complete Picture&lt;/head&gt;
    &lt;p&gt;Here’s how a request to a BGP-addressed jail service flows:&lt;/p&gt;
    &lt;code&gt; 1. Client sends packet to 2a06:9801:1c:1000::10 (web jail)
 2. Packet traverses the internet, reaching AS201379 via iFog or Lagrange
 3. router01 forwards it through gif0 tunnel to vps01
 4. vps01 receives proto 41 on vtnet0, decapsulates --&amp;gt; gif0
 5. PF matches: reply-to ($tun_if $bgp_hub_ip), creates state
 6. Packet forwarded to bastille0 --&amp;gt; jail
 7. Jail responds, packet exits on bastille0
 8. PF's state table triggers reply-to: send via gif0 to bgp_hub_ip
 9. gif0 encapsulates (proto 41) using FIB 0 to reach router01
10. router01 receives, forwards to upstream --&amp;gt; internet --&amp;gt; client
&lt;/code&gt;
    &lt;p&gt;And for outbound connections initiated by the jail using its BGP address:&lt;/p&gt;
    &lt;code&gt;1. Jail sends packet from 2a06:9801:1c:1000::10
2. Packet arrives on bastille0
3. PF matches: "from $bgp_net --&amp;gt; rtable 1"
4. Kernel routes via FIB 1 --&amp;gt; default route --&amp;gt; gif0
5. gif0 encapsulates using FIB 0 --&amp;gt; vtnet0 --&amp;gt; router01
6. router01 receives, forwards to internet (source: 2a06:9801:1c:1000::10)
&lt;/code&gt;
    &lt;p&gt;Meanwhile, the exact same jail can communicate using its provider address through the normal default route in FIB 0, with NAT to the host’s address. Both address spaces coexist on the same interface, differentiated purely by PF rules and FIB selection.&lt;/p&gt;
    &lt;head rend="h2"&gt;Verification&lt;/head&gt;
    &lt;p&gt;Once everything is running, verification is straightforward. From inside a jail with both addresses:&lt;/p&gt;
    &lt;code&gt;# Traffic from the provider address - NATed through the hoster
root@caddy:~ # curl --interface 2001:db8:200:0:1000::10 https://ifconfig.co
2001:db8:200::2

# Traffic from the BGP address - routed natively through the tunnel
root@caddy:~ # curl --interface 2a06:9801:1c:1000::10 https://ifconfig.co
2a06:9801:1c:1000::10
&lt;/code&gt;
    &lt;p&gt;The first request shows the host’s NATed provider address. The second shows the jail’s real BGP address - confirming the packet traversed the tunnel and reached the internet through AS201379.&lt;/p&gt;
    &lt;p&gt;A traceroute from an external host confirms the BGP path is working:&lt;/p&gt;
    &lt;code&gt;$ mtr -rw 2a06:9801:1c:1000::10
HOST:                              Loss%   Snt   Last   Avg  Best  Wrst StDev
 1.|-- [local-gateway]               0.0%    10    2.6   5.5   2.6  14.1   3.6
    ...
 9.|-- [transit-provider-edge]       0.0%    10   33.8  46.2  33.8  81.2  19.0
10.|-- [ifog-peering-fabric]         0.0%    10   33.5  46.7  33.5  87.0  18.6
11.|-- 2001:db8:300::2               0.0%    10   44.3  59.1  41.9 136.7  33.2
12.|-- 2a06:9801:1c:ffff::2         0.0%    10   72.7  98.9  68.8 198.8  42.4
13.|-- 2a06:9801:1c:1000::10        0.0%    10  164.1  83.1  63.5 164.1  33.4
&lt;/code&gt;
    &lt;p&gt;Traffic enters via the transit provider (hops 9-10), traverses the GRE tunnel to router01 (hop 11), then the GIF tunnel to vps01 (hop 12, the &lt;code&gt;2a06:9801:1c:ffff::2&lt;/code&gt; link address), and finally reaches the jail (hop 13). The prefix also shows up correctly on bgp.tools as active and originated by AS201379 with both upstreams visible.&lt;/p&gt;
    &lt;head rend="h2"&gt;Lessons Learned&lt;/head&gt;
    &lt;p&gt;MSS clamping is non-negotiable with tunnels. Every layer of encapsulation eats into the MTU. GIF adds 20 bytes (IPv4 header) to every packet. GRE adds more. If you don’t clamp the TCP MSS, large packets get fragmented or dropped, causing mysterious failures where small requests work but large transfers stall. Set &lt;code&gt;max-mss&lt;/code&gt; in PF’s scrub rules for every tunnel interface, calculated as: MTU minus IPv6 header (40 bytes) minus TCP header (20 bytes).&lt;/p&gt;
    &lt;p&gt;FIB separation is cleaner than source-based routing hacks. FreeBSD’s multi-FIB support is a first-class feature. Using &lt;code&gt;rtable&lt;/code&gt; in PF and &lt;code&gt;fib&lt;/code&gt;/&lt;code&gt;tunnelfib&lt;/code&gt; on interfaces gives you full control over which routing table handles which traffic. It’s conceptually cleaner and more debuggable than alternatives like ip6tables MARK targets on Linux.&lt;/p&gt;
    &lt;p&gt;Bogon filtering matters even for small networks. The internet is full of misconfigurations and occasional malice. Filtering inbound routes prevents your router from accepting nonsense that could black-hole traffic or worse. The cost is a few lines of configuration; the protection is real.&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;reply-to&lt;/code&gt; solves asymmetric routing. When traffic can arrive on multiple interfaces, the kernel’s default FIB selection for return traffic may choose the wrong path. PF’s &lt;code&gt;reply-to&lt;/code&gt; directive forces replies back out the arrival interface, which is exactly what you need for tunnel overlay setups.&lt;/p&gt;
    &lt;p&gt;Start with two upstreams. A single upstream means zero redundancy and no ability to do traffic engineering. Two upstreams give you failover and the ability to prefer one path over the other using AS-path prepending or communities. The operational complexity increase is minimal.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;Running your own AS on the internet is more accessible than most people assume. The barrier isn’t technical complexity - it’s knowing that the option exists. A FreeBSD VM, FRR, a couple of tunnels, and some careful PF rules give you provider-independent addressing, real BGP peering, and a deeper understanding of how the internet actually works.&lt;/p&gt;
    &lt;p&gt;The dual-FIB approach on the downstream server is the piece I’m most satisfied with. It elegantly solves the “two address spaces, one server” problem without hacks: BGP traffic takes the tunnel, provider traffic takes the default route, and PF’s &lt;code&gt;rtable&lt;/code&gt; directive makes the decision based purely on source address. Both paths coexist transparently, and the jails don’t need to know anything about the routing underneath.&lt;/p&gt;
    &lt;p&gt;Is it overkill for a blog? Absolutely. But the same infrastructure carries every service I run, and having addresses that survive provider migrations has already paid for itself in operational simplicity. Besides, there’s something deeply satisfying about seeing your own AS number show up in a traceroute.&lt;/p&gt;
    &lt;head rend="h2"&gt;References&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;RIPE NCC - Requesting Resources&lt;/item&gt;
      &lt;item&gt;FRR Documentation&lt;/item&gt;
      &lt;item&gt;FreeBSD Handbook: Firewalls (PF)&lt;/item&gt;
      &lt;item&gt;FreeBSD setfib(1)&lt;/item&gt;
      &lt;item&gt;bgp.tools - BGP looking glass and analytics&lt;/item&gt;
      &lt;item&gt;RIPE RPKI Documentation&lt;/item&gt;
      &lt;item&gt;RFC 5082 - GTSM (TTL Security)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The internet is a network of networks, and now you’re one of them. There’s a certain elegance in participating in the same routing protocol that glues together every network on the planet - from your single /48 all the way up to the Tier 1 carriers. BGP doesn’t care about your size. It just cares that your routes are valid, your filters are clean, and your packets know where to go.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46934266</guid><pubDate>Sun, 08 Feb 2026 14:02:58 +0000</pubDate></item><item><title>RFC 3092 – Etymology of "Foo" (2001)</title><link>https://datatracker.ietf.org/doc/html/rfc3092</link><description>&lt;doc fingerprint="9f19c0c6228da38a"&gt;
  &lt;main&gt;
    &lt;div&gt;
      &lt;quote&gt;Network Working Group D. Eastlake 3rd Request for Comments: 3092 Motorola Category: Informational C. Manros Xerox E. Raymond Open Source Initiative 1 April 2001 Etymology of "Foo" Status of this Memo This memo provides information for the Internet community. It does not specify an Internet standard of any kind. Distribution of this memo is unlimited. Copyright Notice Copyright (C) The Internet Society (2001). All Rights Reserved. Abstract Approximately 212 RFCs so far, starting with RFC 269, contain the terms `foo', `bar', or `foobar' as metasyntactic variables without any proper explanation or definition. This document rectifies that deficiency. Table of Contents 1. Introduction............................................1 2. Definition and Etymology................................2 3. Acronyms................................................5 Appendix...................................................7 Security Considerations...................................11 References................................................12 Authors' Addresses........................................13 Full Copyright Statement..................................14 1. Introduction Approximately 212 RFCs, or about 7% of RFCs issued so far, starting with [RFC269], contain the terms `foo', `bar', or `foobar' used as a metasyntactic variable without any proper explanation or definition. This may seem trivial, but a number of newcomers, especially if English is not their native language, have had problems in understanding the origin of those terms. This document rectifies that deficiency. Eastlake, et al. Informational [Page 1]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 Section 2 below describes the definition and etymology of these words and Section 3 interprets them as acronyms. As an Appendix, we include a table of RFC occurrences of these words as metasyntactic variables. 2. Definition and Etymology bar /bar/ n. [JARGON] 1. The second metasyntactic variable, after foo and before baz. "Suppose we have two functions: FOO and BAR. FOO calls BAR...." 2. Often appended to foo to produce foobar. foo /foo/ 1. interj. Term of disgust. 2. Used very generally as a sample name for absolutely anything, esp. programs and files (esp. scratch files). 3. First on the standard list of metasyntactic variables used in syntax examples (bar, baz, qux, quux, corge, grault, garply, waldo, fred, plugh, xyzzy, thud). [JARGON] When used in connection with `bar' it is generally traced to the WW II era Army slang acronym FUBAR (`Fucked Up Beyond All Repair'), later modified to foobar. Early versions of the Jargon File [JARGON] interpreted this change as a post-war bowdlerization, but it now seems more likely that FUBAR was itself a derivative of `foo' perhaps influenced by German `furchtbar' (terrible) - `foobar' may actually have been the original form. For, it seems, the word `foo' itself had an immediate prewar history in comic strips and cartoons. In the 1938 Warner Brothers cartoon directed by Robert Clampett, "The Daffy Doc", a very early version of Daffy Duck holds up a sign saying "SILENCE IS FOO!" `FOO' and `BAR' also occurred in Walt Kelly's "Pogo" strips. The earliest documented uses were in the surrealist "Smokey Stover" comic strip by Bill Holman about a fireman. This comic strip appeared in various American comics including "Everybody's" between about 1930 and 1952. It frequently included the word "FOO" on license plates of cars, in nonsense sayings in the background of some frames such as "He who foos last foos best" or "Many smoke but foo men chew", and had Smokey say "Where there's foo, there's fire". Bill Holman, the author of the strip, filled it with odd jokes and personal contrivances, including other Eastlake, et al. Informational [Page 2]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 nonsense phrases such as "Notary Sojac" and "1506 nix nix". According to the Warner Brothers Cartoon Companion [WBCC] Holman claimed to have found the word "foo" on the bottom of a Chinese figurine. This is plausible; Chinese statuettes often have apotropaic inscriptions, and this may have been the Chinese word `fu' (sometimes transliterated `foo'), which can mean "happiness" when spoken with the proper tone (the lion-dog guardians flanking the steps of many Chinese restaurants are properly called "fu dogs") [PERS]. English speakers' reception of Holman's `foo' nonsense word was undoubtedly influenced by Yiddish `feh' and English `fooey' and `fool'. [JARGON, FOLDOC] Holman's strip featured a firetruck called the Foomobile that rode on two wheels. The comic strip was tremendously popular in the late 1930s, and legend has it that a manufacturer in Indiana even produced an operable version of Holman's Foomobile. According to the Encyclopedia of American Comics [EAC], `Foo' fever swept the U.S., finding its way into popular songs and generating over 500 `Foo Clubs.' The fad left `foo' references embedded in popular culture (including the couple of appearances in Warner Brothers cartoons of 1938-39) but with their origins rapidly forgotten. [JARGON] One place they are known to have remained live is in the U.S. military during the WWII years. In 1944-45, the term `foo fighters' [FF] was in use by radar operators for the kind of mysterious or spurious trace that would later be called a UFO (the older term resurfaced in popular American usage in 1995 via the name of one of the better grunge-rock bands [BFF]). Informants connected the term to the Smokey Stover strip [PERS]. The U.S. and British militaries frequently swapped slang terms during the war. Period sources reported that `FOO' became a semi-legendary subject of WWII British-army graffiti more or less equivalent to the American Kilroy [WORDS]. Where British troops went, the graffito "FOO was here" or something similar showed up. Several slang dictionaries aver that FOO probably came from Forward Observation Officer, but this (like the contemporaneous "FUBAR") was probably a backronym [JARGON]. Forty years later, Paul Dickson's excellent book "Words" [WORDS] traced "Foo" to an unspecified British naval magazine in 1946, quoting as follows: "Mr. Foo is a mysterious Second World War product, gifted with bitter omniscience and sarcasm." Earlier versions of the Jargon File suggested the possibility that hacker usage actually sprang from "FOO, Lampoons and Parody", the title of a comic book first issued in September 1958, a joint Eastlake, et al. Informational [Page 3]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 project of Charles and Robert Crumb. Though Robert Crumb (then in his mid-teens) later became one of the most important and influential artists in underground comics, this venture was hardly a success; indeed, the brothers later burned most of the existing copies in disgust. The title FOO was featured in large letters on the front cover. However, very few copies of this comic actually circulated, and students of Crumb's `oeuvre' have established that this title was a reference to the earlier Smokey Stover comics. The Crumbs may also have been influenced by a short-lived Canadian parody magazine named `Foo' published in 1951-52. [JARGON] An old-time member reports that in the 1959 "Dictionary of the TMRC Language", compiled at TMRC (the Tech Model Railroad Club at MIT) there was an entry for Foo. The current on-line version, in which "Foo" is the only word coded to appear red, has the following [TMRC]: Foo: The sacred syllable (FOO MANI PADME HUM); to be spoken only when under obligation to commune with the Deity. Our first obligation is to keep the Foo Counters turning. This definition used Bill Holman's nonsense word, then only two decades old and demonstrably still live in popular culture and slang, to make a "ha ha only serious" analogy with esoteric Tibetan Buddhism. Today's hackers would find it difficult to resist elaborating a joke like that, and it is not likely 1959's were any less susceptible. [JARGON] 4. [EF] Prince Foo was the last ruler of Pheebor and owner of the Phee Helm, about 400 years before the reign of Entharion. When Foo was beheaded by someone he called an "eastern fop" from Borphee, the glorious age of Pheebor ended, and Borphee rose to the prominence it now enjoys. 5. [OED] A 13th-16th century usage for the devil or any other enemy. The earliest citation it gives is from the year 1366, Chaucer A B C (84): "Lat not our alder foo [devil] make his bobance [boast]". Chaucer's "Foo" is probably related to modern English "foe". 6. Rare species of dog. A spitz-type dog discovered to exist after having long been considered extinct, the Chinese Foo Dog, or Sacred Dog of Sinkiang, may have originated through a crossing of Northern European hunting dogs and the ancient Chow Chow from Mongolia or be the missing link between the Chinese Wolf and the Chow Chow. It probably derives its name from foochow, of the kind or style Eastlake, et al. Informational [Page 4]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 prevalent in Foochow, of or from the city of Foochow (now Minhow) in southeast China. [DOG] foobar n. [JARGON] A widely used metasyntactic variable; see foo for etymology. Probably originally propagated through DECsystem manuals by Digital Equipment Corporation (DEC) in 1960s and early 1970s; confirmed sightings there go back to 1972. Hackers do not generally use this to mean FUBAR in either the slang or jargon sense. It has been plausibly suggested that "foobar" spread among early computer engineers partly because of FUBAR and partly because "foo bar" parses in electronics techspeak as an inverted foo signal. foo-fighter n. World War II term for Unidentified Flying Objects (UFOs) noted by both German and British military. See [FF] and entry above for "foo". 3. Acronyms The following information is derived primarily from the compilations at University Cork College &amp;lt;http://www.ucc.ie/acronyms&amp;gt; and Acronym Finder &amp;lt;http://www.AcronymFinder.com&amp;gt; generally filtered for computer usage. .bar: Generic file extension which is not meant to imply anything about the file type. BAR: Base Address Register Buffer Address Register FOO: Forward Observation Observer. FOO Of Oberlin. An organization whose name is a recursive acronym. Motto: The FOO, the Proud, the FOO. See &amp;lt;http://cs.oberlin.edu/students/jmankoff/FOO/home.html&amp;gt;. File Open for Output. An NFILE error code [RFC1037]. Eastlake, et al. Informational [Page 5]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 FOOBAR: FTP Operation Over Big Address Records [RFC1639]. (Particularly appropriate given that the first RFC to use "foo", [RFC269], was also about file transfer.) FUBAR: Failed UniBus Address Register - in a VAX, from Digital Equipment Corporation Engineering. Fucked Up Beyond All Recognition/Repair - From US Military in World War II. Sometimes sanitized to "Fouled Up ...". FUBARD - Past tense of FUBAR. Eastlake, et al. Informational [Page 6]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 Appendix Below is a table of RFC occurrences of these words as metasyntactic variables. (This excludes other uses that are reasonably clear like "vertical bar" or "bar BoF".) Many of these uses are for example domain names. That usage may decrease with the specification in [RFC 2606] of a Best Current Practice for example domain names. +------+-----+-----+---------+-------+-----+ | RFC# | bar | foo | foo.bar | fubar | # | | | | | foobar | | | +------+-----+-----+---------+-------+-----+ | 269 | X | X | | | 1 | | 441 | X | X | | | 2 | | 614 | | X | | | 3 | | 686 | | X | | | 4 | | 691 | | X | | | 5 | | 733 | X | X | | | 6 | | 742 | | X | | | 7 | | 743 | X | X | | | 8 | | 756 | | X | | | 9 | | 765 | X | X | | | 10 | | 772 | X | X | | X | 11 | | 775 | | | X | | 12 | | 780 | X | X | | X | 13 | | 788 | X | X | | | 14 | | 810 | X | X | X | | 15 | | 819 | | X | | | 16 | | 821 | X | X | | | 17 | | 822 | X | X | | | 18 | | 882 | X | X | | | 19 | | 883 | | X | | | 20 | | 897 | X | X | | | 21 | | 913 | | X | | | 22 | | 921 | X | X | | | 23 | | 934 | | X | | | 24 | | 952 | X | X | X | | 25 | | 959 | | | X | | 26 | | 976 | | | X | | 27 | | 977 | | X | X | | 28 | | 987 | | | X | | 29 | | 1013 | | X | | | 30 | | 1033 | X | X | | | 31 | | 1035 | | X | | | 32 | | 1037 | | X | | | 33 | | 1056 | X | X | X | | 34 | | 1068 | | X | | | 35 | | 1137 | | | X | | 36 | Eastlake, et al. Informational [Page 7]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 | 1138 | | X | X | | 37 | | 1148 | | X | X | | 38 | | 1173 | | | X | | 39 | | 1176 | | | X | | 40 | | 1186 | | X | | | 41 | | 1194 | | X | | | 42 | | 1196 | | X | | | 43 | | 1203 | | X | X | | 44 | | 1288 | | X | | | 45 | | 1291 | | X | | | 46 | | 1309 | | X | | | 47 | | 1327 | | X | X | | 48 | | 1341 | X | X | X | | 49 | | 1343 | | X | X | | 50 | | 1344 | | X | | | 51 | | 1348 | | | X | | 52 | | 1386 | | X | | | 53 | | 1408 | | X | | | 54 | | 1411 | | X | | | 55 | | 1412 | | X | | | 56 | | 1459 | X | X | X | X | 57 | | 1480 | | X | | | 58 | | 1505 | | X | | | 59 | | 1519 | | X | | | 60 | | 1521 | X | X | | | 61 | | 1523 | | X | | | 62 | | 1524 | | X | X | | 63 | | 1526 | X | X | | | 64 | | 1535 | X | X | X | | 65 | | 1536 | X | | X | | 66 | | 1537 | | X | X | | 67 | | 1563 | | X | | | 68 | | 1564 | | | X | | 69 | | 1572 | | X | | | 70 | | 1573 | | X | | | 71 | | 1622 | | X | | | 72 | | 1635 | | | X | | 73 | | 1636 | | X | X | | 74 | | 1642 | | X | | | 75 | | 1645 | | | X | | 76 | | 1649 | | X | | | 77 | | 1664 | | | X | | 78 | | 1681 | | | X | | 79 | | 1697 | | X | | | 80 | | 1716 | | X | | | 81 | | 1718 | | X | | | 82 | | 1730 | X | X | X | | 83 | | 1734 | | | X | | 84 | Eastlake, et al. Informational [Page 8]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 | 1738 | | X | | | 85 | | 1783 | | | X | | 86 | | 1784 | | | X | | 87 | | 1786 | X | X | | | 88 | | 1813 | X | X | | | 89 | | 1835 | | X | X | | 90 | | 1856 | | | X | | 91 | | 1861 | | | X | | 92 | | 1866 | | X | | | 93 | | 1894 | | | X | | 94 | | 1896 | | X | | | 95 | | 1898 | | X | | | 96 | | 1913 | | X | X | | 97 | | 1945 | X | X | | | 98 | | 1985 | | X | X | | 99 | | 2015 | X | X | | | 100 | | 2017 | | X | | | 101 | | 2033 | X | X | | | 102 | | 2045 | | | X | | 103 | | 2046 | X | X | | | 104 | | 2049 | X | X | | | 105 | | 2055 | | X | | | 106 | | 2060 | X | X | X | | 107 | | 2065 | | X | | | 108 | | 2068 | | | X | | 109 | | 2071 | | X | | | 110 | | 2088 | | | X | | 111 | | 2109 | | X | | | 112 | | 2110 | | X | X | | 113 | | 2111 | X | X | X | | 114 | | 2141 | | X | | | 115 | | 2150 | | X | | | 116 | | 2152 | | X | | | 117 | | 2156 | | X | X | | 118 | | 2163 | | | X | | 119 | | 2167 | | | X | | 120 | | 2168 | | | X | | 121 | | 2169 | | | X | | 122 | | 2180 | X | X | | | 123 | | 2193 | X | X | | | 124 | | 2224 | | X | | | 125 | | 2227 | X | X | | | 126 | | 2233 | | X | | | 127 | | 2234 | X | X | X | | 128 | | 2243 | | X | | | 129 | | 2255 | | X | X | | 130 | | 2280 | X | X | | | 131 | | 2295 | | X | | | 132 | Eastlake, et al. Informational [Page 9]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 | 2302 | | X | | | 133 | | 2311 | X | | | | 134 | | 2326 | X | X | X | | 135 | | 2342 | | X | | | 136 | | 2348 | | | X | | 137 | | 2349 | | | X | | 138 | | 2359 | | | X | | 139 | | 2369 | X | X | X | | 140 | | 2378 | | X | | | 141 | | 2384 | | | X | | 142 | | 2392 | X | X | X | | 143 | | 2396 | | | X | | 144 | | 2401 | | | X | | 145 | | 2407 | | | X | | 146 | | 2421 | | X | | | 147 | | 2425 | | | X | | 148 | | 2434 | | X | | | 149 | | 2446 | | X | X | | 150 | | 2447 | X | X | | | 151 | | 2458 | | X | X | | 152 | | 2459 | | | X | | 153 | | 2476 | | X | | | 154 | | 2483 | X | X | | | 155 | | 2486 | | X | | | 156 | | 2505 | X | X | | | 157 | | 2518 | X | X | X | | 158 | | 2535 | | X | | | 159 | | 2538 | | X | | | 160 | | 2543 | X | X | X | | 161 | | 2554 | | | X | | 162 | | 2557 | | X | X | | 163 | | 2565 | | X | X | | 164 | | 2569 | X | X | | | 165 | | 2593 | X | X | | | 166 | | 2595 | | X | | | 167 | | 2608 | | X | | | 168 | | 2609 | | X | | | 169 | | 2616 | X | X | X | | 170 | | 2622 | X | X | | | 171 | | 2626 | | X | | | 172 | | 2633 | X | | | | 173 | | 2640 | | X | X | | 174 | | 2645 | | | X | | 175 | | 2650 | X | | | | 176 | | 2659 | | | X | | 177 | | 2673 | | X | X | | 178 | | 2693 | | X | | | 179 | | 2704 | X | X | | | 180 | Eastlake, et al. Informational [Page 10]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 | 2705 | X | X | | | 181 | | 2717 | | X | X | | 182 | | 2725 | X | X | | | 183 | | 2731 | X | X | X | | 184 | | 2732 | | X | | | 185 | | 2782 | | X | X | | 186 | | 2803 | | X | | | 187 | | 2806 | | X | | | 188 | | 2812 | X | X | X | X | 189 | | 2818 | X | X | | | 190 | | 2828 | | X | X | | 191 | | 2830 | X | | | | 192 | | 2831 | X | X | X | | 193 | | 2839 | | X | | | 194 | | 2846 | X | X | | | 195 | | 2853 | | X | | | 196 | | 2863 | | X | | | 197 | | 2910 | | X | X | | 198 | | 2912 | | X | X | | 199 | | 2915 | | X | | | 200 | | 2926 | | | X | | 201 | | 2942 | | X | | | 202 | | 2965 | | X | | | 203 | | 2967 | X | X | X | | 204 | | 2970 | | X | | | 205 | | 2993 | X | X | | | 206 | | 3010 | X | X | | | 207 | | 3023 | | X | | | 208 | | 3028 | | X | | | 209 | | 3075 | X | X | | | 210 | | 3080 | | X | | | 211 | | 3092 | X | X | X | X | 212 | +------+-----+-----+---------+-------+-----+ | RFC# | bar | foo | foo.bar | fubar | # | | | | | foobar | | | +------+-----+-----+---------+-------+-----+ Security Considerations Security issues are not discussed in this memo. Eastlake, et al. Informational [Page 11]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 References [BFF] "Best of Foo Fighters: Signature Licks", Troy Stetina, Foo Fighters, October 2000, Hal Leonard Publishing Corporation, ISBN 063401470. [DOG] &amp;lt;http://www.rarebreed.com/breeds/foo/foo.html&amp;gt;. [EAC] "Encyclopedia of American Comics", Ron Goulart, 1990, Facts on File. [EF] "Encyclopedia Frobozzica", &amp;lt;http://www.everything2.com/index.pl?node=Prince%20Foo&amp;gt; [FF] Foo Fighters - "The Rainbow Conspiracy", Brad Steiger, Sherry Hansen Steiger, December 1998, Kensington Publishing Corp., ISBN 1575663635. - Computer UFO Network &amp;lt;http://www.cufon.org&amp;gt; particularly &amp;lt;http://www.cufon.org/cufon/foo.htm&amp;gt;. [FOLDOC] "Free On-Line Dictionary Of Computing", &amp;lt;http://www.foldoc.org&amp;gt;. [JARGON] The Jargon File. See &amp;lt;http://www.jargon.org&amp;gt;. Last printed as "The New Hacker's Dictionary", Eric S. Raymond, 3rd Edition, MIT Press, ISBN 0-262-68092-0, 1996. [OED] "The Oxford English Dictionary", J. A. Simpson, 1989, Oxford University Press, ISBN 0198611862. [PERS] Personal communications. [RFC269] Brodie, H., "Some Experience with File Transfer", RFC 269, December 1971. [RFC1037] Greenberg, B. and S. Keene, "NFILE - A File Access Protocol", RFC 1037, December 1987. [RFC1639] Piscitello, D., "FTP Operation Over Big Address Records (FOOBAR)", RFC 1639, June 1994. [RFC2606] Eastlake, D. and A. Panitz, "Reserved Top Level DNS Names", BCP 32, RFC 2606, June 1999. Eastlake, et al. Informational [Page 12]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 [TMRC] The Tech Model Railroad Club (The Model Railroad Club of the Massachusetts Institute of Technology) Dictionary, &amp;lt;http://tmrc-www.mit.edu/dictionary.html&amp;gt;. [WBCC] "Warner Brothers Cartoon Companion", &amp;lt;http://members.aol.com/EOCostello/&amp;gt;. [WORDS] "Words", Paul Dickson, ISBN 0-440-52260-7, Dell, 1982. Authors' Addresses The authors of this document are: Donald E. Eastlake 3rd Motorola 155 Beaver Street Milford, MA 01757 USA Phone: +1 508-261-5434 (w) +1 508-634-2066 (h) Fax: +1 508-261-4777 (w) EMail: Donald.Eastlake@motorola.com Carl-Uno Manros Xerox Corporation 701 Aviation Blvd. El Segundo, CA 90245 USA Phone: +1 310-333-8273 Fax: +1 310-333-5514 EMail: manros@cp10.es.xerox.com Eric S. Raymond Open Source Initiative 6 Karen Drive Malvern, PA 19355 Phone: +1 610-296-5718 EMail: esr@thyrsus.com Eastlake, et al. Informational [Page 13]&lt;/quote&gt;
      &lt;quote&gt; RFC 3092 Etymology of "Foo" 1 April 2001 Full Copyright Statement Copyright (C) The Internet Society (2001). All Rights Reserved. This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself may not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations, except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet Standards process must be followed, or as required to translate it into languages other than English. The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assigns. This document and the information contained herein is provided on an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Acknowledgement Funding for the RFC Editor function is currently provided by the Internet Society. Eastlake, et al. Informational [Page 14] &lt;/quote&gt;
    &lt;/div&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46934499</guid><pubDate>Sun, 08 Feb 2026 14:32:28 +0000</pubDate></item><item><title>Exploiting signed bootloaders to circumvent UEFI Secure Boot</title><link>https://habr.com/en/articles/446238/</link><description>&lt;doc fingerprint="adaac95e1931af60"&gt;
  &lt;main&gt;&lt;p&gt;Русская версия этой статьи.&lt;lb/&gt;Modern PC motherboards' firmware follow UEFI specification since 2010. In 2013, a new technology called Secure Boot appeared, intended to prevent bootkits from being installed and run. Secure Boot prevents the execution of unsigned or untrusted program code (.efi programs and operating system boot loaders, additional hardware firmware like video card and network adapter OPROMs).&lt;lb/&gt;Secure Boot can be disabled on any retail motherboard, but a mandatory requirement for changing its state is physical presence of the user at the computer. It is necessary to enter UEFI settings when the computer boots, and only then it's possible to change Secure Boot settings.&lt;lb/&gt;Most motherboards include only Microsoft keys as trusted, which forces bootable software vendors to ask Microsoft to sign their bootloaders. This process include code audit procedure and justification for the need to sign their file with globally trusted key if they want the disk or USB flash to work in Secure Boot mode without adding their key on each computer manually.&lt;lb/&gt;Linux distributions, hypervisors, antivirus boot disks, computer recovery software authors all have to sign their bootloaders in Microsoft.&lt;lb/&gt;I wanted to make a bootable USB flash drive with various computer recovery software that would boot without disabling Secure Boot. Let's see how this can be achieved.&lt;lb/&gt;To address this issue, Linux Foundation released PreLoader and Matthew Garrett made shim—small bootloaders that verify the signature or hash of a single file and execute it. PreLoader and shim do not use UEFI db certificate store, but contain a database of allowed hashes (PreLoader) or certificates (shim) inside the executable file.&lt;lb/&gt;Both programs, in addition to automatically executing trusted files, allow you to run any previously untrusted programs in Secure Boot mode, but require the physical presence of the user. When executed for the first time, you need to select a certificate to be added or the file to be hashed in the graphical interface, after which the data is added into a special NVRAM variable on the motherboard which is not accessible from the loaded operating system. Files become trusted only for these pre-loaders, not for Secure Boot in general, and still couldn't be loaded without PreLoader or shim.&lt;lb/&gt;Untrusted software first boot with shim.&lt;lb/&gt;All modern popular Linux distributions use shim due to certificate support, which makes it easy to provide updates for the main bootloader without the need for user interaction. In general, shim is used to run GRUB2 — the most popular bootloader in Linux.&lt;lb/&gt;Anyway, using the signed GRUB from some Linux distribution does not suit our needs. There are two ways to create a universal bootable flash drive that would not require adding the keys of each executable file to the trusted files:&lt;lb/&gt;The second method is preferable as executed software can load and start another software, for example, UEFI shell can execute any program. The first method does not provide this, allowing only GRUB to execute arbitrary files. Let's modify PreLoader by removing all unnecessary features and patch verification code to allow everything.&lt;lb/&gt;Disk architecture is as follows:&lt;lb/&gt;This is how Super UEFIinSecureBoot Disk has been made.&lt;lb/&gt;As it turned out—there are such loaders. One of them is used in Kaspersky Rescue Disk 18—antivirus software boot disk. GRUB from the disk allows you to load modules (the insmod command), and module in GRUB is just an executable code. The pre-loader on the disk is a custom one.&lt;lb/&gt;Of course, you can't just use GRUB from the disk to load untrusted code. It is necessary to modify the chainloader module so that GRUB does not use the UEFI LoadImage/StartImage functions, but instead self-loads the .efi file into memory, performs relocation, finds the entry point and jumps to it. Fortunately, almost all the necessary code is present in Red Hat GRUB Secure Boot repository, the only problem—PE header parser is missing. GRUB gets parsed header from shim, in a response to a function call via a special protocol. This could be easily fixed by porting the appropriate code from the shim or PreLoader to GRUB.&lt;lb/&gt;This is how Silent UEFIinSecureBoot Disk has been made. The final disk architecture looks as follows:&lt;lb/&gt;Using signed Kaspersky Rescue Disk files, we achieved a silent boot of any untrusted .efi files with Secure Boot enabled, without the need to add a certificate to UEFI db or shim MOK.&lt;lb/&gt;These files can be used both for good deeds (for booting from USB flash drives) and for evil ones (for installing bootkits without computer owner consent).&lt;lb/&gt;I assume that Kaspersky bootloader signature certificate will not live long, and it will be added to global UEFI certificate revocation list, which will be installed on computers running Windows 10 via Windows Update, breaking Kaspersky Rescue Disk 18 and Silent UEFIinSecureBoot Disk. Let's see how soon this would happen.&lt;lb/&gt;Super UEFIinSecureBoot Disk download: https://github.com/ValdikSS/Super-UEFIinSecureBoot-Disk&lt;lb/&gt;Silent UEFIinSecureBoot Disk download (ZeroNet Git Center network): http://127.0.0.1:43110/1KVD7PxZVke1iq4DKb4LNwuiHS4UzEAdAv/&lt;/p&gt;&lt;p&gt;Modern PC motherboards' firmware follow UEFI specification since 2010. In 2013, a new technology called Secure Boot appeared, intended to prevent bootkits from being installed and run. Secure Boot prevents the execution of unsigned or untrusted program code (.efi programs and operating system boot loaders, additional hardware firmware like video card and network adapter OPROMs).&lt;/p&gt;&lt;p&gt;Secure Boot can be disabled on any retail motherboard, but a mandatory requirement for changing its state is physical presence of the user at the computer. It is necessary to enter UEFI settings when the computer boots, and only then it's possible to change Secure Boot settings.&lt;/p&gt;&lt;p&gt;Most motherboards include only Microsoft keys as trusted, which forces bootable software vendors to ask Microsoft to sign their bootloaders. This process include code audit procedure and justification for the need to sign their file with globally trusted key if they want the disk or USB flash to work in Secure Boot mode without adding their key on each computer manually.&lt;/p&gt;&lt;p&gt;Linux distributions, hypervisors, antivirus boot disks, computer recovery software authors all have to sign their bootloaders in Microsoft.&lt;/p&gt;&lt;p&gt;I wanted to make a bootable USB flash drive with various computer recovery software that would boot without disabling Secure Boot. Let's see how this can be achieved.&lt;/p&gt;&lt;head rend="h2"&gt;Signed bootloaders of bootloaders&lt;/head&gt;So, to boot Linux with Secure Boot enabled, you need a signed bootloader. Microsoft forbid to sign software licensed under GPLv3 because of tivoization restriction license rule, therefore GRUB cannot be signed.&lt;p&gt;To address this issue, Linux Foundation released PreLoader and Matthew Garrett made shim—small bootloaders that verify the signature or hash of a single file and execute it. PreLoader and shim do not use UEFI db certificate store, but contain a database of allowed hashes (PreLoader) or certificates (shim) inside the executable file.&lt;/p&gt;&lt;p&gt;Both programs, in addition to automatically executing trusted files, allow you to run any previously untrusted programs in Secure Boot mode, but require the physical presence of the user. When executed for the first time, you need to select a certificate to be added or the file to be hashed in the graphical interface, after which the data is added into a special NVRAM variable on the motherboard which is not accessible from the loaded operating system. Files become trusted only for these pre-loaders, not for Secure Boot in general, and still couldn't be loaded without PreLoader or shim.&lt;/p&gt;&lt;p&gt;Untrusted software first boot with shim.&lt;/p&gt;&lt;p&gt;All modern popular Linux distributions use shim due to certificate support, which makes it easy to provide updates for the main bootloader without the need for user interaction. In general, shim is used to run GRUB2 — the most popular bootloader in Linux.&lt;/p&gt;&lt;head rend="h2"&gt;GRUB2&lt;/head&gt;To prevent signed bootloader abuse with malicious intentions, Red Hat created patches for GRUB2 that block «dangerous» functions when Secure Boot is enabled: insmod/rmmod, appleloader, linux (replaced by linuxefi), multiboot, xnu, memrw, iorw. The chainloader module, which loads arbitrary .efi-files, introduced its own custom internal .efi (PE) loader without using the UEFI LoadImage/StartImage functions, as well as the validation code of the loaded files via shim, in order to preserve the ability to load files trusted by shim but not trusted in terms of UEFI. It's not exactly clear why this method is preferable—UEFI allows one to redefine (hook) UEFI verification functions, this is how PreLoader works, and indeed the very shim feature is present but disabled by default.&lt;p&gt;Anyway, using the signed GRUB from some Linux distribution does not suit our needs. There are two ways to create a universal bootable flash drive that would not require adding the keys of each executable file to the trusted files:&lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;Use modded GRUB with internal EFI loader, without digital signature vertification or module restrictions;&lt;/item&gt;&lt;item&gt;Use custom pre-loader (the second one) which hook UEFI file vertification functions (EFI_SECURITY_ARCH_PROTOCOL.FileAuthenticationState, EFI_SECURITY2_ARCH_PROTOCOL.FileAuthentication)&lt;/item&gt;&lt;/list&gt;&lt;p&gt;The second method is preferable as executed software can load and start another software, for example, UEFI shell can execute any program. The first method does not provide this, allowing only GRUB to execute arbitrary files. Let's modify PreLoader by removing all unnecessary features and patch verification code to allow everything.&lt;/p&gt;&lt;p&gt;Disk architecture is as follows:&lt;/p&gt;&lt;quote&gt;&lt;code&gt;______ ______ ______ ╱│ │ ╱│ │ ╱│ │ /_│ │ → /_│ │ → /_│ │ │ │ → │ │ → │ │ │ EFI │ → │ EFI │ → │ EFI │ │_______│ │_______│ │_______│ BOOTX64.efi grubx64.efi grubx64_real.efi (shim) (FileAuthentication (GRUB2) override) ↓↓↓ ↑ ↑ ______ ↑ ╱│ │ ║ /_│ │ ║ │ │ ═══════════╝ │ EFI │ │_______│ MokManager.efi (Key enrolling tool)&lt;/code&gt;&lt;/quote&gt;&lt;p&gt;This is how Super UEFIinSecureBoot Disk has been made.&lt;/p&gt;&lt;quote&gt;Super UEFIinSecureBoot Disk is a bootable image with GRUB2 bootloader designed to be used as a base for recovery USB flash drives.&lt;lb/&gt;Key feature: disk is fully functional with UEFI Secure Boot mode activated. It can launch any operating system or .efi file, even with untrusted, invalid or missing signature.&lt;lb/&gt;The disk could be used to run various Live Linux distributions, WinPE environment, network boot, without disabling Secure Boot mode in UEFI settings, which could be convenient for performing maintenance of someone else's PC and corporate laptops, for example, with UEFI settings locked with a password.&lt;lb/&gt;The image contains 3 components: shim pre-loader from Fedora (signed with Microsoft key which is pre-installed in most motherboards and laptops), modified Linux Foundation PreLoader (disables digital signature verification of executed files), and modified GRUB2 loader.&lt;lb/&gt;On the first boot it's necessary to select the certificate using MokManager (starts automatically), after that everything will work just as with Secure Boot disabled—GRUB loads any unsigned .efi file or Linux kernel, executed EFI programs can load any other untrusted executables or drivers.&lt;lb/&gt;To demonstrate disk functions, the image contains Super Grub Disk (a set of scripts to search and execute OS even if the bootloader is broken), GRUB Live ISO Multiboot (a set of scripts to load Linux Live distros directly from ISO file), One File Linux (the kernel and initrd in a single file, for system recovery) and several UEFI utilities.&lt;lb/&gt;The disk is also compatible with UEFI without Secure Boot and with older PCs with BIOS.&lt;/quote&gt;&lt;head rend="h2"&gt;Signed bootloaders&lt;/head&gt;I was wondering is it possible to bypass first boot key enrollment through shim. Could there be some signed bootloader that allow you to do more than the authors expected?&lt;p&gt;As it turned out—there are such loaders. One of them is used in Kaspersky Rescue Disk 18—antivirus software boot disk. GRUB from the disk allows you to load modules (the insmod command), and module in GRUB is just an executable code. The pre-loader on the disk is a custom one.&lt;/p&gt;&lt;p&gt;Of course, you can't just use GRUB from the disk to load untrusted code. It is necessary to modify the chainloader module so that GRUB does not use the UEFI LoadImage/StartImage functions, but instead self-loads the .efi file into memory, performs relocation, finds the entry point and jumps to it. Fortunately, almost all the necessary code is present in Red Hat GRUB Secure Boot repository, the only problem—PE header parser is missing. GRUB gets parsed header from shim, in a response to a function call via a special protocol. This could be easily fixed by porting the appropriate code from the shim or PreLoader to GRUB.&lt;/p&gt;&lt;p&gt;This is how Silent UEFIinSecureBoot Disk has been made. The final disk architecture looks as follows:&lt;/p&gt;&lt;quote&gt;&lt;code&gt;______ ______ ______ ╱│ │ ╱│ │ ╱│ │ /_│ │ /_│ │ → /_│ │ │ │ │ │ → │ │ │ EFI │ │ EFI │ → │ EFI │ │_______│ │_______│ │_______│ BOOTX64.efi grubx64.efi grubx64_real.efi (Kaspersky (FileAuthentication (GRUB2) Loader) override) ↓↓↓ ↑ ↑ ______ ↑ ╱│ │ ║ /_│ │ ║ │ │ ═══════════╝ │ EFI │ │_______│ fde_ld.efi + custom chain.mod (Kaspersky GRUB2)&lt;/code&gt;&lt;/quote&gt;&lt;head rend="h2"&gt;The end&lt;/head&gt;In this article we proved the existence of not enough reliable bootloaders signed by Microsoft key, which allows booting untrusted code in Secure Boot mode.&lt;p&gt;Using signed Kaspersky Rescue Disk files, we achieved a silent boot of any untrusted .efi files with Secure Boot enabled, without the need to add a certificate to UEFI db or shim MOK.&lt;/p&gt;&lt;p&gt;These files can be used both for good deeds (for booting from USB flash drives) and for evil ones (for installing bootkits without computer owner consent).&lt;/p&gt;&lt;p&gt;I assume that Kaspersky bootloader signature certificate will not live long, and it will be added to global UEFI certificate revocation list, which will be installed on computers running Windows 10 via Windows Update, breaking Kaspersky Rescue Disk 18 and Silent UEFIinSecureBoot Disk. Let's see how soon this would happen.&lt;/p&gt;&lt;p&gt;Super UEFIinSecureBoot Disk download: https://github.com/ValdikSS/Super-UEFIinSecureBoot-Disk&lt;/p&gt;&lt;p&gt;Silent UEFIinSecureBoot Disk download (ZeroNet Git Center network): http://127.0.0.1:43110/1KVD7PxZVke1iq4DKb4LNwuiHS4UzEAdAv/&lt;/p&gt;&lt;p&gt;About ZeroNet&lt;/p&gt;&lt;p&gt;ZeroNet is a very powerful system for decentralized distributed dynamic web sites and services. The user starts downloading and seeding website data upon visiting it, following BitTorrent principle. But unlike other similar systems, ZeroNet allows creating full-fledged blogs with comments, forums, video hostings, wiki sites, chats, email and git.&lt;lb/&gt;ZeroNet splits website data from website code: the data is stored in .json files and combined into sqlite databases with defined scheme, which allows to implement mind-bending features: local search in all opened websites in a meaning of milliseconds, all-site real-time RSS-like update stream.&lt;lb/&gt;ZeroNet provides standardized authentication system similar to OAuth, NAT and Tor support.&lt;lb/&gt;The system works really fast, is user-friendly, has modern user interface with small but convenient features like global night/day theme switch for all sites.&lt;lb/&gt;I believe that ZeroNet is underrated and intentionally uploaded silent version of the disk only to ZeroNet Git, to attract new users.&lt;/p&gt;&lt;p&gt;ZeroNet splits website data from website code: the data is stored in .json files and combined into sqlite databases with defined scheme, which allows to implement mind-bending features: local search in all opened websites in a meaning of milliseconds, all-site real-time RSS-like update stream.&lt;/p&gt;&lt;p&gt;ZeroNet provides standardized authentication system similar to OAuth, NAT and Tor support.&lt;/p&gt;&lt;p&gt;The system works really fast, is user-friendly, has modern user interface with small but convenient features like global night/day theme switch for all sites.&lt;/p&gt;&lt;p&gt;I believe that ZeroNet is underrated and intentionally uploaded silent version of the disk only to ZeroNet Git, to attract new users.&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46934579</guid><pubDate>Sun, 08 Feb 2026 14:40:52 +0000</pubDate></item><item><title>Five disciplines discovered the same math independently – none of them knew</title><link>https://freethemath.org</link><description>&lt;doc fingerprint="fd8ad10042bc47d2"&gt;
  &lt;main&gt;&lt;p&gt;The same mathematics predicts market crashes, power grid blackouts, cardiac failures, and ecosystem collapse. At least six scientific fields discovered it independently. Most didn't know about each other. It took nine decades for anyone to notice.&lt;/p&gt;&lt;p&gt;It predicts tipping points — moments when small changes cause huge effects.&lt;/p&gt;&lt;p&gt;A match starting a forest fire. A traffic jam forming out of nothing on a clear highway. A single tripped relay cascading into a regional blackout. A healthy heartbeat suddenly becoming erratic.&lt;/p&gt;&lt;p&gt;The mathematics that predicts all of these is the same mathematics. Physicists, biologists, financial analysts, and engineers each invented their own version — under different names, in different journals, without knowing the others existed.&lt;/p&gt;&lt;p&gt;Between 1935 and 2025, researchers in at least six fields independently developed mathematical tools for detecting when complex systems are about to undergo dramatic change:&lt;/p&gt;&lt;p&gt;Each field published in its own journals, invented its own terminology, and cited its own literature. Cross-domain awareness was minimal until after 2010.&lt;/p&gt;&lt;p&gt;A cardiologist in 1996 could have used techniques a physicist published in 1971 — but would have needed to read statistical mechanics journals, recognize the connection through completely different notation, and translate the methods to biological data.&lt;/p&gt;&lt;p&gt;In practice, this rarely happened. The same tools were reinvented, published in domain-specific journals, and locked behind separate paywalls.&lt;/p&gt;&lt;p&gt;The cost was real: redundant research, delayed medical tools, and infrastructure vulnerabilities that could have been addressed sooner.&lt;/p&gt;&lt;p&gt;Was this fragmentation entirely natural — an inevitable consequence of disciplinary specialization?&lt;/p&gt;&lt;p&gt;Or did structural incentives actively maintain it?&lt;/p&gt;&lt;p&gt;That question remains open.&lt;/p&gt;&lt;p&gt;The full analysis is documented in a paper on arXiv, endorsed by Didier Sornette (ETH Zurich).&lt;/p&gt;Read the full paper on arXiv — "Convergent Discovery of Critical Phenomena Mathematics Across Disciplines: A Cross-Domain Analysis"&lt;p&gt;If you're short on time, start with Appendix B — the plain-language summary. You don't need the technical sections to understand what was found and why it matters.&lt;/p&gt;&lt;p&gt;The math works. It predicts market crashes, detects cardiac dysfunction, identifies when ecosystems are about to collapse, and warns of cascading infrastructure failures.&lt;/p&gt;&lt;p&gt;It applies to any interconnected system. It is fundamental — discoverable from first principles.&lt;/p&gt;&lt;p&gt;It should be free.&lt;/p&gt;&lt;p&gt;Is this actually new?&lt;lb/&gt;The individual discoveries are known. What's new is documenting the full convergence pattern — classifying each instance by type and providing citation network evidence that these fields remained siloed for decades.&lt;/p&gt;&lt;p&gt;How is this different from Sornette (2004)?&lt;lb/&gt;Sornette's textbook is the most important prior synthesis — we cite it extensively. Our contribution adds a discovery classification taxonomy and quantitative citation analysis showing parallel development continued even after his synthesis.&lt;/p&gt;&lt;p&gt;Why arXiv and not a journal?&lt;lb/&gt;arXiv is how physics papers reach the community. The paper is endorsed by Didier Sornette of ETH Zurich. Journal review is a separate, longer process — arXiv makes the work immediately accessible, consistent with our argument.&lt;/p&gt;&lt;p&gt;What's the conflict of interest?&lt;lb/&gt;Fully disclosed. The authors developed a framework (Appendix A) classified as "unvalidated candidate" because of the dual role. The convergence pattern in the main paper stands on six to nine other discoveries.&lt;/p&gt;&lt;p&gt;B.A. Physics, Reed College | Former CTO (6x) | Independent Researcher&lt;/p&gt;&lt;p&gt;Paper endorsed by Didier Sornette (ETH Zurich), author of Critical Phenomena in Natural Sciences — the leading cross-domain synthesis in this field.&lt;/p&gt;&lt;p&gt;energyscholar@gmail.com | (541) 250-0662&lt;/p&gt;&lt;p&gt;linkedin.com/in/stephensonbruce&lt;/p&gt;&lt;p&gt;Available for interviews — on record, on background, or deep technical walkthrough.&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46935104</guid><pubDate>Sun, 08 Feb 2026 15:29:22 +0000</pubDate></item><item><title>I put a real-time 3D shader on the Game Boy Color</title><link>https://blog.otterstack.com/posts/202512-gbshader/</link><description>&lt;doc fingerprint="2e5cc2782c2c079f"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;I put a real-time 3D shader on the Game Boy Color&lt;/head&gt;
    &lt;head rend="h2"&gt;Demonstration&lt;/head&gt;
    &lt;p&gt;I made a Game Boy Color game that renders images in real time. The player controls an orbiting light and spins an object.&lt;/p&gt;
    &lt;head rend="h3"&gt;Play it here&lt;/head&gt;
    &lt;head rend="h3"&gt;Check out the code, download the ROMs&lt;/head&gt;
    &lt;p&gt;https://github.com/nukep/gbshader&lt;/p&gt;
    &lt;head rend="h2"&gt;3D Workflow&lt;/head&gt;
    &lt;head rend="h3"&gt;Early lookdev&lt;/head&gt;
    &lt;p&gt;Before really diving into this project, I experimented with the look in Blender to see if it would even look good. IMO it did, so I went ahead with it!&lt;/p&gt;
    &lt;p&gt;I experimented with a "pseudo-dither" on the Blender monkey by adding a small random vector to each normal.&lt;/p&gt;
    &lt;head rend="h3"&gt;Blender to normal map workflow&lt;/head&gt;
    &lt;p&gt;tl;dr: Cryptomattes and custom shaders to adjust normal maps&lt;/p&gt;
    &lt;p&gt;It doesn't really matter what software I used to produce the normal maps. Blender was the path of least resistance for me, so I chose that.&lt;/p&gt;
    &lt;p&gt;For the teapot, I simply put in a teapot, rotated a camera around it, and exported the normal AOV as a PNG sequence. Pretty straight-forward.&lt;/p&gt;
    &lt;p&gt;For the spinning Game Boy Color, I wanted to ensure that certain colors were solid, so I used cryptomattes in the compositor to identify specific geometry and output hard-coded values in the output.&lt;/p&gt;
    &lt;p&gt;The geometry in the screen was done by rendering a separate scene, then compositing it in the final render using a cryptomatte for the screen.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Math&lt;/head&gt;
    &lt;head rend="h3"&gt;Normal Maps&lt;/head&gt;
    &lt;p&gt;The above animations are normal map frames that are used to solve the value of each pixel&lt;/p&gt;
    &lt;p&gt;Normal maps are a core concept of this project. They're already used everywhere in 3D graphics.&lt;/p&gt;
    &lt;p&gt;And indeed, normal map images are secretly a vector field. The reason normal maps tend to have a blue-ish baseline color, is because everyone likes to associate XYZ with RGB, and +Z is the forward vector by convention.&lt;/p&gt;
    &lt;p&gt;In a typical 3D workflow, a normal map is used to encode the normal vector at any given point on a textured mesh.&lt;/p&gt;
    &lt;p&gt;Source: Own work (Danny Spencer). Suzanne model (c) Blender Foundation.&lt;/p&gt;
    &lt;head rend="h3"&gt;Calculating a Lambert shader using dot products&lt;/head&gt;
    &lt;p&gt;The simplest way to shade a 3D object is using the dot product:&lt;/p&gt;
    &lt;p&gt;where is the normal vector, and is the light position when it points towards the origin (or equivalently: the negative light direction).&lt;/p&gt;
    &lt;p&gt;Expanded out component-wise, this is:&lt;/p&gt;
    &lt;p&gt;When the light vector is constant for all pixels, it models what most 3D graphics software calls a "distant light", or a "sun light".&lt;/p&gt;
    &lt;head rend="h3"&gt;Spherical Coordinates&lt;/head&gt;
    &lt;p&gt;To speed up computation on the Game Boy, I use an alternate version of the dot product, using spherical coordinates.&lt;/p&gt;
    &lt;p&gt;A spherical coordinate is a point represented by a radius , a primary angle "theta", and a secondary angle "phi". This is represented as a tuple:&lt;/p&gt;
    &lt;p&gt;The dot product of two spherical coordinates:&lt;/p&gt;
    &lt;p&gt;Because all normal vectors are unit length, and the light vector is unit length, we can just assume the radius is equal to 1. This simplifies to:&lt;/p&gt;
    &lt;p&gt;And using the previous variable names, we get the formula:&lt;/p&gt;
    &lt;head rend="h2"&gt;Making it work on the Game Boy&lt;/head&gt;
    &lt;head rend="h3"&gt;Encoding normal maps in the Game Boy ROM&lt;/head&gt;
    &lt;p&gt;In the ROM, I decided to fix "L-theta" to a constant value for performance reasons. The player gets to control "L-phi", creating an orbiting light effect.&lt;/p&gt;
    &lt;p&gt;This means that we can extract constant coefficients and and rewrite the formula:&lt;/p&gt;
    &lt;p&gt;The ROM encodes each pixel as a 3-byte tuple of .&lt;/p&gt;
    &lt;p&gt;Why ? Well...&lt;/p&gt;
    &lt;head rend="h3"&gt;The Game Boy has no multiply instruction&lt;/head&gt;
    &lt;p&gt;Not only does the SM83 CPU not support multiplication, but it also doesn't support floats. That's a real bummer.&lt;/p&gt;
    &lt;p&gt;We have to get really creative when the entire mathematical foundation of this project involves multiplying non-integer numbers.&lt;/p&gt;
    &lt;p&gt;What do we do instead? We use logarithms and lookup tables!&lt;/p&gt;
    &lt;p&gt;Logarithms have this nice property of being able to factor products to outside the . This way, we can add values instead!&lt;/p&gt;
    &lt;p&gt;This requires two lookups: a &lt;code&gt;log&lt;/code&gt; lookup, and a &lt;code&gt;pow&lt;/code&gt; lookup.&lt;/p&gt;
    &lt;p&gt;In pseudocode, multiplying 0.3 and 0.5 looks like this:&lt;/p&gt;
    &lt;code&gt;pow = [ ... ]              # A 256-entry lookup table

# float_to_logspace() is compile-time. Accepts -1.0 to +1.0.
# x and y are 8-bit values in log-space
x = float_to_logspace(0.3) 
y = float_to_logspace(0.5)

result = pow[x + y]
&lt;/code&gt;
    &lt;p&gt;One limitation of this is that it's not possible to take the log of a negative number. e.g. has no real solution.&lt;/p&gt;
    &lt;p&gt;We can overcome this by encoding a "sign" bit in the MSB of the log-space value. When adding two log-space values together, the sign bit is effectively XOR'd (toggled). We just need to ensure the remaining bits don't overflow into it. We ensure this by keeping the remaining bits small enough.&lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;pow&lt;/code&gt; lookup accounts for this bit and returns a positive or negative result based on it.&lt;/p&gt;
    &lt;head rend="h3"&gt;All scalars and lookups are 8-bit fractions&lt;/head&gt;
    &lt;p&gt;It's advantageous to restrict numbers to a single byte, for both run-time performance and ROM size. 8-bit fractions are pretty extreme by today's standards, but believe it or not, it works. It's lossy as hell, but it works!&lt;/p&gt;
    &lt;p&gt;All scalars we're working with are between -1.0 and +1.0.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Byte&lt;/cell&gt;
        &lt;cell role="head"&gt;Resolved linear-space value&lt;/cell&gt;
        &lt;cell role="head"&gt;Resolved log-space value&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;0&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;...&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;126&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;127&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;128&lt;/cell&gt;
        &lt;cell&gt;undefined&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;129&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;130&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;...&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;254&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;255&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Addition and multiplication both use... addition!&lt;/p&gt;
    &lt;p&gt;Consider adding the two bytes: 5 + 10 = 15&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Addition uses linear-space values:&lt;/item&gt;
      &lt;item&gt;Multiplication uses log-space values:&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Why is the denominator 127 instead of 128? It's because I needed to represent both positive and negative 1. In a two's-complement encoding, signed positive 128 doesn't exist.&lt;/p&gt;
    &lt;p&gt;You might notice that the log-space values cycle and become negative at byte 128. The log-space values use bit 7 of the byte to encode the "sign" bit. As mentioned in the previous section, this is important for toggling the sign during multiplication.&lt;/p&gt;
    &lt;p&gt;The log-space values also use as a base, because I chose this as a sufficiently small base to meet the requirement that adding 3 of these log-space values won't overflow (42+42+42 = 126). Bytes 43 thru 127 are near 0, so in practice the ROM doesn't encode these values.&lt;/p&gt;
    &lt;p&gt;The lookup tables look like this:&lt;/p&gt;
    &lt;p&gt;Where:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;takes a real number and returns an unsigned byte.&lt;/item&gt;
      &lt;item&gt;takes an unsigned byte and returns a return number. And:&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Reconstructed functions look like this. The precision error is shown in the jagged "staircase" patterns:&lt;/p&gt;
    &lt;p&gt;It may look like there's a lot of error, but it's fast and it's passable enough to look alright! ;)&lt;/p&gt;
    &lt;head rend="h3"&gt;What's with cos_log?&lt;/head&gt;
    &lt;p&gt;It's basically a combined . This exists because in practice, cosine is always used with a multiplication.&lt;/p&gt;
    &lt;p&gt;The core calculation for the shader is:&lt;/p&gt;
    &lt;p&gt;And we can rewrite it as:&lt;/p&gt;
    &lt;p&gt;This amounts to, per-pixel:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;1 subtraction&lt;/item&gt;
      &lt;item&gt;1 lookup to &lt;code&gt;cos_log&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;1 addition&lt;/item&gt;
      &lt;item&gt;1 lookup to &lt;code&gt;pow&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;1 addition&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;For a total of, per-pixel:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;3 additions/subtractions&lt;/item&gt;
      &lt;item&gt;2 lookups&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;How fast is it?&lt;/head&gt;
    &lt;p&gt;The procedure processes 15 tiles per frame. It can process more if some of the tile's rows are empty (all 0), but it's guaranteed to process at least 15.&lt;/p&gt;
    &lt;p&gt;Figure: Mesen's "Event Viewer" window, showing a dot for each iteration (tile row) of the shader's critical loop.&lt;/p&gt;
    &lt;p&gt;There's some intentional visual tearing as well. The image itself is more than 15 tiles, so the ROM actually switches to rendering different portions of the image for each frame. The tearing is less noticeable because of ghosting on the LCD display, so I thought it was acceptable.&lt;/p&gt;
    &lt;p&gt;A pixel takes about 130 cycles, and an empty row's pixel takes about 3 cycles.&lt;/p&gt;
    &lt;p&gt;At one point I had calculated 15 tiles rendering at exactly 123,972 cycles, including the call and branch overhead. This is an overestimate now, because I since added an optimization for empty rows.&lt;/p&gt;
    &lt;p&gt;The Game Boy Color's CPU runs up to 8.388608 MHz, or roughly 139,810 T-cycles per frame (1/60 of a second).&lt;/p&gt;
    &lt;p&gt;About 89% of a frame's available CPU time goes to rendering the 15 tiles per frame. The remaining time goes to other functionality like responding to user input and performing hardware IO.&lt;/p&gt;
    &lt;head rend="h3"&gt;Self-modifying code&lt;/head&gt;
    &lt;p&gt;Figure: A hex representation of the shader subroutine instructions in RAM. The blue digits show a patch to change &lt;code&gt;sub a, 0&lt;/code&gt; into &lt;code&gt;sub a, 8&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;The core shader subroutine contains a hot path that processes about 960 pixels per frame. It's really important to make this as fast as possible!&lt;/p&gt;
    &lt;p&gt;Self-modifying code is a super-effective way to make code fast. But most modern developers don't do this anymore, and there are good reasons: It's difficult, rarely portable, and it's hard to do it right without introducing serious security vulnerabilities. Modern developers are spoiled by an abundance of processing power, super-scalar processors that take optimal paths, and modern JIT (Just-In-Time) runtimes that generate code on the fly. But we're on the Game Boy, baybeee, so we don't have those options.&lt;/p&gt;
    &lt;p&gt;If you're a developer who uses higher-level languages like Python and JavaScript, the closest equivalent to self-modifying code is &lt;code&gt;eval()&lt;/code&gt;. Think about how nervous &lt;code&gt;eval()&lt;/code&gt; makes you feel. That's almost exactly how native developers feel about modifying instructions.&lt;/p&gt;
    &lt;p&gt;On the Game Boy's SM83 processor, it's faster to add and subtract by a hard-coded number than it is to load that number from memory.&lt;/p&gt;
    &lt;p&gt;i.e. &lt;code&gt;x += 5&lt;/code&gt; is faster than &lt;code&gt;x += variable&lt;/code&gt;.&lt;/p&gt;
    &lt;code&gt;unsigned char Ltheta = 8;

// Slower
v = (*in++) - Ltheta;

// Faster
v = (*in++) - 8;
&lt;/code&gt;
    &lt;p&gt;In SM83 assembly, this looks like:&lt;/p&gt;
    &lt;code&gt;; Slower: 28 cycles
ld a, [Ltheta]   ; 12 cycles: Read variable "Ltheta" from HRAM
ld b, a          ; 4 cycles:  Move value to B register
ld a, [hl+]      ; 8 cycles:  Read from the HL pointer
sub a, b         ; 4 cycles:  A = A - B

; Faster: 16 cycles
ld a, [hl+]      ; 8 cycles: Read from the HL pointer
sub a, 8         ; 8 cycles: A = A - 8
&lt;/code&gt;
    &lt;p&gt;The faster way shaves off 12 cycles. If we're rendering 960 pixels, this saves a total of 11,520 cycles. This doesn't sound like a lot, but it's roughly 10% of the shader's runtime!&lt;/p&gt;
    &lt;p&gt;So how can we get the faster subtraction if the value we're subtracting with changes?&lt;/p&gt;
    &lt;p&gt;By modifying the instruction operand!&lt;/p&gt;
    &lt;code&gt;2A      ld a, [hl+]
D6 08   sub a, 8
&lt;/code&gt;
    &lt;head rend="h2"&gt;An overall failed attempt at using AI&lt;/head&gt;
    &lt;quote&gt;&lt;p&gt;"AI Will Be Writing 90% of Code in 3 to 6 Months"&lt;/p&gt;&lt;lb/&gt;— Dario Amodei, CEO of Anthropic (March 2025 - 9 months ago as of writing)&lt;/quote&gt;
    &lt;p&gt;95% of this project was made by hand. Large language models struggle to write Game Boy assembly. I don't blame them.&lt;/p&gt;
    &lt;head rend="h3"&gt;A quick comment&lt;/head&gt;
    &lt;p&gt;Update: 2026-02-03: I attempted to use AI to try out the process, mostly because 1) the industry won't shut up about AI, and 2) I wanted a grounded opinion of it for novel projects, so I have a concrete and personal reference point when talking about it in the wild. At the end of the day, this is still a hobbyist project, so AI really isn't the point! But still...&lt;/p&gt;
    &lt;p&gt;I believe in disclosing all attempts or actual uses of generative AI output, because I think it's unethical to deceive people about the process of your work. Not doing so undermines trust, and amounts to disinformation or plagiarism. Disclosure also invites people who have disagreements to engage with the work, which they should be able to. I'm open to feedback, btw.&lt;/p&gt;
    &lt;p&gt;I'll probably write something about my experiences with AI in the future.&lt;/p&gt;
    &lt;p&gt;As far as disclosures go, I used AI for:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Python: Reading OpenEXR layers, as part of a conversion script to read normal map data&lt;/item&gt;
      &lt;item&gt;Python/Blender: Some Python scripts for populating Blender scenes, to demo the process in Blender&lt;/item&gt;
      &lt;item&gt;SM83 assembly: Snippets for Game Boy Color features like double-speed and VRAM DMA. Unsurprising, because these are likely available somewhere else.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;I attempted - and failed - to use AI for:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;SM83 assembly: (Unused) Generating an initial revision of the shader code&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;I'll also choose to disclose what I did NOT use AI for:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Writing this article&lt;/item&gt;
      &lt;item&gt;The algorithms, lookups, all other SM83 assembly&lt;/item&gt;
      &lt;item&gt;3D assets&lt;/item&gt;
      &lt;item&gt;The soul 🌟 (AI techbros are groaning right now)&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;I tried to make AI write Game Boy assembly&lt;/head&gt;
    &lt;p&gt;Just to see what it would do, I fed pseudocode into Claude Sonnet 4 (the industry claims that it's the best AI model for coding in 2025), and got it to generate SM83 assembly:&lt;/p&gt;
    &lt;p&gt;https://claude.ai/share/846cb7d4-e4a6-40ab-8aaa-6e4c308e3da3&lt;/p&gt;
    &lt;p&gt;It was an interesting process. To start, I chewed Claude's food and gave it pseudocode, because I had a data format in mind, and I assumed it'd struggle with a higher-level description.&lt;/p&gt;
    &lt;p&gt;I was skeptical that it wouldn't do well, but it did better than I thought it would. It even produced code that worked when I persisted it and guided it enough. However, it wasn't very fast, and it made some initial mistakes by assuming the SM83 processor was the Z80 processor. I attempted to get Claude to optimize it by offering suggestions. It did well initially, but it introduced errors until I reached the conversation limit.&lt;/p&gt;
    &lt;p&gt;After that point, I manually rewrote everything. My final implementation is aggressively optimized and barely has any resemblance to Claude's take.&lt;/p&gt;
    &lt;p&gt;And it loved telling me how "absolutely right" I always was. 🥺&lt;/p&gt;
    &lt;p&gt;It was better for small tasks and snippets of code. The tile demo in my video was partially AI scripted. A Game Boy subroutine for copying to VRAM was authored by AI. Few issues there.&lt;/p&gt;
    &lt;p&gt;
      &lt;del&gt;An early iteration of the normal map conversion script accepted OpenEXR files. I didn't feel like drudging through a new library, so I asked ChatGPT to convert an OpenEXR file to a numpy array. It did pretty well! It however also introduced a very subtle bug that I didn't catch for weeks. Once I finally read the code, I realized it was sorting channel names alphabetically (so XYZ sorts as XYZ, but RGB sorts as BGR). It's the sort of error I'd never make myself.&lt;/del&gt;
    &lt;/p&gt;
    &lt;p&gt;Update: 2026-02-03 - Yeah, so the OpenEXR code could've been done in two lines this whole time. One of the first examples in the official PyPi readme shows how to get a numpy array from an OpenEXR file - exactly what I needed. I could update this snippet for different channels too in theory, but basically it's this. ChatGPT gave me 30 lines to handle edge cases that simply won't happen.&lt;/p&gt;
    &lt;code&gt;with OpenEXR.File("readme.exr") as infile:
    RGB = infile.channels()["RGB"].pixels
&lt;/code&gt;
    &lt;p&gt;At this point, I can't emphasize verifiable enough.&lt;/p&gt;
    &lt;p&gt;This, and other experiences, made me realize how easy it is to let your guard down when using AI like this, even if you're an experienced coder. AI can be helpful, but discretion is very much a required skill. I'm just thankful I never relied on it for installing hallucinated packages.&lt;/p&gt;
    &lt;head rend="h2"&gt;Comments&lt;/head&gt;
    &lt;p&gt;If you like this, share this post or like and comment on the YouTube video!&lt;/p&gt;
    &lt;p&gt;https://www.youtube.com/watch?v=SAQXEW3ePwo&lt;/p&gt;
    &lt;p&gt;(post will be updated once I post on Bluesky)&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46935791</guid><pubDate>Sun, 08 Feb 2026 16:28:51 +0000</pubDate></item><item><title>Vouch</title><link>https://github.com/mitchellh/vouch</link><description>&lt;doc fingerprint="a498f2d0d5064bda"&gt;
  &lt;main&gt;
    &lt;p&gt;A project trust management system. People must be vouched for before interacting with certain parts of a project (the exact parts are configurable to the project to enforce). People can also be explicitly denounced to block them from interacting with the project.&lt;/p&gt;
    &lt;p&gt;The implementation is generic and can be used by any project on any code forge, but we provide GitHub integration out of the box via GitHub actions and the CLI.&lt;/p&gt;
    &lt;p&gt;The vouch list is maintained in a single flat file using a minimal format that can be trivially parsed using standard POSIX tools and any programming language without external libraries.&lt;/p&gt;
    &lt;p&gt;Vouch lists can also form a web of trust. You can configure Vouch to read other project's lists of vouched or denounced users. This way, projects with shared values can share their trust decisions with each other and create a larger, more comprehensive web of trust across the ecosystem. Users already proven to be trustworthy in one project can automatically be assumed trustworthy in another project, and so on.&lt;/p&gt;
    &lt;p&gt;Warning&lt;/p&gt;
    &lt;p&gt;This is an experimental system in use by Ghostty. We'll continue to improve the system based on experience and feedback.&lt;/p&gt;
    &lt;p&gt;Open source has always worked on a system of trust and verify.&lt;/p&gt;
    &lt;p&gt;Historically, the effort required to understand a codebase, implement a change, and submit that change for review was high enough that it naturally filtered out many low quality contributions from unqualified people. For over 20 years of my life, this was enough for my projects as well as enough for most others.&lt;/p&gt;
    &lt;p&gt;Unfortunately, the landscape has changed particularly with the advent of AI tools that allow people to trivially create plausible-looking but extremely low-quality contributions with little to no true understanding. Contributors can no longer be trusted based on the minimal barrier to entry to simply submit a change.&lt;/p&gt;
    &lt;p&gt;But, open source still works on trust! And every project has a definite group of trusted individuals (maintainers) and a larger group of probably trusted individuals (active members of the community in any form). So, let's move to an explicit trust model where trusted individuals can vouch for others, and those vouched individuals can then contribute.&lt;/p&gt;
    &lt;p&gt;Who and how someone is vouched or denounced is left entirely up to the project integrating the system. Additionally, what consequences a vouched or denounced person has is also fully up to the project. Implement a policy that works for your project and community.&lt;/p&gt;
    &lt;p&gt;Integrating vouch into a GitHub project is easy with the provided GitHub Actions. By choosing which actions to use, you can fully control how users are vouched and what they can or can't do.&lt;/p&gt;
    &lt;p&gt;For an example, look at this repository! It fully integrates vouch.&lt;/p&gt;
    &lt;p&gt;Below is a list of the actions and a brief description of their function. See the linked README in the action directory for full usage details.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Action&lt;/cell&gt;
        &lt;cell role="head"&gt;Trigger&lt;/cell&gt;
        &lt;cell role="head"&gt;Description&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;check-pr&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;pull_request_target&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Check if a PR author is vouched on open or reopen. Bots and collaborators with write access are automatically allowed. Optionally auto-close PRs from unvouched or denounced users.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;manage-by-discussion&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;discussion_comment&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Let collaborators vouch, denounce, or unvouch users via discussion comments. Updates the vouched file and commits the change.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;manage-by-issue&lt;/cell&gt;
        &lt;cell&gt;
          &lt;code&gt;issue_comment&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Let collaborators vouch or denounce users via issue comments. Updates the vouched file and commits the change.&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;The CLI is implemented as a Nushell module and only requires Nushell to run. There are no other external dependencies.&lt;/p&gt;
    &lt;p&gt;This is Nushell, so you can get help on any command:&lt;/p&gt;
    &lt;code&gt;use vouch *
help add
help check
help denounce
help gh-check-pr
help gh-manage-by-issue&lt;/code&gt;
    &lt;p&gt;Check a user's vouch status:&lt;/p&gt;
    &lt;code&gt;vouch check &amp;lt;username&amp;gt;&lt;/code&gt;
    &lt;p&gt;Exit codes: 0 = vouched, 1 = denounced, 2 = unknown.&lt;/p&gt;
    &lt;p&gt;Add a user to the vouched list:&lt;/p&gt;
    &lt;code&gt;# Preview new file contents (default)
vouch add someuser

# Write the file in-place
vouch add someuser --write&lt;/code&gt;
    &lt;p&gt;Denounce a user:&lt;/p&gt;
    &lt;code&gt;# Preview new file contents (default)
vouch denounce badactor

# With a reason
vouch denounce badactor --reason "Submitted AI slop"

# Write the file in-place
vouch denounce badactor --write&lt;/code&gt;
    &lt;p&gt;Requires the &lt;code&gt;GITHUB_TOKEN&lt;/code&gt; environment variable. If not set and &lt;code&gt;gh&lt;/code&gt;
is available, the token from &lt;code&gt;gh auth token&lt;/code&gt; is used.&lt;/p&gt;
    &lt;p&gt;Check if a PR author is vouched:&lt;/p&gt;
    &lt;code&gt;# Check PR author status (dry run)
vouch gh-check-pr 123 --repo owner/repo

# Auto-close unvouched PRs (dry run)
vouch gh-check-pr 123 --repo owner/repo --auto-close

# Actually close unvouched PRs
vouch gh-check-pr 123 --repo owner/repo --auto-close --dry-run=false

# Allow unvouched users, only block denounced
vouch gh-check-pr 123 --repo owner/repo --require-vouch=false --auto-close&lt;/code&gt;
    &lt;p&gt;Outputs status: &lt;code&gt;skipped&lt;/code&gt; (bot/collaborator), &lt;code&gt;vouched&lt;/code&gt;, &lt;code&gt;allowed&lt;/code&gt;, or &lt;code&gt;closed&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;Manage contributor status via issue comments:&lt;/p&gt;
    &lt;code&gt;# Dry run (default)
vouch gh-manage-by-issue 123 456789 --repo owner/repo

# Actually perform the action
vouch gh-manage-by-issue 123 456789 --repo owner/repo --dry-run=false&lt;/code&gt;
    &lt;p&gt;Responds to comments from collaborators with write access:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;vouch&lt;/code&gt;— vouches for the issue author&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;vouch @user&lt;/code&gt;— vouches for a specific user&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;vouch &amp;lt;reason&amp;gt;&lt;/code&gt;— vouches for the issue author with a reason&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;vouch @user &amp;lt;reason&amp;gt;&lt;/code&gt;— vouches for a specific user with a reason&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;denounce&lt;/code&gt;— denounces the issue author&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;denounce @user&lt;/code&gt;— denounces a specific user&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;denounce &amp;lt;reason&amp;gt;&lt;/code&gt;— denounces the issue author with a reason&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;denounce @user &amp;lt;reason&amp;gt;&lt;/code&gt;— denounces a specific user with a reason&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Keywords are customizable via &lt;code&gt;--vouch-keyword&lt;/code&gt; and &lt;code&gt;--denounce-keyword&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;Outputs status: &lt;code&gt;vouched&lt;/code&gt;, &lt;code&gt;denounced&lt;/code&gt;, or &lt;code&gt;unchanged&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;The module also exports a &lt;code&gt;lib&lt;/code&gt; submodule for scripting:&lt;/p&gt;
    &lt;code&gt;use vouch/lib.nu *

let records = open VOUCHED.td
$records | check-user "mitchellh" --default-platform github  # "vouched", "denounced", or "unknown"
$records | add-user "newuser"                                # returns updated table
$records | denounce-user "badactor" "reason"                 # returns updated table
$records | remove-user "olduser"                             # returns updated table&lt;/code&gt;
    &lt;p&gt;The vouch list is stored in a &lt;code&gt;.td&lt;/code&gt; file. See
VOUCHED.example.td for an example. The file is
looked up at &lt;code&gt;VOUCHED.td&lt;/code&gt; or &lt;code&gt;.github/VOUCHED.td&lt;/code&gt; by default.&lt;/p&gt;
    &lt;code&gt;# Comments start with #
username
platform:username
-platform:denounced-user
-platform:denounced-user reason for denouncement
&lt;/code&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;One handle per line (without &lt;code&gt;@&lt;/code&gt;), sorted alphabetically.&lt;/item&gt;
      &lt;item&gt;Optionally specify a platform prefix: &lt;code&gt;platform:username&lt;/code&gt;(e.g.,&lt;code&gt;github:mitchellh&lt;/code&gt;).&lt;/item&gt;
      &lt;item&gt;Denounce a user by prefixing with &lt;code&gt;-&lt;/code&gt;.&lt;/item&gt;
      &lt;item&gt;Optionally add details after a space following the handle.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The &lt;code&gt;from td&lt;/code&gt; and &lt;code&gt;to td&lt;/code&gt; commands are exported by the module, so
Nushell's &lt;code&gt;open&lt;/code&gt; command works natively with &lt;code&gt;.td&lt;/code&gt; files to decode
into structured tables and encode back to the file format with
comments and whitespace preserved.&lt;/p&gt;
    &lt;p&gt;Note&lt;/p&gt;
    &lt;p&gt;What is &lt;code&gt;.td&lt;/code&gt;? This stands for "Trustdown," a play on the
word "Markdown." I intend to formalize a specification for trust
lists (with no opinion on how they're created or used) so that software
systems like this Vouch project and others can coordinate with each
other. I'm not ready to publish a specification until vouch itself
stabilizes usage more.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46935980</guid><pubDate>Sun, 08 Feb 2026 16:45:49 +0000</pubDate></item><item><title>Omega-3 is inversely related to risk of early-onset dementia</title><link>https://pubmed.ncbi.nlm.nih.gov/41506004/</link><description>&lt;doc fingerprint="bcd9b3f5043107b8"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Blood omega-3 is inversely related to risk of early-onset dementia&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;PMID: 41506004&lt;/item&gt;
      &lt;item&gt;DOI: 10.1016/j.clnu.2025.106559&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h1"&gt;Blood omega-3 is inversely related to risk of early-onset dementia&lt;/head&gt;
    &lt;head rend="h2"&gt;Abstract&lt;/head&gt;
    &lt;p&gt;Background &amp;amp; aims: Early-onset dementia (EOD, defined as diagnosis &amp;lt; age 65) imposes a high socio-economic burden. It is less prevalent and less investigated than late-onset dementia (LOD). Observational data indicate that many EOD cases are associated with potentially modifiable risk factors, yet the relationship between diet and EOD has been under-explored. Omega-3 fatty acids are promising dietary factors for dementia prevention; however, existing research has primarily focused on cohorts aged &amp;gt;65. We examined the associations between omega-3 blood levels (which objectively reflect dietary intake) and incident EOD by leveraging data from the UK Biobank cohort.&lt;/p&gt;
    &lt;p&gt;Methods: We included participants aged 40-64, free of dementia at baseline and for whom plasma omega-3 levels and relevant covariates were available. We modeled the relationships between the three omega-3 exposures (total omega-3, DHA, and non-DHA omega-3) and incident EOD with quintiles (Q) and continuous linear relationships. We constructed Cox proportional hazards adjusting for sex, age at baseline and APOE-ε4 allele load, besides other lifestyle variables reported to relate to incident EOD. We also assessed the interaction between each exposure of interest and APOE-ε4 allele load.&lt;/p&gt;
    &lt;p&gt;Results: The study included 217,122 participants. During the mean follow-up of 8.3 years, 325 incident EOD cases were ascertained. Compared to participants at Q1 of total omega-3, those at Q4 and Q5 showed a statistically significantly lower risk of EOD (Q4, hazard ratio [95 % confidence interval] = 0.62 [0.43, 0.89]; Q5, 0.60 [0.42, 0.86]). A statistically significant inverse association was also observed for total omega-3 as a continuous variable. Compared to participants at Q1 of DHA, those at Q5 of non-DHA showed a significant lower risk of EOD. A statistically significant lower risk was observed in Q3, Q4 and Q5 of non-DHA omega-3. Finally, we observed no evidence of interaction omega-3 × APOE-ε4 allele load.&lt;/p&gt;
    &lt;p&gt;Conclusions: This study expands the evidence of a beneficial association of omega-3 and LOD to EOD as well. These findings suggest that an increased intake of omega-3 fatty acids earlier in life may slow the development of EOD. Additional research is needed to confirm our findings, particularly in more diverse populations.&lt;/p&gt;
    &lt;p&gt;Keywords: Alzheimer; Biomarkers; Cognition; Fatty acids; Lifestyle.&lt;/p&gt;
    &lt;p&gt;Copyright © 2025 Elsevier Ltd and European Society for Clinical Nutrition and Metabolism. All rights reserved.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conflict of interest statement&lt;/head&gt;
    &lt;p&gt;Conflict of interest The authors declare the following personal relations and financial interests that may constitute possible competing interests: A.S.-V. has received research funding through his institution and support to attend professional meetings from the California Walnut Commission (Folsom, CA, US). W.S.H. holds stock in OmegaQuant Analytics, a laboratory that offers omega-3 testing for researchers, clinicians, and the public. Other authors report no conflict of interest.&lt;/p&gt;
    &lt;head rend="h2"&gt;MeSH terms&lt;/head&gt;
    &lt;head rend="h2"&gt;Substances&lt;/head&gt;
    &lt;head rend="h2"&gt;LinkOut - more resources&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;head rend="h3"&gt;Full Text Sources&lt;/head&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;head rend="h3"&gt;Medical&lt;/head&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;head rend="h3"&gt;Miscellaneous&lt;/head&gt;
      &lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46935991</guid><pubDate>Sun, 08 Feb 2026 16:47:08 +0000</pubDate></item><item><title>Billing can be bypassed using a combo of subagents with an agent definition</title><link>https://github.com/microsoft/vscode/issues/292452</link><description>&lt;doc fingerprint="685eddd0bc1a8a13"&gt;
  &lt;main&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt; Notifications &lt;tool-tip&gt;You must be signed in to change notification settings&lt;/tool-tip&gt;&lt;/item&gt;
      &lt;item&gt;Fork 37.8k&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Description&lt;/head&gt;
    &lt;head rend="h2"&gt;Summary&lt;/head&gt;
    &lt;p&gt;It's possible in Copilot to bypass any billing / 'premium request' usage by taking advantage of:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Subagents and tool calls not consuming any 'requests'.&lt;/item&gt;
      &lt;item&gt;Request cost being calculated on the initial model used.&lt;/item&gt;
      &lt;item&gt;"Free" models incl. in Copilot e.g. GPT-5-mini, GPT-4.1 etc.&lt;/item&gt;
      &lt;item&gt;Ability to define an agent for a subagent.&lt;/item&gt;
      &lt;item&gt;Ability to specify a model for an agent.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Combining these correctly results in 'free' and almost unlimited, usage of expensive premium models like Opus 4.5 which would usually cost '3 premium requests':&lt;/p&gt;
    &lt;head rend="h2"&gt;Instructions&lt;/head&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Start a new Chat.&lt;/item&gt;
      &lt;item&gt;Set the model to a "free" model, included in Copilot e.g. GPT-5 Mini.&lt;/item&gt;
      &lt;item&gt;Create an agent, and set it's model to a premium model, e.g. Opus 4.5&lt;/item&gt;
      &lt;item&gt;Set the mode to "agent".&lt;/item&gt;
      &lt;item&gt;In the initial message, instruct it to launch an agent '[your_agents_name_here]' as a subagent using the runSubagent tool, and to pass on the following query e.g. "What time is it in London, UK".&lt;/item&gt;
      &lt;item&gt;Submit the message.&lt;/item&gt;
      &lt;item&gt;The initial request will be picked up by the free GPT-5 Mini model, incurring no fees.&lt;/item&gt;
      &lt;item&gt;The free model will create a subagent (which is also free)&lt;/item&gt;
      &lt;item&gt;The free subagent will launch with an 'agent' profile, this profile has the model set to a premium model&lt;/item&gt;
      &lt;item&gt;The premium model will be used for the subagent - but premium requests will be consumed.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Example 1&lt;/head&gt;
    &lt;p&gt;Example Chat Message:&lt;/p&gt;
    &lt;code&gt;/ask-opus Make a todolist app.&lt;/code&gt;
    &lt;p&gt;Example Prompt File:&lt;code&gt;.github/prompts/ask-opus.prompt.md&lt;/code&gt;&lt;/p&gt;
    &lt;code&gt;---
name: ask-opus
description: Run a query in a subagent that uses the Opus-4.5 model.
model: GPT-5 mini (copilot)
agent: agent
---
&amp;lt;USER_REQUEST_INSTRUCTIONS&amp;gt;
Call #tool:agent/runSubagent - include the following args:
- agentName: "opus-agent"
- prompt: $USER_QUERY
&amp;lt;/USER_REQUEST_INSTRUCTIONS&amp;gt;

&amp;lt;USER_REQUEST_RULES&amp;gt;
- You can call the 'subagent' defined in 'USER_REQUEST_INSTRUCTIONS' as many times as needed to fulfill the user's request.
- It's recommended you use the subagent to help you decide how best to respond and/or complete the task (because it is a larger model than you) including how best to break the task down into smaller steps if needed.
- Use the subagent for all todos/tasks/queries, do not perform any task or respond to any query yourself, you are just an orchestrator.
- Do not manipulate/summarize subagent responses to save on tokens, always be comprehensive and verbose.
- Do not evaluate or respond to the remainder of this message, the subagent is responsible for all further content.
&amp;lt;/USER_REQUEST_RULES&amp;gt;

--- USER_REQUEST_START ---&lt;/code&gt;
    &lt;p&gt;Example Agent File&lt;code&gt;.github/agents/opus.agent.md&lt;/code&gt;&lt;/p&gt;
    &lt;code&gt;---
name: opus-agent
description: An AI agent that assists a user with a task or query.
argument-hint: Query or task to complete
model: Claude Opus 4.5 (copilot)
---
Respond to the user's query/task ($ARGUMENTS) in comprehensively and accurately.&lt;/code&gt;
    &lt;head rend="h2"&gt;Example 2&lt;/head&gt;
    &lt;p&gt;Another vector for abuse - albeit requiring more effort is:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Set &lt;code&gt;chat.agent.maxRequests&lt;/code&gt;to a high value.&lt;/item&gt;
      &lt;item&gt;Use a premium model e.g. Opus 4.5 as the initial model for the chat session.&lt;/item&gt;
      &lt;item&gt;Build a custom script (not disclosed for safety), that you tell the model to call as part of a tool invocation.&lt;/item&gt;
      &lt;item&gt;Craft some prompts to direct the model to repeat the tool call(s).&lt;/item&gt;
      &lt;item&gt;The right script, with the right prompts can be tailored to create a loop, allowing the premium model to continually be invoked unlimited times for no additional cost beyond that of the initial message.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;In my testing I had a single message result in a 3hr+ process that launched hundreds of Opus 4.5 subagents to process hundreds of files - and only consumed 3 premium credits. Had I not stopped it at 3hrs, it would have continued.&lt;/p&gt;
    &lt;p&gt;Related: I also noted the message 'types' are being declared on the client, inferring no API validation e.g: https://github.com/microsoft/vscode-copilot-chat/blob/main/src/extension/intents/node/toolCallingLoop.ts#L484&lt;/p&gt;
    &lt;p&gt;I believe this is another vector that allows for more blatant abuse directly against the API.&lt;/p&gt;
    &lt;p&gt;Note: Initially submitted this to MSRC (VULN-172488), MSRC insisted bypassing billing is outside of MSRC scope and instructed me multiple times to file as a public bug report.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Copilot Chat Extension Version: 0.37.2026013101&lt;/item&gt;
      &lt;item&gt;VS Code Version: 1.109.0-insider (Universal) - f3d99de&lt;/item&gt;
      &lt;item&gt;OS Version: OSX Tahoe 26.3&lt;/item&gt;
      &lt;item&gt;Feature: Agent / SubAgent&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This is NOT the same issue as #252230&lt;lb/&gt; (My previous issue was auto closed by the bot and deferred to the above).&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46936105</guid><pubDate>Sun, 08 Feb 2026 16:56:08 +0000</pubDate></item><item><title>Show HN: I created a Mars colony RPG based on Kim Stanley Robinson's Mars books</title><link>https://underhillgame.com/</link><description>&lt;doc fingerprint="513fbde5de942e67"&gt;
  &lt;main&gt;
    &lt;p&gt;A Mars colony game about surviving and building on the Red Planet.&lt;/p&gt;
    &lt;p&gt;Inspired by Kim Stanley Robinson's Mars Trilogy.&lt;/p&gt;
    &lt;p&gt;Created by Aria Alamalhodaei&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46936237</guid><pubDate>Sun, 08 Feb 2026 17:08:30 +0000</pubDate></item><item><title>Let's compile Quake like it's 1997</title><link>https://fabiensanglard.net/compile_like_1997/index.html</link><description>&lt;doc fingerprint="1e6cba742fa734e7"&gt;
  &lt;main&gt;
    &lt;p&gt;The first batches of Quake executables, &lt;code&gt;quake.exe&lt;/code&gt; and &lt;code&gt;vquake.exe&lt;/code&gt; were programmed on HP 712-60 running NeXT and cross-compiled with DJGPP running on a DEC Alpha server 2100A. In June of 1996, having shipped their title but concerned with NeXT stagnation, id Software switched their development stack.&lt;/p&gt;
    &lt;quote&gt;We moved to Intergraph hardware running Windows NT right after shipping Quake.&lt;lb/&gt;- John Carmack[1]&lt;/quote&gt;
    &lt;p&gt;The next versions of Quake, &lt;code&gt;winquake.exe&lt;/code&gt;, &lt;code&gt;glquake.exe&lt;/code&gt;, and QuakeWorld (&lt;code&gt;qwcl.exe&lt;/code&gt; and &lt;code&gt;qwsv.exe&lt;/code&gt;) were all developed and compiled on Windows NT with Visual C++ 4.X.&lt;/p&gt;
    &lt;p&gt;This article describes the steps to re-create the experience of building the win32 binaries of Quake as it happened in 1997.&lt;/p&gt;
    &lt;p&gt;Depending on the level of historical accuracy you want to reach, you can follow the steps with four environments.&lt;/p&gt;
    &lt;p&gt;I tested these steps both on the Quake PC and in Virtualbox, running either Windows 98SE or Windows NT 4.0.&lt;/p&gt;
    &lt;p&gt;Installing Windows NT 4 is pretty easy since the CD is bootable. Installation took 30 minutes.&lt;/p&gt;
    &lt;p&gt;I love how minimalist Windows NT startup screen is. It proudly displayed how many CPUs are detected (Windows 95/98 only supports one CPU) and how much RAM is there. There is no silly animation.&lt;/p&gt;
    &lt;p&gt;Adding a second CPU to a system won't be automatically detected by Windows NT. You need to re-install to get the HAL handling SMP systems. The same thing goes with dual CPU motherboard. On a W6-LI, one need not only to add another Pentium Pro but also a regulator!&lt;/p&gt;
    &lt;p&gt;Windows NT 4 uses the same UI theme as Windows 9X. The first release, Windows NT 3 used the same UI elements as Windows 3.1. It looked awful.&lt;/p&gt;
    &lt;p&gt;The Win32 version of Quake were coded on Visual C++ 4.X since it was the most recent version of Microsoft IDE available in mid-96. However, by 1999, the project had been migrated to Visual C++ 6. If you don't have the CD handily available, you can likely find it on the Internet Archive or winworldpc.com.&lt;/p&gt;
    &lt;p&gt;In a time before "always on" Internet, most software had a product ID to fight piracy.&lt;/p&gt;
    &lt;p&gt;The installation screen also brings up the next "Visual Studio", combining many development environments. It would soon become THE Microsoft IDE to rule them all.&lt;/p&gt;
    &lt;p&gt;The installation screen looks off. There is a lot of empty space and the progress bar is awkwardly placed. That is because Microsoft did not expect this to run at the crazy high resolution of 1280x1024 (which id developers likely used on their 21" monitors). It only looks as intended in 640x480 or 800x600.&lt;/p&gt;
    &lt;p&gt;With VC++6 installed, we now need to get the source code. DO NOT get it from github or transfer the files via FTP. This will mess up the workspace &lt;code&gt;.dsw&lt;/code&gt; file. Then VC++6 will be unable to parse it. And it won't even give you an error message, it will just open and show no file / project associated. And you will lose 1/2 a day trying to debug the problem.&lt;/p&gt;
    &lt;p&gt;Instead, you need to get q1source.zip. It used to be available on id Software's FTP server but now you can get it from the awesome Quake Official Archive maintained by Jason Brownless[2].&lt;/p&gt;
    &lt;p&gt;With a VM you can transfer files via drag/drop. Alternatively you can use Quick ‘n Easy FTP Server which works on both 9X/NT.&lt;/p&gt;
    &lt;p&gt;To decompress &lt;code&gt;q1source.zip&lt;/code&gt;, you will need WinRar. The v2.50 still works well on 9X/NT.&lt;/p&gt;
    &lt;p&gt;Now launch VC++6. Select "Open Workspace" then pick "WinQuake.dsw".&lt;/p&gt;
    &lt;p&gt;Modern versions of Visual Studio use .sln (Solution) and .vcxproj but Visual C++ 6 uses .dsp and .dsw. The dsp contains a single project while the dsw is a workspace pointing to dsp projects.&lt;/p&gt;
    &lt;p&gt;Start the build with "Rebuild All"&lt;/p&gt;
    &lt;p&gt;The build will fail because VC6++ was unable to assemble all the &lt;code&gt;.s&lt;/code&gt; files which contain the hand-optimized assembly by Michael Abrash.&lt;/p&gt;
    &lt;p&gt;The assembler comes with VC++6 Processor Pack (vcpp5.exe).&lt;/p&gt;
    &lt;p&gt;Of course, launching setupsp5.exe to install it will fail. This is because you need to install MDAC 2.5 first.&lt;/p&gt;
    &lt;p&gt;Don't lose an hour trying to download MDAC from somewhere. You just need to run acmsetup.exe which is in the same folder created when vs6spp5.exe decompressed itself.&lt;/p&gt;
    &lt;p&gt;Now go back and run setupsp5.exe. This time it will work. By now it should feel like you are following the solution of Monkey Island. Nothing makes sense. We are definitely deeeep into the 90s.&lt;/p&gt;
    &lt;p&gt;More awkwardly small progress bar but this is still progress.&lt;/p&gt;
    &lt;p&gt;Re-open the project with VC++6 and run "Rebuild All " again. This time it should work.&lt;/p&gt;
    &lt;p&gt;Yup! Enjoy! You can even build/run QuakeWorld and it works with QSpy!&lt;/p&gt;
    &lt;p&gt;VC++6 is remarkably powerful for 1996. It has features such as "Go to definition", breakpoints, stacktrace, and variable inspections (but no Intellisense auto-completion yet). I never used it but it must have felt like a dream at the time.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;^&lt;/cell&gt;
        &lt;cell&gt;[1]&lt;/cell&gt;
        &lt;cell&gt;Conversation with John Carmack.&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;^&lt;/cell&gt;
        &lt;cell&gt;[2]&lt;/cell&gt;
        &lt;cell&gt;Quake Official Archive&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46936274</guid><pubDate>Sun, 08 Feb 2026 17:11:42 +0000</pubDate></item><item><title>The First Sodium-Ion Battery EV Is a Winter Range Monster</title><link>https://insideevs.com/news/786509/catl-changan-worlds-first-sodium-ion-battery-ev/</link><description>&lt;doc fingerprint="322882ebcbccb53b"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;The World’s First Sodium-Ion Battery EV Is A Winter Range Monster&lt;/head&gt;
    &lt;head rend="h2"&gt;It’s the beginning of a “dual chemistry era” as sodium-ion batteries have overcome all hurdles to enter mass production.&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;The Changan Nevo A06 is the world's first mass-produced car powered by a sodium-ion battery.&lt;/item&gt;
      &lt;item&gt;It has a CLTC range of about 250 miles and can run with little to no range loss even in -40 degrees Fahrenheit.&lt;/item&gt;
      &lt;item&gt;It's the start of a new "dual chemistry era," CATL said.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Chinese battery giant CATL and automaker Changan Automobile are preparing to put the world’s first passenger car powered by sodium-ion batteries on public roads by mid-2026. And if the launch is successful, it could usher in an era where electric vehicles present less of a fire risk and can better handle extreme temperatures. &lt;lb/&gt;&lt;lb/&gt;The CATL Naxtra sodium-ion battery will debut in the Changan Nevo A06 sedan, delivering an estimated range of around 400 kilometers (249 miles) on the China Light-Duty Test Cycle. From there, the battery will roll out across Changan’s broader portfolio, including EVs from Avatr, Deepal, Qiyuan and Uni, the company said.&lt;/p&gt;
    &lt;p&gt;“The launch represents a major step in the industry’s transition toward a dual-chemistry ecosystem, where sodium-ion and lithium-ion batteries complement each other to meet diverse customer needs,” CATL said in a press release.&lt;/p&gt;
    &lt;p&gt;CATL Sodium Ion Battery&lt;/p&gt;
    &lt;p&gt;It’s a meaningful step forward for the technology that’s rapidly emerging as an alternative to lithium-iron phosphate (LFP) batteries, which currently dominate China’s EV market. Studies show that sodium-ion batteries carry no risk of thermal runaway and are far less sensitive to extreme temperatures. Above all, sodium is significantly cheaper and far more abundant than lithium.&lt;/p&gt;
    &lt;p&gt;From an energy density standpoint, the Naxtra battery is competitive but not revolutionary. It delivers 175 watt-hours per kilogram of energy density, which is lower than nickel-rich chemistries but roughly on par with LFP. That makes it more suitable for low-cost and low-range EVs as well as stationary energy storage.&lt;lb/&gt;&lt;lb/&gt;By using a cell-to-pack design, where individual cells are integrated directly into the battery pack instead of modules, CATL was able to extract 400 kilometers (249 miles) of range on the CTLC cycle.&lt;/p&gt;
    &lt;p&gt;But CATL says there’s plenty of room for improvement on the range front. As the sodium-ion supply chain matures, the company expects EV range to climb to 600 kilometers (373 miles), while extended-range EVs (EREVs) and hybrids could reach up to 400 kilometers (249 miles). That would cover more than half of the typical range requirements in China’s EV market, CATL claims.&lt;lb/&gt;&lt;lb/&gt;Where the Naxtra battery really stands out, however, is cold-weather performance. CATL says its discharge power at -30 degrees Celsius (-22 degrees Fahrenheit) is three times higher than that of LFP batteries.&lt;/p&gt;
    &lt;p&gt;Unlike LFP or nickel-manganese-cobalt (NMC) packs, it reportedly avoids severe winter range loss, retaining more than 90% of its range at -40 degrees C (-40 degrees F). Power delivery is also said to remain stable at temperatures as low as -50 degrees C (-58 degrees F).&lt;/p&gt;
    &lt;p&gt;As always, we’ll have to wait for independent testing for real-world results. But on paper, the technology looks genuinely compelling. While the Naxtra battery isn’t coming to the U.S., it could be especially valuable in places like the Midwest and the Northeast, where EV drivers routinely report steep range losses when temperatures plunge in winter.&lt;lb/&gt;&lt;lb/&gt;While lithium-ion batteries aren’t going anywhere, it’s becoming increasingly clear that the future of EVs will be defined by multiple battery chemistries coexisting. That’s how internal combustion engines evolved over the years, giving drivers more options to be able to choose the battery technology that best fits their driving habits, power needs—and the climate they live in.&lt;/p&gt;
    &lt;p&gt;Contact the author: suvrat.kothari@insideevs.com.&lt;/p&gt;
    &lt;p&gt;RECOMMENDED FOR YOU&lt;/p&gt;
    &lt;p&gt;A California Company Just Kicked Off Solid-State Battery Pilot Production. Now Comes The Hard Part&lt;/p&gt;
    &lt;p&gt;The Tesla Model 3 Can Far Exceed Its Rated Range. But There’s A Catch&lt;/p&gt;
    &lt;p&gt;America's First Car With Solid-State Batteries Could Come From This Little-Known EV Maker&lt;/p&gt;
    &lt;p&gt;Volkswagen Took Many Risks With The ID.4. Here's Where It Needs To Go Next&lt;/p&gt;
    &lt;p&gt;Is The World's First Solid-State Battery EV Already Delayed? (Updated)&lt;/p&gt;
    &lt;p&gt;Tesla's Door Handles Went Global. Now China Is Cracking Down&lt;/p&gt;
    &lt;p&gt;General Motors' Strategy For Building Cheaper EV Batteries: Go Hyper Local&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46936315</guid><pubDate>Sun, 08 Feb 2026 17:15:17 +0000</pubDate></item><item><title>Stop Using Face ID</title><link>https://www.pcmag.com/explainers/why-you-should-stop-using-face-id-right-now?test_uuid=04IpBmWGZleS0I0J3epvMrC&amp;test_variant=B</link><description>&lt;doc fingerprint="9705c99f099233f9"&gt;
  &lt;main&gt;
    &lt;p&gt;Using a face scan to unlock your phone and log in to accounts is easy to set up, but it's not the best option for everyone. That's because, thanks to a 5th Amendment loophole, law enforcement agents can use your biometric data to unlock your phone. We saw this last month, when a Washington Post reporter's home was raided by the FBI. According to court records obtained by 404 Media, agents were unable to access the reporter’s iPhone because it was in Lockdown Mode, but they got a warrant from a federal judge to compel the reporter to unlock their computer via a fingerprint scan.&lt;/p&gt;
    &lt;p&gt;So are biometric scans a safe way to lock down your devices? After all, face and fingerprint scans can be used against you, while passwords and passcodes cannot. Let’s talk about why you may want to stop using biometrics to unlock your phone, sooner rather than later.&lt;/p&gt;
    &lt;head rend="h2"&gt;Biometrics 101: Face ID, Fingerprints, and Passkeys&lt;/head&gt;
    &lt;p&gt;Biometric data is a fancy term for the face and fingerprint scanning that your computer, phone, or tablet uses to verify your identity. The data can unlock your device or help you log in to sensitive online accounts using a passkey. I’ve written and spoken a lot about passkeys lately, as more websites are offering this option to simplify the login process. You can create a passkey on a lockable device, either with biometric data (such as a face or fingerprint scan) or a passcode, and then use it to access your online account.&lt;/p&gt;
    &lt;p&gt;I’d love to say that, thanks to immaculate foresight as a cybersecurity industry observer, I noticed growing unease about government surveillance and had a desire to take more control over my personal data, so I stopped using biometrics to unlock my devices. That would be a lie, though. I actually stopped scanning my face during the COVID-19 lockdown period, because I found it too difficult to unlock my phone while wearing a mask and glasses. In other words, inconvenience was my reason for ditching biometric scanning in favor of passcodes. Depending on who you are and what you do, you may have more compelling reasons to stop using biometric data on your devices.&lt;/p&gt;
    &lt;head rend="h2"&gt;Your Risk Level Determines Your Security Needs&lt;/head&gt;
    &lt;p&gt;What do you do at work, or during your free time? I ask because not everyone needs to lock down their devices to the maximum level. After all, it’s a lot easier to get into your accounts or unlock your phone with just a glance or a swipe, rather than trying to remember a device-specific passcode.&lt;/p&gt;
    &lt;p&gt;People with a high risk of surveillance by governments or criminal organizations—such as activists, immigrants, journalists, and politicians—should consider using a passcode or passphrase to protect their devices, since law enforcement officers are not allowed to force you to manually enter your passcode or PIN.&lt;/p&gt;
    &lt;p&gt;I should point out, if you fit into the categories above, it’s wise to make it harder to access all the private data on your phone or computer. As I noted in an article about securing your devices before crossing the US border, Android and iOS have settings that let you delete all your phone’s data remotely or with a tap.&lt;/p&gt;
    &lt;head rend="h2"&gt;What Lockdown Mode and Advanced Protection Really Do&lt;/head&gt;
    &lt;p&gt;If you use Apple devices, you can also do what Washington Post reporter Hannah Natanson did, and keep your device in Lockdown Mode. That’s a setting that blocks attachments in messages, device management configuration installations, and calls or FaceTime connections. Lockdown Mode also enables a very restrictive browsing setting on the device. Lockdown Mode is the reason why FBI agents have not been able to access Natanson’s phone data. To enable this feature on your phone, visit Settings, then browse within the Privacy and Security menu in iOS.&lt;/p&gt;
    &lt;head rend="h3"&gt;Stay Safe With the Latest Security News and Updates&lt;/head&gt;
    &lt;p&gt;By clicking Sign Me Up, you confirm you are 16+ and agree to our Terms of Use and Privacy Policy.&lt;/p&gt;
    &lt;p&gt;Thanks for signing up!&lt;/p&gt;
    &lt;p&gt;Your subscription has been confirmed. Keep an eye on your inbox!&lt;/p&gt;
    &lt;p&gt;Android devices have a lockdown setting, too, but it’s not as comprehensive as Apple’s feature. Instead, the Android lockdown feature temporarily disables biometric unlocks for your devices so that you can quickly secure your phone if you’re worried about someone holding the front-facing camera to your face to unlock it, or holding your hand over the fingerprint reader.&lt;/p&gt;
    &lt;p&gt;Android also offers a setting called Advanced Protection mode, which requires you to use either hardware security keys or passkeys to protect your Google accounts. This setting blocks harmful app or file downloads and prevents unverified third-party apps from accessing your Google data without your permission. You can enable this setting on the web by logging in to your Google account and visiting the Security and Sign-in menu.&lt;/p&gt;
    &lt;head rend="h2"&gt;The One Lock Law Enforcement Can't Force Open&lt;/head&gt;
    &lt;p&gt;When you’re ready to enable passcodes to lock your devices rather than biometric scans, remember to delete your existing biometric data. The good news is that your biometric data is stored locally on your device, not in the cloud, so when you delete it from your device, it’s really gone.&lt;/p&gt;
    &lt;p&gt;If you use an Android device, go to the Security and Privacy section within the Settings menu, and choose Device unlock/Biometrics. Tap the delete icon to remove your biometric data. You can then set up a passcode to unlock your device by visiting the Lock Screen section of the menu.&lt;/p&gt;
    &lt;p&gt;If you’re using devices running iOS, visit the Settings menu, then Face ID/Touch ID &amp;amp; Passcode, and tap either Reset Face ID or Delete Fingerprint. While you’re there, set a passcode to use when unlocking your devices or logging in to your accounts, using a passkey or another passwordless authentication method.&lt;/p&gt;
    &lt;head rend="h2"&gt;Privacy Doesn't Stop at Your Lock Screen&lt;/head&gt;
    &lt;p&gt;It’s troubling that a reporter was compelled by her country’s government to give up her right to personal privacy while protecting a source. Maybe you think you don’t have anything to hide, and maybe you’re right, but this incident is a wake-up call to everyone. It’s time to hide your private information from government officials and strangers alike.&lt;/p&gt;
    &lt;p&gt;Whether you commit to reading privacy policies carefully before signing up for new online accounts, cleaning up your digital footprint by closing old online accounts, or using unique, strong passwords for all of your existing accounts, the power to protect your personal data online is still in your hands.&lt;/p&gt;
    &lt;p&gt;Check out our cybersecurity checklist for a collection of periodic tasks you can complete to improve your online safety. Finally, when you’re ready to take your digital privacy even further, read our article on how to completely disappear from the internet.&lt;/p&gt;
    &lt;head rend="h2"&gt;About Our Expert&lt;/head&gt;
    &lt;p&gt;I review privacy tools like hardware security keys, password managers, private messaging apps, and ad-blocking software. I also report on online scams and offer advice to families and individuals about staying safe on the internet. Before joining PCMag, I wrote about tech and video games for CNN, Fanbyte, Mashable, The New York Times, and TechRadar. I also worked at CNN International, where I did field producing and reporting on sports that are popular with worldwide audiences.&lt;/p&gt;
    &lt;p&gt;In addition to the categories below, I exclusively cover ad blockers, authenticator apps, hardware security keys, and private messaging apps.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Still Using Passwords? That's Risky. Here's Why You Should Switch to Passkeys Now&lt;/item&gt;
      &lt;item&gt;Dashlane Review: Polished, Powerful, and Pricey Password Management&lt;/item&gt;
      &lt;item&gt;Check Your Phone Now: These 20 Popular Apps Are Killing Your Privacy&lt;/item&gt;
      &lt;item&gt;Don't Let AI Scammers Steal Your Tax Refund: 7 Steps for Safe Online Filing&lt;/item&gt;
      &lt;item&gt;Bitwarden Review: A Feature-Filled Free Password Manager&lt;/item&gt;
      &lt;item&gt;More from Kim Key&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46936526</guid><pubDate>Sun, 08 Feb 2026 17:33:43 +0000</pubDate></item><item><title>Bun v1.3.9</title><link>https://bun.com/blog/bun-v1.3.9</link><description>&lt;doc fingerprint="be838c082d307f88"&gt;
  &lt;main&gt;
    &lt;head rend="h4"&gt;To install Bun&lt;/head&gt;
    &lt;code&gt;curl -fsSL https://bun.sh/install | bash&lt;/code&gt;
    &lt;code&gt;npm install -g bun&lt;/code&gt;
    &lt;code&gt;powershell -c "irm bun.sh/install.ps1|iex"&lt;/code&gt;
    &lt;code&gt;scoop install bun&lt;/code&gt;
    &lt;code&gt;brew tap oven-sh/bun&lt;/code&gt;
    &lt;code&gt;brew install bun&lt;/code&gt;
    &lt;code&gt;docker pull oven/bun&lt;/code&gt;
    &lt;code&gt;docker run --rm --init --ulimit memlock=-1:-1 oven/bun&lt;/code&gt;
    &lt;head rend="h4"&gt;To upgrade Bun&lt;/head&gt;
    &lt;code&gt;bun upgrade&lt;/code&gt;
    &lt;head rend="h2"&gt;&lt;code&gt;bun run --parallel&lt;/code&gt; and &lt;code&gt;bun run --sequential&lt;/code&gt;&lt;/head&gt;
    &lt;p&gt;Run multiple package.json scripts concurrently or sequentially with Foreman-style prefixed output. Includes full &lt;code&gt;--filter&lt;/code&gt; and &lt;code&gt;--workspaces&lt;/code&gt; integration for running scripts in parallel or sequential across workspace packages.&lt;/p&gt;
    &lt;code&gt;# Run "build" and "test" concurrently from the current package.json
bun run --parallel build test

# Run "build" and "test" sequentially with prefixed output
bun run --sequential build test

# Glob-matched script names
bun run --parallel "build:*"

# Run "build" in all workspace packages concurrently
bun run --parallel --filter '*' build

# Run "build" in all workspace packages sequentially
bun run --sequential --workspaces build

# Multiple scripts across all packages
bun run --parallel --filter '*' build lint test

# Continue running even if one package fails
bun run --parallel --no-exit-on-error --filter '*' test

# Skip packages missing the script
bun run --parallel --workspaces --if-present build
&lt;/code&gt;
    &lt;p&gt;Each line of output is prefixed with a colored, padded label so you can tell which script produced it:&lt;/p&gt;
    &lt;code&gt;build | compiling...
test  | running suite...
lint  | checking files...
&lt;/code&gt;
    &lt;p&gt;When combined with &lt;code&gt;--filter&lt;/code&gt; or &lt;code&gt;--workspaces&lt;/code&gt;, labels include the package name:&lt;/p&gt;
    &lt;code&gt;pkg-a:build | compiling...
pkg-b:build | compiling...
&lt;/code&gt;
    &lt;p&gt;&lt;code&gt;--parallel&lt;/code&gt; starts all scripts immediately with interleaved, prefixed output. &lt;code&gt;--sequential&lt;/code&gt; runs scripts one at a time in order. By default, a failure in any script kills all remaining scripts — use &lt;code&gt;--no-exit-on-error&lt;/code&gt; to let them all finish.&lt;/p&gt;
    &lt;p&gt;Pre/post scripts (&lt;code&gt;prebuild&lt;/code&gt;/&lt;code&gt;postbuild&lt;/code&gt;) are automatically grouped with their main script and run in the correct dependency order within each group.&lt;/p&gt;
    &lt;head rend="h3"&gt;How is this different from &lt;code&gt;--filter?&lt;/code&gt;&lt;/head&gt;
    &lt;p&gt;&lt;code&gt;bun --filter="pkg" &amp;lt;script&amp;gt;&lt;/code&gt; respects dependency order. It doesn't start a script until all it's dependendents are also run. This can be an issue when using long-lived watch-like scripts. &lt;code&gt;--parallel&lt;/code&gt; and &lt;code&gt;--sequential&lt;/code&gt; do not respect dependency order so they won't wait.&lt;/p&gt;
    &lt;head rend="h2"&gt;HTTP/2 Connection Upgrades via &lt;code&gt;net.Server&lt;/code&gt;&lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;net.Server → Http2SecureServer&lt;/code&gt; connection upgrade pattern now works correctly. This pattern is used by libraries like http2-wrapper, crawlee, and custom HTTP/2 proxy servers that accept raw TCP connections on a &lt;code&gt;net.Server&lt;/code&gt; and forward them to an &lt;code&gt;Http2SecureServer&lt;/code&gt; via &lt;code&gt;h2Server.emit('connection', rawSocket)&lt;/code&gt;.&lt;/p&gt;
    &lt;code&gt;import { createServer } from "node:net";
import { createSecureServer } from "node:http2";
import { readFileSync } from "node:fs";

const h2Server = createSecureServer({
  key: readFileSync("key.pem"),
  cert: readFileSync("cert.pem"),
});

h2Server.on("stream", (stream, headers) =&amp;gt; {
  stream.respond({ ":status": 200 });
  stream.end("Hello over HTTP/2!");
});

const netServer = createServer((rawSocket) =&amp;gt; {
  // Forward the raw TCP connection to the HTTP/2 server
  h2Server.emit("connection", rawSocket);
});

netServer.listen(8443);
&lt;/code&gt;
    &lt;head rend="h2"&gt;&lt;code&gt;Symbol.dispose&lt;/code&gt; support for &lt;code&gt;mock()&lt;/code&gt; and &lt;code&gt;spyOn()&lt;/code&gt;&lt;/head&gt;
    &lt;p&gt;&lt;code&gt;mock()&lt;/code&gt; and &lt;code&gt;spyOn()&lt;/code&gt; now implement &lt;code&gt;Symbol.dispose&lt;/code&gt;, enabling the &lt;code&gt;using&lt;/code&gt; keyword to automatically restore mocks when they go out of scope. This eliminates the need to manually call &lt;code&gt;mockRestore()&lt;/code&gt; or rely on &lt;code&gt;afterEach&lt;/code&gt; cleanup.&lt;/p&gt;
    &lt;code&gt;import { spyOn, expect, test } from "bun:test";

test("auto-restores spy", () =&amp;gt; {
  const obj = { method: () =&amp;gt; "original" };

  {
    using spy = spyOn(obj, "method").mockReturnValue("mocked");
    expect(obj.method()).toBe("mocked");
  }

  // automatically restored when `spy` leaves scope
  expect(obj.method()).toBe("original");
});
&lt;/code&gt;
    &lt;p&gt;&lt;code&gt;[Symbol.dispose]&lt;/code&gt; is aliased to &lt;code&gt;mockRestore&lt;/code&gt;, so it works with both &lt;code&gt;spyOn()&lt;/code&gt; and &lt;code&gt;mock()&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;import { mock } from "bun:test";

const fn = mock(() =&amp;gt; "original");
fn();
expect(fn).toHaveBeenCalledTimes(1);

fn[Symbol.dispose](); // same as fn.mockRestore()
expect(fn).toHaveBeenCalledTimes(0);
&lt;/code&gt;
    &lt;head rend="h2"&gt;&lt;code&gt;NO_PROXY&lt;/code&gt; now respected for explicit proxy options&lt;/head&gt;
    &lt;p&gt;Previously, setting &lt;code&gt;NO_PROXY&lt;/code&gt; only worked when the proxy was auto-detected from &lt;code&gt;http_proxy&lt;/code&gt;/&lt;code&gt;HTTP_PROXY&lt;/code&gt; environment variables. If you explicitly passed a &lt;code&gt;proxy&lt;/code&gt; option to &lt;code&gt;fetch()&lt;/code&gt; or &lt;code&gt;new WebSocket()&lt;/code&gt;, the &lt;code&gt;NO_PROXY&lt;/code&gt; environment variable was ignored.&lt;/p&gt;
    &lt;p&gt;Now, &lt;code&gt;NO_PROXY&lt;/code&gt; is always checked — even when a proxy is explicitly provided via the &lt;code&gt;proxy&lt;/code&gt; option.&lt;/p&gt;
    &lt;code&gt;// NO_PROXY=localhost
// Previously, this would still use the proxy. Now it correctly bypasses it.
await fetch("http://localhost:3000/api", {
  proxy: "http://my-proxy:8080",
});

// Same fix applies to WebSocket
const ws = new WebSocket("ws://localhost:3000/ws", {
  proxy: "http://my-proxy:8080",
});
&lt;/code&gt;
    &lt;head rend="h2"&gt;&lt;code&gt;--cpu-prof-interval&lt;/code&gt; flag&lt;/head&gt;
    &lt;p&gt;Bun now supports the &lt;code&gt;--cpu-prof-interval&lt;/code&gt; flag to configure the CPU profiler's sampling interval in microseconds, matching Node.js's flag of the same name. The default interval is 1000μs (1ms).&lt;/p&gt;
    &lt;code&gt;# Sample every 500μs for higher resolution profiling
bun --cpu-prof --cpu-prof-interval 500 index.js
&lt;/code&gt;
    &lt;p&gt;If used without &lt;code&gt;--cpu-prof&lt;/code&gt; or &lt;code&gt;--cpu-prof-md&lt;/code&gt;, Bun will emit a warning.&lt;/p&gt;
    &lt;head rend="h2"&gt;ESM bytecode in &lt;code&gt;--compile&lt;/code&gt;&lt;/head&gt;
    &lt;p&gt;Using &lt;code&gt;--bytecode&lt;/code&gt; with &lt;code&gt;--format=esm&lt;/code&gt; is now supported. Previously, this was unsupported due to missing functionality in JavaScriptCore and now it's fully supported.&lt;/p&gt;
    &lt;p&gt;When &lt;code&gt;--bytecode&lt;/code&gt; is used without an explicit &lt;code&gt;--format&lt;/code&gt;, it continues to default to CommonJS. In a future version of Bun, we may change that default to ESM to make the behavior more consistent.&lt;/p&gt;
    &lt;p&gt;Thanks to @alistair!&lt;/p&gt;
    &lt;head rend="h2"&gt;Fixed: Illegal instruction (SIGILL) crashes on ARMv8.0 aarch64 CPUs&lt;/head&gt;
    &lt;p&gt;Fixed crashes on older ARM64 processors (Cortex-A53, Raspberry Pi 4, AWS a1 instances) caused by mimalloc emitting LSE atomic instructions that require ARMv8.1 or later. Bun now correctly targets ARMv8.0 on Linux aarch64, using outline atomics for runtime dispatch.&lt;/p&gt;
    &lt;head rend="h2"&gt;Faster Markdown-to-HTML rendering&lt;/head&gt;
    &lt;p&gt;&lt;code&gt;Bun.Markdown&lt;/code&gt; now uses SIMD-accelerated scanning to find characters that need HTML escaping (&lt;code&gt;&amp;amp;&lt;/code&gt;, &lt;code&gt;&amp;lt;&lt;/code&gt;, &lt;code&gt;&amp;gt;&lt;/code&gt;, &lt;code&gt;"&lt;/code&gt;), resulting in 3-15% faster Markdown-to-HTML rendering throughput. Larger documents with fewer special characters see the biggest gains.&lt;/p&gt;
    &lt;p&gt;Thanks to @billywhizz for the contribution!&lt;/p&gt;
    &lt;head rend="h2"&gt;Faster &lt;code&gt;Bun.markdown.react()&lt;/code&gt;&lt;/head&gt;
    &lt;p&gt;Cached frequently-used HTML tag strings (&lt;code&gt;div&lt;/code&gt;, &lt;code&gt;p&lt;/code&gt;, &lt;code&gt;h1&lt;/code&gt;-&lt;code&gt;h6&lt;/code&gt;, etc.) in the React renderer for &lt;code&gt;Bun.markdown.react()&lt;/code&gt;, avoiding repeated string allocations on every element creation.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Input size&lt;/cell&gt;
        &lt;cell role="head"&gt;Before&lt;/cell&gt;
        &lt;cell role="head"&gt;After&lt;/cell&gt;
        &lt;cell role="head"&gt;Improvement&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Small (121 chars)&lt;/cell&gt;
        &lt;cell&gt;3.20 µs&lt;/cell&gt;
        &lt;cell&gt;2.30 µs&lt;/cell&gt;
        &lt;cell&gt;28% faster&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Medium (1,039 chars)&lt;/cell&gt;
        &lt;cell&gt;15.09 µs&lt;/cell&gt;
        &lt;cell&gt;14.02 µs&lt;/cell&gt;
        &lt;cell&gt;7% faster&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Large (20,780 chars)&lt;/cell&gt;
        &lt;cell&gt;288.48 µs&lt;/cell&gt;
        &lt;cell&gt;267.14 µs&lt;/cell&gt;
        &lt;cell&gt;7.4% faster&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;String object count reduced by 40% and heap size reduced by 6% for a typical render.&lt;/p&gt;
    &lt;head rend="h2"&gt;Faster &lt;code&gt;AbortSignal.abort()&lt;/code&gt; with no listeners&lt;/head&gt;
    &lt;p&gt;&lt;code&gt;AbortSignal.abort()&lt;/code&gt; now skips creating and dispatching an &lt;code&gt;Event&lt;/code&gt; object when there are no registered listeners, avoiding unnecessary object allocation and dispatch overhead. This results in a ~6% improvement in micro-benchmarks (~16ms saved per 1M calls).&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;Case&lt;/cell&gt;
        &lt;cell role="head"&gt;Before&lt;/cell&gt;
        &lt;cell role="head"&gt;After&lt;/cell&gt;
        &lt;cell role="head"&gt;Improvement&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;no listener&lt;/cell&gt;
        &lt;cell&gt;271 ms&lt;/cell&gt;
        &lt;cell&gt;255 ms&lt;/cell&gt;
        &lt;cell&gt;~6%&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;with listener&lt;/cell&gt;
        &lt;cell&gt;368 ms&lt;/cell&gt;
        &lt;cell&gt;370 ms&lt;/cell&gt;
        &lt;cell&gt;(same)&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Thanks to @sosukesuzuki for the contribution!&lt;/p&gt;
    &lt;head rend="h2"&gt;JavaScriptCore upgrade&lt;/head&gt;
    &lt;head rend="h3"&gt;RegExp SIMD Acceleration&lt;/head&gt;
    &lt;p&gt;Regular expressions got a major performance boost with a new SIMD-accelerated prefix search, inspired by V8's approach. When a regex has alternatives with known leading characters (e.g., &lt;code&gt;/aaaa|bbbb/&lt;/code&gt;), JSC now uses SIMD instructions to scan 16 bytes at a time, rapidly rejecting non-matching positions before falling back to scalar matching. This is implemented for both ARM64 (using TBL2) and x86_64 (using PTEST), so all platforms benefit.&lt;/p&gt;
    &lt;p&gt;The x86_64 codegen also gained new constant materialization primitives (&lt;code&gt;move128ToVector&lt;/code&gt;, &lt;code&gt;move64ToDouble&lt;/code&gt;, &lt;code&gt;move32ToFloat&lt;/code&gt;) using broadcast and shuffle instructions, which are necessary for the SIMD regex paths and future SIMD optimizations.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;579b96614b75&lt;/code&gt;— SIMD fast prefix search for RegExp (ARM64)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;b7ed3dae4a6a&lt;/code&gt;— SIMD fast prefix search for RegExp (x86_64)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;aa596dded063&lt;/code&gt;— x86_64 constant materialization for SIMD masks&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;RegExp JIT: Fixed-Count Parentheses&lt;/head&gt;
    &lt;p&gt;Non-capturing parenthesized subpatterns with fixed-count quantifiers like &lt;code&gt;(?:abc){3}&lt;/code&gt; previously fell back to the slower Yarr interpreter. They are now JIT-compiled using a counter-based loop, yielding a ~3.9x speedup on affected patterns. A follow-up patch also added JIT support for fixed-count subpatterns with capture groups (e.g., &lt;code&gt;/(a+){2}b/&lt;/code&gt;), correctly saving and restoring capture state across iterations.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;ac63cc259d74&lt;/code&gt;— JIT support for non-capturing fixed-count parentheses (~3.9x faster)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;c8b66aa0832b&lt;/code&gt;— JIT support for fixed-count subpatterns with captures&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;&lt;code&gt;String#startsWith&lt;/code&gt; Optimized in DFG/FTL&lt;/head&gt;
    &lt;p&gt;&lt;code&gt;String.prototype.startsWith&lt;/code&gt; is now an intrinsic in the DFG and FTL JIT tiers, with constant folding support when both the string and search term are known at compile time.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Benchmark&lt;/cell&gt;
        &lt;cell role="head"&gt;Speedup&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;
          &lt;code&gt;string-prototype-startswith&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;1.42x faster&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;
          &lt;code&gt;string-prototype-startswith-constant-folding&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;5.76x faster&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;code&gt;string-prototype-startswith-with-index&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;1.22x faster&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h3"&gt;&lt;code&gt;Set#size&lt;/code&gt; and &lt;code&gt;Map#size&lt;/code&gt; Optimized in DFG/FTL and Inline Caches&lt;/head&gt;
    &lt;p&gt;The &lt;code&gt;.size&lt;/code&gt; getter on &lt;code&gt;Set&lt;/code&gt; and &lt;code&gt;Map&lt;/code&gt; is now handled as an intrinsic in the DFG/FTL tiers and inline caches, eliminating the overhead of a generic getter call.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Benchmark&lt;/cell&gt;
        &lt;cell role="head"&gt;Speedup&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;
          &lt;code&gt;set-size&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;2.24x faster&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;code&gt;map-size&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;2.74x faster&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h3"&gt;&lt;code&gt;String#trim&lt;/code&gt; Optimized&lt;/head&gt;
    &lt;p&gt;&lt;code&gt;String.prototype.trim&lt;/code&gt;, &lt;code&gt;trimStart&lt;/code&gt;, and &lt;code&gt;trimEnd&lt;/code&gt; now use direct pointer access via &lt;code&gt;span8()&lt;/code&gt;/&lt;code&gt;span16()&lt;/code&gt; instead of indirect &lt;code&gt;str[i]&lt;/code&gt; character access, avoiding repeated bounds checking.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Benchmark&lt;/cell&gt;
        &lt;cell role="head"&gt;Speedup&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;
          &lt;code&gt;string-trim&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;1.17x faster&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;
          &lt;code&gt;string-trim-end&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;1.42x faster&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;code&gt;string-trim-start&lt;/code&gt;
        &lt;/cell&gt;
        &lt;cell&gt;1.10x faster&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h3"&gt;&lt;code&gt;Object.defineProperty&lt;/code&gt; Handled in DFG/FTL&lt;/head&gt;
    &lt;p&gt;&lt;code&gt;Object.defineProperty&lt;/code&gt; is now recognized as an intrinsic in the DFG and FTL JIT tiers. While this patch alone doesn't change benchmark numbers, it lays the groundwork for future optimizations that can specialize based on descriptor shape.&lt;/p&gt;
    &lt;head rend="h3"&gt;&lt;code&gt;String.prototype.replace&lt;/code&gt; Returns Ropes&lt;/head&gt;
    &lt;p&gt;When using &lt;code&gt;"string".replace("search", "replacement")&lt;/code&gt; with string arguments, JSC now constructs a rope (lazy concatenation) instead of eagerly copying the entire result. This avoids unnecessary allocations for the common case where the result is only used briefly. This aligns with V8's behavior.&lt;/p&gt;
    &lt;head rend="h2"&gt;Bugfixes&lt;/head&gt;
    &lt;head rend="h3"&gt;Node.js compatibility improvements&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Fixed: &lt;code&gt;existsSync('.')&lt;/code&gt;,&lt;code&gt;statSync('.')&lt;/code&gt;, and other&lt;code&gt;node:fs&lt;/code&gt;operations incorrectly failing on Windows due to&lt;code&gt;'.'&lt;/code&gt;being normalized to an empty string instead of the current directory.&lt;/item&gt;
      &lt;item&gt;Fixed: &lt;code&gt;Function.prototype.toString()&lt;/code&gt;whitespace now matches V8/Node.js&lt;/item&gt;
      &lt;item&gt;Fixed 3 rare crashes in &lt;code&gt;node:http2&lt;/code&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Bun APIs&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Fixed: &lt;code&gt;Bun.stringWidth&lt;/code&gt;incorrectly reporting Thai SARA AA (&lt;code&gt;U+0E32&lt;/code&gt;), SARA AM (&lt;code&gt;U+0E33&lt;/code&gt;), and their Lao equivalents (&lt;code&gt;U+0EB2&lt;/code&gt;,&lt;code&gt;U+0EB3&lt;/code&gt;) as zero-width characters instead of width 1. These are spacing vowels, not combining marks, so common Thai words like&lt;code&gt;คำ&lt;/code&gt;now correctly return a width of 2 instead of 1.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Web APIs&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Fixed: a crash that could occur in the &lt;code&gt;WebSocket&lt;/code&gt;client when using&lt;code&gt;binaryType = "blob"&lt;/code&gt;and receiving&lt;code&gt;"data"&lt;/code&gt;events when no event listener attached.&lt;/item&gt;
      &lt;item&gt;Fixed: Sequential HTTP requests with proxy-style absolute URLs (e.g. &lt;code&gt;GET http://example.com/path HTTP/1.1&lt;/code&gt;) hanging on the 2nd+ request when using keep-alive connections. This affected HTTP proxy servers built with Bun, which could only handle one request per connection.&lt;/item&gt;
      &lt;item&gt;Fixed: A security issue in the HTTP server chunked encoding parser that could lead to request smuggling.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;TypeScript types&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Fixed: &lt;code&gt;Bun.Build.CompileTarget&lt;/code&gt;TypeScript type was missing SIMD variants like&lt;code&gt;bun-linux-x64-modern&lt;/code&gt;, causing type errors when cross-compiling with specific architecture targets.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Fixed: Missing &lt;code&gt;bun-linux-x64-baseline&lt;/code&gt;and&lt;code&gt;bun-linux-x64-modern&lt;/code&gt;compile target types in TypeScript definitions, which caused type errors when using&lt;code&gt;Bun.build()&lt;/code&gt;with these valid targets.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Fixed: &lt;code&gt;Socket.reload()&lt;/code&gt;TypeScript types now correctly expect&lt;code&gt;{ socket: handler }&lt;/code&gt;to match runtime behavior, which requires the handler to be wrapped in a&lt;code&gt;socket&lt;/code&gt;property.&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=46936595</guid><pubDate>Sun, 08 Feb 2026 17:39:00 +0000</pubDate></item></channel></rss>