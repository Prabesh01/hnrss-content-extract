<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Hacker News: Front Page</title><link>https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml</link><description>Hacker News RSS</description><atom:link href="https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml" rel="self"/><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><language>en</language><lastBuildDate>Mon, 15 Sep 2025 03:26:27 +0000</lastBuildDate><item><title>A single, 'naked' black hole confounds theories of the young cosmos</title><link>https://www.quantamagazine.org/a-single-naked-black-hole-rewrites-the-history-of-the-universe-20250912/</link><description>&lt;doc fingerprint="b70810f358824b5b"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;A Single, ‘Naked’ Black Hole Rewrites the History of the Universe&lt;/head&gt;
    &lt;head rend="h2"&gt;Introduction&lt;/head&gt;
    &lt;p&gt;A black hole unlike any seen before has been spotted in the early universe. It’s huge and appears to be essentially on its own, with few stars circling it. The object, which may represent a whole new class of enormous “naked” black holes, upends the textbook understanding of the young universe.&lt;/p&gt;
    &lt;p&gt;“This is completely off the scale,” said Roberto Maiolino, an astrophysicist at the University of Cambridge who helped reveal the nature of the object in a preprint posted on August 29. “It’s terribly exciting. It’s highly informative.”&lt;/p&gt;
    &lt;p&gt;“It’s pushing the boundaries on what we think might be true, what we think might happen,” said Dale Kocevski, an astronomer at Colby College who was not involved in the new research.&lt;/p&gt;
    &lt;p&gt;Astronomers spied the bare black hole using the James Webb Space Telescope (JWST) — a mega-instrument built by NASA and its partners in part to reveal how galaxies formed during the universe’s first billion years. This new black hole, which is as heavy as 50 million suns and is dubbed QSO1, clashes with the old, provisional account of the galaxy formation process, which did not start with black holes. Black holes were thought to have come along only after a galaxy’s stars gravitationally collapsed into black holes that then merged and grew. But Maiolino and his colleagues described a solitary leviathan with no parent galaxy in sight.&lt;/p&gt;
    &lt;p&gt;The question now is how this black hole came to exist.&lt;/p&gt;
    &lt;p&gt;The most exciting — and controversial — possibility dates back to a 1971 proposal from the British physicist Stephen Hawking: that black holes arose in the primordial soup of the Big Bang itself. In that case, the object would have been sitting in the dark since the universe’s first moments, waiting for stars and galaxies to illuminate it.&lt;/p&gt;
    &lt;p&gt;QSO1 is one of hundreds of similar-looking objects nicknamed “little red dots” that JWST has spotted in its first few years of peering into the deepest recesses of time. Astrophysicists can’t say yet whether these dots are all black holes or not, and in general they’re still confused about the universe’s chaotic childhood. But the telescope’s snapshots suggest a rowdy young cosmos that fabricated big black holes and galaxies both together and independently, or maybe even a universe where black holes were among the first large structures in existence — dark tapioca bubbles in an otherwise smoothly blended cosmic tea.&lt;/p&gt;
    &lt;p&gt;QSO1 and the rest of the little red dots “tell us we don’t know anything,” said John Regan, a theorist at Maynooth University in Ireland. “It has been really exciting and very electrifying for the field.”&lt;/p&gt;
    &lt;head rend="h2"&gt;Pale Red Dots&lt;/head&gt;
    &lt;p&gt;Lukas Furtak, an astronomer at Ben-Gurion University in Israel, knew QSO1 was extraordinary the moment he saw it — or the moment he saw its three reflections hiding among a smattering of splotchy white galaxies in an image taken by JWST in 2023. It’s “something that pops out immediately,” Furtak said over Zoom, clicking on three nearly imperceptible red specks. “There are three red point sources here, here, this one up here.”&lt;/p&gt;
    &lt;p&gt;In the image, a fortuitous placement of galaxies and dark matter has bent light rays traveling from background objects just as a glass lens might; this “gravitational lens” reveals objects deeper in the early universe than the telescope could otherwise see. The lens magnifies and stretches the stuff behind it, sometimes creating multiple images of it. Furtak was mapping out the banana-shaped smears of galaxies that the lens had projected into multiple places when he spotted the three red dots of QSO1.&lt;/p&gt;
    &lt;p&gt;The dots caught his eye because they show no signs of stretching. He knew that the only thing that looks like a small, round point even after getting stretched out is an even smaller, rounder point. This was no galaxy, he figured; it must be a black hole, a concentration of mass so dense that its gravity creates an inescapable zone of space around it.&lt;/p&gt;
    &lt;p&gt;Over the next six months, Furtak and collaborators directed JWST to stare at each of the three red dots for 40 hours each to take a census of the colors of light coming from the object, known as a spectrum. That study concluded that QSO1 is very likely a glowing black hole packing a mass of tens of millions of suns into a span of at most 100 light-years across, seen as it appeared when the universe was just 750 million years old. (Today the cosmos is approaching 14 billion years old.)&lt;/p&gt;
    &lt;p&gt;QSO1 was one of the first little red dots found. There are now over 300 of them, and a spirited debate over their nature has raged for two years. They have some classic features of glowing black holes, but not others. And estimates of their masses have (until now) been somewhat indirect. As a result, some astrophysicists have argued — as one group did in an analysis of more than 100 little red dots in August — that the objects are really just odd-looking galaxies with no black holes after all.&lt;/p&gt;
    &lt;p&gt;“The field has been obsessed with them,” Kocevski said. “Very rarely do you find things you can’t explain.”&lt;/p&gt;
    &lt;head rend="h2"&gt;Zooming In&lt;/head&gt;
    &lt;p&gt;In December 2024, Maiolino, together with Hannah Übler, now at the Max Planck Institute for Extraterrestrial Physics, and other collaborators, trained JWST on QSO1 for another 10 hours. They zoomed in on the dot until it resolved into a pixelated splotch, and measured the specific colors coming from each pixel. From these spectra, they calculated the speed at which the stuff shining in each pixel was moving toward us or away from us. The scientists found that bright material — likely hot gas — swirled around in a furious vortex, one that backed up Furtak’s preliminary findings.&lt;/p&gt;
    &lt;p&gt;Their closer look, detailed in a pair of preprints posted in May and August, definitively revealed QSO1’s identity.&lt;/p&gt;
    &lt;p&gt;One clue was its mass. By reconstructing the vortex, the team directly measured the mass of the object it was orbiting: 50 million times more massive than our sun. This matched what Furtak and his collaborators had found. (This result alone marks a big step forward: It suggests that the simpler indirect mass measurement based on the whole object’s spectrum works for young black holes, which had been a point of contention.)&lt;/p&gt;
    &lt;p&gt;Moreover, the group found no evidence of a starry galaxy around QSO1. The gas orbits the central pixel just as the Earth orbits the sun — indicating that mass is packed into a point. The team estimates that the black hole makes up at least two-thirds of the mass of QSO1, with the remaining third being gas and perhaps a smattering of stars. Regan, who wasn’t involved in the research, thinks they’re being conservative and that QSO1 could be as much as 90% black hole. “We’ve never seen anything like that before,” he said.&lt;/p&gt;
    &lt;p&gt;Finally, the pixel-by-pixel spectra also revealed that the gas orbiting the black hole is essentially pure hydrogen, an element that dates back to the Big Bang. Stars shine by fusing hydrogen into heavier atoms, and when stars explode, they scatter those heavier elements everywhere. QSO1 seemingly reached its current form before many nearby stars had lived and died.&lt;/p&gt;
    &lt;p&gt;“The most plausible explanation seems to be [that] the black hole developed before the galaxy,” said Marta Volonteri, a theorist at the Paris Institute of Astrophysics who helped with the new analysis of QSO1.&lt;/p&gt;
    &lt;head rend="h2"&gt;Shrouded Origins&lt;/head&gt;
    &lt;p&gt;A top task for astrophysicists now will be to sort out how QSO1 and its ilk formed, and how they became the supermassive black holes that sit at the centers of starry galaxies today. Supermassive black holes, which can weigh as much as billions of solar masses, can be seen anchoring galaxies by the end of the universe’s first billion years.&lt;/p&gt;
    &lt;p&gt;Supermassive black holes have long troubled astrophysicists. They know that galaxies can make black holes when their big stars burn and die. Those stellar corpses merge and feed on gas and dust, growing larger. The conventional story is that this growth eventually results in one giant black hole sitting in the center of the galaxy. The problem is that all this feeding and merging takes time, and astrophysicists struggle to imagine it happening fast enough to result in the supermassive black holes seen by the universe’s billion-year mark. So theorists have spent decades coming up with a menu of alternative theories about their formation.&lt;/p&gt;
    &lt;p&gt;Now QSO1, which has no galaxy to speak of, shows that there must indeed be another way.&lt;/p&gt;
    &lt;p&gt;So how might the universe directly manufacture gigantic black holes? Maiolino’s group favors Hawking’s proposal. The Big Bang produced an infant universe that was denser in some spots than in others. A sufficient density could have collapsed straight into a black hole, which would then have grown by absorbing any matter around it. After hundreds of millions of years, some of these “primordial” black holes might have reached gigantic proportions — appearing much like QSO1.&lt;/p&gt;
    &lt;p&gt;“It’s the most plausible explanation that I see,” Volonteri said. But “I’m sure in the next six months there will be a thousand people coming out with other theories.”&lt;/p&gt;
    &lt;p&gt;They won’t have to wait six months. Even before QSO1’s discovery, Priyamvada Natarajan, a theoretical astrophysicist at Yale University, and collaborators had already published two non-primordial theories that could account for QSO1’s origin.&lt;/p&gt;
    &lt;p&gt;The first theory supposes that the Big Bang produced dense spots that didn’t collapse immediately. Instead, they evolved into clouds of gas over hundreds of thousands of years. Residual radiation from the Big Bang stopped these clouds from cooling and fracturing into stars, letting them become massive enough to collapse straight into black holes. In a paper posted in June, researchers led by Wenzer Qin at New York University called these slightly later-blooming giants “not-quite-primordial” black holes.&lt;/p&gt;
    &lt;p&gt;Or perhaps QSO1 did come from a galaxy after all — one that quickly formed, made a big black hole, and vanished. In 2014, Natarajan and Tal Alexander of the Weizmann Institute of Science in Israel described a scenario where one star in an especially starry region collapses into a large black hole that then zooms around like Pac-Man, hoovering up gas and ballooning to a huge size. The other early stars then wink out quickly, leaving the giant black hole to its own devices.&lt;/p&gt;
    &lt;p&gt;None of these origin stories fits QSO1 snugly, though each is possible. The only scenario that’s essentially ruled out is the textbook one of stars collapsing, merging and feeding on an orbiting disk of gas.&lt;/p&gt;
    &lt;p&gt;QSO1 isn’t the first unconventional black hole spotted by JWST, though it’s the barest one. Another striking find sits in a galaxy called UHZ1, which formed less than half a billion years after the Big Bang. By combining JWST observations with X-rays collected from the object by the Chandra X-ray Observatory in 2022, Natarajan and collaborators determined that UHZ1 is also more black hole than surrounding galaxy. This and a handful of other features led the group to conclude that UHZ1’s black hole was born when a cloud of gas largely skipped the star stage and collapsed directly — a theory that also might work for QSO1.&lt;/p&gt;
    &lt;p&gt;The challenge — and excitement — for astronomers is that they’re confronting a new era of cosmic history for the first time, and it’s proving tough to make sense of the scene. Regan compares the situation to developing a whole theory of humanity based on adults and teenagers — the adolescent and mature galaxies we could see prior to the launch of JWST. Now observing little red dots is the equivalent of discovering toddlers, messy new entities that are hard for researchers to interpret based on what they’ve seen before. “It’s a different vibe,” he said. “They’re running around like lunatics.”&lt;/p&gt;
    &lt;p&gt;Editor’s note: Priyamvada Natarajan is a member of Quanta Magazine’s scientific advisory board. She was interviewed for this story but did not otherwise contribute to its production.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45237442</guid><pubDate>Sun, 14 Sep 2025 04:27:12 +0000</pubDate></item><item><title>SpikingBrain 7B – More efficient than classic LLMs</title><link>https://github.com/BICLab/SpikingBrain-7B</link><description>&lt;doc fingerprint="ff999db5a45e098a"&gt;
  &lt;main&gt;
    &lt;p&gt;📄 Technical Report: Chinese | English&lt;lb/&gt; 🚀 Arxiv: arXiv:2509.05276&lt;lb/&gt; 🧩 Models: Available Models&lt;/p&gt;
    &lt;p&gt;Inspired by brain mechanisms, SpikingBrain integrates hybrid efficient attention, MoE modules, and spike encoding into its architecture, supported by a universal conversion pipeline compatible with the open-source model ecosystem. This enables continual pre-training with less than 2% of the data while achieving performance comparable to mainstream open-source models. We further adapt frameworks, operators, parallel strategies, and communication primitives for non-NVIDIA (MetaX) clusters, ensuring stable large-scale training and inference. SpikingBrain achieves over 100× speedup in TTFT for 4M-token sequences, while spiking delivers over 69% sparsity at the micro level. Combined with macro-level MoE sparsity, these advances provide valuable guidance for the design of next-generation neuromorphic chips.&lt;/p&gt;
    &lt;p&gt;This repository provides the full implementation and weights of SpikingBrain-7B, including the HuggingFace version, vLLM inference version, and quantized version, enabling flexible deployment and research across different scenarios.&lt;/p&gt;
    &lt;code&gt;SpikingBrain-7B/
├── hf_7B_model/ # HuggingFace version
├── run_model/   # Model run examples
├── vllm_hymeta/ # vLLM plugins and inference support
├── W8ASpike/    # Quantized inference version
├── setup.py
├── requirements.txt 
└── README.md 
&lt;/code&gt;
    &lt;p&gt;vllm-hymeta is the plugin adaptation of HyMeta (Hybrid Models built on MetaX GPUs) for the vLLM inference framework, providing efficient inference support on NVIDIA GPUs.&lt;/p&gt;
    &lt;p&gt;By leveraging the plugins mechanism in vLLM, hardware backends can be integrated in a modular fashion, bringing the following benefits:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;Decoupled codebase: Backend-specific code remains independent, keeping the vLLM core cleaner.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Reduced maintenance cost: vLLM developers can focus on general functionality without being affected by backend-specific implementations.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Faster integration: New backends can be integrated quickly and evolve independently with less engineering effort.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;sudo docker run -itd \
    --entrypoint /bin/bash \
    --network host \
    --name hymeta-bench \
    --shm-size 160g \
    --gpus all \
    --privileged \
    -v /host_path:/container_path \
    docker.1ms.run/vllm/vllm-openai:v0.10.0&lt;/code&gt;
    &lt;code&gt;git clone https://github.com/BICLab/SpikingBrain-7B.git
cd SpikingBrain-7B
pip install .&lt;/code&gt;
    &lt;p&gt;Recommended environment for installing vllm-hymeta on NVIDIA GPUs:&lt;/p&gt;
    &lt;code&gt;decorator
pyyaml
scipy
setuptools
setuptools-scm
flash_attn==2.7.3
flash-linear-attention==0.1
vllm==0.10.0
torch==2.7.1&lt;/code&gt;
    &lt;p&gt;You can serve a model with vLLM in the simplest way using the following command:&lt;/p&gt;
    &lt;code&gt;vllm serve &amp;lt;your_model_path&amp;gt; \
  --served-model-name &amp;lt;model_name&amp;gt; \
  --gpu-memory-utilization &amp;lt;ratio&amp;gt; \
  --block-size &amp;lt;size&amp;gt; \
  --dtype bfloat16 \
  --port &amp;lt;port_number&amp;gt;&lt;/code&gt;
    &lt;p&gt;You may also set &lt;code&gt;--tensor-parallel-size&lt;/code&gt; and &lt;code&gt;--pipeline-parallel-size&lt;/code&gt; when launching if you want to run with multiple GPUs.&lt;/p&gt;
    &lt;p&gt;W8ASpike is the quantized inference version of SpikingBrain-7B, aiming to reduce inference cost under low-precision settings and explore the potential of Spiking Neural Networks (SNNs).&lt;/p&gt;
    &lt;p&gt;The current implementation adopts pseudo-spiking, where activations are approximated as spike-like signals at the tensor level, rather than true asynchronous event-driven spiking on neuromorphic hardware.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;Pseudo-spiking: Efficient approximation at the tensor level, suitable for prototyping and research.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;True-spiking: Requires asynchronous hardware and event-driven operator support, which is beyond the scope of this repository.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The activation spike encoding process here is inspired by the pseudo-spiking interfaces from BICLab/Int2Spike. For additional PyTorch-based spiking interfaces, please refer to the Int2Spike library.&lt;/p&gt;
    &lt;p&gt;The model weights are hosted on ModelScope. Please select the appropriate version based on your needs:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Pre-trained model (7B): https://www.modelscope.cn/models/Panyuqi/V1-7B-base&lt;/item&gt;
      &lt;item&gt;Chat model (7B-SFT): https://www.modelscope.cn/models/Panyuqi/V1-7B-sft-s3-reasoning&lt;/item&gt;
      &lt;item&gt;Quantized weights (7B-W8ASpike): https://www.modelscope.cn/models/Abel2076/SpikingBrain-7B-W8ASpike&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Example scripts are provided in &lt;code&gt;run_model/&lt;/code&gt; for running the model with the released checkpoints.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;p&gt;Hugging Face&lt;/p&gt;&lt;lb/&gt;Load with&lt;code&gt;AutoModelForCausalLM&lt;/code&gt;and use as a standard CausalLM (forward or generation); see&lt;code&gt;run_model/run_model_hf.py&lt;/code&gt;.&lt;lb/&gt;For the SFT model, a chat template is used; see&lt;code&gt;run_model/run_model_hf_chat_template.py&lt;/code&gt;.&lt;/item&gt;
      &lt;item&gt;&lt;p&gt;vLLM&lt;/p&gt;&lt;lb/&gt;Perform inference using the provided vLLM Hymeta plugin; see&lt;code&gt;run_model/run_model_vllm.py&lt;/code&gt;and the vLLM Hymeta section.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Table 1: Performance evaluation of the SpikingBrain-7B pre-trained model. All models are tested with the HuggingFace framework and evaluated using a perplexity-based method. Except for Qwen2.5, the other baselines are trained on limited Chinese data, resulting in clear disadvantages on CMMLU and C-Eval.&lt;/p&gt;
    &lt;p&gt;Table 2: Performance evaluation of the SpikingBrain-76B pre-trained model. All models are tested with the vLLM framework and evaluated using a perplexity-based method. Except for Qwen2.5, the other baselines are trained on limited Chinese data, resulting in clear disadvantages on CMMLU and C-Eval.&lt;/p&gt;
    &lt;p&gt;If you find our work useful, please consider citing SpikingBrain:&lt;/p&gt;
    &lt;code&gt;@article{pan2025spikingbrain,
  title={SpikingBrain Technical Report: Spiking Brain-inspired Large Models},
  author={Pan, Yuqi and Feng, Yupeng and Zhuang, Jinghao and Ding, Siyu and Liu, Zehao and Sun, Bohan and Chou, Yuhong and Xu, Han and Qiu, Xuerui and Deng, Anlin and others},
  journal={arXiv preprint arXiv:2509.05276},
  year={2025}
}&lt;/code&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45237754</guid><pubDate>Sun, 14 Sep 2025 05:49:42 +0000</pubDate></item><item><title>Models of European metro stations</title><link>http://stations.albertguillaumes.cat/</link><description>&lt;doc fingerprint="3c5f4669f52d16b9"&gt;
  &lt;main&gt;
    &lt;p&gt;Select a city and a station on the map or on the selectors:&lt;/p&gt;
    &lt;p&gt;Alicante's rapid transit system is called TRAM, which is a train-tram and is operated by FGV, owned by the Valencian regional government. This system has an underground line in the city center, with three stations on it. The layout consists with one or two mezzanines on level -1 and two side or one island platforms at level -2. Luceros and Mercado stations have direct connection with the underground parking lots, which are located above the TRAM tunnel.&lt;/p&gt;
    &lt;p&gt;Metro services in Amsterdam can be grouped in two groups. The North-South line (in Dutch, Noord/Zuidlijn) opened recently and M52 services run on it. The central part of the line is underground, running at a considerable depth with two parallel tunnels. The other group of lines consists of services M50, M51, M53 and M54. This line runs mostly overground or elevated, parallel to the Dutch Railways lines. In the city center this line goes underground but at a small depth.&lt;/p&gt;
    &lt;p&gt;Most of the underground stations consist of a mezzannine at level -1 and a island platform at level -2. The vast majority of overground and elevated stations also have island platforms, but the hall where the turnstiles and ticket machines are found is located on the ground level.&lt;/p&gt;
    &lt;p&gt;Taking into account that most of the metro network runs parallel to rail lines, transfers between these two modes of transport are quick and easy.&lt;/p&gt;
    &lt;p&gt;The Antwerp premetro (underground tramway) opened in 1975. One of the achievements consisted in linking both banks of the Scheldt river.&lt;/p&gt;
    &lt;p&gt;Despite the tram network being huge, the Premetro is short but complex. Lines can be grouped in two. The first group consists in an east-west line with two branches on the eastern side. However, there is a tunnel allowing services between both branches, thus forming a triangle. The second group of lines consists in a tunnel opened in 2015, connecting the city center with the eastern suburbs with a fast service, since most of stations are not opened yet.&lt;/p&gt;
    &lt;p&gt;The Central railway station is linked with Astrid and Diamant premetro stations, and together with an underground bike parking, they form a hub. The rail triangle is located in between those two stations. Since the premetro tunnels were built with metro standards, same-level track crossings are not allowed, therefore Astrid and Diamant stations had to be built with platforms at two different levels.&lt;/p&gt;
    &lt;p&gt;Barcelona is the queen of the long passageways. Until 1995, all transfer stations consisted of corridors with lenghts over 100 m, except for Sagrera and Catalunya.&lt;/p&gt;
    &lt;p&gt;Among the reasons for having such long corridors there is the lack of planning or the vision of the metro network as a bunch of individual lines. As an example: line 1 and line 4 were extended to Urquinaona in 1932, but both lines were not connected until 1972, as they were originally operated by different companies. In PlaÃ§a de Sants station, the L5 platforms were built as close as possible to the existing ones from L1, which opened 43 years before. However, there is a gap of 150 m, with the national rail tracks located in between.&lt;/p&gt;
    &lt;p&gt;Moreover, since the extension of the metro network was slower than the growth of the city, during the 60s and 70s, transfer stations were built 100-150 m apart, in order to increase the accessibility to the metro. Verdaguer is a good examples of this practice.&lt;/p&gt;
    &lt;p&gt;Right after 1980, transfer stations were designed in a more proper way, being the L2 stations the best example. A new type of transfer appeared 15 years ago with the extension of the metro towards hilly areas of the city: the vertical transfers. In those stations (eg: Vall d'Hebron, Fondo, Zona UniversitÃ ria, Collblanc), a big shaft was built in order to fit either high-capacity lifts or series of escalators to reach the platforms.&lt;/p&gt;
    &lt;p&gt;The classic layout of metro stations in Barcelona is simple: on level -1 there is one or two mezzanines and in level -2 there are two side platforms, but since 2000 the new stations tend to have a central plafrom instead. In transfer stations, there is tipically a corridor linking the mezzanines of both lines.&lt;/p&gt;
    &lt;p&gt;Mandatory to mention the so-called Barcelona solution or Spanish solution: stations with two tracks and three platforms, where passengers alight using one platform and board using the opposite one, improving the flow of passengers and reducing the dwell time. Barcelona was not the first city to implement it, but it was named after most of the stations built in the 30s, 40s and 50s were designed with such layout.&lt;/p&gt;
    &lt;p&gt;The U-Bahn and the S-Bahn are the two rapid transit systems of Berlin. The city-state owns the first and the German railways own the second. The S-Bahn normally runs overground or elevated and the U-Bahn does it underground, as the name suggests in German, but this is not a norm since some parts of the U-Bahn are elevated and vice versa.&lt;/p&gt;
    &lt;p&gt;The oldest lines were built either in elevated sections or underground, but very close to the surface, creating a direct connection between the street and the platforms in most of the cases. The lines built after World War I are a bit deeper, in order to fit mezzanines and corridors between the street and the platform levels.&lt;/p&gt;
    &lt;p&gt;Transfer stations have a very easy tolopolgy, since stations are located close to the ground level and island platforms are predominant.&lt;/p&gt;
    &lt;p&gt;Despite the metro opened in 1995, its layout follows former metric-gauge rail lines that were converted to metro, such as the Bilbao - Plentzia line. Metro Bilbao operates lines 1 and 2 and Euskotren operates line 3, together with other suburban and regional services.&lt;/p&gt;
    &lt;p&gt;Due to the orography of the city, stations may have different layouts. The stations located in the city center are deep, since the Nerbion river is located nearby and there are plenty of hills located in the meanders of the river. The stations of the line 1 branch are located on surface, since they were part of the former Plentzia railway.&lt;/p&gt;
    &lt;p&gt;Line 3 benefits from having already existing stations, such as Bilbao-Aduana (currently called Zazpikaleak/Casco Viejo) and Matiko, both part of the former Plentzia line, despite the connection between those two stations is made through a new double-track tunnel.&lt;/p&gt;
    &lt;p&gt;Some transfer stations have effective designs, such as Lutxana or the former Bolueta station.&lt;/p&gt;
    &lt;p&gt;All the rapid transit lines in Boston are centenary. Three of them originally opened as underground tramway tunnels in downtown Boston, but only two were converted to pure metro lines. The Green line is still an underground tram line.&lt;/p&gt;
    &lt;p&gt;Most of the downtown stations are quite unusual, as they were built using early construction methods and most were designed to serve as tram stations. For instance, some stations in the Orange line have offset platforms. At State station, the Orange line platforms are in different levels.&lt;/p&gt;
    &lt;p&gt;Underground stations tend to be located close to the surface. This can be appreciated at Government Center, where the Green line platform has a very particular shape because the streets located above ground were quite narrow when the line was constructed, and therefore impossible to dig wider tunnels.&lt;/p&gt;
    &lt;p&gt;Despite being a city where the rapid transit lines were built without a network plan, transfer stations have a good layout, providing short and quick connections.&lt;/p&gt;
    &lt;p&gt;The Brussels metro is a good example of a planned system. It was planned in the 60s, and the four existing lines were built following this criteria: if for practical reasons, the section to be opened was not long enough to be operated as a metro line, the section would open provisionally as a premetro (underground tram), with temporary low floor platforms and temporary ramps connecting the streets with the tunnel. Once the construction of the line is advanced, the premetro operation is cut and the line is converted into a full metro line, removing the ramps and elevating the platforms to metro standards. Currently lines 1, 2, 5 and 6 are fully metros and lines 3, 4 and 7 are premetros.&lt;/p&gt;
    &lt;p&gt;The whole network has been built following the same plan. Transfer stations have a good design as well, with the notable exception of DÃ¨ BrouckÃ¨re, where there is a long corridor. Cross-platform transfers can be found in Beekkant and Gare du Midi. Arts-Loi, Montgomery and Rogier have crossing interchanges.&lt;/p&gt;
    &lt;p&gt;Most stations have side platforms located at level -2, whilst level -1 is reserved for mezzanines. Stations on line 6 have island platforms because trains run on the left side instead. Stations on lines 3/4 were built using the Spanish solution, where passengers board using the island platform (except in Gare du Midi).&lt;/p&gt;
    &lt;p&gt;In order to reduce fare evasion, most stations have been equipped with turnstiles during the last decade, replacing the existing honor system which is still present in some stations due to the complexity of its layout.&lt;/p&gt;
    &lt;p&gt;Budapest was the first city in continental Europe to have a metro. Line 1 opened in 1896. Similar to other systems opened around 1900, tunnels have a narrow profile. Trains are only 2.60 m high and 30 m long.&lt;/p&gt;
    &lt;p&gt;Lines 2 and 3 have a similar style to other Eastern European metros, despite the decoration has nothing to do. Line 4 was built recently. In these three lines, tracks are laid in two parallel tunnels that cross Budapest at a considerable depth. Stations have island platforms in two parallel galleries, which are connected with the ticket hall through a long escalator. The ticket hall can either be located at ground level or just underground. In the latter case, there are direct staircases connecting the hall with the tramway platforms or bus stops.&lt;/p&gt;
    &lt;p&gt;The northernmost and southernmost parts of line 3, tracks run underground but at a very little depth. Here stations have side platforms, which are located at level -2 (and a mezzanine at level -1) or directly at level -1, together with an independent booking hall for each direction.&lt;/p&gt;
    &lt;p&gt;Transfers differ, depending on the station. In DeÃ¡k Ferenc TÃ©r and KÃ¡lvin TÃ©r, transfers consist in a quick connection through two escalators and a short corridor. In other stations, transfers may be longer since one line might be running close to the surface while the other may be running very underground (eg: Keleti pÃ¡lyaudvar, BatthyÃ¡ny tÃ©r)&lt;/p&gt;
    &lt;p&gt;The Bucharest metro consists of 5 lines, despite lines M1 and M3 share their tracks and line M5 has two branches. The original plan from the 70s consisted of three lines: a east-west line (M3 and southern section of M1), a north-south line (M2) and a circle line circa 40 km long.&lt;/p&gt;
    &lt;p&gt;Unlike other Eastern European metros, the Bucharest one was not built at a considerable depth but using cut-and-cover methods. The platforms are typically located at level -2 or -1 and tend to be central, despite some stations in line M1 have side platforms.&lt;/p&gt;
    &lt;p&gt;The Subte is the oldest metro network in Latin America. It consists of 6 lines. 4 of them run east-west (A, B, D, E) and the other two are north-south (C, F).&lt;/p&gt;
    &lt;p&gt;The entire network runs underground and except for line H, the tunnels were build close to the surface. Most of the stations have side platforms but those stations that are or had been terminus usually have island platforms.&lt;/p&gt;
    &lt;p&gt;The lower level of an average station comprises the platforms. If there is enough space between the platform level and the street level, a mezzanine can be found, containing the ticket booths and turnstiles. In the opposite case, each platform has independent accesses and turnstiles are located at the platform level and there are no overpasses or underpasses.&lt;/p&gt;
    &lt;p&gt;The Subte applies a bizarrenaming criteria. Station names are independent for each line. So, a transfer station will have multiple names, one for each line calling at it (eg: PueyrredÃ³n (B) and Corrientes (F) are part of the same station). But there is also the opposite situation, where there are stations with the same name in different lines: Callao and PueyrredÃ³n are four stations located in lines B and D, but they have nothing to do.&lt;/p&gt;
    &lt;p&gt;Copenhagen has a modern and automatic metro. Both the Metro and the S-tog have an honor system and most underground stations look like the same: mezzanine with vending machines at level -1, a landing at level -2 and island platforms at level -3. The connection between the platform and the mezzanine is provided by lifts and escalators. Upbound escalators are separated from the downbound ones.&lt;/p&gt;
    &lt;p&gt;Transfer corridors are connected to mezzanines in Frederiksberg and Kongens Nytorv, but not in NÃ¸rreport, where the corridor heading to the S-tog starts at the end of the Metro platform.&lt;/p&gt;
    &lt;p&gt;Despite Frankfurt has officially a U-Bahn (pure metro), technically is a Stadtbahn (light rail), despite the platform level is high even for stops located at the street. The S-Bahn is also part of the basic rail network of the city.&lt;/p&gt;
    &lt;p&gt;The main transportation hubs were desinged to provide quick transfers between the rail lines. Most transfer combinations involve passing through a staircase or an escalator, but in Hauptwache, a cross-platform is provided for transfers between S-Bahn and U-Bahn lines U6 and U7.&lt;/p&gt;
    &lt;p&gt;Glasgow has a very peculiar subway. It opened in 1896 as a circle line powered by cable, like the San Francisco cable cars. The subway was fully renovated between 1977 and 1980 in order to change its operation to electric power, build new workshops, relocate stations and refurbish the rest of stations.&lt;/p&gt;
    &lt;p&gt;Before the renewal, all stations had a very narrow island platform. A staircase located at the end of one platform lead to the ticket hall and the exit, typically located inside the station building. Most of the stations retain this layout today. However, escalators have been installed in some stations, to connect the ticket hall with the street. The stations with the highest patronage were completely rebuilt: Buchanan Street has a central and a side platform nowadays. In St Enoch, two side platforms replace the former island platform. Partick station was built during the renewal works in order to allow transferring from the Subway to ScotRail.&lt;/p&gt;
    &lt;p&gt;Hannover has a Stadtbahn, which is a mixture of a tramway that runs in a metro-like tunnel in the city centre.&lt;/p&gt;
    &lt;p&gt;There are three trunk tunnels in Hannover (A, B, C) that meet in KrÃ¶pcke station. Tunnels B and C run overlapped between KrÃ¶pcke and Aegidientorplatz.&lt;/p&gt;
    &lt;p&gt;The layout of an average station is simple and similar to the ones in other cities: a mezzanine at level -1 and side platforms at level -2.&lt;/p&gt;
    &lt;p&gt;KrÃ¶pcke station is a huge complex with lots of accesses, escalators, staircases and mezzanines, since is the only point where the three tunnels meet. Hauptbahnhof station (main station) has elevated rail platforms and an underground station for the Stadtbahn, composed of two island platforms and four tracks. Aegidientorplatz station has a peculiar layout, since the mezzanine is at level -1, the northbound platform is at level -2 (with 2 tracks) and the southbound platform is at level -3 (with 2 tracks as well).&lt;/p&gt;
    &lt;p&gt;The four lines of the Lyon metro are technically different. Lines A and B and D are rubber tired. Line A has manual conduction and line D was already opened with automatic trains. Line B switched from manual driving to automatic operation in 2022.&lt;/p&gt;
    &lt;p&gt;Line C partially follows the route of a former funicular that had a pent of 176â°. Therefore it operates as a rack railway between HÃ´tel de Ville and Croix Rousse, since normal metro lines have a maximum pent of 40â°.&lt;/p&gt;
    &lt;p&gt;Lines A and B run at a very little depth. Even line A crosses the Rhone using the box girder of Pont Morand. The stations of this line only have one underground level, with side platforms and turnstiles on it. Some stations have underpasses, connecting both platforms. Line D tunnels are not located deep either, but most stations have a mezzanine between the street and platform levels. The latter situation also occurs in the eastern section of line A.&lt;/p&gt;
    &lt;p&gt;Lyon had an honor system until two decades ago. Since some staion have secondary accesses connecting the streets with the platform, it is common to find turnstiles in the platforms.&lt;/p&gt;
    &lt;p&gt;Most of the transfer stations have an efficient layout, such as HÃ´tel de Ville, Saxe-Gambetta or Charpennes. However, the links between at the two main railway stations (Part-Dieu and Perrache) are long.&lt;/p&gt;
    &lt;p&gt;Currently the Lisbon metro consists of four lines. Until the mid-90s, the network had a Y-shaped single line. This line was split into three (Blue, Yellow and Green) and the Red line was built as a completely new line. Therefore, all the internal metro transfers are less than 25 years old.&lt;/p&gt;
    &lt;p&gt;The layout of the stations differs slightly: Baixa-Chiado and Campo Grande have parallel platforms for the two lines serving the stations. Saldanha, SÃ£o SebastiÃ£o or Oriente allow quick transfers that involve climbing stairs or elevators. However, in Alameda or Entre Campos the transfer consists in a long passageway.&lt;/p&gt;
    &lt;p&gt;The standard layout for the stations built before the Carnation Revolution consisted in two side platforms at level -2 and a mezzanine at level -1. These stations featured short platforms, that were extended years later to allow 6-car trainsets. Together with these platform extensions, secondary mezzanine and accesses were added. The stations built recently tend to have a single mezzanine and are located at deeper, since they were built in hilly areas.&lt;/p&gt;
    &lt;p&gt;The London Underground (or the Tube) is the oldest in the world and it consists of two different networks: the sub-surface lines (running close to the surface) and the deep tube lines (runing deep, with tunnels that ressemble a tube).&lt;/p&gt;
    &lt;p&gt;The sub-surface lines are the ones inherited from the Metropolitan Railway and from the District Railway, two lines built using cut-and-cover methods or running elevated or at ground level, which were steam operated until the early 20th century. Stations consists in a building located at ground level, containing the ticket offices and fare gates, and the platforms placed at level -1. The stations were located inside a block of houses whenever possible and most of them had a canopy (still in place in Paddington, Bayswater or Earl's Court). With the electrification of the tracks and real estate speculation, most of the stations have been covered with concrete labs (such as in Gloucester Road or Mansion House).&lt;/p&gt;
    &lt;p&gt;The deep tube lines began to be built in the last decades of the 19th century, when the boring methods were a bit developed. They were already planned to be operated with electric trains. The tunnels were bored at a depth of 20 m and until the construction of the Victoria Line, they followed the streets. Stations consists of a building hosting the ticket offices and the fare gates, which are connected with the platforms (most of them are island platforms) via lifts and spiral staircases located inside of shafts. In 1913 an escalator was installed at Earl's Court as part of a test to replace lifts. Since the result was favorable, the practice of building stations with lifts and spiral staircases in shafts was abandoned. From this moment on, the new stations were built with escalators, and the existing ones (especially those with a high ridership) were transformed.&lt;/p&gt;
    &lt;p&gt;Initially each line was operated by a different company, so transfers between lines weres not granted. This was corrected after the nationalisation of the Tube.&lt;/p&gt;
    &lt;p&gt;Some stations host huge flows of passengers. This obligated the local authorities to build wider or newer passageways and escalators in some transfer stations. That is the reason some transfer stations have one-way corridors as well, such as in Oxford Circus or Victoria.&lt;/p&gt;
    &lt;p&gt;technically, the Madrid metro lines can be divided into two: the narrow profile lines (1-5 and the Ramal) and the wide profile lines (6-12). The narrow profile lines were the first to be built and were inspired by the Paris metro. That is why old stations have side platforms located at level -2 and one mezzanines at level -1. Decades after the opening, lines 1 and 3 got their platforms extended from 60 m to 90 m long and secondary mezzanines and accesses were added.&lt;/p&gt;
    &lt;p&gt;The lines with a wider profile were built with the aim of fitting larger trains and larger stations. Moreover, these lines were built a highest depth in comparison to the narrow profile lines, at a depth of 15 to 25 m below surface level. The streets and the platforms are connected through 3 to 5 series of staircases and escalator, with the ticket hall in between. Therefore, access times are longer compared to narrow gauge lines.&lt;/p&gt;
    &lt;p&gt;Since the 90s, the design and layout of new stations have been standadrised, with stations being built using cut-and-cover methods with slurry walls.&lt;/p&gt;
    &lt;p&gt;Madrid has plenty of different layouts for transfer stations. In comparison with other cities, Madrid has a great amount of stations containing long corridors, but not at the level of Barcelona.&lt;/p&gt;
    &lt;p&gt;Possibly the most prominent stations are the macrohubs built in the first decade of the 2000s, with huge mezzanines, wide staircases and lots of lifts and escalators, allowing quick connections between metro, commuter train and interurban buses as well. The best example is Nuevos Ministerios, but ChamartÃn, Sol, PrÃncipe PÃo, Plaza de Castilla or Moncloa also need to be mentioned.&lt;/p&gt;
    &lt;p&gt;The Marseille metro is formed by two lines that cross themselves in Saint-Charles and Castellane, both located in the city centre. The links between lines in these two stations are quick, since in Saint-Charles line 2 is between the two tracks of line 1 and in Castellane both lines have their platform very close to the intersect point.&lt;/p&gt;
    &lt;p&gt;There are three kinds of stations, according to their layout: the suburban, which are elevated (eg: Bougainville, Ste-Margueritte, La Rose); the underground ones close to the surface, with the ticket hall at level -1 and side platforms at level -2 (eg: Baille, PÃ©rier); and the deep centric stations, which have island platforms and a single access consisting of long escalators connecting the street level with the mezzanine (eg: Cinq Avenues, Estrangin).&lt;/p&gt;
    &lt;p&gt;Noailles station is the most particular since the former tram tunnel was diverted when metro line 2 was built. Currently the former tunnel serves as a passageway, and the former tram terminus is a ticket hall.&lt;/p&gt;
    &lt;p&gt;Line 1 opened in 1964 and was the first metro line in the world to be built using slurry walls. Line 2 opened four years, following the same design standards for line 1. Stations have a very functional layout, since passenger flows were seriously taken into account. Almost all stations have one-way staircases connecting the side platforms (located at level -2) and mezzanines (at level -1): one for passengers entering and another for passengers alighting.&lt;/p&gt;
    &lt;p&gt;The same concept was latter aplied to lines 3 and 5, opened decades later, despite both having a radically different design in their stations, compared to lines 1 and 2. Most of their stations also have mezzanines at level -1 and side platforms at level -2.&lt;/p&gt;
    &lt;p&gt;Engineers opted to superimpose the tracks in the central section of line 3, where tracks follow the narrow streets of the old city. As a result, the stations of this sections are a maze of lifts, one-way staircases and escalators, combined with a peculiar decoration.&lt;/p&gt;
    &lt;p&gt;The transfers are typically short and quick, especially in Loreto, Centrale, Cadorna and Repubblica. The only two stations having long corridors are Lotto and Porta Venezia.&lt;/p&gt;
    &lt;p&gt;The Paris Metro has the most labyrinthine interchanges in Europe.&lt;/p&gt;
    &lt;p&gt;Almost all the metro network was opened before World War 2. The first transfer stations, opened in the early 1900s, had simple transfers, with bidirectional passageways. Since 1920, the company responsible for the metro began to install portillons automatiques (automatic doors) in some stations. The portillons automatiques are doors located at the entrance of a platform, that blocks the access to it once a train enters the station, in order to reduce the dwell time and prevent last-second passenger boarding the trains. Therefore, in order to limit the access to platforms but not the exits, they decided to build two-directional corridors and staircases. That is how the stations began being underground mazes.&lt;/p&gt;
    &lt;p&gt;In the 1970s the RER (suburban railway) was opened. This meant that some metro stations had to be partially rebuilt.&lt;/p&gt;
    &lt;p&gt;Taking the advantade that the spacing between stations is one of the lowest in the world, some RER stations were placed between two metro stations, so both could be connected with the RER. The most extreme case is that 6 metro and RER stations are connected underground (St-Augustin, St-Lazare, Haussmann-St-Lazare, Havre-Caumartin, Auber and OpÃ©ra).&lt;/p&gt;
    &lt;p&gt;The average metro station in Paris consists of a mezzanine at level -1 and two side platforms at level -2. The termini of the oldest lines used to have a loop (Place d'Italie M5, Ãtolie M6, Nation M6, Porte Dauphine M2). Some of these stations were actually doubled, since there was a station for the trains that terminate there and another one for the trains (and passengers) beginning their journey.&lt;/p&gt;
    &lt;p&gt;The New York subway combines an extensive network of elevated trains (in Brooklyn and in the Bronx) with an underground train network that was built in the first half of the 20th century, especially in Manhattan. The subway links Manhattan with the other boroughs with tunnels or via the well known bridges, such as the Williamsburg Bridge or the Manhattan Bridge&lt;/p&gt;
    &lt;p&gt;A characteristic feature of this subway is the existence of local and express services in separate but parallel tracks, so a tunnel can have 4 tracks (2 per direction and 2 for each type of service). The express trains run in the central tracks and the local trains run in the side ones.&lt;/p&gt;
    &lt;p&gt;The elevated sections have stations placed above the streets and they can be accessed via staircases located in the sidewalks. Ticket halls are located at level +1, inside the viaduct, and platforms are at level +2, partially covered by shelters. The stations with express services tend to have central two platforms.&lt;/p&gt;
    &lt;p&gt;The underground lines run very close to the surface and they have plenty of piles of steel between the tracks and in the platforms. The stations that are served only by local services have side platforms at level -1, together with the ticket halls. Platforms are not linked via an underpass or an overpass. Express stations have two island platforms at level -2, allowing cross platform transfers between the local and express trains. In this kind of stations, mezzanines with the fare gates are located at level -1.&lt;/p&gt;
    &lt;p&gt;The three lines of the Prague metro form a radial network. All the lines cross at three selected stations in the city center. Almost the totality of the network is underground. The first line that was built (C) is the one running closer to the surface, especially at the city center and in the southern section. Lines A and B run much deeper.&lt;/p&gt;
    &lt;p&gt;The deep stations have island platforms at the deepest point of the station. The ticket hall, which is located beneath the street level, is connected with the platforms through escalators. A few stations even have two mezzanines, one at each end of the station.&lt;/p&gt;
    &lt;p&gt;Line C has not very deep stations at the southern part. They are composed of a island platform at level -1 and two ticket hall buildings located at ground level, each one at a different end of the platform.&lt;/p&gt;
    &lt;p&gt;At MÅ¯stek i Florenc, both metro lines run at a considerable depth, so both stations are linked through a rather short corridor, located at a level between both metro lines. Hoewever, Muzeum station has line C located close to the surface, whilst line A station is deep. Both lines are connected through a series of escalators.&lt;/p&gt;
    &lt;p&gt;Most of the metro stations have shops and stores in the ticket halls.&lt;/p&gt;
    &lt;p&gt;The Rome metro has few lines compared to the extent of the city. Until a few years ago, there were only two lines that intersected at Termini station, which is the central railway station as well. Because of it, Termini station is the one with the highest ridership of the city and most of the times it gets crowded. This station has one-way corridors for entering, exiting and even for transferring. A decade ago, the city had to build an extra set of escalators and corridors to decongest the existing link connecting lines A and B.&lt;/p&gt;
    &lt;p&gt;The other interchange station is San Giovanni. Line C opened in 2018 but the final passageway between both lines is not completed yet. Currently, passengers need to exit through the faregates and enter again.&lt;/p&gt;
    &lt;p&gt;The stations of the southern section of line B were opened in the 1950s and are very simple. The construction of the northeastern section of line B and the entire line A is much more recent and their stations were designed with one-way staircases and passageways.&lt;/p&gt;
    &lt;p&gt;The Rotterdam metro has 5 different services that can be grouped into two lines. One of these services even arrives to the city of the Hague. The design of the stations is rather simple. For stations located underground, the layout consists of a mezzanine is located at level -1 and two side platforms at level -2. Elevated stations tend to have a island platform at an upper level and a mezzanine at the street level.&lt;/p&gt;
    &lt;p&gt;Blaak and Beurs have layouts were two lines cross, one over the other. The connection is provided via direct staircases linking both platforms.&lt;/p&gt;
    &lt;p&gt;The metropolis of SÃ£o Paulo has a rapid transit network operated by three different companies. This is a relatively new metro (it was opened in 1968, despite some lines were converted from existing railways), with a layout and design thought to hold huge flows of passengers. Trains can be up to 200 m long.&lt;/p&gt;
    &lt;p&gt;Stations are very wide. Some of them, such as SÃ© or Luz (line 1) have the Barcelona solution, in order to ease the passenger flows.&lt;/p&gt;
    &lt;p&gt;Saragossa does not have metro but the commuter line C-1 has an urban section with three underground stations. This section was covered when the high speed rail line arrived to the city.&lt;/p&gt;
    &lt;p&gt;All the stations have a building at street level that hosts vending machines and the fare gates. Platforms are located at level -1, just under street level.&lt;/p&gt;
    &lt;p&gt;Miraflores station has a temporary access to a car parking, since the urbanisation of the street over the rail line has not been finished and the station building cannot be used. This station also has an underpass to reach the secondary platform.&lt;/p&gt;
    &lt;p&gt;Goya station has connection with the tramway, at Fernando el CatÃ³lico station. The connection has to be performed by crossing two zebra crossings.&lt;/p&gt;
    &lt;p&gt;The Valencia metro is actually the merge of different narrow gauge suburban railways that were connected via a tunnel crossing the city center. So this system is somehow the hybrid of a premetro and a rail, since in the city of Valencia is like a metro, but in the suburbs this works like a rail with lots of level crossings and single track sections.&lt;/p&gt;
    &lt;p&gt;The vast majority of underground stations have one or two mezzanines at level -1 and two side platforms at level -2. There are some stations with a different layout compared to the others, especially in lines 3 and 5: BailÃ©n, Avinguda del Cid, Ãngel GuimerÃ and ColÃ³n have island platforms. Alameda has four tracks and three platforms (2 for the Rafelbunyol line and 2 for the MarÃtim line).&lt;/p&gt;
    &lt;p&gt;XÃ tiva station has a radically diferent layout, as the platforms are overlapped because there is the juntion of the line towards BailÃ©n and JesÃºs just 20 m after the platform end (on the eastern side).&lt;/p&gt;
    &lt;p&gt;Line 1 has two types of stations: the ones located in the suburbs, having side platforms at level -1 and ticket halls at street level, and the ones located in the city centre, having a island platform at level -2 and a mezzanine at level -1.&lt;/p&gt;
    &lt;p&gt;The stations on line 2 are similar to the ones with a island platform on line 1, with the difference that the platforms are located a bit deeper.&lt;/p&gt;
    &lt;p&gt;There are two main transfer stations. ÅwiÄtokrzyska is the crossing point of both metro lines and the transfer is quick. Half a kilometer to the south, there is the hub consisting of Centrum metro station, ÅrÃ³dmieÅcie suburban rail station and the Central rail station. The latter two form a huge underground complex, combined with a shopping mall. The connection of Centrum and ÅrÃ³dmieÅcie stations is done at street level.&lt;/p&gt;
    &lt;p&gt;Part of the current metro network (U-Bahn) is inherited from a primitive urban rail network known as Stadtbahn that was steam-powered until the 1920s. Once the network was electrified, the rolling stock used was similar to the ones used for the tramways. Most of its network was elevated or ran at a street level, but without level crossings.&lt;/p&gt;
    &lt;p&gt;During the 60s, the municipal government decided to build a couple of tram tunnels. At the same time, they also planned a metro network consisting of a basic network, with parts of it coming both from the Stadtbahn (U4) and from the newly tram tunnels (part of current U2), asides from the construction of line U1. In the 1980s the second phase took place: line U3 was built and line U6 was integrated from the Stadtbahn.&lt;/p&gt;
    &lt;p&gt;The layout of the stations depends on the time they were built. The non-underground stations that were part of the Stadtbahn have side platforms and the access is made via the station buildings, which are in the Art Nouveau style. The stations that were part of the tram tunnel are located under street level and are quite simple: offset side platforms at level -1. The new stations built from the 1970s on typically have a island platform at the lower level and two mezzanines at the upper level, which can be either on street level or below, and is connected with the platforms via escalators or elevators. The depth of the latter stations is variable, but the ones located in the city center may be very deep.&lt;/p&gt;
    &lt;p&gt;All the transfer stations have been built after 1970 and their layout reflects the idea of having efficient links. Except for Praterstern, all stations have quick transfers.&lt;/p&gt;
    &lt;p&gt;The current Oslo T-bane system originated from an old network of suburban trams that developed in the western suburbs of the city during the first half of the 20th century, and a modern metro system built from the 1960s onwards in the eastern part of the city. Both networks were progressively merged and unified between the 1970s and the 2010s.&lt;/p&gt;
    &lt;p&gt;The Oslo metro runs mostly elevated or on the surface, but there are also shallow underground sections. Surface stations usually have two side platforms. Access to the platforms is open, using an honor system, and access to the platforms is performed directly from street level through ramps. In some places, there is a Narvesen kiosk that serves as both a ticket reseller and a convenience store.&lt;/p&gt;
    &lt;p&gt;The underground stations are located either in the city center or in the northeastern suburbs. Most stations are situated at a shallow depth and have two side platforms at the deepest level. At the immediately higher level, there is a lobby that can be either at street level or underground. The connection between levels is made through ramps and staircases.&lt;/p&gt;
    &lt;p&gt;There are a few stations that are situated at considerable depth: RomsÃ¥s, EllingsrudÃ¥sen, Stortinget, Nydalen, and Vestli. Access to the first two is only possible through large-capacity elevators that connect the street to the concourse, in addition to a ramp of over 200 meters in length that also links the street to the concourse level.&lt;/p&gt;
    &lt;p&gt;The Gothenburg tram has an underground station. Hammarkullen is located at a considerable depth, in a hilly suburb in the northeastern part of the city. The tracks pass through a dual tube tunnel. Trams run on the left only in this specific part, as the station has island platforms and the rolling stock only has doors on the right side. From the platform level, there is a flight of escalators and an inclined elevator that leads to the lobby, located at street level.&lt;/p&gt;
    &lt;p&gt;Hamburg has two rapid transit systems: the U-Bahn and the S-Bahn. The U-Bahn, which is the proper metro system, is one of the oldest in Europe. The first circular line was constructed combining elevated, at-grade and shallow underground sections. Subsequent extensions have also been built alternating these three typologies. However, the central section of U2 and the branch of U4 were constructed at a greater depth.&lt;/p&gt;
    &lt;p&gt;In general, the underground stations are quite shallow and have a island platform (side platforms in the original U3 stations). Some stations have an intermediate level serving as a lobby. On the other hand, the elevated stations have a street-level building (where the lobby is located) and a island platform or two side platforms at level +1.&lt;/p&gt;
    &lt;p&gt;The S-Bahn uses sections of the German railway network. The construction of the City S-Bahn (an underground line through the city center) started in the 1960s. Their stations have large island platforms located at level -2, generally with lobbies at level -1, standing at the ends of the platforms.&lt;/p&gt;
    &lt;p&gt;As for interchanges, some have been designed to facilitate cross-transfer connections (Barmbek for U3-U3 connections, Wandsbek-Gartenstadt, Berliner Tor, Altona, Hauptbahnhof between S-Bahn trains, Norderstedt Mitte), with parallel platforms (Ohlsdorf, Barmbek for U3-S1 connections, Hauptbahnhof SÃ¼d, ElbbrÃ¼cken) or with direct transfers via a single flight of stairs (Schlump, Jungfernstieg).&lt;/p&gt;
    &lt;p&gt;There are other transfers that were poorly designed, such as the long passageway between Rathaus and Jungfernstieg, or the street-level transfer at Wandsbeker Chaussee, Dammtor/Stephansplatz, or Sternschanze.&lt;/p&gt;
    &lt;p&gt;Essen's Stadtbahn has two trunk lines. The one that runs through Rathaus station is a group of tram lines that run underground in the city center, with tram vehicles and low-level platforms. The lines that pass through Hirschlandplatz are light metros.&lt;/p&gt;
    &lt;p&gt;There is a variety of station typologies. The shallower stations usually have side platforms, while the trunk line stations of the light metro have island platforms, which are situated at a considerable depth.&lt;/p&gt;
    &lt;p&gt;Dortmund's Stadtbahn consists of three trunk lines located in the city center. The east-west lines are operated with low-floor trams, while the other two are operated with high-floor light metros. Most stations are located at a shallow depth. The station vestibules are either at street level or at an intermediate level between the street and the platform.&lt;/p&gt;
    &lt;p&gt;In Dortmund, there is also a monorail system (H-Bahn) that serves the Technical University of Dortmund (TU Dortmund). It consists of two lines. The track is single-track, but there are some stations with passing loops. All stations are elevated or at-grade.&lt;/p&gt;
    &lt;p&gt;Bochum's Stadtbahn consists of a north-south line, as well as several tram lines that run through underground sections in the city center. Most Stadtbahn stations have island platforms and vestibules located at an intermediate level between the street and the platforms. In some stations, the platforms are situated at a higher depth, such as Rathaus Nord and Hauptbahnhof.&lt;/p&gt;
    &lt;p&gt;The Bochum Stadtbahn consists of a north-south line, as well as several tram lines that run through underground sections in the city center. Most Stadtbahn stations have island platforms and entrances located at an intermediate level between the street and the platforms. In some stations, the platforms are situated at a higher depth, such as Rathaus Nord and Hauptbahnhof.&lt;/p&gt;
    &lt;p&gt;The Stadtbahn stations in MÃ¼lheim are different. The stations that are close to the Ruhr have platforms at a considerable depth to allow the tunnels to pass underneath the river. The remaining stations have a typical configuration of any Stadtbahn network in Germany, with a vestibule at level -1 and platforms (either side or central) at level -2.&lt;/p&gt;
    &lt;p&gt;The Hauptbahnhof station is an intermodal hub that consist of elevated rail platforms, four underground Stadtbahn tracks with two island platforms and two underground bus platforms parallel to the Stadtbahn ones.&lt;/p&gt;
    &lt;p&gt;All Stadtbahn and underground tram stations in Duisburg have island platforms. These platforms are usually located at level -2, while level -1 is reserved for the lobbies.&lt;/p&gt;
    &lt;p&gt;There are two stations with a particular layout: Hauptbahnhof and KÃ¶nig-Heinrich-Platz, which are the transferring points for the north-south and east-west lines. These stations have two parallel platforms, stacked on different levels (-2 and -3). Different combinations of escalators and staircases allow for transfers, access, and exit from the station.&lt;/p&gt;
    &lt;p&gt;DÃ¼sseldorf has two Stadtbahn main lines (north-south and northeast-southeast), as well as an underground tram main line. Both Stadtbahn lines share tunnels between the central station (Hauptbahnhof) and the city center (Heinrich-Heine-Allee), with tracks running parallel to each other. At Hauptbahnhof and Heinrich-Heine-Allee, the platforms serving the four tracks are located at the same level. However, at the intermediate stations, platforms are overimposed, being the northbound one on the upper level.&lt;/p&gt;
    &lt;p&gt;On the other hand, the underground tram stations have low side platforms at level -2 and a mezzanine at level -1.&lt;/p&gt;
    &lt;p&gt;Almost all metro stations in Turin follow a standard design consisting of two side platforms at level -3 and a lobby at level -1. The connection between the lobby and the platforms is made through escalators that go directly from the platforms to the lobby, elevators, or two flights of stairs.&lt;/p&gt;
    &lt;p&gt;Porta Nuova is the central rail station and has a different layout: the lobby is located at level -1 and platforms are at level -2, which can be reached by stairs or an elevator. There is a direct connection from the metro mezzanine to the railway station original hall, which is now part of a shopping center.&lt;/p&gt;
    &lt;p&gt;Porta Susa station has metro platforms at level -4, an intermediate level at -3, and an open hall located inside the large canopy that constits the railway station building. The railway station itself consists of three levels, with the eastern part of the station featuring a huge glass roof canopy measuring 380 meters long by 30 meters wide. Level -2 also contains the four rail platforms. On level -1 there are four passageways that connect the western accesses to the station and act as an intermediate level to connect crowds coming from the different platforms.&lt;/p&gt;
    &lt;p&gt;The Lausanne metro consists of a light metro line (m1) and an automated rubber-tired metro line (m2), which originated from a funicular that was later converted to rack railway operation.&lt;/p&gt;
    &lt;p&gt;The stations on the m1 are either locatred underground or at street level. Some stations have only one platform with direct access to the street, as the track is single-track. Stations with passing loops usually have two side platforms. The terminal station at Renens CFF is part of the Swiss Federal Railways station.&lt;/p&gt;
    &lt;p&gt;On the other hand, the stations on the m2 line are more varied. All stations have side platforms, except Sallaz. Some have platforms are located at street level, like Ouchy or Grancy. Others are very swallow and can be accessed via a staircase or ramp, such as DÃ©lices or CHUV.&lt;/p&gt;
    &lt;p&gt;Finally, some stations have a unique layout due to the topography of the old town, particularly the deep and narrow Flon Valley. Flon station is a main hub. It is located at Place de l'Europe. The m1 station is at the same level as the square, while the LEB (railway) and m2 stations are at level -2. From level -2, five elevators ascend to the height of the Grand Pont, located about twenty meters above.&lt;/p&gt;
    &lt;p&gt;Similarly, the Riponne station is situated in the Flon River Valley. The station is located at an intermediate level between the street following the valley and the Riponne Bridge. Four elevators (two per platform) connect the three levels.&lt;/p&gt;
    &lt;p&gt;The Porto metro is a newly constructed light metro. It has two trunk lines: one north-south and another east-west, with a section that follows the path of the former narrow-gauge lines that departed from Trindade, which now serves as a transfer station between the two trunk lines.&lt;/p&gt;
    &lt;p&gt;The surface stations have the typical design of a modern tram station, with shelters and pedestrian crossings at the ends of the platforms to switch platforms or exit the station.&lt;/p&gt;
    &lt;p&gt;The underground stations have side platforms at the deepest level, but there are differences in the layout of intermediate levels and the location of the booking hall.&lt;/p&gt;
    &lt;p&gt;The Munich U-Bahn is a metro system formed by 6 different lines, plus two that only operate during rush hours. The network has lots of spurs, but in the city center all those lines merge and form 3 trunk lines, in addition to an east-west trunk line of the S-Bahn, which, due to its frequency and performance, can be considered a metro, just like in Berlin and Hamburg.&lt;/p&gt;
    &lt;p&gt;Most stations have island platforms located at level -2 and a couple of lobbies located at level -1, just above the ends of the platforms. Any station has turnstiles: a honor system is used instead. In some specific stations the platforms may be located at a greater depth, which has required the installation of long escalators, like the ones in the central part of the U4 and U5.&lt;/p&gt;
    &lt;p&gt;One of the characteristics of the Munich metro is the presence of cross-platform transfers at many stations, with coordination on the arrivals and departures. Some examples include Scheidplatz, Innsbrucker Ring or Neuperlach SÃ¼d. Additionally, some other stations with terminating trains usually have three or four tracks, such as Hauptbahnhof (U1-U2), MÃ¼nchner Freiheit, Olympiazentrum, Kolumbusplatz, FrÃ¶ttmaning, or ImplerstraÃe. Some of these stations have elevators that provide direct access between the platforms and the street.&lt;/p&gt;
    &lt;p&gt;The most centric S-Bahn stations use the Barcelona solution. At Hauptbahnhof and Karlsplatz, passengers board using the island platform and alight via the side platforms; while at Marienplatz, due to narrow streets, the two tracks are overlapped: passengers aight from the train using the right hand side in the direction of travel, and board through the opposite doors. Along with the two levels dedicated to the S-Bahn (-2 and -3), there is also the U-Bahn station located at level -4, whose platforms are separated by nearly a hundred meters since the streets above are narrow and the City Hall building is inbetween.&lt;/p&gt;
    &lt;p&gt;In other transfer stations, the line change is direct through a flight of stairs (Odeonsplatz, Hauptbahnhof, Sendlinger Tor) or through the vestibules in the case of most U-Bahn to S-Bahn transfers.&lt;/p&gt;
    &lt;p&gt;The Nuremberg U-Bahn has three lines. Two of them, U2 and U3, share tracks in the central section and have automatic operation.&lt;/p&gt;
    &lt;p&gt;The station layout for most of the stations is quite simple. First of all, the ticketing policy is based in an honor system, so there aren't turnstiles in any station. The platforms are always located at the lowest level of the station, usually at level -1 or -2 (if the station has a mezzanine at level -1). In some cases, there is direct access from the street to the platform. All stations have elevators.&lt;/p&gt;
    &lt;p&gt;The two interchange stations between the U-Bahn lines are designed to provide quick transfers. At Hauptbahnhof, the U1 station is located one level below the U2 and U3 station, and only a short flight of stairs is needed to change. At PlÃ¤rrer station, a cross-platform transfer is ensured in both directions, as the platforms of both lines are stacked.&lt;/p&gt;
    &lt;p&gt;The Stuttgart Stadtbahn is quite complex, but its operation can be simplified into cross-valley lines and the valley lines. Outside the city center, tracks run on street level and most stations ressemble modern tramway stops. In the city center, stations are underground and have side platforms at level -2 and one or two lobbies at level -1.&lt;/p&gt;
    &lt;p&gt;The stations in the central section of the S-Bahn have a island platform at level -2 and lobbies placed at both ends of the platforms, at an intermediate level between the platform and the street.&lt;/p&gt;
    &lt;p&gt;The Lille metro consists of two VAL (light automated vehicle) lines. A VAL system is characterized by very narrow and short vehicles that operate at a high frequency in order to accommodate the demand. The narrow gauge is a direct consequence of minimizing tunnel construction costs.&lt;/p&gt;
    &lt;p&gt;Initially, the metro operated on an honor system, so the stations were designed to allow easy connections between streets and the plaforms. The subsequent installation of turnstiles means that some stations may only have them installed in certain accesses, while others may have a weird distribution turnstiles.&lt;/p&gt;
    &lt;p&gt;The main station of the network is Gare de Flandre, which is the central railway station and also a common station for both metro lines and tram lines, whose platforms are underground. This station provides a cross-platform transfer between the metro lines. Additionally, the transfer between the metro and the tram is also very fast. As a curiosity, the tram station has a platform exclusively for passenger alighting, since it is the last station.&lt;/p&gt;
    &lt;p&gt;The other interchange station between the two metro lines is Porte des Postes, where the platforms of the two lines intersect at different levels, but transfers are quick.&lt;/p&gt;
    &lt;p&gt;The Palma metro is a recent construction. The section closest to the city center was built by taking advantage of the underground section of the Palma-Inca line at the entrance to the city. Between the Intermodal Station at PlaÃ§a d'Espanya and Son Costa - Son Fortesa, the metro tracks run parallel to the aforementioned railway line.&lt;/p&gt;
    &lt;p&gt;The EstaciÃ³ Intermodal is the main transportation hub in Palma. There is an underground bus station located next to the underground railway and metro station. In fact, this hub is the starting point for all the interurban bus lines and rail lines originating from Palma.&lt;/p&gt;
    &lt;p&gt;All the underground section was built very shallow. In fact, the stations located on Gran Via Asima have the same design, with platforms and lobbies located at level -1 and an underground passage at level -2 equipped with escalators and elevators.&lt;/p&gt;
    &lt;p&gt;The Son Sardina station is located on the surface and provides an interchange with the Palma-SÃ³ller line. The UIB station, on the other hand, has a street-level passenger building, although it does not host any facilities.&lt;/p&gt;
    &lt;p&gt;The Brescia metro consists of a single line that opened in 2013. The rolling stock comprises Ansaldobredaâs automatic trains, also in operation on Milan metro lines 4 and 5. The line runs shallowly in the northern section, deeply in the city center, and on surface level and elevated through the eastern suburbs. An honor system is employed, eliminating the need for turnstiles.&lt;/p&gt;
    &lt;p&gt;Some of the deepest stations, such as Marconi, Ospedale, Stazione FS, Bresciadue, or Volta, follow a standard design with two side platforms at level -3. These platforms are connected to the mezzanine at level -2 via a staircase and two independent escalators. From the mezzanine, there is access to an intermediate level (-1) and a further flight of stairs leading to the street.&lt;/p&gt;
    &lt;p&gt;Shallow stations typically consist of two side platforms directly accessible from the street, while elevated stations feature an island platform.&lt;/p&gt;
    &lt;p&gt;Despite having 10 lines in operation, the Istanbul metro is quite modern. Except for lines 1 and 2, built in the 80s and 90s, the rest of the network was constructed in the 21st century. Extensions are underway in both the European and Asian parts of the city. The tram network complements the metro, which incorporates turnstiles at each stop. Additionally, the public transportation network includes four funiculars, three of which are entirely underground.&lt;/p&gt;
    &lt;p&gt;The metro lines exhibit significant differences in technical features, including train type, automation, track count, and electrification system. Construction methods for tunnels and stations vary from line to line, affecting station layouts. With the exception of line 1 which runs shallow or elevated, all lines run at considerable depths. Access and egress times are relatively high and some transfer layouts may result in long passageways or unnecessary multiple level changes. Moreover, transfers are not free, as passage through turnstiles is required.&lt;/p&gt;
    &lt;p&gt;All lines were constructed with dual-tube tunnels at depths ranging from 20 to 45 meters below ground level, except for line 1, which is shallower, and line 6, which was built with a single track and with passing loops at each station. Some stations are located as deep as 70 meters, only accessible via elevators in certain cases.&lt;/p&gt;
    &lt;p&gt;The Malaga metro comprises two lines operated with a tramway fleet. Line 2 is entirely underground. Line 1 is mostly underground, but the western section of line 1 was built as a light metro with level crossings. The underground sections are shallow, with most stations featuring a lobby at level -1 and an island platform at level -2.&lt;/p&gt;
    &lt;p&gt;The common section is peculiar. Each line has its own tracks. The tunnel has two levels, with two tracks on each one. Between El Perchel and Guadalmedina stations, two tracks interchange their levels, in a section located within two curves. La UniÃ³n station on line 1 has also overlapped platforms. Atarazanas station only has a single platform.&lt;/p&gt;
    &lt;p&gt;The Seville metro consists of a single line that began construction in the 70s but was not opened until 2009. The rolling stock comprises tramway vehicles.&lt;/p&gt;
    &lt;p&gt;The central section, built in the 70s, features a dual-tube tunnel constructed using TBMs. Stations generally have a lobby at level -1 or -2, followed by an intermediate level and an island platform at the lowest level. Platform screen doors protect the tracks.&lt;/p&gt;
    &lt;p&gt;The western section, crossing the Guadalquivir river, includes elevated, surface, and underground sections. Ciudad Expo, the only station with both an island platform and a lobby at street level, stands out. Other stations have two side platforms, with the lobby located at either the upper or lower level, depending on the station's location.&lt;/p&gt;
    &lt;p&gt;The line runs shallowly between NerviÃ³n and Cocheras, with all stations featuring side platforms and a single lobby.&lt;/p&gt;
    &lt;p&gt;The Palma metro comprises a single line connecting the city center and the university campus in the north. The majority of the line is underground, with a surface-level section around Son Sardina. The segment between EstaciÃ³ Intermodal and Son Costa â Son Fortesa features quadruple tracks for metro and mainline traffic.&lt;/p&gt;
    &lt;p&gt;EstaciÃ³ Intermodal serves as a transportation hub with 10 platforms, a bus station at level -2, and a mezzanine at level -1. Jacint Verdaguer station has two island platforms at level -2 and a mezzanine at level -1. Son Costa â Son Fortesa station features two unconnected island platforms at level -1. The UIB station has two side platforms at level -1 and a ground-level hall. Son Sardina station is at ground level, with two side platforms connected by an underpass and linking to the SÃ³ller Railway station. The remaining stations share a similar design, with side platforms at level -1, each directly accessible from the street, and an underpass connecting both platforms.&lt;/p&gt;
    &lt;p&gt;The Naples rail network comprises multiple lines operated by different agencies. The definition of what is part of the metro network varies.&lt;/p&gt;
    &lt;p&gt;Line 1, opened in 1993, connects the old city by the sea with the upper districts. The line forms a loop to climb the hill. Most stations are at great depths, except the section between Colli Aminei and Piscninola. Connections to platforms vary by station, but the booking halls are commonly located at level -1. Some feature a single flight of parallel escalators (Montedonzelli, Policlinico), high-capacity lifts (Duomo), or two or three flights of stairs. Stations between Colli Amiei and Museo have island platforms, while those in the old city have side platforms. Quattro Giornate station has overlapped platforms.&lt;/p&gt;
    &lt;p&gt;Line 2, owned by the Italian State, opened in 1925 with third rail electrification but was later converted to overhead lines. Montesanto and Cavour are the deepest stations, with a ground-level building comprising ticket office and turnstiles. Two flights of stairs and escalators connect to an intermediate level (-2), with two side platforms at level -3. Other stations, like Mergellina or Campi Flegei, are at ground level with grand station buildings. Piazza Garibaldi has two tracks and three platforms, with a recent layout change.&lt;/p&gt;
    &lt;p&gt;Line 6, closed since 2013, featured a narrow profile with trains only 2.20 meters wide.&lt;/p&gt;
    &lt;p&gt;The Arcobaleno line (Line 11) connects Piscinola with Aversa, built with cut-and-cover methods. The layouts resemble Milan metro lines 1 and 2 and Rome's southern section of line A. The Circumvesuviana and Circumflegrea lines are also part of Naples' rail network, with some underground stations.&lt;/p&gt;
    &lt;p&gt;Rennes has two metro lines.&lt;/p&gt;
    &lt;p&gt;Line A is a VAL, an automatic light metro using technology developed by Siemens. The trains have a width of 2.08 m. Most of the line runs underground, with two elevated stations (La Poterie and Pontchaillou). The layout of the stations varies considerably, but all stations have side platforms on the lowest level. The lobbies are either located at street level or at level -1. Anatole France and Jacques Cartier are the deepest stations on this line. Initially, the stations had an honor system, but turnstiles were installed in 2020. Due to this reason, some lobbies might have a peculiar placement of the turnstiles.&lt;/p&gt;
    &lt;p&gt;Line B is a Neoval, an automatic line that uses more modern technology developed by Siemens. Trains operate in 2-car compositions, but stations allow for 3-car trains. The entire line runs underground except for the easternmost section, which is elevated. Platforms are located on the lowest level, normally at level -2 or -3. Mezzanines are located at level -1. Sainte-Anne is an interchange station located at the city center. Transfers, access, and egress are performed through a complex system of one-way corridors, stairs, and escalators.&lt;/p&gt;
    &lt;p&gt;Topo is a narrow-gauge rail line operated by Euskotren Trena, an agency owned by the Basque Government. This line runs through many tunnels, earning it the nickname "Topo," which means âmoleâ in Spanish. The line underwent a major renovation in the last 10 years, and a variant is being built both in the city center of San Sebastian and in the neighboring town of Pasaia. As a consequence, the current main station of Amara will be closed and dismantled.&lt;/p&gt;
    &lt;p&gt;The layout of the stations differs. Lugaritz, Anoeta, and Herrera have a station building at ground level and two side platforms at level -1. Loiola and Pasaia stations are elevated. Intxaurrondo and Altza stations are located deep underground and have layouts and aesthetics similar to those of the Bilbao metro, once designed by Norman Foster.&lt;/p&gt;
    &lt;p&gt;The Sofia metro consists of 4 different services that operate on 2 physical lines. Despite having rolling stock manufactured by a Russian company, the aesthetics and layouts differ from the Soviet-influenced metros of eastern European countries. Generally speaking, the average station has lobbies located at levels -1 and the platforms at level -2. Most stations have side platforms, but the oldest ones, located in the central part of lines 1 and 4, have side platforms. Stations in the common section of lines 1 and 4 have low-cost platform screen doors.&lt;/p&gt;
    &lt;p&gt;All stations on line 3 have side platforms, normally located at level -2. Mezzanines are commonly located at level -1. The connection between platforms and the mezzanine is performed by multiple staircases or elevators. Most of the accesses to the stations are equipped with elevators.&lt;/p&gt;
    &lt;p&gt;The Toulouse metro is formed by two lines that form a cross-shaped network. Both lines use VAL technology and are automated. The layout of line A stations varies. In the city center, the line runs through a dual-tube tunnel at a great depth to cross the Garonne river. Long escalators reach the platforms at Capitole and Esquirol. Stations located outside the city center tend to have a lobby at level -1 and two side platforms at level -2 or -3. The western terminus at Basso Cambo is elevated.&lt;/p&gt;
    &lt;p&gt;Most of the line B stations have a similar layout consisting of a lobby at level -1, an intermediate level used for entering passengers at level -2, and two side platforms at level -3. Passengers egressing the station can use escalators that connect directly the platforms with the lobbies. Jean JaurÃ¨s is the main hub on the network. The station was designed to have one-way passages and escalators. The line B station uses the Barcelona solution, boarding through the island platform. Passengers need to pass through turnstiles to change from one line to the other. These turnstiles are used only for statistical purposes and to manage flows, as the tariff system guarantees free transfers.&lt;/p&gt;
    &lt;p&gt;In 1962, the citizens of Zurich rejected in a referendum the conversion of tram lines in the city center into a premetro. In 1973, the citizens rejected again the construction of a metro network. However, a short section of the tunnels was already being built to conduct rolling stock tests. In 1978, the citizens approved integrating the existing tunnel into the tram network, which was completed in 1986. These stations were built at a considerable depth, as they are located in a hill between the valleys of the Limmat and the Glatt rivers. All stations have island platforms. Since trams in Zurich only have doors on the right side, they run on the left side of the tunnel. All the stations have multiple accesses, some reachable only via elevators, others via a long flight of stairs and escalators, which in some cases have the lower side in a level located even below the platform level.â&lt;/p&gt;
    &lt;p&gt;Merseyrail is the suburban train network managed by the Liverpool City Region, and it is operated by a private company through a concession. The network consists of two directly operated lines.&lt;/p&gt;
    &lt;p&gt;The Wirral Line connects central Liverpool with the Wirral peninsula, located south of the River Mersey, via a tunnel opened in 1886. The two stations adjacent to the river (James Street and Hamilton Square) have platforms located at a great depth. The connection between the street-level concourse and the pre-platform level is made through three high-capacity elevators, in addition to emergency stairs, which at Hamilton Square can also be used regularly.&lt;/p&gt;
    &lt;p&gt;The Northern Line is a north-south line created in 1977, after connecting by a tunnel two separate lines that departed from Exchange and Liverpool Central terminals. In the 1970s, the Wirral Line terminal, which ended in a double track at Liverpool Central, was also modified to become a one-way loop served by three stations spread throughout central Liverpool. These stations are very deep. The connection between platforms, intermediate levels and street-level concourses is made through two or three sets of escalators. All underground stations are accessible to people with reduced mobility.&lt;/p&gt;
    &lt;p&gt;Genoa has a metro line that runs through the city, parallel to the coast. Due to the city's difficult topography, the construction methods for each section are different, resulting in a curvy route with very heterogeneous stations.&lt;/p&gt;
    &lt;p&gt;Both terminals, Brin and Brignole, are located on viaducts. Additionally, Brignole metro station is integrated parallel to the railway station.&lt;/p&gt;
    &lt;p&gt;Dinegro is the only station built using the cut-and-cover method and is the most shallow in the network. Both platforms are connected via an underpass. This station has mÃºltiple tracks, three of them with platforms, in addition to other tracks that are used as workshops and depots.&lt;/p&gt;
    &lt;p&gt;Darsena and San Giorgio stations have an island platform and are deeper than Dinegro but shallower than Sarzano-SantâAgostino and De Ferrari stations, which have two side platforms each located in two different tunnels.&lt;/p&gt;
    &lt;p&gt;The most complex station in the network is Principe: it consists of the metro station, an underground station national rail network, and the surface railway station. The surface station is nestled in a trench between mountains and has a yard with 5 platforms and 9 tracks. Corridors connect the underpass of the surface-level station with a concourse that either leads to the underground railway station, of which only one of the two tracks is in service, or to the metro station through a series of underground walkways. The metro station has a semi-underground concourse, which connects to the mezzanine, located at the upper level of the platform, via a staircase.&lt;/p&gt;
    &lt;p&gt;Charleroi's premetro consists of a circular line that encircles the city center and three branches towards the suburbs and nearby towns. The network is operated as four radial services, which start from the central loop.&lt;/p&gt;
    &lt;p&gt;The central ring is a mix of tram with priority (between Tirou and Gare Centrale) and a fully segregated line, mostly underground but with an elevated section between Gare Centrale and Palais. Line 4 operates completely segregated outside the city ring, with trams running on the left side. Lines 1 and 2 run also segregated from the rest of traffic between the city center and PÃ©tria, and then as a tram line between PÃ©tria and Monument, just like line 3 once past Piges.&lt;/p&gt;
    &lt;p&gt;The station layouts are rather simple. Regardless of whether they are on a viaduct or in a tunnel, almost all have a central platform, which is accessed directly from the street, sometimes via an intermediate level, without turnstiles.&lt;/p&gt;
    &lt;p&gt;Palais station has four tracks: two of them are in service, a third without regular service, and the fourth leads to a loop that reverses the direction of trains. Waterloo station has two platforms and three tracks, but only the central platform is in operation.&lt;/p&gt;
    &lt;p&gt;The Montreal metro consists of a network of 4 lines with rubber-tired trains. Nearly all of the network was built during the 1960s, 70s, and 80s, and is entirely underground, with tunnels often (but not always) following the alignment of the streets.&lt;/p&gt;
    &lt;p&gt;Each station has unique architecture and style. Station depth also varies. However, most stations feature two side platforms, each 500 feet long (152.4 m), and all entrances are equipped with enclosures to protect against winter temperatures. In some cases, these enclosures also host station lobbies.&lt;/p&gt;
    &lt;p&gt;Transfer stations were designed to offer practical and fast connections. Snowdon and Lionel-Groulx stations feature overlapped platforms, allowing for cross-platform transfers, while at Berri-UQAM, the platforms for the green and orange lines intersect at adjacent levels. At Jean-Talon, transferring between the orange and blue lines is also quick, with the platforms arranged in a stacked layout.&lt;/p&gt;
    &lt;p&gt;One unique feature of Montreal is that, in the city center, metro stations connect directly to the underground city known as RÃSO, which links city blocks underground.&lt;/p&gt;
    &lt;p&gt;Ottawaâs rail transit system (O-Train) includes an east-west light rail line called the Confederation Line and a north-south rail line called the Trillium Line.&lt;/p&gt;
    &lt;p&gt;The entire network is above ground, except for the central part of the Confederation Line, which runs at a depth of 17 to 25 meters below street level. The three underground stations have side platforms located on the lowest level. Each station has two independent entrances connecting the mezzanines located at either end of the platforms, which are accessible via multiple stair flights.&lt;/p&gt;
    &lt;p&gt;Outside of the city center, stations may be located at street level, elevated, or in a trench, with most featuring side platforms. Some stations are transfer points between light rail and bus services, such as Tunneyâs Pasture, Hurdman, and Blair. Ottawa also has several BRT lines, some of which have fully segregated infrastructure, including stops shaped like rail stations, with escalators, elevators, and lobbies with fare validators.&lt;/p&gt;
    &lt;p&gt;The Toronto subway has three lines. The network is relatively shallow, with some sections running above ground.&lt;/p&gt;
    &lt;p&gt;In the oldest sections, the tunnel alignment is parallel to the street one but is shifted several meters toward the blocks of houses. Due to the cut-and-cover construction method used in these segments, it was necessary to expropriate and demolish existing buildings. Some of these clearings were used to build transfer hubs containing bus and streetcar bays, together with the passenger building, which also serves as the subway entrance. All bus and streetcar platforms are located within the paid area of the station, providing free transfers between the subway and surface transit.&lt;/p&gt;
    &lt;p&gt;Regarding subway line transfers, Sheppard-Yonge, Bloor-Yonge, and St. George stations provide direct transfers via a single flight of stairs, while at Spadina, the transfer involves a walkway over 200 meters long.&lt;/p&gt;
    &lt;p&gt;Calgary has a light rail system called the C-Train. In the downtown area, it operates like a streetcar, with a low stop spacing, but in the suburbs, the spacing between stations is greater, and the trains have dedicated platforms, although some crossings still use level crossings.&lt;/p&gt;
    &lt;p&gt;As for stations, there is only one underground station (Westbrook). Some other stations have platform access at ground level, while others use overpasses that lead to platforms through lobbies with waiting areas.&lt;/p&gt;
    &lt;p&gt;Vancouverâs SkyTrain consists of three automated metro lines. The network has a radial layout, and only two of the three lines reach downtown. As the name suggests, most of the metro is elevated, with only the most central segments being underground.&lt;/p&gt;
    &lt;p&gt;The Expo Line runs through downtown in a two-level tunnel, with stations located at significant depths. The Canada Line is much shallower, with each station featuring a different layout: Waterfront, Vancouver City Centre, Yaletown-Roundhouse, and Olympic Village have a lobby on level -1 and an island platform on level -2; King Edward has overlapped platforms; while Oakridge and Langara have platforms on level -1 connected by an underpass.&lt;/p&gt;
    &lt;p&gt;The main interchange of the network, Waterfront, serves as the terminal for the Expo and Canada Lines, as well as the commuter train and the ferry to North Vancouver. The transfer here is not ideal, as the Canada Line is in an area with separate fare gates, and the distance between this line and the ferry terminal is 350 meters.&lt;/p&gt;
    &lt;p&gt;Seattle has a light rail line. Initially, a tunnel was built for buses and trolleybuses in the downtown area, running from International District / Chinatown to Westlake, which opened in 1990. Stations in this section had side platforms on level -2 and two lobbies on level -1, with platforms spaced widely enough to allow one bus to overtake another.&lt;/p&gt;
    &lt;p&gt;The tunnel closed in 2005 for conversion to light rail, which opened in 2009. Until 2019, it operated as a mixed-use tunnel for both buses and light rail. In 2016, the network expanded northward, adding a segment with four underground stations and one elevated station. Platforms at the underground stations are more than 20 meters deep, and each one has a unique layout.&lt;/p&gt;
    &lt;p&gt;On the southern section, there is Beacon Hill Station, accessible only via four high-capacity elevators that descend to the platforms, located about 50 meters below ground.&lt;/p&gt;
    &lt;p&gt;Stockholm has three subway lines that cross the city center and split into two or three spurs at each end. The city itself is in an archipelago, so the metro lines were planned and built through a complex geography and geology, featuring surface stretches, elevated viaducts, shallow underground sections, and deep tunnels.&lt;/p&gt;
    &lt;p&gt;The green line, the first to be built, is considered to be the shallowest. In the city center, it runs in shallow tunnels built using the cut-and-cover method, and in the suburbs, the line runs either elevated or at surface level. The red line combines deep underground segments in the north with a mix of surface and deep sections in the south. The blue line runs at great depth along nearly its entire length.&lt;/p&gt;
    &lt;p&gt;All stations are accessible to persons with reduced mobility thanks to the installation of lifts. Deep stations typically feature two island platforms at the lowest level (-2), connecting to lobbies located at or near the surface (level -1) via a set of 3 or 4 parallel escalators, in addition to an inclined lift which also runs parallel. Stockholm has one of the highest numbers of inclined lifts in its subway system. Some deep stations have cavern-like platform designs.&lt;/p&gt;
    &lt;p&gt;Leipzig has a tunnel that crosses the city centre, with four underground stations, all featuring island platforms at the deepest level. Although the tunnels are twin-tube and were built using tunnel boring machines, the stations were constructed using the cut-and-cover method, except for Hauptbahnhof, which was built using the mining method.&lt;/p&gt;
    &lt;p&gt;Karlsruhe has a tram-train system. In 2021, a T-shaped underground line was opened, which is served by six stations, one of which is a double station. All stations have side platforms located on level -2, except for Kongresszentrum, which has its platforms on level -1. The -1 level of the other stations consists of various concourses.&lt;/p&gt;
    &lt;p&gt;The platforms have sections with different heights to ensure compatibility with all rolling stock in terms of accessibility.&lt;/p&gt;
    &lt;p&gt;The Bielefeld Stadtbahn consists of a north-south trunk line that branches into four lines, both in the north and in the south. The central section and a bunch of the northern spurs are underground. Most stations have island platforms on the deepest level, with accesses at both ends of each platform.&lt;/p&gt;
    &lt;p&gt;Hauptbahnhof is the junction station on the northern side. The station has a concourse at level -1, two platforms and three tracks at level -2; plus one track and one platform at level -3, which crosses the station diagonally.&lt;/p&gt;
    &lt;p&gt;Gelsenkirchen has a Stadtbahn line operated with low-floor trains. Except for Heinrich-KÃ¶nig-StraÃe, which is located at a junction, all stations have a platform at the lowest level. In some stations, access to the platforms is directly from the street; in others, access points converge in the concourse.&lt;/p&gt;
    &lt;p&gt;The Wuppertal Schwebebahn is a suspended monorail opened in 1901, with a single line that follows the course of the Wupper River, except at the western end, where it follows a street.&lt;/p&gt;
    &lt;p&gt;The stations are elevated and located above the river or the street. All stations have side platforms, so trains have doors on only one side. The platforms are around 30 meters long.&lt;/p&gt;
    &lt;p&gt;Cologne has a Stadtbahn made up of different services that cross the city. Most of the underground sections are located in the center and in the north. Some of these lines are operated with low-floor trams, while others use high-floor trains. This results in some stations having platforms with two different heights.&lt;/p&gt;
    &lt;p&gt;The stations typically have a simple structure with platforms at level -2 and one or two concourses at level -1, although some stations have platforms at level -1. The new north-south line, partially constructed and served by lines 5 and 17, runs deeper than the other lines and has central platforms at almost all stations. However, currently only one of the two tracks is operational. Finally, line 13, which runs along the GÃ¼rtel (ring road), includes an elevated section.&lt;/p&gt;
    &lt;p&gt;As for transfer stations, some are designed for quick and short transfers, such as Friesenplatz or Ebertplatz. The central station is served by two different, adjacent Stadtbahn stations.&lt;/p&gt;
    &lt;p&gt;Bonn has a Stadtbahn consisting of a line that runs parallel to both the Cologne â Mainz railway line and the Rhine River. It has two underground sections: one in the center and south of Bonn, and another in the Bad Godesberg district, plus a couple of isolated underground stations on a branch line.&lt;/p&gt;
    &lt;p&gt;The stations are simple. All have side platforms at level -2 and one or two concourses at level -1.&lt;/p&gt;
    &lt;p&gt;Entering, exiting, or transferring at a metro station is part of the daily routine for millions of people worldwide. The layout of these stations directly impacts people's mobility. If time could be converted into money, we would realize that a minute spent transferring is more expensive than a minute spent inside a moving train or bus. This temporal cost of transferring includes waiting time as well as the time spent moving from one line to another. Additionally, the physical effort that it may require should also be considered.&lt;/p&gt;
    &lt;p&gt;Some cities have taken intermodality as a serious issue, while others have not given importance. There are several key aspects to ensure quality to the transfers: distance, the lack of architectural barriers, timetable coordination and a good wayfinding system, among others.&lt;/p&gt;
    &lt;p&gt;For the last 10 years I have been able to draw around 2,547 stations from different European cities, motivated by the curiosity of understanding how engineers were able to fit underground stations comprising 4 or 5 lines under Place de la RÃ©publique in Paris or the Puerta del Sol in Madrid.&lt;/p&gt;
    &lt;p&gt;A pen, a notebook, a bit of spatial vision and the willingness to navigate all the staircases, corridors, platforms and mezzanines are enough to draw a station. Some may content errors, despite I try to complement themwith information found in the internet: historic, construction and survey maps, pics and videos, as well with data about train lengths.&lt;/p&gt;
    &lt;p&gt;Due to the boredom provoked by the COVID-19 lockdown in 2020, I decided to digitalize all the sketches I had drawn in since the early 2010s, plus all the station plans I collected from construction projects. I have also drawn stations from cities I have never been. Sources may vary, but some of them come from construction projects, other sketches found in Wikimedia Commons (Boston).&lt;/p&gt;
    &lt;p&gt;Short and fast transfers are a common practice for networks that had a solid planning behind it.&lt;/p&gt;
    &lt;p&gt;As the name suggests, the transform is performed by crossing a island platform, from one track to the opposite one. This layout allows passengers to change doing a physical effort close to zero. In some cities, timetables are planned to coordinate the arrivals and departures at stations having a cross-platform interchange, removing the waiting times and reducing the transfer time to a few seconds.&lt;/p&gt;
    &lt;p&gt;Some examples are: Gare du Midi (Brussels), Mehringdamm (Berlin), PrÃncipe PÃo (Madrid, lines 6-10) and LÃ¤ngenfeldgasse (Vienna).&lt;/p&gt;
    &lt;p&gt;This station consists of two lines crossing perpendicularly at different levels. One station is over the other, allowing passengers to change rapidly by climbing (or descending) a short staircase.&lt;/p&gt;
    &lt;p&gt;Several transfer stations in Berlin have this layout: Berliner Str., Bismarckstr., Gleisdreieck, Hermannplatz, Hermannstr., Leopoldplatz, Osloer Str., Ostktreuz, SÃ¼dkreuz, SchÃ¶neberg and Wesktreuz.&lt;/p&gt;
    &lt;p&gt;Other examples outside Berlin are: Gorg (Barcelona), Downtown Crossing (Boston), Arts-Loi (Brussels), Hauptwache (Frankfurt), Colombia (Madrid), Miromesnil (Paris), Beurs (Rotterdam) and Stephansplatz (Vienna).&lt;/p&gt;
    &lt;p&gt;The platforms of two lines are built parallel, but cross-transfer is not warranted. Transfer is made by passing through an overpass or an underpass.&lt;/p&gt;
    &lt;p&gt;Some examples include: ParalÂ·lel (Barcelona), Brandenburger Tor (Berlin), Baixa-Chiado and Campo Grande (Lisboa), Jussieu and Villiers (ParÃs).&lt;/p&gt;
    &lt;p&gt;This layout is found in systems where the network was not planned or was poorly planned. In Barcelona this kind of transfers were promoted in order to increase accessibility to public transportation in some areas.&lt;/p&gt;
    &lt;p&gt;Due to the inconvenience of walking through the never-ending corridors, some transfer stations are part of the general culture of the mentioned cities, such as Passeig de GrÃ cia (Barcelona, 270 m appr.), Diego de LeÃ³n (Madrid, 250 m appr.), Stadtmitte (Berlin, 150 m appr.) o ChÃ¢telet (Paris, 170 m appr.).&lt;/p&gt;
    &lt;p&gt;Some cities have very deep lines while in others tunnels are close to the surface. This depends of the soil, the construction method and the presence of obstacles, such as rivers, rocks, caves or underground water. Some cities may have both kinds of lines. In Western Europe, people tend to think about London when thinking about deep stations, but this is a common practice in many ex-communist European cities (Moscow, Prague, Budapest, etc), as well as in cities located in archipelagos such as Stockholm or Helsinki. These stations have a huge gallery containing escalators, connecting the ticket hall with the platform level.&lt;/p&gt;
    &lt;p&gt;In Madrid, almost all the stations constructed during the 70s and 80s were built at a considerable depth and consist of some series of escalators. In Barcelona, some stations in lines 9 and 10 were built so deep that platforms can only be reached by elevator.&lt;/p&gt;
    &lt;p&gt;Examples of stations including platforms at very different levels include: Collblanc and Zona UniversitÃ ria (Barcelona), Plaza de EspaÃ±a (Madrid), DeÃ¡k Ferenc TÃ©r (Budapest), Madeleine (Paris), Schottenring (Viena).&lt;/p&gt;
    &lt;p&gt;This is one of the three most important rail stations in Milan, together with Centrale and Cadorna.&lt;/p&gt;
    &lt;p&gt;The rail station comprises two parts: a surface terminus opened in 1961 ânot depictedâ with 20 platforms, and two underground platforms that are part of the Passante Ferroviario line, opened in 1997. Next to the underground section of the railway station, there are the two metro stations.&lt;/p&gt;
    &lt;p&gt;This gigantic hub is located in the geographic centre of Paris. It actually consists of two metro stations (les Halles and ChÃ¢telet) plus the RER station (ChÃ¢telet â Les Halles), located between the mentioned metro stations.&lt;/p&gt;
    &lt;p&gt;ChÃ¢telet metro station is located in the surroundings of place du ChÃ¢telet. The station is served by 5 lines and their platforms are placed apart. Therefore, in the mid-2010 the station was divided in sectors for practical reasons. The Seine sector is located next to the river and it is the stopping point for lines 7 and 11.&lt;/p&gt;
    &lt;p&gt;A long corridor with moving walkways connects the Seine sector with the Rivoli sector, located next to the street with the same name. This sector hosts the platforms of lines 1, 4 and 14, which are interconnected through a maze of one-direction corridors, escalators and staircases. Beneath the line 1 platforms, there is a corridor with moving walkways connecting with the RER station. There is a supplementary corridor connecting the RER station with lines 4 and 14.&lt;/p&gt;
    &lt;p&gt;The Forum sector is comprised by the RER station, Les Halles metro station and a large shopping mall called Forum des Halles. This site was constructed after demolishing the former central market in the 1970s and it was fully renovated in the 2010s. The main access from the street to the train station is found inside the shopping centre.&lt;/p&gt;
    &lt;p&gt;The underground link between Atocha and ChamartÃn was built under the Paseo de la Castellana. A station was constructed near some government offices and it was opened in 1967.&lt;/p&gt;
    &lt;p&gt;The metro line 6 station was opened in 1979, located about 100 m to the west of the rail station. Line 10 station was opened three years later, as part of the old line 8 (Fuencarral â Av. AmÃ©rica), and it was located in parallel to the rail station, but on the eastern side.&lt;/p&gt;
    &lt;p&gt;This station became important with the extension of line 8 âthe line serving the airport. The whole station is refurbished and a new mezzanine is created, even with check-in counters as an extension of the airport services. These counters were closed few years later.&lt;/p&gt;
    &lt;p&gt;In 2008 a second tunnel connecting Atocha and ChamartÃn was opened. However, this tunnel was located at a lower level. This station is ranked the 3rd in number of passengers.&lt;/p&gt;
    &lt;p&gt;Nation is located in the east of the city. It is served by 4 metro lines and a RER line.&lt;/p&gt;
    &lt;p&gt;All the complex is located the square. The mezzanines serving the metro station are located in level -1. The platforms of metro lines 1, 2 and 6 are located at level -2. Level -3 contains the transfer corridors connecting the metro lines, as well the booking hall for the RER. Line 9 platforms are located at level -4, while level -5 hosts the exit hall from passengers coming from the RER. The RER platforms are located at the deepest level of the hub.&lt;/p&gt;
    &lt;p&gt;One common feature about the Parisian metro stations is that some corridors are actually one-way. In Nation, this is taken to the limit. Almost all the corridors and staricases are one way, even to the point that the entrances to the RER station are different to the exits.&lt;/p&gt;
    &lt;p&gt;The complex comprises an elevated railway station with 6 platforms, 2 of which are specific for the Stadtbahn line (est-west) of the S-Bahn. On the eastern side, there is the U6 U-Bahn station, located underground; whereas in the west side, there are the platforms of the NordsÃ¼d S-Bahn line. Despite having been built next to the river, both underground stations are not located very deep. Above the U6 platforms, at the street level, there are some bus stops, as well as a tram stop.&lt;/p&gt;
    &lt;p&gt;This station has historic significance during the Cold War, since it served as a multi-modal station for both western and eastern transportation networks, despite being physically located in East Berlin;and as a border pass as well.&lt;/p&gt;
    &lt;p&gt;The East Berlin station only comprised the two elevated platforms dedicated nowadays to the S-Bahn, plus a bunch of bus and tram stops. The rest of the elevated platforms were part of the West Berlin network, together with the U-Bahn and NordsÃ¼d S-Bahn stations. Internal transfer between the western lines was allowed. Exiting to the street was only allowed by passing through the border.&lt;/p&gt;
    &lt;p&gt;This was the only station of the western network to be opened in East Berlin. The rest of stations in U6, U8 and the NordsÃ¼dbahn were closed between 1961 and 1989 and received the popular name of ghost stations.&lt;/p&gt;
    &lt;p&gt;Saint-Lazare railway terminus is the oldest station in the city. It is part of a much larger complex of connected stations, consisting of Saint-Augustin, Saint-Lazare, Haussmann-Saint-Lazare, Havre-Caumartin, Auber and OpÃ©ra.&lt;/p&gt;
    &lt;p&gt;The railway station has 27 platforms and it is served by the suburban Transilien lines J and L, as well TER trains to other regions.&lt;/p&gt;
    &lt;p&gt;The metro station is served by 4 lines. Beneath Cour du Havre there is a circular concourse that acted as the booking hall for the former Nord-Sud Metro (lines 12 and 13). Lines 3 and 14 are located beneath Cour de Rome. Together with the extension of line 14 from Madeleine to Saint-Lazare, a large concourse was built, removing most of the existing one-way corridors under Cour de Rome. One-way corridors are still present on the paths heading towards lines 12 and 13.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45238055</guid><pubDate>Sun, 14 Sep 2025 07:00:44 +0000</pubDate></item><item><title>Fukushima insects tested for cognition</title><link>https://news.cnrs.fr/articles/fukushima-insects-tested-for-cognition</link><description>&lt;doc fingerprint="7f9959933c37d7dd"&gt;
  &lt;main&gt;
    &lt;head rend="h6"&gt;You are here&lt;/head&gt;
    &lt;head rend="h1"&gt;Fukushima insects tested for cognition&lt;/head&gt;
    &lt;p&gt;Bees and hornets are known to have a wide range of cognitive skills, including the ability to recognise colours and navigate in space. However, pollution by substances released into the environment by humans, such as pesticides, can impair their performance.&lt;/p&gt;
    &lt;p&gt;Olivier Armant, from the radionuclide ecology and ecotoxicology laboratory at the French ASNR nuclear safety and radiation protection authority, and Mathieu Lihoreau, an ethologist from the Research Centre on Animal Cognition at the Centre for Integrative Biology1 wondered what effect ionising radiation might have on these pollinators. Armant works on the ecological impact of such radiation, carrying out long-term studies on the fauna and flora around Chernobyl (currently inaccessible, due to the war in Ukraine) and Fukushima, Japan, while Lihoreau focuses on bee intelligence and the factors that may interfere with it.&lt;/p&gt;
    &lt;head rend="h2"&gt;Assessing cognitive performance&lt;/head&gt;
    &lt;p&gt;"A few years ago, a researcher in my lab came up with the idea of deploying various types of sensor to monitor, preferably automatically, the biological activity of certain species in the aftermath of the Fukushima disaster," Armant explains. "We had three projects in mind: connected nest boxes, a system that measured the biotic parameters of water and – the one we chose – the method developed by Mathieu Lihoreau." 2 For several years, the ethologist has been working on an automated system to assess the cognitive performance of these social insects. The device they use was designed in partnership with the Toulouse-based start-up BeeGuard, which manufactures connected beehives that enable real-time monitoring.&lt;/p&gt;
    &lt;p&gt;"I study the learning and memory abilities of bees," Lihoreau explains. "Although this is primarily a fundamental research topic, it also has very concrete applications in ecotoxicology: if bees exhibit learning deficits in certain locations, it means there's a problem. For example, although many pesticides are used in doses that are low enough not to kill these insects, they end up as residues in the nectar they feed on and can have a neurotoxic effect. This results in cognitive disturbances that are difficult to observe, such as the inability to associate a reward with a specific colour or smell. Our system can measure these effects, which, although not lethal, are nonetheless serious, because they have a knock-on effect on the survival of colonies and, more generally, on pollination services."&lt;/p&gt;
    &lt;p&gt;When disturbed in this way, bees begin to forage on flowers of different species, instead of focusing on just one. As a result, they no longer bring the right pollen to the right plants, which affects the entire ecosystem. The device developed by Lihoreau's team (made up of biologists, engineers, modellers and ecologists) had until now only been tested near Toulouse (southwestern France), rather than in the extreme conditions of an area like Fukushima, which the scientists were able to enter with the help of their Japanese colleagues.&lt;/p&gt;
    &lt;p&gt;"We started collaborating with Japan just after the Fukushima disaster, in 2011," Armant explains. "We work in particular with Fukushima University's Institute of Environmental Radioactivity (IER), which help us to access the contaminated area. Our Japanese colleagues have extensive knowledge of the site and its forests, and they were able to direct us to the most interesting locations. This enabled us to carry out two field investigations in 2023 and 2024."&lt;/p&gt;
    &lt;head rend="h2"&gt;How do you go about testing bees?&lt;/head&gt;
    &lt;p&gt;The sites where the beehives were set up3 were selected on the basis of the soil contamination gradient for caesium-137. Local hornets, already present on the sites, were also included in the cognition study. Although it isn't clear whether these species are pollinators, they are worth studying, as they are descended from many generations of insects exposed to radiation.&lt;/p&gt;
    &lt;p&gt;But just how do you carry out cognitive tests on an insect? "The system is based on conventional experimental protocols developed in the laboratory over the past 50 years," Lihoreau says. It uses a Y-shaped maze, in which the insect can choose between two branches illuminated by coloured LEDs, either blue or yellow. The insect needs to understand that it will be rewarded with sugar water, dispensed by a pump at the end of the branch, only if it chooses the right colour (blue or yellow, depending on the tests).&lt;/p&gt;
    &lt;p&gt;A healthy bee needs 10 tests on average to find the correct path by following the right colours. "This figure enables us to establish learning curves, which can then be compared to see if there is an impact on their ability to solve the problem," Lihoreau adds.&lt;/p&gt;
    &lt;head rend="h2"&gt;Bees equipped with a QR Code&lt;/head&gt;
    &lt;p&gt;The protocol used at Fukushima is automated. Each bee is equipped with a 2-mm-wide QR Code which is read by a camera, activating the opening of the maze. This customisation makes it possible to test the learning process of each insect, whose behaviour is filmed, analysed and sent in real time to a server. The whole operation is powered by solar panels.&lt;/p&gt;
    &lt;p&gt;Giant hornets, which are too big to enter the system, were tested manually in more traditional mazes. "Our Japanese colleagues initially tried to dissuade us from handling them, because they are so dangerous," Lihoreau recalls. "However, the hornets are extremely useful for understanding the environmental impact of radioactive contamination, because these predators are at the top of the food chain and, unlike our honeybees, have always been present in the area, since well before the nuclear accident."&lt;/p&gt;
    &lt;p&gt;Although the results of the study have yet to be published, scientists are already reporting a decline in insect cognition in the contaminated area of Fukushima Prefecture. "We can see correlations," Armant says. "However, a causal link with radioactive contamination has not yet been established. But since the area is no longer inhabited, it is unlikely that the effect is due to factors such as pesticides." ♦&lt;/p&gt;
    &lt;head rend="h2"&gt;See also&lt;/head&gt;
    &lt;p&gt;Of bees and men&lt;lb/&gt; Learning from the Fukushima decontamination&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;1. CRCA-CBI (CNRS / Université de Toulouse III – Paul Sabatier - EPE).&lt;/item&gt;
      &lt;item&gt;2. This work is the result of a joint call for projects between the CNRS, via its Mission for Transversal and Interdisciplinary Initiatives (MITI), and the former IRSN institute of radiation protection and nuclear safety, which has since merged with the ASN nuclear safety authority, forming the ASNR.&lt;/item&gt;
      &lt;item&gt;3. As part of the BEERAD project to assess the effects of ionising radiation on bees, funded by the French National Research Agency (ANR).&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Explore more&lt;/head&gt;
    &lt;head rend="h3"&gt;Author&lt;/head&gt;
    &lt;p&gt;A graduate from the School of Journalism in Lille, Martin Koppe has worked for a number of publications including Dossiers d’archéologie, Science et Vie Junior and La Recherche, as well the website Maxisciences.com. He also holds degrees in art history, archaeometry, and epistemology.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45238836</guid><pubDate>Sun, 14 Sep 2025 10:32:22 +0000</pubDate></item><item><title>Repetitive negative thinking associated with cognitive decline in older adults</title><link>https://bmcpsychiatry.biomedcentral.com/articles/10.1186/s12888-025-06815-2</link><description>&lt;doc fingerprint="7f1fa9232da10d63"&gt;
  &lt;main&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Research&lt;/item&gt;
      &lt;item&gt;Open access&lt;/item&gt;
      &lt;item&gt;Published:&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h1"&gt;Repetitive negative thinking is associated with cognitive function decline in older adults: a cross-sectional study&lt;/head&gt;
    &lt;p&gt;BMC Psychiatry volume 25, Article number: 562 (2025)&lt;/p&gt;
    &lt;head rend="h2"&gt;Abstract&lt;/head&gt;
    &lt;head rend="h3"&gt;Background&lt;/head&gt;
    &lt;p&gt;Psychological problems such as depression and anxiety increase the risk of cognitive impairment in older adults. But mechanisms on the effect of psychological disorder on cognitive function is inconclusive. Repetitive negative thinking (RNT) is a core symptom of a number of common psychological disorders and may be a modifiable process shared by many psychological risk factors that contribute to the development of cognitive impairment. RNT may increase the risk of cognitive impairment. However, there are fewer studies related to RNT and cognitive function, and there is a lack of epidemiological studies to explore the relationship between RNT and cognitive function.&lt;/p&gt;
    &lt;head rend="h3"&gt;Methods&lt;/head&gt;
    &lt;p&gt;A cross-sectional study of 424 older adults aged 60 years or over was performed form May to November 2023 in hospital. To investigate the RNT level by using the Perseverative Thinking Questionnaire (PTQ), and investigate the cognitive function level by using the Montreal Cognitive Assessment Scale (MoCA). Multivariable linear regression and subgroup analyses were used to explore the relationship between RNT and cognitive function.&lt;/p&gt;
    &lt;head rend="h3"&gt;Results&lt;/head&gt;
    &lt;p&gt;We categorized the total RNT scores into quartiles. The multivariable linear regression analysis showed that after adjusting for all covariates, the participants in the Q3 and Q4 groups exhibited lower cognition scores (Q3:β = -0.180, 95%CI -2.849~-0.860; Q4:β = -0.164, 95% -2.611~-0.666) compared to the Q1 group. The results of the subgroup analyses showed that individuals aged 60 ~ 79 years, junior high school and above are more prone to suffer from cognitive impairment with a high RNT score.&lt;/p&gt;
    &lt;head rend="h3"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;The study reveals a negative association between RNT and cognitive function in community-dwelling older adults. However, multi-center and a longer time span cohort studies on the relationship between RNT and cognitive function should be carried out to further explore the mechanisms involved.&lt;/p&gt;
    &lt;head rend="h2"&gt;Introduction&lt;/head&gt;
    &lt;p&gt;In the context of a grim situation of population aging and a prominent trend of advanced aging in China, cognitive impairment has become one of the major diseases that seriously endanger the health of the older adults and affect the sustainable development of the society, which has a negative impact on the physical and psychological health as well as the quality of life of the older adults. The onset of cognitive impairment begins with the age-related declines in cognitive function, progresses to mild cognitive impairment (MCI), and ends with dementia [1]. The patients unable to live independently in the later stages of the disease. Around 55 million people worldwide currently suffer from dementia, with the figure expected to reach 139 million by 2050 [2]. The prevalence of dementia in China aged 60 years and over is 6.0%, and the prevalence of MCI is 15.5% [3]. The prevalence of cognitive disorders is increasing year by year, placing a heavy burden on patients, families, and society. It is estimated that the total annual cost of dementia disease in China will reach $1.89 trillion in 2050 [4]. However, there is no drug that can stop or reverse the progression of dementia. Cognitive decline can be effectively prevented or delayed by controlling risk factors at an early stage, so it is important to identify, prevent, and treat risk factors associated with cognitive impairment [5].&lt;/p&gt;
    &lt;p&gt;With the rapid development of society, the transformation of family structures, and the decline of physiological functions brought about by aging, the psychological health problems of the older adults have become increasingly prominent [6, 7]. Anxiety and depression are the most common psychological health problems among the older adults, and the probability of suffering from depressive symptoms is currently 22.6% and that of suffering from anxiety symptoms is 22.11% in China [8, 9]. Various physical illnesses caused by psychological problems in older adults threaten their physical and psychological health and the quality of existence. Psychological problems such as depression and anxiety have been found to increase the risk of cognitive impairment in older adults [10, 11]. But mechanisms on the effect of psychological disorder on cognitive function is inconclusive [12, 13].&lt;/p&gt;
    &lt;p&gt;RNT includes rumination and worry. Rumination refers to a maladaptive response style, which is characterised by repeated and unconscious passive thinking about the causes, consequences and effects of negative life events, and a persistent preoccupation with negative experiences rather than taking positive practical action [14]. Worry describes repetitive thoughts about potential threats, uncertain events, and risky events in the future [15]. The main difference between rumination and worry is in time and content [16]. It has been found that heightened levels of rumination and/or worry are present in the most Axis I disorder, including 13 categories of psychological disorders such as depression, anxiety disorders, sleep disorders, and post-traumatic stress disorder [17,18,19]. Based on the widespread presence of rumination and worry across disorders, is has been suggested that RNT is a transdiagnostic process that shows the same characteristics across disorders, whereby only the content is disorder-specific [20]. RNT is the repetitive thinking about one or more negative issues that are difficult to control [21]. Research has shown that RNT is a core symptom of depression, anxiety, and many other common psychological illnesses. The higher levels of RNT lead to increased susceptibility to a wide range of mood disorders [22]. RNT as a common process in Axis I disorder may be a common pathway for psychological disorder leading to an increased risk of dementia. Therefore, we propose that RNT may be a modifiable process for many of the psychological risk factors that contribute to cognitive decline and it increase the risk of cognitive decline.&lt;/p&gt;
    &lt;p&gt;RNT has been found to correlate with dementia biomarkers, global cognition, and subjective cognitive decline in older adults [23, 24]. Although these studies provide evidence of a relationship between RNT and poorer objective and subjective cognition. Since differences in the study populations and assessment methods of different studies may have an impact on the results, we aimed to explore the association between RNT and cognitive function in community-dwelling older adults in China to provide evidence for the prevention of cognitive decline.&lt;/p&gt;
    &lt;head rend="h2"&gt;Methods&lt;/head&gt;
    &lt;head rend="h3"&gt;Population&lt;/head&gt;
    &lt;p&gt;In this study, a cross-sectional study method was used to select participants from community in Wuhan. The sample size was calculated using the formula of [Z2P(1-P)]/d2, at level of significance at 0.05 and CI of 95% [25]. The prevalence of cognitive disorder in the Wuhan was taken at a level of 0.878 with a relative precision of 0.05 [26]. A sample size of 190 participant was estimated to assess its correlation with RNT with a potential a dropout rate of 15%. The questionnaire survey was conducted from May 2023 to November 2023 among 424 participants in the community of Wuhan. The inclusion criteria for participants included: (1) age over 60 years; (2) a local residence time ≥ 6 months; (3) ability to communicate normal and complete the questionnaire; and (4) signed informed consent. Considering the impact of selected diseases on the cognitive function, the exclusion criteria included: (1) presence dementia such as Alzheimer’s disease, vascular dementia, and other neurological diseases that can cause brain dysfunction, which diagnosed by a medical institution; (2) presence of severe heart, liver, and kidney diseases and malignant tumours; (3) alcohol, drug abuse or dependence within the previous 2 years; (4) have psychological disease diagnosed by a medical institution. Prior to both the interviews and examinations, all participants provided informed consent. The study was approved by the Ethics Committee of Hubei University of Chinese Medicine (Approved No. of ethic committee: 2019-IEC-003).&lt;/p&gt;
    &lt;head rend="h3"&gt;Repetitive negative thinking assessment&lt;/head&gt;
    &lt;p&gt;RNT was assessed using the perseverative thinking questionnaire (PTQ). The scale consists of 15 items covering three domains: core characteristics of RNT, unproductiveness, and psychological capacity captured. Each item is rated on a 5-point Likert scale from 0 “never” to 4 “almost always”, with a total score ranging from 0 to 60. The higher score of PTQ represents higher levels of RNT. The Cronbach’s α of PTQ is 0.95 [20]. The questionnaire is currently available in Chinese, German, English, Polish and French. Good reliability and validity when applied to the older adults, young people, children and women [27, 28].&lt;/p&gt;
    &lt;head rend="h3"&gt;Cognitive function assessment&lt;/head&gt;
    &lt;p&gt;Montreal Cognitive Assessment (MoCA) Test is a widely used screening assessment tool for cognitive function of older adults. Studies have shown that the MoCA test has high sensitivity (80-100%) and specificity (50-76%) in identifying MCI, and it is more accurate than the Mini-Mental State Examination Scale in distinguishing between normal and MCI (Grade A recommendation) [29]. The MoCA test measures a wider range of cognitive domains, including visuospatial abilities, executive functions, attention, memory, concentration, language, verbal abstraction, and orientation. There are a total of 11 test entries with a total score of 30, with higher scores indicating better cognitive function. One additional point was given to patients having &amp;lt; 12 years of education for the MoCA scale. Cognitive function was assessed with MoCA (Beijing version). The Cronbach’s α of MoCA is 0.818, which has a good measurement characteristic [30].&lt;/p&gt;
    &lt;head rend="h3"&gt;Covariates&lt;/head&gt;
    &lt;p&gt;In our study, covariates were used to mitigate potential confounding influences on the relationship between RNT and cognitive function, grounded on insights from prior research literature. These covariates included gender, age, occupation, marital status, living arrangement, education level, monthly income, and number of chronic disease, family history of Alzheimer’s disease, and number of hobbies.&lt;/p&gt;
    &lt;head rend="h3"&gt;Statistical analysis&lt;/head&gt;
    &lt;p&gt;Quantitative data are presented as mean ± standard deviation, while qualitative data are expressed as numbers (percentages). Data were tested for independence, normality, and homogeneity of the variances before statistical analyses. Independent samples t-test was used to compare the measurement data between the two groups. Multi-group comparison was determined by the one‐way ANOVA or Welch’s test as appropriate. If p &amp;lt; 0.05, the data of the two groups were considered to have statistical differences. Associations between normally distributed variables were analyzed using Pearson correlation. To examine the association between RNT and cognitive function, a linear regression model was conducted. In order to enrich the findings and provide clearer clinical implications, total RNT score was categorized based on quartiles (Q1: &amp;lt; 25th percentile, Q2: 25 to 50th percentile, Q3: 50 to 75th percentile, Q4: ≥ 75th percentile) with Q1 as the reference category. Furthermore, subgroup analyses were conducted based on factors such as age and educational level to investigate whether these factors influenced the relationship between RNT and cognitive function. A P-value &amp;lt; 0.05 was considered statistically significant. SPSS 25.0 was used for statistical analysis in this study. This was an exploratory analysis; thus, adjustment for multiple comparisons was not made.&lt;/p&gt;
    &lt;head rend="h2"&gt;Results&lt;/head&gt;
    &lt;head rend="h3"&gt;Participants characteristics&lt;/head&gt;
    &lt;p&gt;Table 1 presents participant characteristics. This analysis included 424 participants from Wuhan in Hubei Province. Of these participants, 161 (37.97%) were male and 263 (62.03%) were female, and the weighted mean age was 68.93 ± 0.26 years. Different age, occupation, marital status, living arrangement, education level, monthly income, and number of hobbies were significantly different across the cognitive function.&lt;/p&gt;
    &lt;head rend="h3"&gt;Cognitive function scores for comparison among the RNT quartiles&lt;/head&gt;
    &lt;p&gt;Table 2 presents the relationship between RNT and cognitive function. The results of the Pearson correlation analyses showed that RNT is associated with global cognition and cognitive domains except language skills.&lt;/p&gt;
    &lt;p&gt;Table 3 presents the comparison of the cognitive function in RNT quartiles. The interquartile ranges of RNT scores were 0 to 5, 6 to 12, 13 to 21.75, and 21.75 to 47, respectively. After stratifying the RNT, MoCA scores and cognitive domains score revealed differences in RNT quartiles. Participants in the Q3 and Q4 groups exhibited lower MoCA scores, visuospatial function score, naming score, abstracting score, memory score (P &amp;lt; 0.05).&lt;/p&gt;
    &lt;head rend="h3"&gt;Association between the RNT and cognitive function: results of regression analysis&lt;/head&gt;
    &lt;p&gt;Table 4 presents the findings of multivariable linear regression analysis on the association between RNT and cognitive function. All regressions passed independence, normality test, and homogeneity of variances. Our research indicated that RNT was negatively associated with cognitive scores. The association remained statistically significant across all multivariate linear regression models, even after controlling for various covariates such as age, occupation, marital status, living arrangement, education level, monthly income, and number of hobbies. Age, education level, and RNT retained their statistical significance when entered into the final regression model. In Model 2, the participants in the Q3 and Q4 groups exhibited lower cognition scores (Q3:β = -0.180, 95%CI -2.849~-0.860; Q4:β = -0.164, 95% -2.611~-0.666) compared to the Q1 group.&lt;/p&gt;
    &lt;head rend="h3"&gt;Subgroup analysis&lt;/head&gt;
    &lt;p&gt;The final variables included in Model 2 included the variables age and education level in addition to RNT. Therefore, we want to further explore whether there is a correlation between RNT and cognition within different subgroups, including age (60 ~ 69 vs. 70 ~ 79 vs. ≥ 80 ~ 90) and education level (Illiteracy vs. Primary school vs. Junior high school vs. High school and above). The covariates included were those that were meaningful in the univariate analysis (age, occupation, marital status, living arrangement, education level, monthly income, and number of hobbies). The outcomes are displayed in Table 5. After adjusting for potential confounders, it was observed that RNT was negatively associated with cognitive function in the 60 ~ 79, middle school, and high school/technical school/secondary school groups. Within these subgroups, higher RNT scores were related to lower cognitive function scores. In contrast, RNT was not associated with cognitive function in the 80 ~ 90, primary school, and illiteracy.&lt;/p&gt;
    &lt;head rend="h2"&gt;Discussion&lt;/head&gt;
    &lt;p&gt;The present study suggested that the risk of cognitive impairment increased with higher RNT scores among older adults, and the robustness of the finding was confirmed through adjustment for various potential confounding variables. Additionally, individuals aged 60 ~ 79 years, junior high school and above were more prone to suffer from cognitive impairment with a high RNT score. However, the correlation between RNT and cognitive function was not significant in older adults aged 80 to 90 years, or those in elementary school and below.&lt;/p&gt;
    &lt;p&gt;To date, there have been limited endeavors to explore the correlation between RNT and cognitive function in older adults. Marchant et al. conducted a cohort study in 2016 to find that RNT was associated with decline in cognition, including global cognition, immediate and delayed memory [23]. In addition, the study found that increased level of RNT was associated with cognitive decline and neuroimaging biomarkers of Alzheimer’s disease (i.e., amyloid, tau). Another cross-sectional study found that increased level of RNT was associated with worse subjective cognition and increased memory complaints. Consistent with previous studies, our data demonstrates that higher level of RNT is related to worsecognitive function. In addition to this, this study found RNT was associated with cognitive domains except language skills. When participants were stratified by age and education level, a notable negative correlation was observed between RNT and cognitive function among older adults aged 60~69 years or junior high school and above. There are reasons why RNT does not correlate with cognitive function in older adults who are 80 to 90 years of age or have elementary school or below as follows. Increased brain aging in this age group may have altered the relationship between cognition and mood, or it may have weakened the association. The limited ability of older adults with low education level to perceive and express RNT resulted in a non-significant correlation between RNT and cognitive function.&lt;/p&gt;
    &lt;p&gt;The underlying mechanisms linking psychological disorder to cognitive function remain vague. One study found that increased level of RNT was closely related to gray and white matter structures in the brain, particularly in the dorso-lateral prefrontal cortex, anterior cingulate cortex, the arcuate fasciculus, and superior longitudinal fasciculus [31]. These regions are related to cognitive control, emotion processing and regulation [32]. Increased level of RNT may lead to changes in the brain’s structural functions related to cognitive control, leading to further cognitive decline. Cognitive debt theory suggests that psychology disorder can lead to damage to the hippocampus by increasing glucocorticoid levels and inducing inflammation and vascular disease in the brain, which impairs cognitive function [33]. RNT as a common trait of many types of psychology disorder, can be initiated and maintained without external triggers or awareness and narrows the scope of attention to repeatedly activated negative thoughts, thus provoking the individual to repeatedly experience physical and psychological distress, leading to the onset of psychology disorders, which in turn may increase the risk of cognitive impairment. As a person adopts the habits of negative thinking for a long-term, it constantly depletes the brain’s limited resources, leading to a decline in the brain’s ability to attention, executive functions, and memory [34, 35]. Older adulthood is a special stage with more pressure and stressful events. Along with the aging process, older adults will face physiological changes such as reduced self-care, frailty and the development of physical illnesses [36,37,38]. At the same time, they will experience negative stressful events such as a reduction in financial income, a decline in social status, and the death of friends and partners [39, 40]. These make older adults vulnerable to RNT, which further can have a range of negative effects on them.&lt;/p&gt;
    &lt;p&gt;Age is the biggest and uncontrollable risk factor for cognitive decline [41]. Literature has indicated that MCI incidence in China was 11.9% for older adults ages 60 to 69, 19.3% for 70 to 79, 24.4% for 80 to 89, 33.1% for 90 and above [3]. People over 80 are the fastest growing demographic around the world and they are at higher risk of developing cognitive impairment [42]. With the aging process, the physiological of the older adults gradually decline with the structure and function of the brain tissue gradual decline and the function of neural cell loss [43]. In addition, the continued accumulation of health risk factors increases the risk of chronic diseases such as hypertension, diabetes and coronary heart disease [44]. This disease led to amyloid plaque deposition through several mechanisms, such as increased oxidative stress, promoting inflammatory reaction, caused metabolic disorders. These mechanisms increase the risk of cognitive decline.&lt;/p&gt;
    &lt;p&gt;Education level is a more consistent influence on cognitive function in most studies. Older adults with lower levels of education generally have limited nutritional conditions in early childhood or limited educational resources, which may have an impact on cognitive function [45]. They are more likely to be engaged in manual occupation and lack of exercise for brain, which leads to premature degeneration of neurons in the brain, thus reducing cognitive function [46]. In addition, older adults with lower levels of education may lack such knowledge, further increasing the risk of cognitive impairment [47].&lt;/p&gt;
    &lt;p&gt;This study offered multiple strengths. Firstly, in examining the association between RNT and cognitive function, the study eliminated as many bias-inducing factors as possible to ensure more reliable results through previous research and by conducting in-depth analyses that took into account a variety of possible potential confounders. Secondly, the study investigated the relationship between RNT and cognitive function through regression and subgroup analysis suggesting a negative association between RNT and cognitive function in community-dwelling older adults. In the future, the assessment of mental health can be incorporated into the health screening of older adults to comprehensively evaluate their health status. Health professionals and carers can enhance the assessment of RNT in older adults and identify problems promptly. By developing interventions to avoid further exacerbation of psychological problems in the elderly and increased risk of other diseases such as cognitive impairment.&lt;/p&gt;
    &lt;p&gt;However, there were limitations in the present study. First, a definitive causal relationship between RNT and cognitive function could not determine in this study since this study was a cross-sectional design. Secondly, since convenience sampling method was used in this study and all the participants in our study were selected only from Wuchan District and Hongshan District in Wuhan city, which suffered short time span, small sample size, and bad representativeness. In the future, multi-center and a longer time span cohort studies on the relationship between RNT and cognitive function should be carried out to further explore the mechanisms involved. Nonetheless, these findings have implications that are crucial to interventions that promote cognitive function in older adults.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;In conclusion, this is the first study to investigate the relationship between RNT and cognitive function in Chinese older adults. After adjusting for a range of confounders, RNT is associated with cognitive function decline in older adults. The assessment of RNT levels in older adults can be enhanced, and psychological interventions and other measures can be taken to reduce RNT levels and further prevent cognitive decline.&lt;/p&gt;
    &lt;head rend="h2"&gt;Data availability&lt;/head&gt;
    &lt;p&gt;The datasets used and/or analysed during the current study are available from the corresponding author on reasonable request.&lt;/p&gt;
    &lt;head rend="h2"&gt;Change history&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;head rend="h3"&gt;23 July 2025&lt;/head&gt;
        &lt;p&gt;In the original publication, the affiliations 1 and 2 were incorrect. The article has been updated to rectify the errors.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Abbreviations&lt;/head&gt;
    &lt;list rend="dl"&gt;
      &lt;item rend="dt-1"&gt;RNT:&lt;/item&gt;
      &lt;item rend="dd-1"&gt;
        &lt;p&gt;Repetitive negative thinking&lt;/p&gt;
      &lt;/item&gt;
      &lt;item rend="dt-2"&gt;PTQ:&lt;/item&gt;
      &lt;item rend="dd-2"&gt;
        &lt;p&gt;Perseverative Thinking Questionnaire&lt;/p&gt;
      &lt;/item&gt;
      &lt;item rend="dt-3"&gt;MCI:&lt;/item&gt;
      &lt;item rend="dd-3"&gt;
        &lt;p&gt;Mild cognitive impairment&lt;/p&gt;
      &lt;/item&gt;
      &lt;item rend="dt-4"&gt;MoCA:&lt;/item&gt;
      &lt;item rend="dd-4"&gt;
        &lt;p&gt;Montreal Cognitive Assessment&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;References&lt;/head&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Canadian Task Force on Preventive Health Care, Pottie K, Rahal R, Jaramillo A, Birtwhistle R, Thombs BD, et al. Recommendations on screening for cognitive impairment in older adults. CMAJ. 2016;188(1):37–46. https://doi.org/10.1503/cmaj.141165.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;GBD 2019 Dementia Forecasting Collaborators. Estimation of the global prevalence of dementia in 2019 and forecasted prevalence in 2050: an analysis for the global burden of disease study 2019. Lancet Public Health. 2022;7(2):e105–25. https://doi.org/10.1016/S2468-2667(21)00249-8.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Jia L, Du Y, Chu L, Zhang Z, Li F, Lyu D, et al. Prevalence, risk factors, and management of dementia and mild cognitive impairment in adults aged 60 years or older in China: a cross-sectional study. Lancet Public Health. 2020;5(12):e661–71. https://doi.org/10.1016/S2468-2667(20)30185-7.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Jia J, Wei C, Chen S, Li F, Tang Y, Qin W, et al. The cost of Alzheimer’s disease in China and re-estimation of costs worldwide. Alzheimer’s Dement J Alzheimer’s Assoc. 2018;14(4):483–91. https://doi.org/10.1016/j.jalz.2017.12.006.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Livingston G, Sommerlad A, Orgeta V, Costafreda SG, Huntley J, Ames D, et al. Dementia prevention, intervention, and care. Lancet. 2017;390(10113):2673–734. https://doi.org/10.1016/S0140-6736(17)31363-6.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Zhou D, Zhan Q, Li L. The impact of self-employment on mental health of the younger elderly in China. BMC Geriatr. 2023;23(1):280. https://doi.org/10.1186/s12877-023-03948-5.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Sivakumar PT, Mukku SSR, Antony S, Harbishettar V, Kumar CN, Math SB. Implications of mental healthcare act 2017 for geriatric mental health care delivery: A critical appraisal. Indian J Psychiatry. 2019;61(Suppl 4):S763–7. https://doi.org/10.4103/psychiatry.IndianJPsychiatry_100_19.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Wang H, Hou Y, Zhang L, Yang M, Deng R, Yao J. Chinese elderly migrants’ loneliness, anxiety and depressive symptoms: the mediation effect of perceived stress and resilience. Front Public Health. 2022;10:998532. https://doi.org/10.3389/fpubh.2022.998532.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Li CWY, Yao YT, Hu YD. Mental health status of the elderly in China and intervention suggestions. China Med Herald. 2021;18(15):192–6.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Boyle LL, Porsteinsson AP, Cui X, King DA, Lyness JM. Depression predicts cognitive disorders in older primary care patients. J Clin Psychiatry. 2010;71(1):74–9. https://doi.org/10.4088/JCP.08m04724gry.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Gulpers BJA, Verhey FRJ, Eussen SJPM, Schram MT, de Galan BE, van Boxtel MPJ, et al. Anxiety and cognitive functioning in the Maastricht study: A cross-sectional population study. J Affect Disord. 2022;319:570–9. https://doi.org/10.1016/j.jad.2022.09.072.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Botto R, Callai N, Cermelli A, Causarano L, Rainero I. Anxiety and depression in Alzheimer’s disease: a systematic review of pathogenetic mechanisms and relation to cognitive decline. Neurol Sci. 2022;43(7):4107–24. https://doi.org/10.1007/s10072-022-06068-x.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Hou P, Xue H, Zhang Y, Ping Y, Zheng Y, Wang Y, et al. Mediating effect of loneliness in the relationship between depressive symptoms and cognitive frailty in Community-Dwelling older adults. Brain Sci. 2022;12(10):1341. https://doi.org/10.3390/brainsci12101341.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Nolen-Hoeksema S. Sex differences in unipolar depression: evidence and theory. Psychol Bull. 1987;101(2):259–82.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Borkovec TD, Robinson E, Pruzinsky T, DePree JA. Preliminary exploration of worry: some characteristics and processes. Behav Res Ther. 1983;21(1):9–16. https://doi.org/10.1016/0005-7967(83)90121-3.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Mahoney AE, McEvoy PM, Moulds ML. Psychometric properties of the repetitive thinking questionnaire in a clinical sample. J Anxiety Disord. 2012;26(2):359–67. https://doi.org/10.1016/j.janxdis.2011.12.003.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Ehring T, Watkins ER. Repetitive negative thinking as a transdiagnostic process. Int J Cogn Therapy. 2008.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Nota JA, Coles ME. Shorter sleep duration and longer sleep onset latency are related to difficulty disengaging attention from negative emotional images in individuals with elevated transdiagnostic repetitive negative thinking. J Behav Ther Exp Psychiatry. 2018;58:114–22. https://doi.org/10.1016/j.jbtep.2017.10.003.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Spinhoven P, van Hemert AM, Penninx BW. Repetitive negative thinking as a predictor of depression and anxiety: a longitudinal cohort study. J Affect Disord. 2018;241:216–25. https://doi.org/10.1016/j.jad.2018.08.037.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Ehring T, Zetsche U, Weidacker K, Wahl K, Schönfeld S, Ehlers A. The perseverative thinking questionnaire (PTQ): validation of a content-independent measure of repetitive negative thinking. J Behav Ther Exp Psychiatry. 2011;42(2):225–32. https://doi.org/10.1016/j.jbtep.2010.12.003.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Nolen-Hoeksema S, Wisco BE, Lyubomirsky S. Rethinking rumination. Perspect Psychol Sci. 2008;3(5):400–24. https://doi.org/10.1111/j.1745-6924.2008.00088.x.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;McEvoy PM, Watson H, Watkins ER, Nathan P. The relationship between worry, rumination, and comorbidity: evidence for repetitive negative thinking as a transdiagnostic construct. J Affect Disord. 2013;151(1):313–20. https://doi.org/10.1016/j.jad.2013.06.014.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Marchant NL, Lovland LR, Jones R, et al. Repetitive negative thinking is associated with amyloid, Tau, and cognitive decline. Alzheimers Dement. 2020;16(7):1054–64. https://doi.org/10.1002/alz.12116.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Schlosser M, Demnitz-King H, Whitfield T, Wirth M, Marchant NL. Repetitive negative thinking is associated with subjective cognitive decline in older adults: a cross-sectional study. BMC Psychiatry. 2020;20(1):500. https://doi.org/10.1186/s12888-020-02884-7.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Kelsey J, Whittemore A, Evans A, Thompson W. Methods of sampling and Estimation of sample size. Methods Observational Epidemiol. 1996;311:340.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Ai YT, Hu H, Wang L, Gao XL, Wang ZC, Ren HR et al. Current status of cognitive function and risk factors of the older adults in Wuhan. Chinese Journal of Gerontology. 2019;39(10):2507–2510. doi: 10. 3969/j. issn. 1005–9202. 2019. 10. 065.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Kornacka M, Buczny J, Layton RL. Assessing repetitive negative thinking using categorical and transdiagnostic approaches: a comparison and validation of three Polish Language adaptations of Self-Report questionnaires. Front Psychol. 2016;7:322. https://doi.org/10.3389/fpsyg.2016.00322.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Devynck F, Kornacka M, Baeyens C, Serra É, Neves JFD, Gaudrat B, et al. Perseverative thinking questionnaire (PTQ): French validation of a transdiagnostic measure of repetitive negative thinking. Front Psychol. 2017;8:2159. https://doi.org/10.3389/fpsyg.2017.02159.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;China Dementia and Cognitive Disorders Guidelines Writing Group, Professional Committee of Cognitive Impairment Diseases of Chinese Medical Doctor Association Neurosurgery Branch. 2018 China dementia and cognitive disorders diagnosis and treatment guidelines (V): diagnosis and treatment of mild cognitive impairment. Nat. Med. J. China. 2018,98(17):1294–1301. https://doi.org/10.3760/cma.j.issn.0376-2491.2018.17.00&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Zhang LX, Liu XQ. A study on reliability and validity of MOCA scale of Chinese version. Chin Nurs Res. 2007;31:2906–7.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Demnitz-King H, Göehre I, Marchant NL. The neuroanatomical correlates of repetitive negative thinking: A systematic review. Psychiatry Res Neuroimaging. 2021;316:111353. https://doi.org/10.1016/j.pscychresns.2021.111353.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Liu S, Abdellaoui A, Verweij KJH, van Wingen GA. Gene expression has distinct associations with brain structure and function in major depressive disorder. Adv Sci (Weinh). 2023;10(7):e2205486. https://doi.org/10.1002/advs.202205486.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Wu JJ, Wang HX, Yao W, Yan Z, Pei JJ. Late-life depression and the risk of dementia in 14 countries: a 10-year follow-up study from the survey of health, ageing and retirement in Europe. J Affect Disord. 2020;274:671–7. https://doi.org/10.1016/j.jad.2020.05.059.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Lewis EJ, Blanco I, Raila H, Joormann J. Does repetitive negative thinking affect attention? Differential effects of worry and rumination on attention to emotional stimuli. Emotion. 2019;19(8):1450–62. https://doi.org/10.1037/emo0000535.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Mennies RJ, Stewart LC, Olino TM. The relationship between executive functioning and repetitive negative thinking in youth: A systematic review of the literature. Clin Psychol Rev. 2021;88:102050. https://doi.org/10.1016/j.cpr.2021.102050.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Alavijeh MS, Zandiyeh Z, Moeini M. The effect of self-care self-efficacy program on life satisfaction of the Iranian elderly. J Educ Health Promot. 2021;10(1):167. https://doi.org/10.4103/jehp.jehp_928_20.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Dent E, Lien C, Lim WS, Wong WC, Wong CH, Ng TP, et al. The Asia-Pacific clinical practice guidelines for the management of frailty. J Am Med Dir Assoc. 2017;18(7):564–75. https://doi.org/10.1016/j.jamda.2017.04.018.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Wen W, Zhang Y, Shi W, Li J. Association between internet use and physical health, mental health, and subjective health in Middle-aged and older adults: nationally representative Cross-sectional survey in China. J Med Internet Res. 2023;25:e40956. https://doi.org/10.2196/40956.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Friebe J, Schmidt-Hertha B. Activities and barriers to education for elderly people. J Contemp Educ Stud. 2013;64:1.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Azizi A, Sepahvandi MA, Peyda N, Mohamadi J. Effective approach to the study of aging: grounded theory study. Iran J Ageing. 2016;10(4):88–101.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Prince M, Bryce R, Albanese E, Wimo A, Ribeiro W, Ferri CP. The global prevalence of dementia: a systematic review and metaanalysis. Alzheimers Dement. 2013;9:63–75. https://doi.org/10.1016/j.jalz.2012.11.00.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Zhang PD, Lv YB, Li ZH, Yin ZX, Li FR, Wang JN, et al. Age, period, and cohort effects on activities of daily living, physical performance, and cognitive functioning impairment among the Oldest-Old in China. J Gerontol Biol Sci Med Sci. 2020;75(6):1214–21. https://doi.org/10.1093/gerona/glz196.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Wang L, Cao M, Pu T, Huang H, Marshall C, Xiao M. Enriched physical environment attenuates Spatial and social memory impairments of aged socially isolated mice. Int J Neuropsychopharmacol. 2018;21(12):1114–27. https://doi.org/10.1093/ijnp/pyy084.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Matyjaszek-Matuszek B, Lenart-Lipińska M, Woźniakowska E. Clinical implications of vitamin D deficiency. Prz Menopauzalny. 2015;14(2):75–81. https://doi.org/10.5114/pm.2015.52149.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Aihemaitijiang S, Ye C, Halimulati M, Huang X, Wang R, Zhang Z. Development and validation of nutrition literacy questionnaire for the Chinese elderly. Nutrients. 2022;14(5):1005. https://doi.org/10.3390/nu14051005.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Hämmig O, Bauer GF. The social gradient in work and health: a cross-sectional study exploring the relationship between working conditions and health inequalities. BMC Public Health. 2013;13:1170. https://doi.org/10.1186/1471-2458-13-1170.&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Zhang D, Wu S, Zhang Y, Yang P, MacIntyre CR, Seale H, et al. Health literacy in Beijing: an assessment of adults’ knowledge and skills regarding communicable diseases. BMC Public Health. 2015;15:799. https://doi.org/10.1186/s12889-015-2151-1.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Acknowledgements&lt;/head&gt;
    &lt;p&gt;The authors thank all the study participants.&lt;/p&gt;
    &lt;head rend="h2"&gt;Funding&lt;/head&gt;
    &lt;p&gt;This study was funded by a National Natural Science Foundation of China in 2019(81973921). The authors appreciate the staff and residents of the institutions who participated in the study.&lt;/p&gt;
    &lt;head rend="h2"&gt;Author information&lt;/head&gt;
    &lt;head rend="h3"&gt;Authors and Affiliations&lt;/head&gt;
    &lt;head rend="h3"&gt;Contributions&lt;/head&gt;
    &lt;p&gt;NSY involved in conception of study, acquisition of data, data entry, interpretation of results and drafting manuscript. LP and BD involved in acquisition of data and finalization of manuscript. HH involved in conception of study, acquisition of data, interpretation of results and finalization of manuscript. YCW, TYZ, and YTA involved in finalization of manuscript. XTL, SZ, and YCL involved in acquisition of data and data entry.&lt;/p&gt;
    &lt;head rend="h3"&gt;Corresponding author&lt;/head&gt;
    &lt;head rend="h2"&gt;Ethics declarations&lt;/head&gt;
    &lt;head rend="h3"&gt;Ethics approval and consent to participate&lt;/head&gt;
    &lt;p&gt;The study was reviewed and approved by the Medical Ethics Committee of Hubei University of Chinese Medicine (Approved No. of ethic committee: [2019]IEC(003)). All methods were carried out in accordance with the relevant guidelines and regulations, following the principles of the Declaration of Helsinki. Informed consent was obtained, with subjects advised that participation was voluntary with information kept confidential.&lt;/p&gt;
    &lt;head rend="h3"&gt;Consent for publication&lt;/head&gt;
    &lt;p&gt;Not applicable.&lt;/p&gt;
    &lt;head rend="h3"&gt;Competing interests&lt;/head&gt;
    &lt;p&gt;The authors declare no competing interests.&lt;/p&gt;
    &lt;head rend="h3"&gt;Clinical trial number&lt;/head&gt;
    &lt;p&gt;Not applicable.&lt;/p&gt;
    &lt;head rend="h2"&gt;Additional information&lt;/head&gt;
    &lt;head rend="h3"&gt;Publisher’s note&lt;/head&gt;
    &lt;p&gt;Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.&lt;/p&gt;
    &lt;head rend="h2"&gt;Electronic supplementary material&lt;/head&gt;
    &lt;p&gt;Below is the link to the electronic supplementary material.&lt;/p&gt;
    &lt;head rend="h2"&gt;Rights and permissions&lt;/head&gt;
    &lt;p&gt;Open Access This article is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License, which permits any non-commercial use, sharing, distribution and reproduction in any medium or format, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if you modified the licensed material. You do not have permission under this licence to share adapted material derived from this article or parts of it. The images or other third party material in this article are included in the article’s Creative Commons licence, unless indicated otherwise in a credit line to the material. If material is not included in the article’s Creative Commons licence and your intended use is not permitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this licence, visit http://creativecommons.org/licenses/by-nc-nd/4.0/.&lt;/p&gt;
    &lt;head rend="h2"&gt;About this article&lt;/head&gt;
    &lt;head rend="h3"&gt;Cite this article&lt;/head&gt;
    &lt;p&gt;Ye, N., Peng, L., Deng, B. et al. Repetitive negative thinking is associated with cognitive function decline in older adults: a cross-sectional study. BMC Psychiatry 25, 562 (2025). https://doi.org/10.1186/s12888-025-06815-2&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;Received:&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Accepted:&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Published:&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;DOI: https://doi.org/10.1186/s12888-025-06815-2&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45239085</guid><pubDate>Sun, 14 Sep 2025 11:37:33 +0000</pubDate></item><item><title>Read to forget</title><link>https://mo42.bearblog.dev/read-to-forget/</link><description>&lt;doc fingerprint="b4f9f8e6259a1b04"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Read to Forget&lt;/head&gt;
    &lt;p&gt;I read to forget. Even when studying or working on papers for a PhD, I approach texts with the same mindset: I'm not a storage device that needs to save all bits of information. I am more of a system of Bayesian beliefs, constantly evolving and updating in small, incremental steps.&lt;/p&gt;
    &lt;p&gt;I remember co-workers highlighting large chunks of text, sometimes 40%. That doesn't make sense to me. We can only read a text once, given the number of compelling works and the limited time available to us. So, I read to forget. When I start reading, I'm prepared to lose 98% of what's in front of me. From most texts, I only want two things: First, I want it to subtly alter my thinking, an incremental update that moves me towards a refined world model. Second, I want to pull out a few key pieces of information that I might use later in my writing. For instance, if I come across a well-written methodology section in a paper, I’ll save that. Reading should stimulate my thinking and produce new ideas. I've found myself reading a paper, pausing midway, and immediately experimenting with some variation of the algorithm described, leading to new ideas or even a new paper.&lt;/p&gt;
    &lt;p&gt;If a non-fiction text doesn't spark new thoughts or actions, it may not even be worthwhile reading. Anything beyond that clutters my note-taking system. You can't possibly keep track of everything, nor can you work with hoarded pieces of information.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45239601</guid><pubDate>Sun, 14 Sep 2025 13:23:12 +0000</pubDate></item><item><title>Why We Spiral</title><link>https://behavioralscientist.org/why-we-spiral/</link><description>&lt;doc fingerprint="5d0a0a15efb30cdb"&gt;
  &lt;main&gt;
    &lt;p&gt;Say you’re a senior member of your team at work. You’re 12 minutes late to the weekly staff Zoom. Once you’ve “joined audio,” the first thing you hear is your old friend’s voice. “There you are! So glad you could fit us in.” You laugh and explain the disastrous traffic, difficult drop-off at your kids’ school, or whatever it was that messed up your morning. The moment passes and the conversation moves on. You turn to the job at hand, focused and ready to go.&lt;/p&gt;
    &lt;p&gt;But what if you’re a junior staffer, still feeling your way. Same thing happens: You’re 12 minutes late to the weekly staff Zoom. Once you’ve “joined audio,” the first thing you hear is the boss’s voice. “There you are! So glad you could fit us in.” A few colleagues chuckle. You consider making excuses—about traffic, drop-off, whatever it was—but the moment passes, and the conversation moves on.&lt;/p&gt;
    &lt;p&gt;Your mind doesn’t, though. It’s still ruminating. Was that snark in my boss’s voice? Were they talking about me before I logged on? Do I fit in here? Am I any good at this job? You might not be fully aware of these questions. Your mind works quickly on multiple tracks at the same time. And those questions are nasty; they threaten your sense of belonging, your worth, and your value, at least at work. So you try to push them away, to suppress them. But they’re still there. And once they’ve been triggered, it might feel like the evidence keeps pouring in.&lt;/p&gt;
    &lt;p&gt;Someone makes an inside joke in the chat. You don’t get it. I don’t belong here. Someone rolls their eyes while you’re talking. They don’t respect me. The boss ignores you for the rest of the meeting. No one sees me. Again, these thoughts may not be fully conscious. But there’s no mistaking the fact that your motivation to get back to work has waned by the time you log off. What was it you were supposed to look into?&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Was that snark in my boss’s voice? Were they talking about me before I logged on? Do I fit in here? Am I any good at this job?&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Next thing you know, you’re idly messing around online when a text comes in from the person who rolled their eyes. “You okay? You seemed out of it at the meeting.” You ignore it. But your mind doesn’t. It’s busy composing possible replies. The full spectrum from passive-aggressive to career imperiling. Eventually you pick up your phone. What will you text back?&lt;/p&gt;
    &lt;p&gt;This is how self-defeating spirals start and how they gather speed. Let’s break down the moving parts:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;A circumstance places a big question on the table—about identity, belonging, or adequacy: You’re new at work. You want to succeed and belong, but you wonder . . . That question looms, latent and inactive, but present.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;A “bad” thing happens: Your boss is a little snarky.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;That question gets triggered: You read the room for answers, drawing negative inferences from ambiguous evidence. You’re distracted from the task at hand. Your pessimistic hypothesis becomes more entrenched.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;You act on that pessimistic hypothesis, making matters worse.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Maybe you send that colleague a snarky text back. And what do you know: When you see them a few days later, they’re cold to you.&lt;/p&gt;
    &lt;p&gt;Now you aren’t talking. Maybe you flub that assignment your boss gave you, and they lose confidence in you. Fast-forward a year and you’re at a new job. Tensions are emerging with the new coworkers. Or are they? How will this story end? Do you have any control over it?&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;When a core question is unsettled, it functions like a lens through which you see the world.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Yes, you do. We all do. Negative spirals or feedback loops like these aren’t inevitable. In fact, there are small things we can do both for ourselves and for others to nip them in the bud—and prevent catastrophic outcomes months and years into the future. Better yet, there are ways we can launch positive spirals—dramatically increasing our chances of future happiness, success, and flourishing. The very same processes can either propel us upward or pull us down.&lt;/p&gt;
    &lt;p&gt;To understand how all this is possible, let’s get more precise about sequences like 1–4 above. There are three key concepts at play: “core questions” (number 1), meaning making or “construal” (numbers 2 and 3), and “calcification” (number 4). Think of these as “the three Cs” of spirals—whether positive or negative.&lt;/p&gt;
    &lt;p&gt;Core questions. There are the fundamental questions all of us face, at one time or another. For example: Who am I? Do I belong? Am I enough? I think of these questions as “defining” because they help define you and your life: your sense of self, what relationships you’ll have, and whether you’ll be able to do and be the things you aspire to. There might be long stretches when you don’t think about a given question much because it’s settled for you then. But at critical junctures specific questions flare up, unsettle and preoccupy you. Then they begin to shape what you see and how you act.&lt;/p&gt;
    &lt;p&gt;Construal. It’s natural to think that we have an unfiltered view of the world. That light hits your eyes and you just see what’s out there. But it’s more that we read the world, interpret it, drawing inferences based on what’s already in our heads. We pick up on themes that seem relevant or important to us, not noticing or screening out other details.&lt;/p&gt;
    &lt;p&gt;A friend once told me of an ingenious class demonstration that helped her begin to understand this process. A professor split the class in two and then spoke to the first half alone, telling them of his love for travel and a recent trip to Libya. Next, he spoke to the second half about shopping and how hard it was to find the right size shoe. Last, he brought the class together and said a single word. He asked the students to write it down. Students in the first group wrote, “Tripoli.” Those in the second wrote, “Triple E.”&lt;/p&gt;
    &lt;p&gt;Construal is like a kind of focus. As you look out at the social scene, what snaps to attention? If you’re anything like me, one of the most powerful guides is whatever could pose a risk to you, could threaten you. If you’re walking through a forest where a tiger is said to prowl, you might hear that tiger in every rustle of leaves, see it in every sway of reeds. But in the social world, we don’t all face the same threats. That’s why when you’re new at work and nervous about your place you might hear snark in your boss’s voice, but not if it’s your old friend.&lt;/p&gt;
    &lt;p&gt;When a core question is unsettled for a person, it functions like a lens through which you see the world. We seek answers that can help us resolve that question. Is it true? we ask. Are my doubts and fears well founded? Then, if a “bad” thing happens, it can seem like proof of your negative hypothesis. We aren’t neutral observers on the lookout for evidence one way or the other. We’re in the grip of confirmation bias, attuned to evidence that corroborates our preconceived theory, even if it’s the tiniest thing.&lt;/p&gt;
    &lt;p&gt;Calcification. Calcification happens when our negative thoughts and feelings get entrenched—often as a consequence of our own actions. You have a bad date and think, Am I unlovable? Will I be alone forever? Pretty soon your next date isn’t going well either. Rinse and repeat long enough, and you’re stuck in a romantic rut.&lt;/p&gt;
    &lt;p&gt;When you start to look, you can see spirals everywhere. You fail an important math test. You think you can’t succeed, and stop going to class. You feel sick from a treatment designed to help you overcome an illness. You think it means your illness is especially strong and resistant and so avoid treatment. You have a fight with your kids. You think you’re a “bad parent,” and then yell at them even more the next time. This is self-sabotage, and one step at a time it costs us our achievements, our health, our relationships, and our well-being.&lt;/p&gt;
    &lt;p&gt;Spiraling up&lt;/p&gt;
    &lt;p&gt;Yet if our struggles arise, in part, from the inferences we draw, we have an opportunity. In my work, my colleagues and I identify early moments where people could go one way or the other. By understanding the questions that come up at critical junctures, we can offer people better ways to think through challenges—ways that can help them spiral up, instead of down.&lt;/p&gt;
    &lt;p&gt;That’s what we call “wise” interventions: graceful ways to offer people good answers to the questions that define our lives. It sure can seem like magic that 21 minutes could improve marriage a year later; that a one-page letter could keep kids out of jail; that a string of postcards could cut suicide rates by half over two years; or that an hour-long reflection on belonging in the first year of college could improve life satisfaction and career success a decade later. But this—this is ordinary magic.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Negative spirals or feedback loops aren’t inevitable. There are things we can do both for ourselves and for others to nip them in the bud.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;In my first year of college, I was biking back through campus one lovely fall day when I saw a large group of fellow students gathered enthusiastically around a truck from the California burger chain In-N-Out. Maybe they craved a taste of home. But in Michigan, where I was from, there are no In-N-Outs. I’d never heard of it. Feeling excluded from the burger party, I biked off in a huff to eat my lunch in the dining hall alone. I remember thinking, I’m not standing in line for a burger!&lt;/p&gt;
    &lt;p&gt;What was my problem?&lt;/p&gt;
    &lt;p&gt;As an 18-year-old, I certainly didn’t want to think of myself as feeling that I did not belong in college. And I definitely didn’t want to think that an In-N-Out truck could trigger that feeling. How ridiculous that would be. Who thinks they don’t belong because of a burger truck?&lt;/p&gt;
    &lt;p&gt;It was ridiculous. After my brother experienced a particularly mysterious romantic disaster, it’s something we christened a “tifbit”—tiny fact, big theory. Of course not knowing about In-N-Out didn’t mean I didn’t belong in college. But that’s the point. For looking back now, I know the truth is I was homesick. I felt so far from home and all the people I knew and loved. So I wondered, Will I make friends in California? Will I fit in? Seeing all those classmates crowded together, eager to get lunch from a place I’d never even heard of, just triggered those anxieties.&lt;/p&gt;
    &lt;p&gt;With wisdom and kindness and a little distance, we can laugh at ourselves in situations like these. But we should pay attention. For beneath every tifbit is a real question, and it’s almost always a reasonable one. Big responses to small experiences can help us see what lies beneath the surface. For a tifbit is never just a tiny fact. It’s a clue to the bigger questions that define our lives.&lt;/p&gt;
    &lt;p&gt;With a little prompt, I could have known that almost everyone feels homesick at first in college, that we’re all in some sense far from home, even the kids from California, that everyone was trying to find new communities. Maybe then I would have joined the line at the In-N-Out truck. I could have asked someone to tell me what In-N-Out was. Why do they love it? What is “animal style”?&lt;/p&gt;
    &lt;p&gt;I’m sure they would have been glad to share. I know I would have had a better lunch. And maybe I would have made a friend, too.&lt;/p&gt;
    &lt;p&gt;Excerpted from Ordinary Magic copyright © 2025 by Gregory M. Walton. Used by permission of Harmony Books, an imprint of Random House, a division of Penguin Random House LLC, New York. All rights reserved. No part of this excerpt may be reproduced or reprinted without permission in writing from the publisher.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45240146</guid><pubDate>Sun, 14 Sep 2025 14:46:58 +0000</pubDate></item><item><title>Nicu's test website made with SVG (2007)</title><link>https://svg.nicubunu.ro/</link><description>&lt;doc fingerprint="d70295d149350397"&gt;
  &lt;main&gt;Nicu's test website made with SVG
Navigation Menu
Experiment by:
nicubunu.ro
/
nicubunu.blogspot.com
This is a test page made to test Google's indexing abilities for SVG files.I am primarily interested in the following:- full text indexing - does Google index the text or will threat the file as an image?- links - will Google follow the links present in this SVG and index the linked files?There are more other things o test, but for the time being these two are blockers.The purpose of the test is to determine the effectiveness of using solely Inkscapefor authoring web sites.If you, as a reader of this page have more information on the subject and are willing to give me some more info, a contact address should be available in the About page linked in the right menu.This test website was made entirely with Inkscape.Notes: - I am fully aware about how the improper use of SVG could get a lot of bloat andinstatisfaction for the users;- SVG is a standard of the World Wide Web consortium;- This page use a few advanced SVG fatures (like Gaussian Blur) which are notfully supported by the current browsers (but will fall-back decently) and for the best experience you will need a browser powered by Geck 1.9 or later (like Firefox 3.0or later).Text to be found by search engines: lmtbk4mh.
Home
Home
Stuf
About
lmtbk4mh&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45240391</guid><pubDate>Sun, 14 Sep 2025 15:13:42 +0000</pubDate></item><item><title>Writing an operating system kernel from scratch</title><link>https://popovicu.com/posts/writing-an-operating-system-kernel-from-scratch/</link><description>&lt;doc fingerprint="b60e921211a1b64c"&gt;
  &lt;main&gt;
    &lt;p&gt;I recently implemented a minimal proof of concept time-sharing operating system kernel on RISC-V. In this post, I’ll share the details of how this prototype works. The target audience is anyone looking to understand low-level system software, drivers, system calls, etc., and I hope this will be especially useful to students of system software and computer architecture.&lt;/p&gt;
    &lt;p&gt;This is a redo of an exercise I did for my undergraduate course in operating systems, and functionally it should resemble a typical operating systems project. However, this experiment focuses on modern tooling, as well as the modern architecture of RISC-V. RISC-V is an amazing technology that is easy to understand more quickly than other CPU architectures, while remaining a popular choice for many new systems, not just an educational architecture.&lt;/p&gt;
    &lt;p&gt;Finally, to do things differently here, I implemented this exercise in Zig, rather than traditional C. In addition to being an interesting experiment, I believe Zig makes this experiment much more easily reproducible on your machine, as it’s very easy to set up and does not require any installation (which could otherwise be slightly messy when cross-compiling to RISC-V).&lt;/p&gt;
    &lt;head rend="h2"&gt;Table of contents&lt;/head&gt;
    &lt;head&gt;Open Table of contents&lt;/head&gt;
    &lt;head rend="h2"&gt;GitHub repo&lt;/head&gt;
    &lt;p&gt;The final code for this experiment is on GitHub here. We’ll be referencing the code from it as we go.&lt;/p&gt;
    &lt;p&gt;GitHub should be the source of truth and may be slightly out of sync with the code below.&lt;/p&gt;
    &lt;head rend="h2"&gt;Recommended reading&lt;/head&gt;
    &lt;p&gt;The basic fundamentals of computer engineering and specifically computer architecture are assumed. Specifically, knowledge of registers, how the CPU addresses memory, and interrupts is all necessary.&lt;/p&gt;
    &lt;p&gt;Before diving deep into this experiment, it’s recommended to also review the following background texts:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Bare metal programming on RISC-V&lt;/item&gt;
      &lt;item&gt;RISC-V boot process with SBI&lt;/item&gt;
      &lt;item&gt;RISC-V interrupts with a timer example&lt;/item&gt;
      &lt;item&gt;Optional - Making a micro Linux distro - mainly for the brief philosophy on the kernel / user space split&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Unikernel&lt;/head&gt;
    &lt;p&gt;We’ll be developing a type of unikernel. Simply put, this setup links the application code directly with the OS kernel it depends on. Essentially, everything is bundled into a single binary executable, and the user code is loaded into memory alongside the kernel.&lt;/p&gt;
    &lt;p&gt;This bypasses the need to separately load the user code at runtime, which is a complex field in itself (involving linkers, loaders, etc.).&lt;/p&gt;
    &lt;head rend="h2"&gt;SBI layer&lt;/head&gt;
    &lt;p&gt;RISC-V supports a layered permissions model. The system boots into machine mode (M), which is completely bare-metal, and then supports a couple of other less privileged modes. Please check the background texts for more details; below is a quick summary:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;M-mode can do pretty much anything; it is fully bare-metal.&lt;/item&gt;
      &lt;item&gt;In the middle is S-mode, supervisor, which typically hosts the operating system kernel.&lt;/item&gt;
      &lt;item&gt;At the bottom is U-mode, user, where application code runs.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Lower privilege levels can send requests to higher privilege levels.&lt;/p&gt;
    &lt;p&gt;We’ll assume that at the bottom of our software stack is an SBI layer, specifically OpenSBI. Please study this text for the necessary background, as we’ll use the SBI layer to manage console printing and control the timer hardware. While manual implementation is possible, I wanted to add more value to this text by demonstrating a more portable approach with OpenSBI.&lt;/p&gt;
    &lt;head rend="h2"&gt;Goal for the kernel&lt;/head&gt;
    &lt;p&gt;We want to support a few key features for simplicity:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Statically define threads ahead of execution; i.e., dynamic thread creation is not supported. Additionally, for simplicity, threads are implemented as never-ending functions.&lt;/item&gt;
      &lt;item&gt;Threads operate in user mode and are able to send system calls to the kernel operating in S-mode.&lt;/item&gt;
      &lt;item&gt;Time is sliced and allocated among different threads. The system timer will be set to tick every couple of milliseconds, at which point a thread may be switched out.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Finally, development is targeted for a single-core machine.&lt;/p&gt;
    &lt;head rend="h2"&gt;Virtualization and what exactly is a thread&lt;/head&gt;
    &lt;p&gt;Before implementing threads, we should decide what they really are. The concept of threads in a time-sharing environment enables multiple workloads to run on a single core (as noted above, we’re focusing on single-core machines), while the programming model for each thread remains largely the same as if it were the sole software on the machine. This is a loose definition, which we will refine.&lt;/p&gt;
    &lt;p&gt;To understand time-sharing, let’s briefly consider its contrast: cooperative scheduling/threading. In cooperative scheduling/threading, a thread voluntarily yields CPU time to another workload. Eventually, the expectation is that another thread will yield control back to the first.&lt;/p&gt;
    &lt;code&gt;function thread():
  operation_1();
  operation_2();
  YIELD();
  operation_3();
  YIELD();
  ...&lt;/code&gt;
    &lt;p&gt;To be clear, this isn’t an “outdated” technique, despite being older. In fact, it’s alive and well in many modern programming languages and their runtimes (often abstracted from programmers). One good example is Go, which uses Goroutines to run multiple workloads on top of one operating system thread. While programmers don’t necessarily add explicit yield operations, the compiler and runtime can inject them into the workload.&lt;/p&gt;
    &lt;p&gt;Now, it should be clearer what it means for the programming model to remain largely the same in a time-sharing context. The thread would naturally look like this:&lt;/p&gt;
    &lt;code&gt;function thread():
  operation_1();
  operation_2();
  operation_3();
  ...&lt;/code&gt;
    &lt;p&gt;There are simply no explicit yield operations; instead, the kernel utilizes timers and interrupts to seamlessly switch between threads on the same core. This is precisely what we’ll implement in this experiment.&lt;/p&gt;
    &lt;p&gt;When multiple workloads run on the same resource, and each retains the same programming model as if it were the only workload, we can say the resource is virtualized. In other words, if we’re running 5 threads on the same core, each thread “feels” like it has its own core, effectively running on 5 little cores instead of 1 big core. More formally, each thread retains its own view of the core’s architectural registers (in RISC-V, &lt;code&gt;x0-x31&lt;/code&gt; and some CSRs, more on this below) and… some memory! Let’s look deeper into that.&lt;/p&gt;
    &lt;head rend="h3"&gt;The stack and memory virtualization&lt;/head&gt;
    &lt;p&gt;To begin, a thread has its own stack for reasons we’ll analyze shortly. The rest of the memory is “shared” with other threads, but this requires further investigation.&lt;/p&gt;
    &lt;p&gt;It’s important to understand that hardware virtualization exists on a spectrum, rather than as a few rigid options. Here are some of the options for virtualization:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Threads: virtualizes architectural registers and stacks, but not much else; i.e., different threads can share data elsewhere in memory.&lt;/item&gt;
      &lt;item&gt;Process: more heavyweight than threads, memory is virtualized such that each process “feels” like it has a dedicated CPU core and its own memory untouchable by other processes; additionally, a process houses multiple threads.&lt;/item&gt;
      &lt;item&gt;Container: virtualizes even more - each container has its own filesystem and potentially its own set of network interfaces; containers share the same kernel and underlying hardware.&lt;/item&gt;
      &lt;item&gt;VM: virtualizes everything.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;There are many more shades in between, and each of these options likely has different subtypes. The point here is that all these approaches enable running different workloads with varying isolations, or more intuitively, different views of the machine and their environment.&lt;/p&gt;
    &lt;p&gt;Interestingly, if you examine the Linux kernel source code, you won’t find a construct explicitly called a container. What we popularly call containers isn’t a mechanism baked into the kernel, but rather a set of kernel mechanisms used together to form a specific view of the environment for our workload. For example, the &lt;code&gt;chroot&lt;/code&gt; mechanism restricts filesystem visibility, while &lt;code&gt;cgroups&lt;/code&gt; impose limits on workloads; together, these form what we call a container.&lt;/p&gt;
    &lt;p&gt;Furthermore, I believe (though don’t quote me on this) that the boundaries between threads and processes in Linux are somewhat blurred. To the best of my knowledge, both are implemented on top of tasks in the kernel, but when creating a task, the API allows different restrictions to be specified.&lt;/p&gt;
    &lt;p&gt;Ultimately, this is all to say that we’re always defining a workload with varying restrictions on what it can see and access. When and why to apply different restrictions is a topic for another day. Many questions arise when writing an application, ranging from the difficulty of an approach to its security.&lt;/p&gt;
    &lt;head rend="h3"&gt;Virtualizing a thread&lt;/head&gt;
    &lt;p&gt;In this experiment, we’ll implement minimal virtualization with very basic, time-sharing threads. Therefore, the goals are the following:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;The programming model for a thread should remain mostly untouched. As long as a thread doesn’t interact with memory contents used by other threads, its programming model should remain consistent, powered by time-sharing.&lt;/item&gt;
      &lt;item&gt;A thread should have its own protected view of architectural registers, including some RISC-V CSRs.&lt;/item&gt;
      &lt;item&gt;A thread should be assigned its own stack.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;It should be obvious why a thread needs its own view of the registers. If other threads could freely touch a thread’s registers, the thread wouldn’t be able to do any meaningful work. All (I believe) RISC-V instructions work with at least one register, so protecting a thread’s register view is essential.&lt;/p&gt;
    &lt;p&gt;Furthermore, assigning a private stack to a thread is necessary, though slightly less obvious. The answer is that different stacks are needed to manage different execution contexts. Namely, when a function is invoked, by convention, the stack is used to allocate function-private variables. Additionally, registers like &lt;code&gt;ra&lt;/code&gt; can be pushed to the stack to retain the correct return address from a function (in case another function is invoked within it). In short, there are various reasons, per RISC-V convention, why the stack is needed to maintain the execution context. The details of RISC-V calling conventions will not be described here.&lt;/p&gt;
    &lt;head rend="h3"&gt;Interrupt context&lt;/head&gt;
    &lt;p&gt;It’s crucial to understand how interrupt code runs and what it should consist of, as this mechanism will be heavily exploited to achieve seamless time-sharing between threads. For a detailed, practical example, please check out this past text.&lt;/p&gt;
    &lt;p&gt;I’ll briefly include the assembly for the timer interrupt routine from that text:&lt;/p&gt;
    &lt;code&gt;s_mode_interrupt_handler:
        addi    sp,sp,-144
        sd      ra,136(sp)
        sd      t0,128(sp)
        sd      t1,120(sp)
        sd      t2,112(sp)
        sd      s0,104(sp)
        sd      a0,96(sp)
        sd      a1,88(sp)
        sd      a2,80(sp)
        sd      a3,72(sp)
        sd      a4,64(sp)
        sd      a5,56(sp)
        sd      a6,48(sp)
        sd      a7,40(sp)
        sd      t3,32(sp)
        sd      t4,24(sp)
        sd      t5,16(sp)
        sd      t6,8(sp)
        addi    s0,sp,144
        call    clear_timer_pending_bit
        call    set_timer_in_near_future
        li      a1,33
        lla     a0,.LC0
        call    debug_print
        nop
        ld      ra,136(sp)
        ld      t0,128(sp)
        ld      t1,120(sp)
        ld      t2,112(sp)
        ld      s0,104(sp)
        ld      a0,96(sp)
        ld      a1,88(sp)
        ld      a2,80(sp)
        ld      a3,72(sp)
        ld      a4,64(sp)
        ld      a5,56(sp)
        ld      a6,48(sp)
        ld      a7,40(sp)
        ld      t3,32(sp)
        ld      t4,24(sp)
        ld      t5,16(sp)
        ld      t6,8(sp)
        addi    sp,sp,144
        sret&lt;/code&gt;
    &lt;p&gt;This assembly was obtained by writing a C function tagged as an S-level interrupt in RISC-V. With this tag, the GCC compiler knew how to generate the prologue and epilogue of the interrupt routine. The prologue preserves architectural registers on the stack, and the epilogue recovers them (in addition to specifically returning from S-mode). All of this was generated by correctly tagging the C function’s invoking convention.&lt;/p&gt;
    &lt;p&gt;This somewhat resembles function calling, and that’s essentially what it is. Interrupts can be thought of (in a very simplified sense) as functions invoked by some system effect. Consequently, utilized registers must be carefully preserved on the stack and then restored at the routine’s exit; otherwise, asynchronous interrupts like timer interrupts would randomly corrupt architectural register values, completely blocking any practical software from running!&lt;/p&gt;
    &lt;head rend="h2"&gt;Implementation (high-level)&lt;/head&gt;
    &lt;p&gt;We’ll explore the implementation by first describing the high-level idea and then digging into the code.&lt;/p&gt;
    &lt;head rend="h3"&gt;Leveraging the interrupt stack convention&lt;/head&gt;
    &lt;p&gt;Adding an interrupt is, in a way, already introducing a form of threading to your application code. In a system with a timer interrupt, the main application code runs, which can occasionally be interleaved with instances of timer interrupt invocations. The core jumps to this interrupt routine when the timer signals, and it carefully restores the architectural state before control flow returns to the “main thread”. There are two control flows running concurrently here:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Main application code.&lt;/item&gt;
      &lt;item&gt;Repetitions of the interrupt routine.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This interleaving of the timer interrupt can be leveraged to implement additional control flows, and the main idea is outlined below.&lt;/p&gt;
    &lt;p&gt;The core of the interrupt routine is sandwiched between the prologue and the epilogue. That’s where the interrupt is serviced before control returns to the main application thread by restoring registers from the stack.&lt;/p&gt;
    &lt;p&gt;However, why must we restore the registers from the same stack location? If our interrupt logic swaps the stack pointer to some other piece of memory, we’ll end up with a different set of architectural register values recovered, thus entering a whole different flow. In other words, we achieve a context switch, and this is precisely how it’s implemented in this experiment. We’ll see the code for it shortly.&lt;/p&gt;
    &lt;head rend="h3"&gt;Kernel/user space separation&lt;/head&gt;
    &lt;p&gt;We can now delineate the kernel space and user space. With RISC-V, this naturally translates to kernel code running in supervisor (S) mode and user space code running in U-mode.&lt;/p&gt;
    &lt;p&gt;The machine boots into machine (M) mode, and since we want to leverage the SBI layer, we’ll allow OpenSBI to run there. Then, the kernel will perform some initial setup in S-mode before starting the U-mode execution of user space threads. Periodic timer interrupts will enable context switches, and the interrupt code will execute in S-mode. Finally, user threads will be able to make system calls to the kernel.&lt;/p&gt;
    &lt;head rend="h2"&gt;Implementation (code)&lt;/head&gt;
    &lt;p&gt;Please refer to the GitHub repository for the full code; we will only cover core excerpts below.&lt;/p&gt;
    &lt;head rend="h3"&gt;Assembly startup&lt;/head&gt;
    &lt;p&gt;As usual, a short assembly snippet is needed to start our S-mode code and enter the “main program” in Zig. This is in &lt;code&gt;startup.S&lt;/code&gt;.&lt;/p&gt;
    &lt;code&gt;...
done_bss:

    # Jump to Zig main
    call main
...&lt;/code&gt;
    &lt;p&gt;The rest of the assembly startup primarily involves cleaning up the BSS section and setting up the stack pointer for the initial kernel code.&lt;/p&gt;
    &lt;head rend="h3"&gt;Main kernel file and I/O drivers&lt;/head&gt;
    &lt;p&gt;We’ll now examine &lt;code&gt;kernel.zig&lt;/code&gt;, which contains the &lt;code&gt;main&lt;/code&gt; function.&lt;/p&gt;
    &lt;p&gt;First, we probe the OpenSBI layer for console capabilities. We’ll only consider running on a relatively recent version of OpenSBI (from the last few years) that includes console capability. Otherwise, the kernel will halt and report an error.&lt;/p&gt;
    &lt;code&gt;export fn main() void {
    const initial_print_status = sbi.debug_print(BOOT_MSG);

    if (initial_print_status.sbi_error != 0) {
        // SBI debug console not available, fall back to direct UART
        const error_msg = "ERROR: OpenSBI debug console not available! You need the latest OpenSBI.\n";
        const fallback_msg = "Falling back to direct UART at 0x10000000...\n";

        uart.uart_write_string(error_msg);
        uart.uart_write_string(fallback_msg);
        uart.uart_write_string("Stopping... We rely on OpenSBI, cannot continue.\n");

        while (true) {
            asm volatile ("wfi");
        }

        unreachable;
    }&lt;/code&gt;
    &lt;p&gt;&lt;code&gt;main&lt;/code&gt; is marked as &lt;code&gt;export&lt;/code&gt; to conform to the C ABI.&lt;/p&gt;
    &lt;p&gt;Here, we have a lightweight implementation of a couple of I/O drivers. As you can see, writing can occur in one of two ways: either we go through the SBI layer (&lt;code&gt;sbi.zig&lt;/code&gt;) or, if that fails, we use direct MMIO (&lt;code&gt;uart_mmio.zig&lt;/code&gt;). The SBI method should theoretically be more portable, as it delegates output management details to the M-level layer (essentially what we do with MMIO), freeing us from concerns about exact memory space addresses.&lt;/p&gt;
    &lt;p&gt;Let’s quickly look at &lt;code&gt;sbi.zig&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;// Struct containing the return status of OpenSBI
pub const SbiRet = struct {
    sbi_error: isize,
    value: isize,
};

pub fn debug_print(message: []const u8) SbiRet {
    var err: isize = undefined;
    var val: isize = undefined;

    const msg_ptr = @intFromPtr(message.ptr);
    const msg_len = message.len;

    asm volatile (
        \\mv a0, %[len]
        \\mv a1, %[msg]
        \\li a2, 0
        \\li a6, 0x00
        \\li a7, 0x4442434E
        \\ecall
        \\mv %[err], a0
        \\mv %[val], a1
        : [err] "=r" (err),
          [val] "=r" (val),
        : [msg] "r" (msg_ptr),
          [len] "r" (msg_len),
        : .{ .x10 = true, .x11 = true, .x12 = true, .x16 = true, .x17 = true, .memory = true });

    return SbiRet{
        .sbi_error = err,
        .value = val,
    };
}&lt;/code&gt;
    &lt;p&gt;This is very straightforward; we’re simply performing the system call exactly as described in the OpenSBI documentation. Note that when I first wrote this code, I wasn’t fully familiar with Zig’s error handling capabilities, hence the somewhat non-idiomatic error handling.&lt;/p&gt;
    &lt;p&gt;However, this can be considered a first driver in this kernel, as it directly manages output to the device.&lt;/p&gt;
    &lt;p&gt;Next is &lt;code&gt;uart_mmio.zig&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;// UART MMIO address (standard for QEMU virt machine)
pub const UART_BASE: usize = 0x10000000;
pub const UART_TX: *volatile u8 = @ptrFromInt(UART_BASE);

// Direct UART write function (fallback when SBI is not available)
pub fn uart_write_string(message: []const u8) void {
    for (message) |byte| {
        UART_TX.* = byte;
    }
}&lt;/code&gt;
    &lt;p&gt;This is straightforward and self-explanatory.&lt;/p&gt;
    &lt;p&gt;Returning to &lt;code&gt;kernel.zig&lt;/code&gt; and the &lt;code&gt;main&lt;/code&gt; function, we create 3 user threads, each printing a slightly different message (the thread ID is the varying bit). At this point, the kernel setup is almost complete.&lt;/p&gt;
    &lt;p&gt;The final steps involve setting up and running the timer interrupt. Once that is done, kernel code will only run when the timer interrupts the system or when user space code requests a system call.&lt;/p&gt;
    &lt;code&gt;interrupts.setup_s_mode_interrupt(&amp;amp;s_mode_interrupt_handler);
_ = timer.set_timer_in_near_future();
timer.enable_s_mode_timer_interrupt();&lt;/code&gt;
    &lt;p&gt;We could request a context switch immediately, but for simplicity, we’ll wait until the timer activates and begins the actual work in the system.&lt;/p&gt;
    &lt;head rend="h3"&gt;S-mode handler and the context switch&lt;/head&gt;
    &lt;p&gt;While the Zig compiler could generate the adequate prologue and epilogue for our S-mode handler, we will do it manually. The reason is that we also want to capture some CSRs in the context that otherwise wouldn’t have been captured by the generated routine.&lt;/p&gt;
    &lt;p&gt;That’s why we use the &lt;code&gt;naked&lt;/code&gt; calling convention in Zig. This forces us to write the entire function in assembly, though a quick escape hatch to this limitation is to call a Zig function whenever Zig logic is needed.&lt;/p&gt;
    &lt;p&gt;I won’t copy paste the whole prologue and epilogue here because they are very similar to what was done in the previous C experiment with RISC-V interrupts. Instead, I’ll just focus on the bit that is different:&lt;/p&gt;
    &lt;code&gt;...
        // Save S-level CSRs (using x5 as a temporary register)
        \\csrr x5, sstatus
        \\sd x5, 240(sp)
        \\csrr x5, sepc
        \\sd x5, 248(sp)
        \\csrr x5, scause
        \\sd x5, 256(sp)
        \\csrr x5, stval
        \\sd x5, 264(sp)

        // Call handle_kernel
        \\mv a0, sp
        \\call handle_kernel
        \\mv sp, a0

        // Epilogue: Restore context
        // Restore S-level CSRs (using x5 as a temporary register)
        \\ld x5, 264(sp)
        \\csrw stval, x5
        \\ld x5, 256(sp)
        \\csrw scause, x5
        \\ld x5, 248(sp)
        \\csrw sepc, x5
        \\ld x5, 240(sp)
        \\csrw sstatus, x5
...&lt;/code&gt;
    &lt;p&gt;As you can see, a couple more registers were added to the prologue and epilogue in addition to the core architectural registers.&lt;/p&gt;
    &lt;p&gt;Next, within this prologue/epilogue sandwich, we invoke the &lt;code&gt;handle_kernel&lt;/code&gt; Zig function. This routes to the correct logic based on whether the interrupt source is a synchronous system call from user space or an asynchronous timer interrupt. The reason is that we land in the same S-level interrupt routine regardless of the interrupt source, and then we inspect the &lt;code&gt;scause&lt;/code&gt; CSR for details.&lt;/p&gt;
    &lt;p&gt;To successfully work with the &lt;code&gt;handle_kernel&lt;/code&gt; function, we need to be aware of the assembly-level calling conventions. This function takes a single integer parameter and returns a single integer parameter. Since the function signature is small, it works as simply as this:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;The sole function parameter is passed through the &lt;code&gt;a0&lt;/code&gt;architectural register.&lt;/item&gt;
      &lt;item&gt;The same register also holds the function’s result upon return.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This is pretty easy. Let’s quickly look at the signature of this function:&lt;/p&gt;
    &lt;code&gt;export fn handle_kernel(current_stack: usize) usize {
...&lt;/code&gt;
    &lt;p&gt;It is slightly awkward but gets the job done. The input to this Zig logic is the stack top before invoking the Zig logic (which inevitably leads to some data added to the stack). The function’s output is where the stack top should be after the Zig logic is done. If it differs from the input, then we’re performing a context switch. If it’s the same, the same workload thread will continue running after the interrupt.&lt;/p&gt;
    &lt;p&gt;The rest of the logic is very simple. It inspects the interrupt source (system call from user space or timer interrupt) and performs accordingly.&lt;/p&gt;
    &lt;p&gt;In the case of a timer interrupt, a context switch is performed. The &lt;code&gt;schedule&lt;/code&gt; function from &lt;code&gt;scheduling.zig&lt;/code&gt; is invoked, and it potentially returns the other stack we should switch to:&lt;/p&gt;
    &lt;code&gt;const build_options = @import("build_options");
const sbi = @import("sbi");
const std = @import("std");
const thread = @import("thread");

pub fn schedule(current_stack: usize) usize {
    const maybe_current_thread = thread.getCurrentThread();

    if (maybe_current_thread) |current_thread| {
        current_thread.sp_save = current_stack;

        if (comptime build_options.enable_debug_logs) {
            _ = sbi.debug_print("[I] Enqueueing the current thread\n");
        }
        thread.enqueueReady(current_thread);
    } else {
        if (comptime build_options.enable_debug_logs) {
            _ = sbi.debug_print("[W] NO CURRENT THREAD AVAILABLE!\n");
        }
    }

    const maybe_new_thread = thread.dequeueReady();

    if (maybe_new_thread) |new_thread| {
        // TODO: software interrupt to yield to the user thread

        if (comptime build_options.enable_debug_logs) {
            _ = sbi.debug_print("Yielding to the new thread\n");
        }

        thread.setCurrentThread(new_thread);

        if (comptime build_options.enable_debug_logs) {
            var buffer: [256]u8 = undefined;
            const content = std.fmt.bufPrint(&amp;amp;buffer, "New thread ID: {d}, stack top: {x}\n", .{ new_thread.id, new_thread.sp_save }) catch {
                return 0; // Return bogus stack, should be more robust in reality
            };
            _ = sbi.debug_print(content);
        }

        return new_thread.sp_save;
    }

    _ = sbi.debug_print("NO NEW THREAD AVAILABLE!\n");

    while (true) {
        asm volatile ("wfi");
    }
    unreachable;
}&lt;/code&gt;
    &lt;p&gt;The code from the &lt;code&gt;thread&lt;/code&gt; module is very simple, serving as boilerplate for a basic queue that manages structs representing threads. I won’t copy it here, as it’s mostly AI-generated. It is important to note, however, that the stacks are statically allocated in memory, and the maximum number of running threads is hardcoded.&lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;thread&lt;/code&gt; module also includes logic for setting up a new thread. This is where data is pushed onto the stack before the thread even runs. If you wonder why, it’s because when returning from the S-level trap handler, we need something on the stack to indicate where to go. The initial data does precisely that. We can seed the initial register values here as desired. In fact, in this experiment, we demonstrate passing a single integer parameter to the thread function by seeding the &lt;code&gt;a0&lt;/code&gt; register value (per calling convention) on the stack, which the thread function can then use immediately.&lt;/p&gt;
    &lt;head rend="h3"&gt;The user space threads&lt;/head&gt;
    &lt;p&gt;As mentioned in the introduction, we’ll bundle the user space and kernel space code into a single binary blob to avoid dynamic loading, linking, and other complexities. Hence, our user space code consists of regular functions:&lt;/p&gt;
    &lt;code&gt;/// Example: Create a simple idle thread
pub fn createPrintingThread(thread_number: usize) !*Thread {
    const thread = allocThread() orelse return error.NoFreeThreads;

    // Idle thread just spins
    const print_fn = struct {
        fn print(thread_arg: usize) noreturn {
            while (true) {
                var buffer: [256]u8 = undefined;
                const content = std.fmt.bufPrint(&amp;amp;buffer, "Printing from thread ID: {d}\n", .{thread_arg}) catch {
                    continue;
                };

                syscall.debug_print(content);

                // Simulate a delay
                var i: u32 = 0;
                while (i &amp;lt; 300000000) : (i += 1) {
                    asm volatile ("" ::: .{ .memory = true }); // Memory barrier to prevent optimization
                }
            }
            unreachable;
        }
    }.print;

    initThread(thread, @intFromPtr(&amp;amp;print_fn), thread_number);
    return thread;
}&lt;/code&gt;
    &lt;p&gt;Additionally, as mentioned above, we pre-seeded the stack such that when &lt;code&gt;a0&lt;/code&gt; is recovered from the stack upon the first interrupt return for a given thread, the function argument will be picked up. That’s how the &lt;code&gt;print&lt;/code&gt; function accesses the &lt;code&gt;thread_arg&lt;/code&gt; value and uses it in its logic.&lt;/p&gt;
    &lt;p&gt;To demonstrate the user/kernel boundary, we have &lt;code&gt;syscall.debug_print(content);&lt;/code&gt;. This conceptually behaves more or less as &lt;code&gt;printf&lt;/code&gt; from &lt;code&gt;stdio.h&lt;/code&gt; in C. It performs prepares the arguments to the kernel and runs a system call with these arguments which should lead to some content getting printed on the output device. Here’s what the printing library looks like (from &lt;code&gt;syscall.zig&lt;/code&gt;):&lt;/p&gt;
    &lt;code&gt;// User-level debug_print function
pub fn debug_print(message: []const u8) void {
    const msg_ptr = @intFromPtr(message.ptr);
    const msg_len = message.len;

    // Let's say syscall number 64
    // a7 = syscall number
    // a0 = message pointer
    // a1 = message length
    asm volatile (
        \\mv a0, %[msg]
        \\mv a1, %[len]
        \\li a7, 64
        \\ecall
        :
        : [msg] "r" (msg_ptr),
          [len] "r" (msg_len),
        : .{ .x10 = true, .x11 = true, .x17 = true, .memory = true });

    // Ignore return value for simplicity
}&lt;/code&gt;
    &lt;p&gt;System call 64 is served from the S-mode handler in &lt;code&gt;kernel.zig&lt;/code&gt;. This is self-explanatory, and we won’t go into further details here.&lt;/p&gt;
    &lt;head rend="h3"&gt;Running the kernel&lt;/head&gt;
    &lt;p&gt;We will deploy the kernel on bare-metal, specifically on a virtual machine. In theory, this should also work on a real machine, provided an SBI layer is present when the kernel starts, and the linker script, I/O “drivers,” and other machine-specific constants are adapted.&lt;/p&gt;
    &lt;p&gt;To build, we simply run&lt;/p&gt;
    &lt;code&gt;zig build&lt;/code&gt;
    &lt;p&gt;To now run the kernel, we run:&lt;/p&gt;
    &lt;code&gt;qemu-system-riscv64 -machine virt -nographic -bios /tmp/opensbi/build/platform/generic/firmware/fw_dynamic.bin -kernel zig-out/bin/kernel&lt;/code&gt;
    &lt;p&gt;Refer to the previous text on OpenSBI for details on building OpenSBI. It is strongly recommended to use a freshly built OpenSBI, as QEMU may use an outdated version if no &lt;code&gt;-bios&lt;/code&gt; flag is passed.&lt;/p&gt;
    &lt;p&gt;The output should begin with a big OpenSBI splash along with some OpenSBI data:&lt;/p&gt;
    &lt;code&gt;OpenSBI v1.7
   ____                    _____ ____ _____
  / __ \                  / ____|  _ \_   _|
 | |  | |_ __   ___ _ __ | (___ | |_) || |
 | |  | | '_ \ / _ \ '_ \ \___ \|  _ &amp;lt; | |
 | |__| | |_) |  __/ | | |____) | |_) || |_
  \____/| .__/ \___|_| |_|_____/|____/_____|
        | |
        |_|

Platform Name               : riscv-virtio,qemu
Platform Features           : medeleg
Platform HART Count         : 1
Platform IPI Device         : aclint-mswi
Platform Timer Device       : aclint-mtimer @ 10000000Hz
Platform Console Device     : uart8250
Platform HSM Device         : ---
Platform PMU Device         : ---
Platform Reboot Device      : syscon-reboot
Platform Shutdown Device    : syscon-poweroff
Platform Suspend Device     : ---
Platform CPPC Device        : ---
Firmware Base               : 0x80000000
Firmware Size               : 317 KB
Firmware RW Offset          : 0x40000
Firmware RW Size            : 61 KB
Firmware Heap Offset        : 0x46000
Firmware Heap Size          : 37 KB (total), 2 KB (reserved), 11 KB (used), 23 KB (free)
Firmware Scratch Size       : 4096 B (total), 400 B (used), 3696 B (free)
Runtime SBI Version         : 3.0
Standard SBI Extensions     : time,rfnc,ipi,base,hsm,srst,pmu,dbcn,fwft,legacy,dbtr,sse
Experimental SBI Extensions : none

Domain0 Name                : root
....&lt;/code&gt;
    &lt;p&gt;Following the OpenSBI splash, we’ll see the kernel output:&lt;/p&gt;
    &lt;code&gt;Booting the kernel...
Printing from thread ID: 0
Printing from thread ID: 0
Printing from thread ID: 0
Printing from thread ID: 1
Printing from thread ID: 1
Printing from thread ID: 1
Printing from thread ID: 2
Printing from thread ID: 2
Printing from thread ID: 2
Printing from thread ID: 0
Printing from thread ID: 0
Printing from thread ID: 1
Printing from thread ID: 1
Printing from thread ID: 2
Printing from thread ID: 2
Printing from thread ID: 0
Printing from thread ID: 0
Printing from thread ID: 0
Printing from thread ID: 1
Printing from thread ID: 1
Printing from thread ID: 1
Printing from thread ID: 2
Printing from thread ID: 2
Printing from thread ID: 2&lt;/code&gt;
    &lt;p&gt;The prints will continue running until QEMU is terminated.&lt;/p&gt;
    &lt;p&gt;If you want to build the kernel in an extremely verbose mode for debugging and experimentation, use the following command:&lt;/p&gt;
    &lt;code&gt;zig build -Ddebug-logs=true&lt;/code&gt;
    &lt;p&gt;After running the kernel with the same QEMU command, the output will appear as follows:&lt;/p&gt;
    &lt;code&gt;Booting the kernel...
DEBUG mode on
Interrupt source: Timer, Current stack: 87cffe70
[W] NO CURRENT THREAD AVAILABLE!
Yielding to the new thread
New thread ID: 0, stack top: 80203030
Interrupt source: Ecall from User mode, Current stack: 80202ec0
Printing from thread ID: 0
Interrupt source: Ecall from User mode, Current stack: 80202ec0
Printing from thread ID: 0
Interrupt source: Ecall from User mode, Current stack: 80202ec0
Printing from thread ID: 0
Interrupt source: Timer, Current stack: 80202ec0
[I] Enqueueing the current thread
Yielding to the new thread
New thread ID: 1, stack top: 80205030
Interrupt source: Ecall from User mode, Current stack: 80204ec0
Printing from thread ID: 1
Interrupt source: Ecall from User mode, Current stack: 80204ec0
Printing from thread ID: 1
Interrupt source: Ecall from User mode, Current stack: 80204ec0
Printing from thread ID: 1
Interrupt source: Timer, Current stack: 80204ec0
[I] Enqueueing the current thread
Yielding to the new thread
New thread ID: 2, stack top: 80207030
Interrupt source: Ecall from User mode, Current stack: 80206ec0
Printing from thread ID: 2
Interrupt source: Ecall from User mode, Current stack: 80206ec0
Printing from thread ID: 2
Interrupt source: Ecall from User mode, Current stack: 80206ec0
Printing from thread ID: 2
Interrupt source: Timer, Current stack: 80206ec0
...&lt;/code&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;Many educational OS kernels exist, but this experiment combines RISC-V, OpenSBI, and Zig, offering a fresh perspective compared to traditional C implementations.&lt;/p&gt;
    &lt;p&gt;The resulting code runs on a QEMU virtual machine, which can be easily set up, even by building QEMU from source.&lt;/p&gt;
    &lt;p&gt;To keep the explanation concise, error reporting was kept minimal. Should you modify the code and require debugging, sufficient clues are provided, despite some areas where the code is simplified (e.g., anonymous results after SBI print invocations like &lt;code&gt;_ = ...&lt;/code&gt;). Much of the code in this example was AI-generated by Claude to save time, and it should function as intended. While some parts of the code are simplified, such as stack space over-allocation, these do not detract from the experiment’s educational value.&lt;/p&gt;
    &lt;p&gt;Overall, this experiment serves as a starting point for studying operating systems, assuming a foundational understanding of computer engineering and computer architecture. It likely has plenty of flaws for a practical application, but for now, we’re just hacking here!&lt;/p&gt;
    &lt;p&gt;I hope this was a useful exploration.&lt;/p&gt;
    &lt;p&gt;Please consider following on Twitter/X and LinkedIn to stay updated.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45240682</guid><pubDate>Sun, 14 Sep 2025 15:44:44 +0000</pubDate></item><item><title>OCSP Service Has Reached End of Life</title><link>https://letsencrypt.org/2025/08/06/ocsp-service-has-reached-end-of-life</link><description>&lt;doc fingerprint="e337cfd427579385"&gt;
  &lt;main&gt;
    &lt;p&gt;Today we turned off our Online Certificate Status Protocol (OCSP) service, as announced in December of last year. We stopped including OCSP URLs in our certificates more than 90 days ago, so all Let’s Encrypt certificates that contained OCSP URLs have now expired. Going forward, we will publish revocation information exclusively via Certificate Revocation Lists (CRLs).&lt;/p&gt;
    &lt;p&gt;We ended support for OCSP primarily because it represents a considerable risk to privacy on the Internet. When someone visits a website using a browser or other software that checks for certificate revocation via OCSP, the Certificate Authority (CA) operating the OCSP responder immediately becomes aware of which website is being visited from that visitor’s particular IP address. Even when a CA intentionally does not retain this information, as is the case with Let’s Encrypt, it could accidentally be retained or CAs could be legally compelled to collect it. CRLs do not have this issue.&lt;/p&gt;
    &lt;p&gt;We are also taking this step because keeping our CA infrastructure as simple as possible is critical for the continuity of compliance, reliability, and efficiency at Let’s Encrypt. For every year that we have existed, operating OCSP services has taken up considerable resources that can soon be better spent on other aspects of our operations. Now that we support CRLs, our OCSP service has become unnecessary.&lt;/p&gt;
    &lt;p&gt;At the height of our OCSP service’s traffic earlier this year, we handled approximately 340 billion OCSP requests per month. That’s more than 140,000 requests per second handled by our CDN, with 15,000 requests per second handled by our origin. We’d like to thank Akamai for generously donating CDN services for OCSP to Let’s Encrypt for the past ten years.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45242591</guid><pubDate>Sun, 14 Sep 2025 19:34:48 +0000</pubDate></item><item><title>AMD Turin PSP binaries analysis from open-source firmware perspective</title><link>https://blog.3mdeb.com/2025/2025-09-11-gigabyte-mz33-ar1-blob-analysis/</link><description>&lt;doc fingerprint="bc4ac671c73409c5"&gt;
  &lt;main&gt;
    &lt;head rend="h2"&gt;Introduction&lt;/head&gt;
    &lt;p&gt;In the previous post, we showed coreboot running on Gigabyte MZ33-AR1 with Turin CPU, the current, newest family of AMD server processors. However, we faced various obstacles and problems. Despite AMD publishing a set of blobs required for the Turin system initialization, they turned out to be not enough to release the CPU from reset by PSP. We were forced to do a workaround by injecting coreboot into the vendor firmware image and flashing it back. The whole process is far from ideal; thus, it forced us to perform an analysis, where we demystify and explain the problems and solutions we came up with.&lt;/p&gt;
    &lt;head rend="h2"&gt;AMD PSP firmware structure&lt;/head&gt;
    &lt;p&gt;Nowadays, the x86 CPUs are not the first entities that begin code execution after pressing the power button. The design of the processors and silicon overall drifted towards adding many co-processors, which perform a specialized subset of actions and have a very specific role in the system. For example: Intel Management Engine (ME) on Intel platforms and AMD Platform Security Processor (PSP), also known as AMD Security Processor (ASP). These co-processors run their own firmware, which is usually stored in the same flash memory as the BIOS for an x86 CPU. Often these firmwares contain other firmwares for yet another co-processors or IP blocks. This is true for both Intel and AMD. We will not dive into Intel specifics, but if you are curious, just open an Intel firmware image in UEFITool and expand the Intel ME region. You will see how many various applications or firmwares reside there.&lt;/p&gt;
    &lt;p&gt;The situation is no different on an AMD system, although the separation of x86 BIOS and PSP firmware/blobs is not as clean as on Intel systems. AMD PSP does not have any separate flash region for its own use. Instead, the PSP blobs are packed into specific directory structures, which you can read a bit about here.&lt;/p&gt;
    &lt;p&gt;To understand how it is supposed to work on the Turin system, we have to go through each structure of the PSP firmware and analyze it, starting with Embedded Firmware Structure (EFS), through PSP directories up to the BIOS directories.&lt;/p&gt;
    &lt;head rend="h2"&gt;Embedded Firmware Structure&lt;/head&gt;
    &lt;p&gt;Embedded Firmware Structure is like a header that indicates the location of PSP and BIOS directories. It is used by PSP during power-on to locate the blobs and configure certain properties of the system, e.g., SPI interface speeds, eSPI bus configuration, etc. The tool responsible for creating EFS, PSP and BIOS directories in coreboot are amdfwtool. The coreboot build system uses this utility during the build process to stitch all blobs together into a bootable image.&lt;/p&gt;
    &lt;p&gt;There has been some activity around this tool recently, which has enhanced its debugging and analysis capabilities:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;util/amdfwtool/amdfwread: add initial parsing for EFW structure&lt;/item&gt;
      &lt;item&gt;util/amdfwtool/amdfwread: fix offset decision for PSP/BIOS directory lookup&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Seeing this opportunity, I have reviewed and tested the patches, even added more information to be dumped, and fixed parsing of the images for Turin processors, to serve the purpose of my analysis:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;util/amdfwtool: Extend parsing of embedded firmware structures and dirs&lt;/item&gt;
      &lt;item&gt;util/amdfwtool: Handle address mode properly for Turin&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;With those improvements in place, I was able to dump information about coreboot images as well as vendor images. When something does not work, one of the best and easiest ways is to compare a faulty case with a known good reference. And so by dumping the information on both images, we could spot some major differences, which potentially could cause the image to be unbootable.&lt;/p&gt;
    &lt;p&gt;Since the outputs from amdfwtool are quite long, I have added them as a paste:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;code&gt;./util/amdfwtool/amdfwread -d --ro-list build/coreboot.rom&lt;/code&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;code&gt;./util/amdfwtool/amdfwread -d --ro-list MZ33-AR1_R11_F08/SPI_UPD/image.bin&lt;/code&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The second dump comes from the latest BIOS update package &lt;code&gt;R11_F08&lt;/code&gt; for the
Gigabyte MZ33-AR1 which can be downloaded from the vendor’s site.&lt;/p&gt;
    &lt;p&gt;Right now, we are interested in everything that comes before &lt;code&gt;Table: FW Offset Size&lt;/code&gt; line, since it represents the EFS. We can see that many fields are
different. Also, we have to remember that vendor image is a dual BIOS for
Genoa and Turin platforms. &lt;code&gt;amdfwread&lt;/code&gt; prints only the contents of the first
BIOS image (first 16MB). So the &lt;code&gt;image.bin&lt;/code&gt; has to be split into two 16MB
files, and the dump should be taken from the second file:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;code&gt;./util/amdfwtool/amdfwread -d --ro-list xab&lt;/code&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Now we can start comparing the output. Pointers to directories or firmwares that are either 00000000 or ffffffff can be omitted, since both should indicate an invalid pointer. Most notable differences are SPI speeds, eSPI config and Multi Gen EFS value.&lt;/p&gt;
    &lt;p&gt;Fixing SPI speeds is pretty much straightforward. The board code should supply the following Kconfig values to match vendor firmware:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Having a correct SPI speed may be crucial for the proper operation of the system components and flawless communication on the SPI bus interface.&lt;/p&gt;
    &lt;p&gt;The eSPI configuration fields are configuration values that the PSP will use to configure the eSPI bus before the reset vector. The eSPI bus is important because the Baseboard Management Controller is connected to it. With BMC, we can use the serial port to debug problems, so we have to match the configuration. Support for setting the eSPI configuration has been implemented in the patch that adds Turin support to amdfwtool. With these modifications in place, I could define the Kconfig values again in board code (only one value is enough, because the rest is 0xff - default):&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;The only difference left to cover is the Multi Gen EFS value. The usage of this field is described in the AMD documentation only. For the purpose of the analysis and explaining its importance, let’s say this value is specific to the processor family, and PSP uses it to match whether the given EFS is appropriate for the given CPU. These values are fixed for a given CPU family, and for Turin it has to be 0xffffffe3.&lt;/p&gt;
    &lt;p&gt;Covering these differences was not enough to allow the CPU to be released from reset using the public blobs. So we have to proceed further with the analysis, that is, to the PSP and BIOS directories.&lt;/p&gt;
    &lt;head rend="h2"&gt;PSP and BIOS directories&lt;/head&gt;
    &lt;p&gt;In the coreboot paste, we can see that PSP and BIOS directories have the same attributes as in the vendor image, but there are fewer entries in them than in the vendor image. For comparison:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Vendor BIOS: &lt;list rend="ul"&gt;&lt;item&gt;PSPL1: 53 entries&lt;/item&gt;&lt;item&gt;PSPL2: 48 entries&lt;/item&gt;&lt;item&gt;BIOSL1: 25 entries&lt;/item&gt;&lt;item&gt;BIOSL2: 34 entries&lt;/item&gt;&lt;/list&gt;&lt;/item&gt;
      &lt;item&gt;coreboot: &lt;list rend="ul"&gt;&lt;item&gt;PSPL1: 30 entries&lt;/item&gt;&lt;item&gt;PSPL2: 41 entries&lt;/item&gt;&lt;item&gt;BIOSL1: 17 entries&lt;/item&gt;&lt;item&gt;BIOSL2: 19 entries&lt;/item&gt;&lt;/list&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The difference is, of course, dictated by the number of blobs AMD published here. Also, a subset of entries is duplicated between level 1 (L1) and level 2 (L2) directories of the same type. Level 1 directory is typically considered a recovery, and the level 2 is the main directory. However, for some reason, Gigabyte puts more blobs into the level 1 PSP directory than the level 2. To proceed further, we had no other choice but to eliminate the differences by extracting the blobs from the vendor image and integrating the missing ones. Extracting the blobs is possible with PSPTool:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;We have to take the extra &lt;code&gt;-r 1&lt;/code&gt; parameter because we want to extract the
Turin blobs, which live in the second 16MB half of the image, due to the dual
BIOS nature of the firmware images for this platform. When the blobs are
extracted, they have to be put into
&lt;code&gt;coreboot/3rdparty/amd_firmwares/Firmwares/Turin/&lt;/code&gt; directory to replace the
public blobs. Also, the &lt;code&gt;coreboot/src/soc/amd/turin_poc/fw.cfg&lt;/code&gt; file had to be
modified to point to the missing files. On top of that, the &lt;code&gt;amdfwtool&lt;/code&gt; had to
be extended with the new blob types. It has also been done as part of the
patch with Turin support.
However, to obtain full information on how these missing blobs should be
included, I needed the subprogram and instance numbers. These numbers are used
by PSP to distinguish the same type of program/blob, but for a different CPU
variant. For example, we may have multiple SMU firmwares, but only one will be
loaded on a given processor family, based on the subprogram and instance
numbers.&lt;/p&gt;
    &lt;p&gt;However, I had no tooling to dump these numbers. So again, I had to implement something myself. Thankfully, the PSPTool was very close to what I needed, and I simply extended it to print the subprogram and instance numbers for each blob:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;code&gt;psptool -E MZ33-AR1_R11_F08/SPI_UPD/image.bin&lt;/code&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Based on the dump from the vendor image, I have modified &lt;code&gt;coreboot/src/soc/amd/turin_poc/fw.cfg&lt;/code&gt; and &lt;code&gt;amdfwtool&lt;/code&gt; to stitch the
components extracted from the vendor image. Only then was I able to obtain a
bootable coreboot image (CPU has been released from reset by PSP). Now having
the known good reference and a working tool, I could go back to the public
blobs.&lt;/p&gt;
    &lt;p&gt;I haven’t yet published the patches with PSPTool modifications. They will follow very soon, so stay tuned.&lt;/p&gt;
    &lt;head rend="h2"&gt;Running coreboot with public PSP blobs&lt;/head&gt;
    &lt;p&gt;Before proceeding with reverting to public PSP blobs, I have made one additional safety measure. I flashed back the vendor BIOS and enabled PSP verbose debug output. This can be done with the &lt;code&gt;ABL Console Out&lt;/code&gt; options in
the &lt;code&gt;SOC Miscellaneous Control&lt;/code&gt; described in the board
manual
(section 2-3-6). Booted the platform with debug options enabled, and on the
serial console port, I could see verbose debugging messages almost immediately
after pressing the power button. This debug output will help me quickly
determine if the public blobs are even consumed by PSP or not. If I don’t see
anything on the serial port, it will mean they are not consumed. The debug
switches are stored inside APCB blobs, so I dumped the BIOS image, extracted
the APCBs with PSPTool and copied them in place on the old ones in the board
code. First, I confirmed whether they are working with the blobs extracted
from the vendor image, to avoid any mistakes later. And fortunately, it also
gave me debug output with the coreboot image. Then I proceeded with replacing
the vendor image blobs with the public ones, stitched the image again, and
flashed it on the board. But nothing happened on the serial console,
unfortunately. This was very unexpected and left me at a loss. After many
hours of analysis and comparisons, what else might be wrong or different, I
noticed something strange in the PSPTool output made from the current coreboot
image:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;code&gt;psptool -E build/coreboot.rom&lt;/code&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The most worrying is the first entry of PSPL1, which corresponds to AMD Root Key. This Root Key is the main key used to sign PSP blobs and derive other keys to sign other components:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Here we can see that the AMD Root Key has an ID &lt;code&gt;9F9D&lt;/code&gt;. The very same key is
used to verify PSP FW bootloader and PSP FW recovery bootloader
(&lt;code&gt;veri-failed(9F9D)&lt;/code&gt;, not sure why the verification fails, but it could be one
of the reasons why it is not working). When I looked closer at the output of
PSPTool from the vendor image, the verification of the PSP FW recovery boot
loader passed with the AMD Root Key:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;The second significant difference is the key ID. The key ID in the vendor image was different (&lt;code&gt;D05C&lt;/code&gt;)! At first, I suspected that Gigabyte could have
created their own key to sign PSP blobs and got it signed by the AMD Root Key.
But is that really possible?&lt;/p&gt;
    &lt;p&gt;To be 100% sure, I have attempted to build the coreboot image with the latest AMD PSP blobs available in the Turin PI package (available to AMD partners). This is the package with the silicon initialization source code and the set of PSP blobs required to build a bootable image. So I updated &lt;code&gt;coreboot/src/soc/amd/turin_poc/fw.cfg&lt;/code&gt; again for the blobs from the Turin PI
package and dumped the directories with PSPTool. To my surprise, the AMD Root
Key was the same as in Gigabyte vendor firmware (full paste
here):&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;This means my hypothesis about the custom root key was incorrect. AMD simply published a different set of blobs, or blobs that are signed with pre-production key (that would make sense, since the PoC code was proven on the AMD CRB platform, which most likely uses a pre-production CPU). I have filed an issue on the repository requesting to update the blobs to the newest ones from the Turin PI package. A separate &lt;code&gt;fw.cfg&lt;/code&gt; file for the use with official Turin PI package blobs has been
prepared in this
patch,
for future use.&lt;/p&gt;
    &lt;p&gt;While using public blobs proved to be impossible for now, I still decided to prove that blobs from official sources are working properly and can eventually replaced the incorrect blobs from the repo. So I flashed the freshly produced image with blobs from the Turin PI package, and thankfully, the CPU was released from reset, and I saw debug messages from coreboot’s bootblock!&lt;/p&gt;
    &lt;p&gt;With these results, we have fulfilled the goals of the following milestones in the project:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Task 2. Public blobs integration &lt;list rend="ul"&gt;&lt;item&gt;&lt;p&gt;Milestone a. Analysis of vendor’s image&lt;/p&gt;&lt;p&gt;We have thoroughly analyzed the vendor image and eliminated any differences in the integrated PSP blobs that could have hindered the boot process with coreboot. We also learned about the inappropriate blobs published by AMD. The usage of publicly available blobs is currently impossible, until the correct blobs are published by AMD. However, when that happens, we are already prepared to build functional images. So building based on public components is possible but produces unbootable image. People with access to Turin PI package are able to build bootable image. Regardless of what will happen to the public blobs, 3mdeb will ship hardware and firmware with the correct blobs. The relevant patch adding support for the blob integration can be found here.&lt;/p&gt;&lt;/item&gt;&lt;item&gt;&lt;p&gt;Milestone b. Update coreboot’s amdfwtool&lt;/p&gt;&lt;p&gt;Thanks to the extensive analysis of the vendor image, the amdfwtool is now successfully creating a bootable image for the Turin system. A patch has been uploaded and the “work in progress” state got removed, indicating the change is ready to review and functional.&lt;/p&gt;&lt;/item&gt;&lt;/list&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Summary&lt;/head&gt;
    &lt;p&gt;The journey of porting Gigabyte MZ33-AR1 seems to be still quite long. Lots of surprises probably still await us. Stay tuned for more blog posts where further porting efforts will be shown and explained.&lt;/p&gt;
    &lt;p&gt;Huge kudos to NLnet Foundation for sponsoring the project.&lt;/p&gt;
    &lt;p&gt;Unlock the full potential of your hardware and secure your firmware with the experts at 3mdeb! If you’re looking to boost your product’s performance and protect it from potential security threats, our team is here to help. Schedule a call with us or drop us an email at &lt;code&gt;contact&amp;lt;at&amp;gt;3mdeb&amp;lt;dot&amp;gt;com&lt;/code&gt; to start unlocking the
hidden benefits of your hardware. And if you want to stay up-to-date on all
things firmware security and optimization, be sure to sign up for our
newsletter:&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45243439</guid><pubDate>Sun, 14 Sep 2025 21:35:42 +0000</pubDate></item><item><title>Betty Crocker broke recipes by shrinking boxes</title><link>https://www.cubbyathome.com/boxed-cake-mix-sizes-have-shrunk-80045058</link><description>&lt;doc fingerprint="800a557659315311"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;The 70-Year-Old Beloved Boxed Mix Grandmas Won’t Be Buying Anymore&lt;/head&gt;
    &lt;p&gt;There’s a problem with boxed mixes, and it’s impacting grandmas’ most beloved recipes. At some point last year, shoppers noticed Betty Crocker cake mixes shrank (again), this time from 15.25 ounces down to 13.25 ounces. And while few people would ever argue for less cake, the 2-ounce decrease is weighing particularly heavy on grandmas.&lt;/p&gt;
    &lt;p&gt;Take my neighbor Judith (and grandma to two). Her chocolate crinkle cookies have been practically synonymous with our community potlucks for the past 15 years — and that’s only how long I’ve known her! It wasn’t until she suddenly stopped bringing them that I knew something was terribly wrong.&lt;/p&gt;
    &lt;head rend="h2"&gt;Why Grandmas Aren’t Buying Boxed Cake Mixes&lt;/head&gt;
    &lt;p&gt;Her cookie recipe — a box of Betty Crocker chocolate cake mix, two eggs, and ⅓ cup neutral oil — no longer works now that the box is a full 5 ounces smaller than its original 18.25-ounce size (a 27% decrease and textbook example of shrinkflation). What once yielded 24 consistently light, fluffy cookies now makes 20 goopy, lackluster blobs. The only thing that has changed? The box mix.&lt;/p&gt;
    &lt;p&gt;“It’s just so upsetting,” says Judith, whose cookie recipe was passed down by her mother. These “perfect little cookies” once made the rounds at bake sales, Christmas cookie exchanges, and birthdays. She now calls them “unusable.” She could buy an additional box to make up the difference, she acknowledges, “but out of principle, I just can’t.”&lt;/p&gt;
    &lt;p&gt;Judith isn’t the only one. She says that her other (grandma) friends are feeling the changes, too, and they’re not happy about it. Betty Crocker has empowered home cooks to make delicious desserts for over a century now. So it’s no surprise just how many cherished family recipes — involving that once familiar box of cake mix — have been passed down from generation to generation.&lt;/p&gt;
    &lt;p&gt;It’s not just cookies that are affected; beloved family dump cakes, crumbles, pancakes, and more all fall short because the cake mix is no longer the same.&lt;/p&gt;
    &lt;p&gt;To add to the frustration, one Redditor pointed out that the brand may have “tinkered with the amount of leaveners in the mix itself. … When [the cake] first comes out of the oven, it looks like a more substantial amount of cake but then shrinks as it cools down.” (We reached out to Betty Crocker to verify any ingredient changes and have yet to receive a response.)&lt;/p&gt;
    &lt;p&gt;Baking is indeed a science that needs precise measurements and consistency. Many home bakers, like Judith, find it disheartening to see decades-old cherished recipes forever changed by corporate decisions. I did, though, share our Chocolate Crinkle Cookie recipe with her so she can try to make new traditions. &lt;lb/&gt;This article originally published on The Kitchn. See it there: The 70-Year-Old Beloved Boxed Mix Grandmas Won’t Be Buying This Holiday Season&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45243635</guid><pubDate>Sun, 14 Sep 2025 21:54:07 +0000</pubDate></item><item><title>Trigger Crossbar</title><link>https://serd.es/2025/09/14/Trigger-crossbar.html</link><description>&lt;doc fingerprint="2e1b921501a716a4"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Trigger crossbar&lt;/head&gt;
    &lt;p&gt;If you have a large, well-equipped electronics lab youâre going to have a lot of instrumentation with trigger input and output ports.&lt;/p&gt;
    &lt;p&gt;In my case all three oscilloscopes, the vector signal generator, and even my VNAs have trigger sync capability, and thereâs probably more things Iâm missing. And that doesnât even count the ThunderScope or the two Siglent AWGs I have on loan for ThunderScope R&amp;amp;D.&lt;/p&gt;
    &lt;p&gt;Very often, itâs handy to cascade these in order to enable complex multi-instrument setups (for example, having a scope trigger when an AWG creates a pulse of some sort, without burning a scope channel to look at the AWG output, or to have two scopes trigger simultaneously to capture more channels of data in a complex system).&lt;/p&gt;
    &lt;p&gt;Thereâs just one obvious problem: All of my equipment is rack mounted, thereâs a LOT of it, and thereâs already a ton of cable spaghetti in a fairly confined space. The last thing I want to be doing is reaching around behind the racks and crawling under the bench to untangle coax and route trigger signals from one instrument to another every time I want to set up a multi-instrument experiment.&lt;/p&gt;
    &lt;p&gt;The second, slightly less obvious, problem is that not all of these signals are compatible voltage levels. For example, the trigger output on my Teledyne LeCroy oscilloscopes is 1V into high-Z or 500 mV into a 50Î© load. The Siglent vector signal generator has a 5V TTL trigger input. So you canât just directly connect these without a level shifter or buffer.&lt;/p&gt;
    &lt;p&gt;What if there was a better way?&lt;/p&gt;
    &lt;head rend="h2"&gt;The concept&lt;/head&gt;
    &lt;p&gt;Pretty quickly I came up with a high level concept for what I wanted to build: a 1U device with an Ethernet SCPI interface plus a ton of coaxial trigger inputs and outputs, connected to a buffered FPGA-based switch fabric.&lt;/p&gt;
    &lt;p&gt;Some outputs would be buffered by external level shifters to enable interfacing with different voltage levels, while others would be directly connected to FPGA GPIOs for the lowest possible jitter but with a fixed voltage range. Inputs would be routed to comparators to allow arbitrary switching thresholds.&lt;/p&gt;
    &lt;p&gt;A handful of these channels would be bidirectional, with latching relays to swap between input and output modes. This is important because a few of my instruments, most notably the PicoScope and Siglent vector signal generator, use the same BNC as both trigger input and output.&lt;/p&gt;
    &lt;p&gt;The whole thing would be powered by 48V DC using my existing intermediate bus converter and controlled over IP via ngscopeclient, using the filter graph to create virtual connections between crossbar ports..&lt;/p&gt;
    &lt;head rend="h2"&gt;High level design&lt;/head&gt;
    &lt;p&gt;I selected the Xilinx XC7K70T-2FBG484C as the FPGA for a few reasons:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;I had a lot of 7 series parts in inventory, so no need to buy anything new.&lt;/item&gt;
      &lt;item&gt;Kintex-7 has high-performance (HP) I/O banks which have faster slew and lower jitter than the high-range (HR) I/Os found in Spartan/Artix parts. I didnât want to increase cross-trigger jitter more than necessary so this was important.&lt;/item&gt;
      &lt;item&gt;The 70T in FBG484 is the lowest cost part in the Kintex-7 line, we donât need a ton of stuff in the FPGA so no reason to go bigger.&lt;/item&gt;
      &lt;item&gt;The -2 speed has 10.3125 Gbps capable SERDES (weâll get to why this is important in a bit).&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This then got paired with the STM32H735 MCU as the controller.&lt;/p&gt;
    &lt;p&gt;I started this project all the way back in October 2023, long before I realized how cursed the OCTOSPI on the H735 was. In fact, many of the things I discuss in that post were learned on the crossbar project, it just took me this long to get to the point of having time to write about the crossbar as a whole.&lt;/p&gt;
    &lt;p&gt;So (foreshadowing a bit), I made the mistake of connecting it via the OCTOSPI thinking that I wouldnât need the bandwidth of the FMC to control a few muxes and it would save pins. I also hadnât tried the FMC yet and thought (famous last words) that the OCTOSPI would be simpler and easier to set up. This ultimately turned out to be a massive annoyance and cost me a lot of time, but I did get it working in the end.&lt;/p&gt;
    &lt;p&gt;The final concept I came up with was logically a 12x12 crossbar: eight inputs, eight outputs, and four bidirectional ports.&lt;/p&gt;
    &lt;p&gt;The input ports were all 50Î© impedance, with a 6 dB (2:1) attenuator and ESD diode prior to the input termination. The input then entered a MAX40026 high-speed LVDS comparator, with the positive input fed by the trigger signal and the negative by a reference voltage generated by a DAC. This design provides runtime-variable thresholding and 5V tolerance while operating from a 3.3V supply.&lt;/p&gt;
    &lt;p&gt;Output channels 0-3 were driven directly by HP I/Os on the FPGA, providing a fixed 1.8V swing but the highest possible jitter performance. The remaining 8 outputs were driven by TI 74LVC1T45 level shifters. Each level shifter had its own independent VCCIO power domain supplied by an ISL24021 power op-amp buffering a reference voltage generated by one output from an 8-channel DAC, allowing runtime adjustment of VCCIO for each port. The buffered output then passes a final ESD diode before reaching the connector.&lt;/p&gt;
    &lt;p&gt;You can see the whole schematic (and firmware) on my GitHub.&lt;/p&gt;
    &lt;p&gt;The rest of the logic board was fairly straightforward: a KSZ9031 gigabit Ethernet PHY for management (routed to the FPGA in case I wanted to add any kind of hardware offload), a bunch of Murata DC-DC modules to generate all of the necessary supply rails from the 12V intermediate bus, a serial port for initial IP configuration and debug, an EEPROM to store the MAC address, and a connector supplying power and SPI to the front panel board.&lt;/p&gt;
    &lt;p&gt;The FPGA has four GTX SERDES lanes in a single quad. I hooked them all up (it always seems like a shame to not pin out transceivers to something):&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Two lanes to front panel TX/RX differential SMA ports for use as a 2-lane BERT or serial pattern generator/receiver. Iâve wanted to build a proper BERT for a while and this was a good opportunity to play with it.&lt;/item&gt;
      &lt;item&gt;One lane to a back panel 10G SFP+ (because why not, 10GbE is always handy to have)&lt;/item&gt;
      &lt;item&gt;One lane TX to a front panel differential SMA port for use as a deskew reference&lt;/item&gt;
      &lt;item&gt;The RX of the split channel went to a comparator and single-ended coaxial input for a potential future CDR trigger feature.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Unfortunately, having all of the transceivers in a single quad was a bit limiting due to the 7 series clocking architecture: they share the same QPLL, which has to be at 10.3125 Gbps for 10Gbase-R operation. While the CPLLs can be configured freely, they have a lower Fmax which meant that the BERT / CDR trigger channels cannot operate at arbitrary frequencies above 6 Gbps (most notably, 8 Gbps operation for PCIe gen3 mode is not available).&lt;/p&gt;
    &lt;p&gt;In theory it would be possible to reconfigure the QPLL for PCIe gen3 at the cost of temporarily disabling the SFP+ but current firmware/gateware doesnât support this. Using an UltraScale+ FPGA (which has a much higher CPLL frequency range, plus two QPLLs per quad) would also have provided a lot more clocking flexibility, but would also increase the cost since I didnât have a suitable FPGA on the shelf at the time and this board started out as a âjunk box buildâ from parts I mostly had on the shelf already.&lt;/p&gt;
    &lt;head rend="h2"&gt;The PCB&lt;/head&gt;
    &lt;p&gt;The board was fabricated at Multech on the 10-layer stackup Iâve used for my last few high-end designs: SGS GPPG SGS, with TU872SLK between the signal and reference layers and S1000-2M between the power and ground layers since thereâs no reason to use an expensive low-loss laminate on a power layer.&lt;/p&gt;
    &lt;p&gt;All of the trigger I/Os were placed in the northwest corner, with what ultimately turned out to be perhaps a bit too much packing density in retropect. The other rear-panel connectors were RJ45s for RS232 (Cisco pinout) and 1000baseT and the SFP+ for high speed I/O.&lt;/p&gt;
    &lt;p&gt;The 12V power input and I2C interface to the IBC were placed in the southwest corner, with the front panel SERDES ports along the south edge and the FPGA roughly centered in the board for easy access to everything. All of the high speed I/Os used SMPM connectors, my go-to for high speed high density these days because theyâre much smaller than SMA and have higher bandwidth. But this many of them was perhaps a bit excessive; if I were doing it again Iâd likely have used some kind of multi-lane board to board or board-to-cable connector and then broken out elsewhere.&lt;/p&gt;
    &lt;p&gt;The MCU was jammed into the 3 oâclock position just south of the SFP+; since it was mostly a âbrain on a stickâ hanging off the quad SPI link to the FPGA and not needing much IO of its own it could be placed almost anywhere.&lt;/p&gt;
    &lt;p&gt;I also provided a PMOD for debug GPIO, a couple of LEDs, and two 12V 4-pin fan connectors (only one of which ended up being used).&lt;/p&gt;
    &lt;p&gt;The final board size was 165 x 121 mm with 633 components, one of my larger designs to date. Mounting holes were 4-40, 5mm in from each corner plus one in the center of each of the long edges.&lt;/p&gt;
    &lt;head rend="h2"&gt;Bringup woes&lt;/head&gt;
    &lt;p&gt;Once I assembled the board (most of a weekend worth of tweezering components) and started trying to write firmware and gateware, I ran into problems. Well, actually I found one even before finishing populating the board (the SFP+ was recessed too far, and the EMI fingers on the bottom were bumping into the PCB surface and tilting it up slightly). I was able to fix this by cutting the EMI fingers off.&lt;/p&gt;
    &lt;head rend="h3"&gt;Power connection&lt;/head&gt;
    &lt;p&gt;Then I tried to actually turn it on, and nothing happened. The 48V IBC connects to the logic board via two connections - an 8-pin Molex Mini-Fit Jr carrying 12V power and ground, and a 5-pin Molex PicoBlade carrying a 3.3V standby power rail, an I2C management bus, and an enable line for the main 12V rail.&lt;/p&gt;
    &lt;p&gt;After a bit of probing, I discovered that I had wired the connector as if it were 1:1 pinout (i.e. pin 1 of IBC connector to pin 1 of logic board connector). But standard PicoBlade cables are wired straight through (a strip of parallel wires with one connector on each end, pin 1 wired to pin N-1).&lt;/p&gt;
    &lt;p&gt;I briefly considered reworking the IBC or logic board before realizing that bodging the cable was a much simpler solution. All I had to do was gently push in the latching pin on each crimp terminal to remove it from the plastic housing, then reinsert them in the correct order and add a bright orange stick-on warning label âmirrored pinoutâ so I didnât mix up this special cable with a standard-pinout one.&lt;/p&gt;
    &lt;p&gt;With that fixed, I was at least able to get power to the board. There was no magic smoke, always a good sign.&lt;/p&gt;
    &lt;head rend="h3"&gt;More power issues&lt;/head&gt;
    &lt;p&gt;I normally have the majority of power rails on my boards default to the off state, then turn them on one at a time under control of a supervisor MCU which functions as a PMIC (in this case a STM32L031). This is great for prototypes and small-run boards because it lets me change rail sequencing dynamically with a software patch, as well as automating bringup one rail at a time with instant panic-shutdown within milliseconds if a rail doesnât stabilize when and where it should. This minimizes the chance of hardware damage in case of solder defects or PCB design bugs on a hand soldered prototype.&lt;/p&gt;
    &lt;p&gt;Right out of the gate, things werenât too happy: 1V8 was reporting no-good on PGOOD. 3V0_N and GTX_1V8 werenât coming up, GTX_1V0 was unstable, and 1V2 was a dead short to ground.&lt;/p&gt;
    &lt;p&gt;Scoping the 1.8V rail gave a somewhat surprising result: the rail came up fine, stabilized at 1.7903V, but PGOOD never went high and after a few ms the supervisor assumed the rail was shorted (it wasnât monitoring the actual rail voltage with an ADC, just PGOOD reported by the regulator) and entered panic-shutdown mode to protect the board.&lt;/p&gt;
    &lt;p&gt;I decided to ignore the PGOOD fault since it looked like it would be a pain to rework due to the thermal mass of the board, and just patch the supervisor firmware to continue bringing up other rails a fixed delay after turning on 1V8. This isnât something I would do in a ârealâ system of course, but for a one-off it was a risk I was willing to take after having confirmed the rail wasnât in fact shorted (I had plenty of other fusing and protection mechanisms, the software timeouts were deliberately paranoid for bringup).&lt;/p&gt;
    &lt;p&gt;Most of the other rail issues turned out to be bad solder joints on the LGA Murata DC-DC modules I was usingâ¦ my solder paste print in this area was decidedly subpar (the board was larger than I was used to and flexed in the printing fixture due to insufficient back-side support while only fixturing it from the edges). In retrospect I should have just wiped the board off and re-printed but I had faith in my solder paste. A bit too much faith.&lt;/p&gt;
    &lt;p&gt;Anyway, I pulled and resoldered the 1V2 and GTX_1V8 DC-DC Modules, and added more capacitance to the 3V0_N regulator input which was causing instability during startup. I had ferrites on the output of GTX_1V0 and a few other rails as secondary filters but these were hurting stability so I removed them and replaced them with 0Râs.&lt;/p&gt;
    &lt;p&gt;At some point I noticed that decoupling capacitor C6, one of two 22 uF MLCCs as the input of the 3.3V DC-DC module, was not actually placed within the 12V power zone fill on layer 6. The 12V terminal on the capacitor was only connected by a very thin trace coming off the vias, which significantly reduced its effectiveness. This was easily bodged with a surface jumper connecting it to C3, the other 22 uF capacitor.&lt;/p&gt;
    &lt;head rend="h3"&gt;Comparator Vcm issues&lt;/head&gt;
    &lt;p&gt;With the power reasonably stable, the next step was to actually hook up some signal sources and bring up the I/O buffers.&lt;/p&gt;
    &lt;p&gt;They worked fine with large-swing inputs like 3.3V, but when I tried to use low-amplitude signals the LVDS outputs of the comparators werenât toggling.&lt;/p&gt;
    &lt;p&gt;After a while, I realized that I had missed the 1.5V minimum Vcm spec on the MAX40026 comparators when designing the input stage. And since I had a 2x attenuator on the input to provide 5V tolerance, this really came out to 3V at the input. Experimentally, if the DAC for setting the comparator threshold was set below about 800 mV, I stopped getting useful results out of the comparator. This was a major problem, since these inputs were key to the functionality of the device and my LeCroy scopes had 1V full-scale output on the trigger sync ports.&lt;/p&gt;
    &lt;p&gt;A switchable attenuator is the ârightâ solution here - with the 2x switched in it would perform well for ~3V to 5V inputs, and with no attenuation it would accept inputs from 3.3V down to ~1V logic levels. But retrofitting eight SPDT relays and drive circuitry around the attenuators, plus figuring out how to power and control them, seemed a bit beyond the scope of reasonable rework. I didnât want to respin the board and since this was mostly a project to scratch my own itch and not something I planned to mass produce, I wanted to avoid scrapping the board (now worth well over $2K between PCB and components, plus several days of hand assembly time).&lt;/p&gt;
    &lt;p&gt;After giving it some thought I decided that since I planned to have any given trigger input permanently connected to a specific instrument for the lifetime of the device, I didnât actually need a runtime-switchable attenuator. So I reworked most of the inputs to have a 0 dB passthrough instead of the original 6 dB attenuator (limiting them to 3.3V input levels), keeping attenuators only on the inputs that I planned to connect to instruments which had 5V trigger outputs. This seemed to work fine.&lt;/p&gt;
    &lt;head rend="h3"&gt;SPI/QSPI bus issues&lt;/head&gt;
    &lt;p&gt;As I started writing firmware, I couldnât get the main MCU (STM32H735) to talk to the supervisor (STM32L031) over their shared SPI bus. I pretty quickly discovered that this was due to a MOSI/MISO crossover that shouldnât have been there (STM32 SPI block wants them connected 1:1, changing pin directions based on host/device mode rather than having fixed in/out pins). This was easily reworked with a few trace cuts and a surface jumper right next to the MCU.&lt;/p&gt;
    &lt;p&gt;Around this time I also discovered how cursed the OCTOSPI was. I have a whole post about this so I wonât repeat all of the details here.&lt;/p&gt;
    &lt;p&gt;Finally, I started trying to bring up the front panel MCU and lost connectivity to the debugger as soon as I tried to send SPI traffic to it. This puzzled me to no end until I realized I was being hit by STM32L431 errata 2.2.6. Basically, the pin muxing logic is broken and if you try to use PB4 as anything but NJTRST, it doesnât actually disconnect the signal from the JTAG TAP and any logic low on the pin will reset the TAP.&lt;/p&gt;
    &lt;p&gt;I ended up working around this issue in two different ways:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;First: Patch the firmware to keep PB4 alt mode as JTRST unless actively sending SPI data back to the main processor (which will cause a momentary debugger disconnection, but allow the debugger to reconnect as soon as the SPI burst ends).&lt;/item&gt;
      &lt;item&gt;Second: Switch from debugging over JTAG to SWD, which bypasses the issue entirely. This also frees up the JTDO/SWO pin for use as serial trace output, which I wasnât using at the time but have since began to take advantage of.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Single ended CDR trigger input not working&lt;/head&gt;
    &lt;p&gt;I never solved this one. There was a HMC675 comparator feeding a GTX lane that I had intended to use as a CDR trigger input, but I wasnât getting toggles on the LVDS/CML output no matter what I did. I had so many other issues on the board and the CDR trigger was mostly a stretch goal, so I just shelved it. Could be anything from a soldering issue to a bad pinout to something borked in the power supply / circuit design.&lt;/p&gt;
    &lt;p&gt;I can always add CDR trigger input functionality in gateware via the BERT lanes, it will just require a 100 ohm differential input (or terminating one of the inputs to provide a single ended input?) rather than using the 50 ohm single ended input I had originally planned.&lt;/p&gt;
    &lt;head rend="h3"&gt;FPGA flash pinout bug&lt;/head&gt;
    &lt;p&gt;At this point, I had all of the major issues fixed (so I thought) and I started writing firmware and gateware. I had things working pretty well, until I tried to burn a bitstream to FPGA flash so I could boot the board from a cold state without having to JTAG it.&lt;/p&gt;
    &lt;p&gt;And nothing happened.&lt;/p&gt;
    &lt;p&gt;So I dug deeper, and was very upset with what I found: I had hooked CS# of the QSPI flash to CSO_B (daisy chain configuration chip select output), not FCS_B (flash chip select). Iâm still not sure how I made this mistake and didnât catch it during design review: if this was my first 7 series FPGA design it would be somewhat understandable, but itâs not. Iâve done probably 10+ 7 series designs in the past, and always got this connection right. Until now.&lt;/p&gt;
    &lt;p&gt;The actual FLASH_CS_N signal connected to pin M22 of the FBG484 package, while it should have gone to L16.&lt;/p&gt;
    &lt;p&gt;Disconnecting it from M22 was trivial, there was a via in the M22 BGA land (at the outer perimeter of the BGA) going straight into a 33Î© series terminator footprint on the back side of the board. Desoldering the terminator trivially disconnected the incorrect connection.&lt;/p&gt;
    &lt;p&gt;Adding the new connection at L16? Less trivial. In this area, there were:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;JTAG TMS and TCK in the routing channels immediately east/west of the L16 land on layer 3&lt;/item&gt;
      &lt;item&gt;Ground planes on layers 2, 4, 7, and 9&lt;/item&gt;
      &lt;item&gt;3.3V VCCO power plane on layer 5, connecting to a via in L17 immediately south of the L16 land&lt;/item&gt;
      &lt;item&gt;1.0V VCCINT power plane on layer 5, connecting to a via in L15 immediately north of the L16 land&lt;/item&gt;
      &lt;item&gt;1.8V VCCO/VCCAUX power plane on layer 6, but with no vias in the immediate area&lt;/item&gt;
      &lt;item&gt;4.7 Î¼F 0603 decoupling capacitor on layer 10 partially overlapping the L16 land&lt;/item&gt;
      &lt;item&gt;The remote sense line for VCCINT on layer 10&lt;/item&gt;
      &lt;item&gt;And of course the FPGA already soldered to layer 1&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Given how far into the BGA footprint the missing connection was, trying to reach in from the edge wasnât viable.&lt;/p&gt;
    &lt;p&gt;This really left only three options:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Give up. Accept that SPI boot isnât going to be available, then bodge up some board with a little MCU that acts as a JTAG controller, hooks up to the FPGA JTAG, and squirts a bitstream into the FPGA on powerup. This would require no hardware modification at all (although Iâd have to design the MCU board) but would block FPGA JTAG access for debug and just be ugly. The lack of debug access alone was enough of a reason to reject this,&lt;/item&gt;
      &lt;item&gt;Remove the FPGA, drill out a via from the top, figure out how to plate/fill it so it wouldnât suck the solder down, reball the FPGA, put it back. I donât have great gear for BGA desoldering, had a bunch of heat sensitive non-reflowable components on the board at this point, and didnât feel like tweezering 484 solder balls or scrapping a several hundred dollar FPGA. So this was a non-starter as well.&lt;/item&gt;
      &lt;item&gt;Root canal approach: add the via from the back side. This really seemed like the only way forward.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;So basically I had to drill a ~1.6mm deep flat-bottomed hole, exposing but not perforating the 35 Î¼m thick copper foil on L1 attached to the BGA land, and solder a jumper wire to it without shorting to any of the six power/ground plane layers in close proximity, damaging the VCCINT/VCCO vias 1mm centered north/south of the target, or cutting either of the layer 3 JTAG lines centered 500 Î¼m east/west of the target. No big deal /s.&lt;/p&gt;
    &lt;p&gt;I started out by removing two capacitors and a resistor in close proximity to the work area, that were getting in the way.&lt;/p&gt;
    &lt;p&gt;Then I fixtured the board on my Sherline 5400 mini mill and loaded up a 250 Î¼m carbide endmill. The mill is set up with a cheap Amscope stereo microscope (Iâm not going to risk my nice Leica getting hit by flying debris etc) and a 1/8â collet for mounting fine-pitch drills and endmills. At the time of this project I didnât have a proper gooseneck LED illuminator so I just used a random headlamp, although Iâve since fixed that.&lt;/p&gt;
    &lt;p&gt;At this point there was nothing left to do but start drilling.&lt;/p&gt;
    &lt;p&gt;The overall setup was very similar to a dual-beam SEM/FIB scaled up by a few orders of magnitude and rotated: milling column coming in from the top, and imaging column at a ~45 degree angle for in-process inspection. And using a vacuum system (aka a shopvac) for removing debris from the milled cavity. No fancy secondary ion mass spectrometer is needed for endpoint detection though, you can just see the swarf change from white fiberglass to shiny red copper when you hit a metal layer.&lt;/p&gt;
    &lt;p&gt;Just like with a dual-beam, this sort of work requires making an angled cut to allow the angled imaging path to see the work area of the mill. I decided to orient the board in the canonical CAD orientation and come in from the south side, parallel to the JTAG traces. As long as I kept the cavity centered and not more than around 750 Î¼m wide, there was no real danger of hitting the JTAG lines. The angled cut was more tricky as I had a VCCO via 1mm south of the work area that I needed to keep intact from L1 to L5 (but back-drilling it from L6 to L10 wouldnât hurt anything), so I had to pay careful attention to depth as I approached this area.&lt;/p&gt;
    &lt;p&gt;It worked perfectly. After about an hour of very careful machining, periodically stopping to unmount the board and look at it from different angles under the nice microscope, I saw the back side of the target BGA land coming into view, still under around 50 Î¼m of laminate but clearly visible after adding a drop of IPA (a little trick Iâve learned when doing rework: it soaks into the resin and fills the gaps between the glass strands, acting to match the refractive index better and making it more transparent with less scatter)&lt;/p&gt;
    &lt;p&gt;The only thing left to do was a final plunge cut to expose a 250 Î¼m circle of bare copper to solder to. In this view you can clearly see how the milled cavity gets smaller and smaller as the target area approaches. This is rotated 180 degrees from canonical (south in CAD view is up in this image). Note the VCCO via barrel terminating at L5, then L4 ground plane visible slightly below it. The L2 ground plane is barely visible at the 7 oâclock position of the final hole.&lt;/p&gt;
    &lt;p&gt;I did a final check for shorts and everything looked good. The only thing left to do was solder it up (not trivial, given that Iâm trying to hit a 250 Î¼m diameter target at the bottom of a 1.6mm deep hole).&lt;/p&gt;
    &lt;p&gt;After a few minutes of contorting myself trying to get a 100 Î¼m conical soldering tip and a 125 Î¼m bare copper wire positioned at the bottom of the hole while also angling the board enough that I could see under a microscope, I managed to get the wire securely attached.&lt;/p&gt;
    &lt;p&gt;Once that was done, I reconnected the VCCINT remote sense input, added a new series terminator to the CS# signal, put the removed decoupling capacitor back on its new slightly-smaller footprint, and tacked down all the wires with UV glue so they wouldnât move around.&lt;/p&gt;
    &lt;p&gt;After verifying the board was electrically functional and I could program the flash and boot from it, I went back and flooded the whole area with UV cured conformal coating to lock everything in place permanently.&lt;/p&gt;
    &lt;head rend="h2"&gt;Chassis design and assembly problems&lt;/head&gt;
    &lt;p&gt;I went with a custom 1U enclosure from ProtoCase, designed using their free ProtoCase Designer software.&lt;/p&gt;
    &lt;p&gt;I have very mixed feelings about it: it has a lot of convenient templates and integrations with their standard pems and printing processes, and runs on Linux (a rarity in the proprietary CAD world). But itâs also a custom file format to lock you into their service, and if you import a couple of moderately complex STEP models of PCBs it slows to a crawl. Iâll probably keep using it for now, as the free tools donât seem to be up to the task for complex sheet metal work and I donât want to buy SolidWorks or something and set up a Windows VM for it.&lt;/p&gt;
    &lt;p&gt;My original plan had been to use their standard 1U folded sheet metal design, but I discovered too late, after boards were ordered, that it wasnât going to work due to the 5mm corner mounting holes being inside the keepout area for the rear bend. I went with an extruded aluminum design, which let me salvage the design but had several significant problems:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;The stock template has no rack ears (although itâs 1U high) and thereâs no way to add them within their software. I had to pay an hourly fee for one of their engineering technicians to create a new template with ears and extruded sides.&lt;/item&gt;
      &lt;item&gt;The top and bottom panels slide into the extrusions and are held in place by the front and back. This means you cannot take the top panel off, e.g. to access JTAG ports for debug, without also removing the front panel (wearing out the self-tapping screwsâ holes and putting shear forces on any attached cables)&lt;/item&gt;
      &lt;item&gt;The front panel is only attached at the edges, and can flex relative to the top/bottom panels by quite a bit.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Iâm definitely not going to use this case design again, although I made it work for a one-off. All of my future projects will do chassis-PCB codesign and not order boards until the enclosure is finished enough that Iâm confident everything will mate properly.&lt;/p&gt;
    &lt;p&gt;All of the front/rear panel coaxial ports connect to the logic board using custom sized SMA-to-SMPM semirigid cables. I went with semirigid to ensure the best possible repeatability of the trigger path delays, but it was likely overkill. It also made chassis assembly an absolute nightmare even with the custom 3D printed bending jigs I madeâ¦ Iâm never doing this again. Either flexible cables, hand-formable cables, or a much lower density design with semirigid that I have more space to route.&lt;/p&gt;
    &lt;p&gt;The biggest problem was that the SMAs bolted to the outside of the chassis, meaning that I had to pre-bend the cables, then thread the SMPM end in through the hole in the chassis, then try to snake the SMPM in through all of the previously installed cables. Lesson very painfully learned: I did get it fully assembled in the end, but I would never build a second unit like this.&lt;/p&gt;
    &lt;p&gt;I also had slightly oversized some of the cables thinking that this would be better than undersizing, but in many cases this led to extra slack that I had to remove by U-bends and such, adding to the tangle.&lt;/p&gt;
    &lt;head rend="h2"&gt;Front panel&lt;/head&gt;
    &lt;p&gt;The front panel has a STM32L431 and an I2C I/O expander to drive two rows of LEDs, showing pulse-stretched trigger input and output state. Four additional pairs of LEDs show the direction of the bidirectional ports, and a small e-paper display shows system health and status information.&lt;/p&gt;
    &lt;p&gt;I may have gone slightly overkill with the stitching vias on the board, but Iâm so used to high speed designs that itâs a hard habit to break. I used an 0.5mm BGA package for the STM32 as a test to see if I could make it work on OSHPark, but probably would have just gone with the 48-QFN if this was a ârealâ product since there was absolutely no point in using a fine pitch BGA here.&lt;/p&gt;
    &lt;p&gt;This was my first time using e-paper and I initially had specced a white/black/red panel thinking I could use the red to denote error states or something, but quickly realized the error of my ways: the tricolor panels have a very very slow refresh rate and are really only suitable for signage, not user interface type stuff. Luckily Pervasive Displays made a pin- and mechanically-compatible B&amp;amp;W fast refresh display, so I swapped that in.&lt;/p&gt;
    &lt;p&gt;After spending a little while figuring out the not-great documentation for the panel controller and baking a few bitmap fonts into the STM32 firmware, I got it displaying some pretty system health stats: Ethernet link speed, IPv4/6 addresses, unit serial number, firmware timestamps for the FPGA and MCUs, input and output voltage/current/power for the IBC, temperatures at four points in the system, and fan speed.&lt;/p&gt;
    &lt;p&gt;I also swapped the original first-generation IBC shown in the build photos with my second-generation MYC0409 based version to improve power efficiency, at which point the hardware was essentially done.&lt;/p&gt;
    &lt;p&gt;The unit is now mounted on one of my 19â benchtop racks and cabled to most of my instrumentation (I have a few more cables to run still but the main oscilloscopes and such are connected). I left the top off because I still have some firmware tweaks to do, so I need to be able to get JTAG/SWD dongles in to debug it.&lt;/p&gt;
    &lt;head rend="h2"&gt;Operation&lt;/head&gt;
    &lt;p&gt;The crossbar has two remoting interfaces: SSH and SCPI.&lt;/p&gt;
    &lt;head rend="h3"&gt;SSH&lt;/head&gt;
    &lt;p&gt;The SSH interface is mostly used for low level configuration and setup - managing keys for administrative access, forcing refreshes of the front panel LCD, displaying hardware sensor values, setting the NTP server IP address, etc.&lt;/p&gt;
    &lt;p&gt;Itâs also used for firmware updates via SFTP. This is a somewhat unconventional DFU flow but I quite liked it:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;To flash the FPGA, SFTP a .bit file to /dev/fpga and it will be directly written to QSPI flash on the FPGA&lt;/item&gt;
      &lt;item&gt;To flash the front panel or logic board MCU, SFTP an ELF binary to /dev/mcu or /dev/frontpanel. The ELF will be parsed live by the SFTP server and any PT_LOAD program headers in the flash address range are then written to flash. This is implemented in a single-pass streaming flow which requires a specific construction of the ELF (ELF header then program header table then program headers in linear address order) however all sane ELF generators like the GNU linker produce binaries that follow this. If you try to flash with a pathological ELF hand crafted in a hex editor and brick things, thatâs on you :P&lt;/item&gt;
      &lt;item&gt;Supervisor and IBC MCUs are not field updateable because they were (at the time) STM32L031 based and lacked the flash for a bootloader. IBC is now STM32L431 based so adding a bootloader is possible, but I canât see any reason Iâd want to OTA the power supply so Iâll probably just JTAG it if I ever need to patch.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Code signing support could be added to this flow easily (basically just mark the image as non-bootable in some way until youâve checked the signature, then clear the flag once youâve verified it). For the near term though, I trust that anyone with a valid administrative SSH key on the device is an authorized admin and can flash arbitrary code. Since thatâs only me, itâs fine for now.&lt;/p&gt;
    &lt;p&gt;But since I have a curve25519 acceleration block in the FPGA already Iâll probably prototype a signing flow at some point just to have it available for future projects; I can always turn it off. The basic concept is to add an extra .signature section in the linker script that will be filled with 0x00 padding at link time, then a signing tool run post-link will hash the contents and headers of all data to be written to flash, sign with the curve25519 key, and overwrite .signature with that.&lt;/p&gt;
    &lt;p&gt;Signing the FPGA bitstream would be even simpler, just sign the entire .bit and append 32 bytes of signature to the end. The bitstream can be made unbootable by writing a dummy bitstream to the first flash sector containing an invalid CRC and a DESYNC command until the verification is done, then erasing this and writing the actual first sector bitstream content at the very end. This will require one flash erase block (typically 4 kB) of scratchpad buffer in the bootloader but not an entire bitstream worth of RAM, enabling a fly-by update flow at the cost of a second program/erase cycle on that one flash sector which is probably OK.&lt;/p&gt;
    &lt;head rend="h3"&gt;SCPI&lt;/head&gt;
    &lt;p&gt;The SCPI interface is the primary remote control interface for application layer access to the crossbar. It provides a standard SCPI-compliant *IDN? command a well as custom commands for controlling the actual crossbar matrix, setting input thresholds and output levels, and accessing the BERT.&lt;/p&gt;
    &lt;p&gt;Crossbar paths can be configured in ngscopeclient by drawing connections in the filter graph from source port to sink port.&lt;/p&gt;
    &lt;p&gt;The BERT works pretty much like any other BERT supported by ngscopeclient. You can configure TX/RX bit rate, inversion, PRBS pattern or custom arbitrary pattern, NRZ baud rates from 625 Mbps to 10.3125 Gbps, etc. TX-side swing and pre/postcursor equalizer taps are also easily controlled from the channel properties dialog.&lt;/p&gt;
    &lt;p&gt;Thereâs still a few things I want to tweak. RX side equalization is currently fixed until I figure out how to properly tune the 7 series GTX receiver via the DRP. I havenât implemented long-duration single point BER measurements, oversampling density plot mode, or offset sampling single-point scans.&lt;/p&gt;
    &lt;p&gt;The BERT inputs also contain an incomplete âCDR-based logic analyzerâ feature. Essentially the raw GTX output is fed through 8b/10b or 64b/66b decoders and into a pattern matching block; once the requested trigger event is seen the LA will trigger and capture about a megapoint of raw line coded serial bits into block RAM then output to ngscopeclient as a waveform.&lt;/p&gt;
    &lt;p&gt;Eventually I want to finish building out various pattern triggers as well as integrating the CDR block with the trigger crossbar proper, such that a CDR pattern match can trigger an oscilloscope or other instrument.&lt;/p&gt;
    &lt;p&gt;The current gateware also provides a fixed 10.3125 Gbps PRBS-31 on the front panel âsyncâ port although I will likely make the baud rate and polynomial configurable at some point (basically a third output-only BERT channel). The intended use here is a deskew reference signal for use with ngscopeclientâs multi instrument sync feature, allowing the cross-trigger delay between multiple instruments to be automatically calibrated out.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conclusions&lt;/head&gt;
    &lt;p&gt;This was my first large, standalone, rackmountable, network connected project that Iâve taken to something resembling completion in a long time (although Iâm sure Iâll be continuing to poke at firmware for some time since the feature set isnât quite where I want it). I learned a lot of things not to do, ranging from PCB design to mounting hole positionining to the awful OCTOSPI.&lt;/p&gt;
    &lt;p&gt;But itâs a useful tool I work with in my lab on a regular basis, and proved out a lot of software and hardware building blocks and techniques that I plan to use in many of my future projects, such as the Ethernet switch.&lt;/p&gt;
    &lt;p&gt;Like this post? Drop me a comment on Mastodon&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45243740</guid><pubDate>Sun, 14 Sep 2025 22:08:13 +0000</pubDate></item><item><title>Website is hosted on a disposable vape</title><link>http://ewaste.fka.wtf/</link><description></description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45243800</guid><pubDate>Sun, 14 Sep 2025 22:14:56 +0000</pubDate></item><item><title>Grapevine cellulose makes stronger plastic alternative, biodegrades in 17 days</title><link>https://www.sdstate.edu/news/2025/08/can-grapevines-help-slow-plastic-waste-problem</link><description>&lt;doc fingerprint="f488c5b0bf730735"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Can grapevines help slow the plastic waste problem?&lt;/head&gt;
    &lt;quote&gt;
      &lt;p&gt;A new study from South Dakota State University reveals how grapevine canes can be converted into plastic-like material that is stronger than traditional plastic and will decompose in the environment in a relatively short amount of time.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;The need for biodegradable packaging material has never been higher.&lt;/p&gt;
    &lt;p&gt;Currently, most packaging is "single use" and is made with plastic materials, derived from nonrenewable sources like crude oil that take hundreds of years to decompose in the environment. On top of this, only 9% of plastic is recycled. This has resulted in the formation of floating piles of plastic garbage in the ocean, called the "Great Pacific Garbage Patch."&lt;/p&gt;
    &lt;p&gt;But maybe even more concerning is the discovery of micro- and nano-plastics in the environment. Research has found that plastic breaks down into tiny particles, which are being ingested or inhaled by both humans and animals, and are found literally everywhere, including in the human body — according to recent research studies. Worse, little is known about the long-term health effects of microplastics.&lt;/p&gt;
    &lt;p&gt;Srinivas Janaswamy is an associate professor in South Dakota State University's Department of Dairy and Food Science. His research has focused on developing value-added products through biowaste and agricultural byproducts. One of the overarching goals of Janaswamy's research is to tackle the plastic waste crisis.&lt;/p&gt;
    &lt;p&gt;Perhaps the biggest contributor to plastic waste, at least in the United States, is plastic bags, the kind found at most retail stores. These bags, while sometimes recycled, are often only used once and can be found littered throughout the environment.&lt;/p&gt;
    &lt;p&gt;To address this problem, Janaswamy is working toward developing a plastic-like bag that will decompose in the environment.&lt;/p&gt;
    &lt;p&gt;"That is my dream," Janaswamy said.&lt;/p&gt;
    &lt;p&gt;The key ingredient to Janaswamy's work? Cellulose. This biopolymer is the most abundant organic substance on Earth and is found, primarily, in the cell walls of plants. Cellulose, thanks to strong hydrogen bonds and a chain of glucose molecules, gives plants structural strength and rigidity along with other biopolymers such as mannan, xylose, hemicellulose and lignin.&lt;/p&gt;
    &lt;p&gt;Humans have long used cellulose to create products. Cotton, the material used to make a majority of the world’s clothing, is primarily composed of cellulose. Wood is rich in cellulose as well.&lt;/p&gt;
    &lt;p&gt;In previous research, Janaswamy has extracted cellulose from agricultural products like avocado peels, soyhulls, alfalfa, switchgrass, spent coffee grounds, corncob and banana peels. He uses the extracted cellulose to develop films — materials that look and feel similar to traditional plastic wrapping.&lt;/p&gt;
    &lt;p&gt;"By extracting cellulose from agricultural products, value-added products can be created," Janaswamy said.&lt;/p&gt;
    &lt;p&gt;Each of Janaswamy's films has different characteristics and properties. Some are more transparent than others. Some are stronger. But thanks to a unique collaboration with a fellow SDSU faculty member, Janaswamy may have created his best value-added product yet.&lt;/p&gt;
    &lt;head rend="h2"&gt;Grapevine canes&lt;/head&gt;
    &lt;p&gt;Janaswamy had just finished presenting “Ag Biomass – A Holy Grail to Clean up the Plastic Mess” at SDSU's Celebration of Faculty Excellence when he was approached by Anne Fennell, a Distinguished Professor in the Department of Agronomy, Horticulture and Plant Science.&lt;/p&gt;
    &lt;p&gt;After listening to Janaswamy's presentation, Fennell became interested in the research and had an idea. A leading researcher in the study of grapevines, she knew that grapevine canes — the woody plant material that grapes grow on — were rich in cellulose. She also knew that grapevine canes were abundant and had limited use after harvest.&lt;/p&gt;
    &lt;p&gt;"Every year we prune the majority of yearly biomass off the vine," Fennell said. "The pruned canes are either mowed over, composted and reapplied to the soil, or burned in some areas. Research in Australia showed that prunings could be removed from the field in alternate years without effecting soil health. My thought was why not use this for value added films. Several of the materials that Janaswamy previously used had a high-water content, in contrast the winter pruning yields a cellulose-dense material with low water content, making them an abundant ideal material to work with."&lt;/p&gt;
    &lt;p&gt;Fennell's idea led to a collaboration, and soon Janaswamy was extracting cellulose — which looks almost like cotton — from the canes of grapevines. The resulting films were eye-opening.&lt;/p&gt;
    &lt;p&gt;According to a recent study published in the academic journal Sustainable Food Technology, Janaswamy's grapevine cane films are transparent and strong and biodegrade within 17 days in the soil — leaving behind no harmful residue.&lt;/p&gt;
    &lt;p&gt;"High transmittance in packaging films enhances product visibility, making them more attractive to consumers and facilitating easy quality inspection without the need for unsealing," Janaswamy said. "These films demonstrate outstanding potential for food packaging applications."&lt;/p&gt;
    &lt;p&gt;The grapevine canes were harvested from SDSU's research vineyard. The research team, which includes doctoral candidates Sandeep Paudel and Sumi Regmi, and Sajal Bhattarai, an SDSU graduate and a doctoral candidate at Purdue University, followed a published protocol in developing the films, which includes drying and grinding the canes and extracting the cellulosic residue. The residue was then solubilized and cast onto glass plates to create the films.&lt;/p&gt;
    &lt;p&gt;Testing revealed the grapevine cane-derived films were actually stronger than traditional plastic bags — in terms of tensile strength.&lt;/p&gt;
    &lt;p&gt;"Using underutilized grapevine prunings as a cellulose source for packaging films enhances waste management in the field and addresses the global issue of plastic pollution," Janaswamy said. "Developing eco-friendly films from grapevine cellulose represents a practical approach to sustainability, helping to conserve the environment and its resources and contributing to the circular bioeconomy."&lt;/p&gt;
    &lt;p&gt;The results of this work move Janaswamy one step closer to his dream of developing a bag made from a plastic-like material that will quickly decompose in the environment.&lt;/p&gt;
    &lt;p&gt;Funding for this research was provided by the U.S. Department of Agriculture's National Institute of Food and Agriculture and the National Science Foundation.&lt;/p&gt;
    &lt;p/&gt;
    &lt;p&gt;Republishing&lt;/p&gt;
    &lt;p&gt;You may republish SDSU News Center articles for free, online or in print. Questions? Contact us at sdsu.news@sdstate.edu or 605-688-6161.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45243803</guid><pubDate>Sun, 14 Sep 2025 22:15:33 +0000</pubDate></item><item><title>Cannabis use associated with quadrupled risk of developing type 2 diabetes</title><link>https://medicalxpress.com/news/2025-09-cannabis-quadrupled-diabetes-million-adults.html</link><description>&lt;doc fingerprint="ba5b98ba7b2e85cf"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Cannabis use associated with quadrupled risk of developing type 2 diabetes, finds study of over 4 million adults&lt;/head&gt;
    &lt;head rend="h5"&gt;Sadie Harley&lt;/head&gt;
    &lt;p&gt;scientific editor&lt;/p&gt;
    &lt;head rend="h5"&gt;Robert Egan&lt;/head&gt;
    &lt;p&gt;associate editor&lt;/p&gt;
    &lt;p&gt;Cannabis use is linked to an almost quadrupling in the risk of developing diabetes, according to an analysis of real-world data from over 4 million adults, being presented at the Annual Meeting of the European Association for the Study of Diabetes (EASD) held in Vienna, Austria (15–19 Sept).&lt;/p&gt;
    &lt;p&gt;Cannabis use is increasing globally with an estimated 219 million users (4.3% of the global adult population) in 2021, but its long-term metabolic effects remain unknown. While some studies have suggested potential anti-inflammatory or weight management properties, others have raised concerns regarding glucose metabolism and insulin resistance, and the magnitude of the risk of developing diabetes hasn't been clear.&lt;/p&gt;
    &lt;p&gt;To strengthen the evidence base, Dr. Ibrahim Kamel from the Boston Medical Center, Massachusetts, U.S. and colleagues analyzed electronic health records from 54 health care organizations (TriNetX Research Network, with centers from across U.S. and Europe) to identify 96,795 outpatients (aged between 18 and 50 years, 52.5% female) with cannabis-related diagnoses (ranging from occasional use to dependence, including cases of intoxication and withdrawal) between 2010 and 2018.&lt;/p&gt;
    &lt;p&gt;They were matched with 4,160,998 healthy individuals (with no record of substance use or major chronic conditions) based on age, sex, and underlying illnesses at the start of the study, and followed for five years.&lt;/p&gt;
    &lt;p&gt;After controlling HDL and LDL cholesterol, uncontrolled high blood pressure, atherosclerotic cardiovascular disease, cocaine use, alcohol use and several other lifestyle risk factors, the researchers found that new cases of diabetes were significantly higher in the cannabis group (1,937; 2.2%) compared to the healthy group (518; 0.6%), with statistical analysis showing cannabis users at nearly four times the risk of developing diabetes compared to non-users.&lt;/p&gt;
    &lt;p&gt;While the authors note that more research is needed to fully explain the association between cannabis and diabetes, it may come down to insulin resistance and unhealthy dietary behaviors. Nevertheless, the study's results have immediate implications for metabolic monitoring practices and public health messaging.&lt;/p&gt;
    &lt;p&gt;"As cannabis becomes more widely available and socially accepted and legalized in various jurisdictions, it is essential to understand its potential health risks," said lead author Dr. Kamel.&lt;/p&gt;
    &lt;p&gt;"These new sights from reliable real-world evidence highlight the importance of integrating diabetes risk awareness into substance use disorder treatment and counseling, as well as the need for health care professionals to routinely talk to patients about cannabis use so that they can understand their overall diabetes risk and potential need for metabolic monitoring."&lt;/p&gt;
    &lt;p&gt;The authors note that more research is needed on the long-term endocrine effects of cannabis use and whether diabetes risks are limited to inhaled products or other forms of cannabis such as edibles.&lt;/p&gt;
    &lt;p&gt;Despite the important findings, this is a retrospective study and cannot prove that cannabis use causes diabetes, and the authors cannot rule out the possibility that other unmeasured factors may have influenced the results despite efforts to reduce confounding bias via propensity score matching. This study has limitations due to a lack of detailed cannabis consumption data and potential misclassification.&lt;/p&gt;
    &lt;p&gt;The authors acknowledge that the inherent limitations of real-world data often result from inconsistent patient reporting in electronic medical records.&lt;/p&gt;
    &lt;p&gt;They also note that there is a risk of bias because of imprecise measures of cannabis exposure and the reliance on participants to accurately report any cannabis use, even when they lived in places where the drug is illegal.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45243867</guid><pubDate>Sun, 14 Sep 2025 22:22:32 +0000</pubDate></item><item><title>Titania Programming Language</title><link>https://github.com/gingerBill/titania</link><description>&lt;doc fingerprint="cc9bde28ba1db0de"&gt;
  &lt;main&gt;
    &lt;p&gt;Based on the Oberon-07 programming language designed by the late Niklaus Wirth.&lt;/p&gt;
    &lt;p&gt;This is designed to be a language to teach compiler development with.&lt;/p&gt;
    &lt;p&gt;Meaning behind the name:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Titania is the wife of Oberon (Fairy King) in Shakespeare's A Midsummer Night's Dream&lt;/item&gt;
      &lt;item&gt;https://en.wikipedia.org/wiki/Titania_(A_Midsummer_Night%27s_Dream)&lt;/item&gt;
      &lt;item&gt;This is just a codename, and probably not final for this teaching language&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;module = "module" ident ";" [import_list] decl_sequence
         ["begin" stmt_sequence] "end" [";"].

import_list = "import" import_decl {"," import_decl} ";".
decl_sequence = ["const" {const_decl ";"}]
                ["type"  {type_decl  ";"}]
                ["var"   {var_decl   ";"}]
                [{proc_decl          ";"}].

const_decl = ident "=" const_expr.
type_decl = ident "="" struct_type.
var_decl = ident_list ":" type.

proc_decl = "proc" ident [formal_parameters] ";" proc_body.
proc_body = decl_sequence ["begin" stmt_sequence] ["return" expr] "end".


const_expr = expr.
expr = simple_expr {relation simple_expr}.

simple_expr = ["+" | "-"] unary_expr {add_operator unary_expr}.
unary_expr = ["+" | "-"] term.
term = factor {mul_operator factor}.

factor = integer | real | string | nil | true | false | set |
         "(" expr ")" | "not" expr | designator.

element = expr [".." expr].

ident_list = ident {"," ident}.
qual_ident = [ident "."] ident.

struct_type = array_type | record_type | pointer_type | proc_type.
array_type = "["" const_expr {"," const_expr} "]" type.
record_type = "record" ["(" qual_ident ")"] [field_list_sequence] "end".
pointer_type = "^" type.
proc_type = "proc" formal_parameters.
field_list = ident_list ":" type.
formal_parmeters = "(" [fp_section {";" fp_section}] [";"] ")".
formal_type = "[" "]" qual_ident.

stmt_sequence = stmt {";" stmt} [";"].
stmt = [assignment | proc_call | if_stmt | case_stmt | while_stmt | repeat_stmt | for_stmt ].

assignment = designator ":=" expr

if_stmt = "if" expr "then" stmt_sequence
          {"elseif" expr "then" stmt_sequence}
          ["else" stmt_sequence]
          "end".

case_stmt = "case" expr "of" case {"|" case} "end".
case = [case_label_list ":" stmt_sequence].
case_list = label_range {"," label_range}.
label_range = label [".." label].
label = integer | string | qual_ident.

while_stmt = "while" expr "do" stmt_sequence
             {"elseif" expr "then" stmt_sequence}
             "end".
repeat_stmt = "repeat" stmt_sequence "until" expr.
for_stmt = "for" ident ":=" expr "to" expr ["by" const_expr] "do" stmt_sequence "end".


designator = qual_ident {selector}.
selector = "." ident | "[" expr_list "]" | "^" | "(" qual_ident ")".
expr_list = expr {"," expr}.


add_operator = "+" | "-" | "xor" | "or".
mul_operator = "*" | "/" | "%"   | "and".
relation     = "=" | "&amp;lt;&amp;gt;" | "&amp;lt;" | "&amp;lt;=" | "&amp;gt;" | "&amp;gt;=" | "in" | "is".
&lt;/code&gt;
    &lt;code&gt;and    else    import  of      then   while
begin  elseif  in      or      to     xor
by     end     is      proc    true
case   false   module  record  type
const  for     nil     repeat  until
do     if      not     return  var
&lt;/code&gt;
    &lt;code&gt;+    .   (   )   =  &amp;lt;&amp;gt;
-    ,   [   ]   &amp;lt;  &amp;lt;=
*    ;   {   }   &amp;gt;  &amp;gt;=
/    |   :=  :   ..
%    ^
&lt;/code&gt;
    &lt;p&gt;Note: These will be added to as the compiler develops&lt;/p&gt;
    &lt;code&gt;abs(x)            - absolute value of
lsh(x, y)         - logical shift left
ash(x, y)         - arithmetic shift right
ror(x, y)         - rotate right
chr(i)            - convert int to char
ord(c)            - convert char to int
inc(x)            - x := x + 1
inc(x, y)         - x := x + y
dec(x)            - x := x - 1
dec(x, y)         - x := x - y
incl(x, y)        - include y in set x
excl(x, y)        - exclude y in set x
odd(x)            - x % 2 = 0
floor(x)          - round-down for real
ceil(x)           - round-up   for real
assert(cond)      - assert when cond is false
new(ptr)          - allocate memory
delete(ptr)       - free memory
addr(x)           - address of addressable memory
size_of(x)        - size of the type of 'x'
align_of(x)       - alignment of the type of 'x'
copy(dst, src, n) - non-overlapping memory copying from `src` to `dst` of `n` bytes
print(...)        - variadic print without newline
println(...)      - variadic print with newline
len(x)            - length of an array 'x'
&lt;/code&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45243925</guid><pubDate>Sun, 14 Sep 2025 22:29:49 +0000</pubDate></item><item><title>Gentoo AI Policy</title><link>https://wiki.gentoo.org/wiki/Project:Council/AI_policy</link><description>&lt;doc fingerprint="5113f350feb360da"&gt;
  &lt;main&gt;&lt;head rend="h1"&gt;Project:Council/AI policy&lt;/head&gt;&lt;p&gt;From Gentoo Wiki&lt;/p&gt; Jump to:navigation Jump to:search &lt;head rend="h2"&gt;The policy&lt;/head&gt;&lt;p&gt;Gentoo Council has voted on 2024-04-14 on the following policy:&lt;/p&gt;&lt;quote&gt;&lt;p&gt;It is expressly forbidden to contribute to Gentoo any content that has been created with the assistance of Natural Language Processing artificial intelligence tools. This motion can be revisited, should a case been made over such a tool that does not pose copyright, ethical and quality concerns.&lt;/p&gt;&lt;/quote&gt;&lt;p&gt;This policy affects Gentoo contributions and the official Gentoo projects. It does not prohibit adding packages for AI-related software or software that is being developed with the help of such tools upstream.&lt;/p&gt;&lt;head rend="h2"&gt;Rationale&lt;/head&gt;&lt;list rend="ol"&gt;&lt;item&gt;Copyright concerns. At this point, the regulations concerning copyright of generated contents are still emerging worldwide. Using such material could pose a danger of copyright violations, but it could also weaken Gentoo claims to copyright and void the guarantees given by copyleft licensing.&lt;/item&gt;&lt;item&gt;Quality concerns. Popular LLMs are really great at generating plausibly looking, but meaningless content. They are capable of providing good assistance if you are careful enough, but we can't really rely on that. At this point, they pose both the risk of lowering the quality of Gentoo projects, and of requiring an unfair human effort from developers and users to review contributions and detect the mistakes resulting from the use of AI.&lt;/item&gt;&lt;item&gt;Ethical concerns. The business side of AI boom is creating serious ethical concerns. Among them: &lt;list rend="ul"&gt;&lt;item&gt;Commercial AI projects are frequently indulging in blatant copyright violations to train their models.&lt;/item&gt;&lt;item&gt;Their operations are causing concerns about the huge use of energy and water.&lt;/item&gt;&lt;item&gt;The advertising and use of AI models has caused a significant harm to employees and reduction of service quality.&lt;/item&gt;&lt;item&gt;LLMs have been empowering all kinds of spam and scam efforts.&lt;/item&gt;&lt;/list&gt;&lt;/item&gt;&lt;/list&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45244295</guid><pubDate>Sun, 14 Sep 2025 23:20:01 +0000</pubDate></item><item><title>AI False information rate for news nearly doubles in one year</title><link>https://www.newsguardtech.com/ai-monitor/august-2025-ai-false-claim-monitor/</link><description>&lt;doc fingerprint="9c3448930315d7ce"&gt;
  &lt;main&gt;
    &lt;p&gt;Published Sept. 4, 2025&lt;/p&gt;
    &lt;p&gt;Despite a year of technical advancements in the AI industry, generative AI tools fail at a nearly doubled rate when it comes to one of the most basic tasks: distinguishing facts from falsehoods. The 10 leading AI tools repeated false information on topics in the news more than one third of the time — 35 percent — in August 2025, up from 18 percent in August 2024. When it comes to providing reliable information about current affairs, the industry’s promises of safer, more reliable systems have not translated into real-world progress.&lt;/p&gt;
    &lt;p&gt;The increase reflects a structural tradeoff. As chatbots adopted real-time web searches, they moved away from declining to answer questions. Their non-response rates fell from 31 percent in August 2024 to 0 percent in August 2025. But at 35 percent, their likelihood of repeating false information almost doubled. Instead of citing data cutoffs or refusing to weigh in on sensitive topics, the LLMs now pull from a polluted online information ecosystem — sometimes deliberately seeded by vast networks of malign actors, including Russian disinformation operations — and treat unreliable sources as credible.&lt;/p&gt;
    &lt;p&gt;Malign actors are exploiting this new eagerness to answer news queries to launder falsehoods via low-engagement websites, social media posts, and AI-generated content farms that the models fail to distinguish from credible outlets. In short, the push to make chatbots more responsive and timely has inadvertently made them more likely to spread propaganda.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</description><guid isPermaLink="false">https://news.ycombinator.com/item?id=45244985</guid><pubDate>Mon, 15 Sep 2025 01:02:09 +0000</pubDate></item><item><title>Show HN: Dagger.js – A buildless, runtime-only JavaScript micro-framework</title><link>https://daggerjs.org</link><guid isPermaLink="false">https://news.ycombinator.com/item?id=45245138</guid><pubDate>Mon, 15 Sep 2025 01:28:52 +0000</pubDate></item></channel></rss>