<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><id>hnrss.org/frontpage</id><title>Hacker News: Front Page</title><updated>2025-10-22T14:44:30.482344+00:00</updated><link href="https://news.ycombinator.com/" rel="alternate"/><link href="https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml" rel="self"/><generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator><subtitle>Hacker News RSS</subtitle><entry><id>https://news.ycombinator.com/item?id=45664848</id><title>Evaluating the Infinity Cache in AMD Strix Halo</title><updated>2025-10-22T14:44:40.935606+00:00</updated><content>&lt;doc fingerprint="2fdaf83057b028f9"&gt;
  &lt;main&gt;
    &lt;p&gt;Strix Halo is the codename for AMD’s highest end mobile chip, which is used in the Ryzen AI MAX series. It combines a powerful CPU with 16 Zen 5 cores and a large GPU with 20 RDNA 3.5 Workgroup Processors (WGPs). The sizeable iGPU makes Strix Halo particularly interesting because GPUs have high bandwidth requirements. Strix Halo tackles that with a 256-bit LPDDR5X-8000 setup combined with 32 MB of memory side cache. The latter is often referred to as Infinity Cache, or MALL (Memory Attached Last Level). I’ll refer to it as Infinity Cache for brevity.&lt;/p&gt;
    &lt;p&gt;Infinity Cache has been around since RDNA2 in AMD’s discrete consumer GPU lineup, where it helped AMD hit high performance targets with lower DRAM bandwidth requirements. However, Infinity Cache’s efficacy has so far been difficult for me to evaluate. AMD’s discrete GPUs have performance monitoring facilities accessible through AMD’s developer tools. But those tools stop providing information past L2. Strix Halo stands out because it has an Infinity Cache implementation, and all the accessible performance monitoring features typical of a recent AMD GPU. That includes programmable performance counters at Infinity Fabric and memory controllers. It’s an opportunity to finally get insight into how well AMD’s Infinity Cache does its job in various graphics workloads.&lt;/p&gt;
    &lt;head rend="h1"&gt;Acknowledgements&lt;/head&gt;
    &lt;p&gt;Special thanks goes out to ASUS for sampling their ROG Flow Z13. This device implements AMD’s Ryzen AI MAX+ 395 with 32 GB of LPDDR5X in a thin and light form factor. It superficially represents a convertible tablet from Microsoft’s Surface line, and is remarkably portable for a device with gaming credentials. Without ASUS’s help, this article wouldn’t have been possible.&lt;/p&gt;
    &lt;head rend="h1"&gt;Infinity Fabric, Performance Monitoring, and Theory&lt;/head&gt;
    &lt;p&gt;AMD’s Infinity Fabric aims to abstract away details of how data travels across the chip. It does so by providing endpoints with well defined interfaces to let blocks make or handle memory requests. Infinity Fabric also provides a set of programmable performance counters. AMD documents a single DATA_BW performance event that counts data beats at endpoints. DATA_BW targets an endpoint via its 8-bit instance ID, and can count either reads or writes. AMD never documented Infinity Fabric instance IDs for Strix Halo. So, I did some guessing by generating traffic at various blocks and observing bandwidth counts at all possible instance IDs.&lt;/p&gt;
    &lt;p&gt;Instance IDs start from the Coherent Stations (CS-es), just like on server platforms. CS blocks sit in front of memory controllers and ensure cache coherency by probing another block if it might have a modified copy of the requested cacheline. If it doesn’t, which is most of the time, the CS will pass the request on to its attached Unified Memory Controller (UMC). Because CS blocks observe all requests to physical memory backed by DRAM, it’s a logical place to implement a memory side cache. That’s exactly what AMD does on chips with Infinity Cache. Cache hits let the CS avoid going to the UMC.&lt;/p&gt;
    &lt;p&gt;Strix Halo has 16 memory controllers and CS instances, each handling a 16-bit LPDDR5X channel. The GPU occupies the next eight instance IDs, suggesting it has a wide interface to Infinity Fabric. CPU core clusters come next. Each octa-core Zen 5 Core Complex (CCX) connects to Infinity Fabric via one endpoint. Miscellaneous blocks follow. These include the NPU, media engine, the display engine, and a mystery.&lt;/p&gt;
    &lt;head rend="h2"&gt;Setting up Performance Monitoring&lt;/head&gt;
    &lt;p&gt;Cache misses usually cause a request to the next level in the memory hierarchy, while cache hits do not. Therefore, my idea is to compare traffic levels at the CS and UMC levels. Traffic that shows up at the CS but not at the UMCs can be used as a proxy for Infinity Cache hits. There are a few problems with that approach though.&lt;/p&gt;
    &lt;p&gt;First, Strix Halo only provides eight Infinity Fabric performance counters. I have to use two counters per endpoint to count both read and write data beats, so I can only monitor four CS-es simultaneously. Memory traffic is interleaved across channels, so taking bandwidth observed at four CS-es and multiplying by four should give a reasonably accurate estimate of overall bandwidth. But interleaving isn’t perfectly even in practice, so I expect a few percentage points of error. The UMC situation is easier. Each UMC has its own set of four performance counters, letting me monitor all of them at the same time. I’m using one counter per UMC to count Column Address Strobe (CAS) commands. Other available UMC events allow monitoring memory controller frequency, bus utilization, and ACTIVATE or PRECHARGE commands. But that stuff goes beyond what I want to focus on here, and collecting more data points would make for annoyingly large spreadsheets.&lt;/p&gt;
    &lt;p&gt;Cross-CCX traffic presents a second source of error as mentioned above. If a CS sends a probe that hits a modified line, it won’t send a request to the UMC. The request is still being satisfied out of cache, just not the Infinity Cache that I’m interested in. I expect this to be rare because cross-CCX traffic in general is usually low compared to requests satisfied from DRAM. It’ll be especially rare in the graphics workloads I’m targeting here because Strix Halo’s second CCD tends to be parked in Windows.&lt;/p&gt;
    &lt;p&gt;CPU-side traffic in general presents a more significant issue. Strix Halo’s Infinity Cache narrowly targets the GPU, and only GPU-side memory requests cause cache fills. CPU memory accesses will be counted as misses in a hitrate calculation. That may be technically correct, but misses the point of Infinity Cache. Most memory traffic comes from the GPU, but there’s enough CPU-side traffic to create a bit more of an error bar than I’d like. Therefore, I want to focus on whether Infinity Cache is handling enough traffic to avoid hitting DRAM bandwidth bottlenecks.&lt;/p&gt;
    &lt;p&gt;A final limitation is that I’m sampling performance counters with a tool I wrote years ago. I wrote it so I could look at hardware performance stats just like how I like looking at Task Manager or other monitoring utilities to see how my system is doing. Because I’m updating a graphical interface, I sample data every second and thus have lower resolution compared to some vendor tools. Those can often sample at millisecond granularity or better. That opens the window to underestimating bandwidth demands if a bandwidth spike only occurs over a small fraction of a second. In theory I could write another tool. But Chips and Cheese is an unpaid hobby project that has to be balanced with a separate full time job as well as other free time interests. Quickly rigging an existing project to do my bidding makes more efficient use of time, because there’s never enough time to do everything I want.&lt;/p&gt;
    &lt;head rend="h1"&gt;Results&lt;/head&gt;
    &lt;p&gt;I logged data over some arbitrarily selected graphics workloads, then selected the 1-second interval with the highest DRAM bandwidth usage. That should give an idea of whether Strix Halo comes close to reaching DRAM bandwidth limits. Overall, the 32 MB cache seems to do its job. Strix Halo is able to stay well clear of the 256 GB/s theoretical bandwidth limit that its LPDDR5X-8000 setup can deliver.&lt;/p&gt;
    &lt;p&gt;Approximate CS-side bandwidth demands do indicate several workloads can push uncomfortably close to 256 GB/s. A workload doesn’t necessarily have to get right up to bandwidth limits for memory-related performance issues to start cropping up. Under high bandwidth demand, requests can start to pile up in various queues and end-to-end memory latency can increase. GHPC and Ungine Valley fall into that category. 3DMark Time Spy Extreme would definitely be DRAM bandwidth bound without the memory side cache.&lt;/p&gt;
    &lt;p&gt;Picking an interval with maximum bandwidth demands at the CS gives an idea of how much bandwidth Strix Halo’s GPU can demand. Strix Halo has the same 2 MB of graphics L2 cache that AMD’s older 7000 series “Phoenix” mobile chip had, despite more than doubling GPU compute throughput. Unsurprisingly, the GPU can draw a lot of bandwidth across Infinity Fabric. 3DMark Time Spy again stands out. If AMD wanted to simply scale up DRAM bandwidth without spending die area on cache, they would need well over 335 GB/s from DRAM.&lt;/p&gt;
    &lt;p&gt;Curiously, Digital Foundry notes that Strix Halo has very similar graphics performance to the PS5. The PS5 uses a 256-bit, 14 GT/s GDDR6 setup that’s good for 448 GB/s of theoretical bandwidth, and doesn’t have a memory side cache like Strix Halo. 448 GB/s looks just about adequate for satisfying Time Spy Extreme’s bandwidth needs, if just barely. If Strix Halo didn’t need to work in power constrained mobile devices, and didn’t need high memory capacity for multitasking, perhaps AMD could have considered a GDDR6 setup. To bring things back around to Infinity Cache, it seems to do very well at that interval above. It captures approximately 73% of memory traffic going through Infinity Fabric, which is good even from a hitrate point of view.&lt;/p&gt;
    &lt;p&gt;The two bar graphs above already hint at how bandwidth demands and cache hitrates vary across workloads. Those figures vary within a workload as well, though plotting all of the logged data would be excessive. Variation both across and within workloads makes it extremely difficult to summarize cache efficacy with a single hitrate figure. Plotting the percentage of traffic at the CS not observed at the UMCs as a proxy for hitrate further emphasizes that point.&lt;/p&gt;
    &lt;p&gt;Resolution settings can impact cache hitrate as well. While I don’t have a direct look at hitrate figures, plotting with the data I do have suggests increasing resolution in the Ungine Valley benchmark tends to depress hitrate.&lt;/p&gt;
    &lt;p&gt;AMD presented a slide at Hot Chips 2021 with three lines for different resolutions across a set of different cache capacities. I obviously can’t test different cache capacities. But AMD’s slide does beg the question of how well a 32 MB cache can do at a wider range of resolutions, and whether bandwidth demands remain under control at resolutions higher than what AMD may have optimized the platform for.&lt;/p&gt;
    &lt;p&gt;Ungine Superposition and 3DMark workloads can both target a variety of resolutions without regard to monitor resolution. Logging data throughout benchmark runs at different resolutions shows the 32 MB cache providing reasonable “bandwidth amplification” at reasonable resolutions. At unreasonable resolutions, the cache is still able to do something. But it’s not as effective as it was at lower resolutions.&lt;/p&gt;
    &lt;p&gt;Plotting data over time shows spikes and dips in Infinity Cache efficacy occur at remarkably consistent times, even at different resolutions. 8K is an exception with the Superposition benchmark. The 8K line looks stretched out, possibly because Strix Halo’s GPU was only able to average a bit over 10 FPS, and time got slowed a bit.&lt;/p&gt;
    &lt;p&gt;If Strix Halo’s iGPU were capable of delivering over 30 FPS in Superposition, AMD would definitely need a larger cache, more DRAM bandwidth, or a combination of both. Taking a simplistic view and tripling maximum observed 8K bandwidth demands would give a figure just north of 525 GB/s. But Strix Halo’s iGPU clearly wasn’t built with such a scenario in mind, and AMD’s selected combination of cache capacity and DRAM bandwidth works well enough at all tested resolutions. While high resolutions create the most DRAM traffic, 1080P shows the heaviest bandwidth demands at the Infinity Fabric level.&lt;/p&gt;
    &lt;p&gt;3DMark Wild Life Extreme is a better example because it’s a lightweight benchmark designed to run on mobile devices. Strix Halo’s iGPU can average above 30 FPS even when rendering at 8K. Again, DRAM bandwidth demands increase and Infinity Cache becomes less effective as resolution goes up. But Infinity Cache still does enough to keep the chip well clear of DRAM bandwidth limits. Thus the cache does its job, and the bandwidth situation remains under control across a wide range of resolutions.&lt;/p&gt;
    &lt;p&gt;Bandwidth demands are more important than hitrates. Curiously though, Wild Life Extreme experiences increasingly severe hitrate dips at higher resolutions around the 16-19 and 45-52 second intervals. Those dips barely show at 1440P or below. Perhaps a 32 MB cache’s efficacy also shows more variation as resolution increases.&lt;/p&gt;
    &lt;head rend="h1"&gt;A Video?&lt;/head&gt;
    &lt;p&gt;A few errors here - I said Core Coherent Master read/write beats were 32B and 64B/cycle. It’s not per cycle, it’s per data beat. And I meant to say reads outnumber writes at the end.&lt;/p&gt;
    &lt;head rend="h1"&gt;Final Words&lt;/head&gt;
    &lt;p&gt;Chip designers have to tune their designs to perform well across a wide variety of workloads. Cache sizes are one parameter on the list. AMD chose to combine a 32 MB cache with 256 GB/s of DRAM bandwidth, and it seems to do well enough across the workloads I tested. Monitoring at the CS-es and UMCs also supports AMD’s data showing that higher resolutions tend to depress hitrate. Those results explain why larger GPUs tend to have larger caches and higher DRAM bandwidth.&lt;/p&gt;
    &lt;p&gt;At a higher level, GPU bandwidth demands have been a persistent challenge for large iGPUs and have driven a diverse set of solutions. Over a decade ago, Intel created “halo” iGPU variants and paired a 128 MB eDRAM cache while sticking with a typical 128-bit client memory bus. AMD’s console chips use large and fast DRAM buses. The PS5 is one example. Strix Halo does a bit of both. It combines modest cache capacity with a more DRAM bandwidth than typical client chips, but doesn’t rely as much on DRAM bandwidth as console chips.&lt;/p&gt;
    &lt;p&gt;Those varied approaches to the bandwidth problem are fascinating. Watching how Infinity Cache behaves in various graphics workloads has been fascinating as well. But everything would be so much more fun if AMD’s tools provided direct data on Infinity Cache hitrates. That applies to both integrated and discrete GPUs. Infinity Cache is a well established part of AMD’s strategy. It has been around for several generations, and now has a presence in AMD’s mobile lineup too. I suspect developers would love to see Infinity Cache hitrates in addition to the data on GPU-private caches that AMD’s current tools show.&lt;/p&gt;
    &lt;p&gt;If you like the content then consider heading over to the Patreon or PayPal if you want to toss a few bucks to Chips and Cheese. Also consider joining the Discord.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://chipsandcheese.com/p/evaluating-the-infinity-cache-in"/><published>2025-10-22T04:20:09+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45665311</id><title>French ex-president Sarkozy begins jail sentence</title><updated>2025-10-22T14:44:40.760251+00:00</updated><content>&lt;doc fingerprint="f625945411a553ed"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;French ex-president Sarkozy begins jail sentence for campaign finance conspiracy&lt;/head&gt;
    &lt;p&gt;Nicolas Sarkozy has become the first French ex-president to go to jail, as he starts a five-year sentence for conspiring to fund his election campaign with money from late Libyan dictator Muammar Gaddafi.&lt;/p&gt;
    &lt;p&gt;Not since World War Two Nazi collaborationist leader Philippe Pétain was jailed for treason in 1945 has any French ex-leader gone behind bars.&lt;/p&gt;
    &lt;p&gt;Sarkozy, who was president from 2007-2012, has appealed against his jail term at La Santé prison, where he will occupy a small cell in the its isolation wing.&lt;/p&gt;
    &lt;p&gt;More than 100 people applauded and shouted "Nicolas!" as he left his villa in the exclusive 16th district of Paris, holding his wife Carla Bruni-Sarkozy by the hand.&lt;/p&gt;
    &lt;p&gt;His son Louis, 28, had appealed to supporters for a show of support, while another son, Pierre, called for a message of love – "nothing else, please".&lt;/p&gt;
    &lt;p&gt;Nicolas Sarkozy, 70, was driven through the entrance of the notoriously overcrowded 19th-Century prison in the Montparnasse district south of the River Seine at 09:40 local time (07:40 GMT), while dozens of police officers cordoned off most of the surrounding streets.&lt;/p&gt;
    &lt;p&gt;He continues to protest his innocence in the highly controversial Libyan money affair and posted a message on X as he was driven to the jail, saying: "I have no doubt. Truth will prevail. But how crushing the price will have been."&lt;/p&gt;
    &lt;p&gt;"With unwavering strength I tell [the French people] it is not a former president they are locking up this morning - it is an innocent man," he wrote. "Do not feel sorry for me because my wife and my children are by my side... but this morning I feel deep sorrow for a France humiliated by a will for revenge."&lt;/p&gt;
    &lt;p&gt;Moments after Sarkozy entered jail, his lawyer Christophe Ingrain said a request for his release had been filed. Nothing justified his imprisonment, said Mr Ingrain, adding: "He'll be inside for at least three weeks or a month."&lt;/p&gt;
    &lt;p&gt;Sarkozy has said he wants no special treatment at La Santé prison, although he has been put in its isolation section for his own safety as other inmates are infamous drugs dealers or have been convicted for terror offences.&lt;/p&gt;
    &lt;head rend="h2"&gt;Small cell with TV, and one hour's daily exercise&lt;/head&gt;
    &lt;p&gt;Sarkozy's cell in the prison's isolation wing is believed to be on the top floor and will measure between 9-11 sq m (95-120 sq ft). There had earlier been talk of him serving his term in another wing for "vulnerable people", where other VIPs have been jailed in the past.&lt;/p&gt;
    &lt;p&gt;He will have a toilet, a shower, a desk, a small electric hob and a small TV, for which he will have to pay a monthly €14 (£12) fee, and the right to a small fridge.&lt;/p&gt;
    &lt;p&gt;The former president has the right to receive information from the outside world and family visits as well as written and phone contact.&lt;/p&gt;
    &lt;p&gt;But he is in effect in solitary confinement, allowed just one hour a day for exercise, by himself in the wing's segregated courtyard.&lt;/p&gt;
    &lt;p&gt;"Conditions of detention in an isolation wing are pretty hard," La Santé ex-deputy head Flavie Rault told BFMTV. "You are alone, all the time. The only contact you have is with prison staff. You never come across another detainee for security reasons and there's a type of social isolation which makes life difficult".&lt;/p&gt;
    &lt;p&gt;At the end of last week, Sarkozy was received at the Élysée Palace by President Emmanuel Macron, who told reporters on Monday "it was normal that on a human level I should receive one of my predecessors in that context".&lt;/p&gt;
    &lt;p&gt;Macron stressed on Tuesday that it was not his role "to comment on or criticise judicial decisions", but he said it was normal that for many in France the sight of "a president jailed by this judicial decision would provoke comment".&lt;/p&gt;
    &lt;p&gt;In a further measure of official support for the ex-president, Justice Minister Gérald Darmanin said he would go to visit him in prison as part of his role in ensuring Sarkozy's safety and the proper functioning of the jail.&lt;/p&gt;
    &lt;p&gt;"I cannot be insensitive to a man's distress," he added.&lt;/p&gt;
    &lt;p&gt;Ever since he left office in 2012, Sarkozy has been dogged by criminal inquiries and for months had to wear an electronic tag around his ankle after a conviction last December for trying to bribe a magistrate for confidential information about a separate case.&lt;/p&gt;
    &lt;p&gt;Late next month, France's highest administrative court will give its verdict on Sarkozy's appeal against a six-month jail term in another illegal campaign financing case known as the Bygmalion affair.&lt;/p&gt;
    &lt;p&gt;Ahead of his arrival at La Santé prison, Sarkozy gave a series of media interviews, telling La Tribune: "I'm not afraid of prison. I'll keep my head held high, including at the prison gates."&lt;/p&gt;
    &lt;p&gt;Sarkozy has always denied doing anything wrong in a case involving allegations that his 2007 presidential campaign was funded by millions of euros in Libyan cash.&lt;/p&gt;
    &lt;p&gt;The former centre-right leader was cleared of personally receiving the money but convicted of criminal association with two close aides, Brice Hortefeux and Claude Guéant, for their role in secret campaign financing from the Libyans.&lt;/p&gt;
    &lt;p&gt;The two men both had talks with Gaddafi's intelligence chief and brother-in-law in 2005, a meeting arranged by a Franco-Lebanese intermediary called Ziad Tiakeddine, who died in Lebanon shortly before Sarkozy's conviction.&lt;/p&gt;
    &lt;p&gt;As he lodged an appeal, Sarkozy is still considered innocent but he has been told he must go to jail in view of the "exceptional seriousness of the facts".&lt;/p&gt;
    &lt;p&gt;Sarkozy said he would take two books with him into prison, a life of Jesus by Jean-Christian Petitfils and the Count of Monte Cristo, Alexandre Dumas's classic story of a man wrongly imprisoned who escapes to wreak vengeance on his prosecutors.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.bbc.com/news/articles/cvgkm2j0xelo"/><published>2025-10-22T05:49:58+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45665452</id><title>MinIO stops distributing free Docker images</title><updated>2025-10-22T14:44:39.644900+00:00</updated><content>&lt;doc fingerprint="77f8c2f5102ec21c"&gt;
  &lt;main&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt; Notifications &lt;tool-tip&gt;You must be signed in to change notification settings&lt;/tool-tip&gt;&lt;/item&gt;
      &lt;item&gt;Fork 6.3k&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Closed&lt;/p&gt;
    &lt;head rend="h2"&gt;Description&lt;/head&gt;
    &lt;p&gt;Hello,&lt;/p&gt;
    &lt;p&gt;I did not find a new image for the security release &lt;code&gt;Security/CVE RELEASE.2025-10-15T17-29-55Z&lt;/code&gt;, on quay.io nor DockerHub.&lt;/p&gt;
    &lt;p&gt;Is it expected? If it isn’t, can you please push a new release for this installation method?&lt;/p&gt;
    &lt;p&gt;Thank you.&lt;/p&gt;
    &lt;p&gt;Weetile, dpieski, expilu, justsomescripts, StrangePeanut and 17 more&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://github.com/minio/minio/issues/21647#issuecomment-3418675115"/><published>2025-10-22T06:17:18+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45666327</id><title>Knocker, a knock based access control system for your homelab</title><updated>2025-10-22T14:44:38.931381+00:00</updated><content>&lt;doc fingerprint="2e93c1581f51bac4"&gt;
  &lt;main&gt;
    &lt;p&gt;Knocker is a configurable, and self-hosted service that provides an HTTP based "knock-knock" single-packet authorization (SPA) gateway for your Homelab with web, cli and android clients. it can be used as authentication for your reverse proxy like Caddy, or even on the firewall level using the FirewallD integration. It allows you to keep your services completely private, opening them up on-demand only for authorized IP addresses.&lt;/p&gt;
    &lt;p&gt;This is ideal for homelab environments where you want to expose services to the internet without a persistent VPN connection, while minimizing your public-facing attack surface.&lt;/p&gt;
    &lt;code&gt;sequenceDiagram
    participant User
    participant Caddy as Reverse Proxy (Caddy)
    participant Knocker
    participant Service as Protected Service

    User-&amp;gt;&amp;gt;Caddy: HTTP request to protected service
    Caddy-&amp;gt;&amp;gt;Knocker: GET /verify (copies X-Forwarded-For)
    Knocker--&amp;gt;&amp;gt;Knocker: check always_allowed_ips / excluded_paths / whitelist
    alt IP whitelisted
        Knocker--&amp;gt;&amp;gt;Caddy: 200 OK (empty body)
        Caddy-&amp;gt;&amp;gt;Service: forward request
        Service--&amp;gt;&amp;gt;Caddy: 200 OK
        Caddy--&amp;gt;&amp;gt;User: 200 OK
    else IP not whitelisted
        Knocker--&amp;gt;&amp;gt;Caddy: 401 Unauthorized (empty body)
        Caddy--&amp;gt;&amp;gt;User: 401 Unauthorized
    end

    Note over User,Knocker: Performing a "knock" (to add whitelist entry)
    User-&amp;gt;&amp;gt;Knocker: POST /knock (X-Api-Key, optional ip_address, ttl)
    Knocker-&amp;gt;&amp;gt;Knocker: validate API key, determine client IP
    Knocker-&amp;gt;&amp;gt;Knocker: update whitelist.json with expiry
    Knocker--&amp;gt;&amp;gt;User: 200 OK (whitelisted_entry, expires_at, expires_in_seconds)
&lt;/code&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;API Key Authentication: Secure your knock endpoint with multiple, configurable API keys.&lt;/item&gt;
      &lt;item&gt;Configurable TTL: Each API key can have its own Time-To-Live (TTL), defining how long a whitelisted IP remains active.&lt;/item&gt;
      &lt;item&gt;Remote Whitelisting: Grant specific admin keys permission to whitelist any IP or CIDR range, not just their own.&lt;/item&gt;
      &lt;item&gt;Static IP/CIDR Whitelisting: Always allow certain IP addresses or ranges to bypass the dynamic whitelist.&lt;/item&gt;
      &lt;item&gt;Path-Based Exclusion: Exclude specific URL paths (like health checks or public APIs) from authentication entirely.&lt;/item&gt;
      &lt;item&gt;IPv6 First-Class Citizen: Full support for IPv6 and IPv4 in whitelisting, trusted proxies, and Docker networking.&lt;/item&gt;
      &lt;item&gt;Firewalld Integration: Advanced firewall control with timed rules that automatically expire based on TTL. Creates dynamic firewall rules using firewalld rich rules for enhanced security. (Optional, requires root container access)&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Knocker-Web Static PWA web app that supports knocking(whitelisting) on reload&lt;/item&gt;
      &lt;item&gt;Knocker-CLI A cli written in go with support for background knocks optionally trigged by ip chanages.&lt;/item&gt;
      &lt;item&gt;Knocker-EXPO An experimental Android App written in React EXPO with support for background knocking requests&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This project is designed to be deployed as a set of Docker containers using the provided &lt;code&gt;docker-compose.yml&lt;/code&gt; file. It uses the pre-built docker images with support for AMD64, ARMv8 and ARMv7&lt;/p&gt;
    &lt;p&gt;Knocker provides different image tags for different use cases:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;latest&lt;/code&gt;- Latest stable release (recommended for production)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;v1.2.3&lt;/code&gt;- Specific version tags (pinned versions)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;main&lt;/code&gt;- Development branch (rolling updates, may be unstable)&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Docker and Docker Compose installed.&lt;/item&gt;
      &lt;item&gt;A public-facing server to run the containers (doesn't even have to be on the same server running the services! IN PROXY MODE)&lt;/item&gt;
      &lt;item&gt;(Optional) Firewalld 2.0+ installed and running on the host for advanced firewall integration.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Configuration:&lt;/p&gt;
        &lt;list rend="ul"&gt;
          &lt;item&gt;Rename &lt;code&gt;knocker.example.yaml&lt;/code&gt;to&lt;code&gt;knocker.yaml&lt;/code&gt;.&lt;/item&gt;
          &lt;item&gt;Crucially, change the default API keys in &lt;code&gt;knocker.yaml&lt;/code&gt;to your own secure, random strings.&lt;/item&gt;
          &lt;item&gt;Review the &lt;code&gt;trusted_proxies&lt;/code&gt;list in&lt;code&gt;knocker.yaml&lt;/code&gt;, they should match the subnet of the reverse proxy's network (&lt;code&gt;docker network inspect xxx&lt;/code&gt;)&lt;/item&gt;
          &lt;item&gt;(Optional) Configure firewalld integration by setting &lt;code&gt;firewalld.enabled: true&lt;/code&gt;and adjusting the related settings. Note: This requires the container to run as root.&lt;/item&gt;
        &lt;/list&gt;
      &lt;/item&gt;
      &lt;item&gt;Rename &lt;/item&gt;
      &lt;item&gt;&lt;p&gt;Run the Service:&lt;/p&gt;&lt;quote&gt;docker compose up -d&lt;/quote&gt;&lt;p&gt;This will pull the pre-built&lt;/p&gt;&lt;code&gt;knocker&lt;/code&gt;image and start both the&lt;code&gt;knocker&lt;/code&gt;and&lt;code&gt;caddy&lt;/code&gt;services.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Knocker works by acting as an auth gateway for your reverse Proxy. It offers a verify endpoint, to check if the requesting IP is whitelisted or not, if not it will reply with a 401 and the reverse proxy will refuse the connection.&lt;/p&gt;
    &lt;p&gt;Caddy has the &lt;code&gt;forward_auth&lt;/code&gt; directive to check connections using an auth endpoint.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;&lt;p&gt;Define a Reusable Snippet: It's best practice to define a snippet in your&lt;/p&gt;&lt;code&gt;Caddyfile&lt;/code&gt;for the auth check.&lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Protect Your Services: Import the snippet for any service you want to protect.&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Example &lt;code&gt;Caddyfile&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;# Caddyfile

# Define a reusable snippet for the knock-knock check.
# It points to the knocker service using Docker's internal DNS.
(knocker_auth) {
  forward_auth knocker:8000 {
    uri /verify
    copy_headers X-Forwarded-For
  }
}

# The public endpoint for performing the knock.
# Make sure this domain points to your Caddy server's IP.
knock.your-domain.com {
  reverse_proxy knocker:8000
}

# An example protected service.
jellyfin.your-domain.com {
  import knocker_auth  # Apply the forward_auth check
  reverse_proxy jellyfin_service_name:8096
}&lt;/code&gt;
    &lt;p&gt;When a user is not whitelisted, Caddy's &lt;code&gt;forward_auth&lt;/code&gt; directive will return a &lt;code&gt;401 Unauthorized&lt;/code&gt; response with an empty body.&lt;/p&gt;
    &lt;p&gt;Important Note: Caddy's &lt;code&gt;handle_errors&lt;/code&gt; directive does not work with &lt;code&gt;forward_auth&lt;/code&gt; responses. The error response comes directly from the authentication service (knocker), not from Caddy itself, so &lt;code&gt;handle_errors&lt;/code&gt; cannot intercept or modify these responses.&lt;/p&gt;
    &lt;p&gt;Knocker provides advanced firewall integration through firewalld, creating dynamic, time-based firewall rules that automatically expire based on the TTL specified in knock requests. This feature operates at the network level, allowing you to use knocker for non-http services like ssh or game servers.&lt;/p&gt;
    &lt;code&gt;sequenceDiagram
    participant Client as User
    participant Firewall as Firewalld (knocker zone)
    participant Knocker
    participant Service as Protected Service (port 22)

    Note over Client,Firewall: Initial state — monitored port is blocked by default
    Client-&amp;gt;&amp;gt;Firewall: TCP SYN to Service:22
    Firewall--&amp;gt;&amp;gt;Client: DROP (no response)

    Note over Client,Knocker: User performs a knock to whitelist their IP
    Client-&amp;gt;&amp;gt;Knocker: POST /knock (X-Api-Key, optional ip_address, ttl)
    Knocker-&amp;gt;&amp;gt;Knocker: validate API key &amp;amp; determine client IP
    Knocker-&amp;gt;&amp;gt;Firewall: add rich accept rule for client IP on port 22 with timeout
    Firewall--&amp;gt;&amp;gt;Knocker: success

    Note over Firewall,Client: New rule overrides DROP due to higher priority
    Client-&amp;gt;&amp;gt;Firewall: TCP SYN to Service:22
    Firewall-&amp;gt;&amp;gt;Service: forward packet
    Service--&amp;gt;&amp;gt;Client: TCP SYN-ACK (connection established)
    Knocker-&amp;gt;&amp;gt;Knocker: update whitelist.json with expiry
&lt;/code&gt;
    &lt;p&gt;Knocker requires FirewallD 2.0+ due to dependency on the zone priority feature. It's available in Debian 13, Ubuntu 24.04 LTS and other recent stable distros.&lt;/p&gt;
    &lt;p&gt;FirewallD was chosen for the ability to separates the cli interface from the daemon. This allows Knocker to control firewalld from within a Docker container by mounting the system's D-Bus socket, and FirewallD also has support for timed rules, so knocker rules automatically expire by the end of the TTL.&lt;/p&gt;
    &lt;p&gt;FIREWALLD WILL NOT WORK WITH DOCKER PUBLISHED PORTS, check this issue for more details&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Creates a dedicated firewalld zone with high priority&lt;/item&gt;
      &lt;item&gt;Adds DROP/REJECT rules for monitored ports to block unauthorized access&lt;/item&gt;
      &lt;item&gt;Dynamically adds ALLOW rules for whitelisted IPs that override the blocking rules&lt;/item&gt;
      &lt;item&gt;Automatically expires rules based on TTL using firewalld's timeout mechanism&lt;/item&gt;
      &lt;item&gt;Recovers rules on startup by comparing whitelist.json with active firewalld rules&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Prerequisites:&lt;/p&gt;
        &lt;list rend="ul"&gt;
          &lt;item&gt;FirewallD 2.0+ installed and running on the host system&lt;/item&gt;
          &lt;item&gt;Docker container must run as root for D-Bus access&lt;/item&gt;
        &lt;/list&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Configuration&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;enable FirewallD in the knocker.yaml config, settings are already available in the example config&lt;/item&gt;
      &lt;item&gt;Mount the Dbus socket into the docker container, and make sure it runs as root, the required entires are commented out in the docker-compose.yml file.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Monitor active rules:&lt;/p&gt;
    &lt;code&gt;# Check knocker zone
firewall-cmd --zone=knocker --list-all

# View rich rules
firewall-cmd --zone=knocker --list-rich-rules

# Monitor rule changes
journalctl -u firewalld -f&lt;/code&gt;
    &lt;p&gt;For detailed configuration, architecture, and troubleshooting information, see the complete FirewallD Integration Guide.&lt;/p&gt;
    &lt;p&gt;If you are enabling knocking for IPs behind tailscale or other IPs, you may face issues due to how userland-proxy works, you may get different request IP from the actual ip address.&lt;/p&gt;
    &lt;p&gt;Disabling Userland-proxy should fix it, but make sure to test your setup. You could also use host networking.&lt;/p&gt;
    &lt;p&gt;This endpoint validates an API key and whitelists an IP.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;Headers:&lt;/p&gt;
        &lt;list rend="ul"&gt;
          &lt;item&gt;&lt;code&gt;X-Api-Key&lt;/code&gt;: Your secret API key.&lt;/item&gt;
        &lt;/list&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Body (Optional):&lt;/p&gt;
        &lt;list rend="ul"&gt;
          &lt;item&gt;To whitelist a remote IP/CIDR (requires &lt;code&gt;allow_remote_whitelist: true&lt;/code&gt;):&lt;quote&gt;{"ip_address": "YOUR_TARGET_IP_OR_CIDR"}&lt;/quote&gt;&lt;/item&gt;
        &lt;/list&gt;
      &lt;/item&gt;
      &lt;item&gt;To whitelist a remote IP/CIDR (requires &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Example (Whitelisting your own IP):&lt;/p&gt;
        &lt;code&gt;curl -i -H "X-Api-Key: YOUR_SECRET_KEY" https://knock.your-domain.com/knock&lt;/code&gt;
      &lt;/item&gt;
      &lt;item&gt;&lt;p&gt;Success Response (&lt;/p&gt;&lt;code&gt;200 OK&lt;/code&gt;):&lt;quote&gt;{ "whitelisted_entry": "1.2.3.4", "expires_at": 1672534800, "expires_in_seconds": 3600 }&lt;/quote&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This endpoint is used by Caddy's &lt;code&gt;forward_auth&lt;/code&gt; to check if the client's IP is whitelisted. It returns &lt;code&gt;200 OK&lt;/code&gt; on success and &lt;code&gt;401 Unauthorized&lt;/code&gt; on failure.&lt;/p&gt;
    &lt;p&gt;The project includes a full test suite&lt;/p&gt;
    &lt;p&gt;To run the tests locally:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Install Dependencies:&lt;/p&gt;
        &lt;quote&gt;pip install -r src/requirements.txt&lt;/quote&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Run Pytest:&lt;/p&gt;
        &lt;quote&gt;python3 -m pytest&lt;/quote&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;There's a dev environment under dev, with bash scripts for integrations tests with caddy and a separate one with firewalld. The CI runs the caddy tests, but firewalld needs a privileged runner, which is why it needs to be run locally and isn't a part of the CI.&lt;/p&gt;
    &lt;p&gt;Interactive documentation endpoints (&lt;code&gt;/docs&lt;/code&gt;, &lt;code&gt;/redoc&lt;/code&gt;, &lt;code&gt;/openapi.json&lt;/code&gt;) are disabled by default. To expose them, set the following in &lt;code&gt;knocker.yaml&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;documentation:
  enabled: true
  openapi_output_path: "openapi.json"&lt;/code&gt;
    &lt;p&gt;When documentation is disabled (default), Knocker removes these endpoints and deletes any previously generated schema file to prevent stale artifacts.&lt;/p&gt;
    &lt;p&gt;For a formal API specification and a summary of the architectural choices, please see the documentation.&lt;/p&gt;
    &lt;p&gt;Knocker was fully vibe coded. The initial implementation was done with Gemini 2.5 pro, thanks to the tokens provided in the roo code/requesty hackathon.&lt;/p&gt;
    &lt;p&gt;Further features were mostly done with the GitHub copilot Agent (sonnet 4/later 4.5), which needed a lot of fixes, done mostly by GPT-5 mini/CODEX.&lt;/p&gt;
    &lt;p&gt;If you're Anti-AI please don't use this.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://github.com/FarisZR/knocker"/><published>2025-10-22T08:37:31+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45666510</id><title>Greg Newby, CEO of Project Gutenberg Literary Archive Foundation, has died</title><updated>2025-10-22T14:44:38.536152+00:00</updated><content>&lt;doc fingerprint="40336bd559a1403d"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;In Memoriam/gbnewby&lt;/head&gt;
    &lt;p&gt;I'm very sad to announce that Dr. Gregory B. Newby (gbnewby) has died after a short battle with cancer. Dr. Newby was CEO of the Project Gutenberg Literary Archive Foundation for more than 20 years and, in that role, worked very closely with Distributed Proofreaders. He was also a voting member of the Distributed Proofreader Foundation board.&lt;/p&gt;
    &lt;p&gt;Born in Canada, Dr. Newby grew up in the US. He returned to Canada, however, to work for the government in the Yukon Territory as he continued his direction of Project Gutenberg.&lt;/p&gt;
    &lt;p&gt;In a recent interview, Greg described how he, a life-long reader, became excited about the possibilities of ebooks back in 1987 when someone emailed him a copy of Alice's Adventures in Wonderland -- "I immediately realized what a tremendous thing that was." He cared deeply about Project Gutenberg's mission. "You know," he told the podcast interviewer, "That keeps me going ... having a positive impact and getting all that literature into people's hands."&lt;/p&gt;
    &lt;p&gt;In 2023, Dr. Newby collaborated with Microsoft and MIT to produce the Project Gutenberg Open Audiobook Collection of AI-narrated audiobooks. This initiative was named one of "The Best Inventions of 2023" by TIME magazine.&lt;/p&gt;
    &lt;p&gt;Greg's vision saw the ebooks (many of them produced here at Distributed Proofreaders) made available through Project Gutenberg grow to more than 75,000.&lt;/p&gt;
    &lt;p&gt;Dr. Newby and his tireless leadership of Project Gutenberg was a close partner of Distributed Proofreaders and will be greatly missed here.&lt;/p&gt;
    &lt;p&gt;The official announcement is here.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.pgdp.net/wiki/In_Memoriam/gbnewby"/><published>2025-10-22T09:05:21+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45667458</id><title>Starcloud</title><updated>2025-10-22T14:44:38.229582+00:00</updated><content>&lt;doc fingerprint="bd36b5db44986cbb"&gt;
  &lt;main&gt;
    &lt;p&gt;Extraterrestrial data centers are just on the horizon. Soon, an AI-equipped satellite from Starcloud, a member of the NVIDIA Inception program for startups, will orbit the Earth.&lt;/p&gt;
    &lt;p&gt;It’s a large step toward the startup’s ultimate goal to bring state-of-the-art data centers to outer space. This can be a part of the solution to address challenges faced by rising AI demands, including energy consumption and cooling requirements for data centers on Earth.&lt;/p&gt;
    &lt;p&gt;“In space, you get almost unlimited, low-cost renewable energy,” said Philip Johnston, cofounder and CEO of the startup, which is based in Redmond, Washington. “The only cost on the environment will be on the launch, then there will be 10x carbon-dioxide savings over the life of the data center compared with powering the data center terrestrially on Earth.”&lt;/p&gt;
    &lt;p&gt;Starcloud’s upcoming satellite launch, planned for November, will mark the NVIDIA H100 GPU’s cosmic debut — and the first time a state-of-the-art, data center-class GPU is in outer space.&lt;/p&gt;
    &lt;p&gt;The 60-kilogram Starcloud-1 satellite, about the size of a small fridge, is expected to offer 100x more powerful GPU compute than any previous space-based operation.&lt;/p&gt;
    &lt;p&gt;Instead of relying on fresh water for cooling through evaporation towers, as many Earth-based data centers do, Starcloud’s space-based data centers can use the vacuum of deep space as an infinite heat sink.&lt;/p&gt;
    &lt;p&gt;Emitting waste heat from infrared radiation into space can conserve significant water resources on Earth, since water isn’t needed for cooling. Constant exposure to the sun in orbit also means nearly infinite solar power — aka no need for the data centers to rely on batteries or backup power.&lt;/p&gt;
    &lt;p&gt;Starcloud projects the energy costs in space to be 10x cheaper than land-based options, even including launch expenses. “In 10 years, nearly all new data centers will be being built in outer space,” Johnston predicts.&lt;/p&gt;
    &lt;p&gt;An early use case for extraterrestrial data centers is the analysis of Earth observation data, which could inform applications for detecting crop types and predicting local weather.&lt;/p&gt;
    &lt;p&gt;Plus, real-time data processing in space offers immense benefits for critical applications such as wildfire detection and distress-signal response. Running inference in space, right where the data’s collected, allows insights to be delivered nearly instantaneously, reducing response times from hours to minutes.&lt;/p&gt;
    &lt;p&gt;Earth observation methods include optical imaging with cameras, hyperspectral imaging using light wavelengths beyond human vision and synthetic-aperture radar (SAR) imaging to build high-resolution, 3D maps of Earth.&lt;/p&gt;
    &lt;p&gt;SAR, in particular, generates lots of data — about 10 gigabytes per second, according to Johnston — so in-space inference would be especially beneficial when creating these maps.&lt;/p&gt;
    &lt;p&gt;“Starcloud needs to be competitive with the type of workload you can run on an Earth-based data center, and NVIDIA GPUs are the most performant in terms of training, fine-tuning and inference,” Johnston said, explaining why the company chose to use NVIDIA accelerated computing on its upcoming satellite launch.&lt;/p&gt;
    &lt;p&gt;“Being a part of NVIDIA Inception has been critical, as it provided us with technical support, access to NVIDIA experts and NVIDIA GPUs,” Johnston added.&lt;/p&gt;
    &lt;p&gt;Starcloud is a recent graduate of the Google for Startups Cloud AI Accelerator plans to run Gemma — an open model from Google — in orbit on H100 GPUs, proving even large language models can run in outer space.&lt;/p&gt;
    &lt;p&gt;And for future launches, the startup is looking to integrate the NVIDIA Blackwell platform, which Johnston expects will offer even greater in-orbit AI performance, with improvements of up to 10x compared with the NVIDIA Hopper architecture.&lt;/p&gt;
    &lt;p&gt;Learn more about how NVIDIA technologies support sustainable computing.&lt;/p&gt;
    &lt;p&gt;Featured video courtesy of Starcloud.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://blogs.nvidia.com/blog/starcloud/"/><published>2025-10-22T11:23:33+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45667770</id><title>Infracost (YC W21) Hiring First Dev Advocate to Shift FinOps Left</title><updated>2025-10-22T14:44:37.423507+00:00</updated><content>&lt;doc fingerprint="b9c8e47b3f9b47c7"&gt;
  &lt;main&gt;
    &lt;p&gt;Shift FinOps Left: Proactively Find &amp;amp; Fix Cloud Cost Issues&lt;/p&gt;
    &lt;p&gt;Overview&lt;/p&gt;
    &lt;p&gt;The spend on public cloud is fast approaching $1 trillion per year - we estimate this boundary will be crossed before the turn of the decade.&lt;/p&gt;
    &lt;p&gt;Infrastructure-as-Code (e.g. Terraform, CloudFormation, CDK) and platform engineering have fundamentally changed who makes spending decisions. In the past, only a central team provisioned cloud resources. Now every engineer can provision resources as needed; every engineer has become a buyer.&lt;/p&gt;
    &lt;p&gt;Infracost helps engineers see the cost of their code changes before any money has been spent - we sit in the engineering workflow, show the cost impact, and suggest optimizations. That’s what we mean by “Shift FinOps Left”, and we’ve seen strong pull from engineers who use Infracost in their terminals, CI/CD pipelines and IDEs. The Infracost CLI repo has 12K stars on GitHub! There’s a massive opportunity to help organizations proactively manage their cloud spend; rather than reacting to surprise cost spikes after the fact. We know reactive is too late; we saw that firsthand with our first startup a decade ago, and we’re building Infracost to change that.&lt;/p&gt;
    &lt;p&gt;We’re hiring our first Developer Advocate to help more engineers discover and fall in love with Infracost. Your mission is simple: increase signups by showing DevOps, SRE, Platform, and Infrastructure engineers the value of Infracost in the channels and workflows they already use.&lt;/p&gt;
    &lt;p&gt;You’ll work closely with our Developer Adoption product engineering team, which is focused on DX: CLI, VS Code &amp;amp; JetBrains extensions, MCP server, Copilot integrations…&lt;/p&gt;
    &lt;p&gt;Timezone&lt;/p&gt;
    &lt;p&gt;US or EU timezones (our engineering team is based between GMT -6 and GMT+2). We are fully remote.&lt;/p&gt;
    &lt;p&gt;Responsibilities&lt;/p&gt;
    &lt;p&gt;Prior experience&lt;/p&gt;
    &lt;p&gt;What we value&lt;/p&gt;
    &lt;p&gt;Benefits&lt;/p&gt;
    &lt;p&gt;You’ll get to meet all 3 co-founders, so bring your questions 😃&lt;/p&gt;
    &lt;p&gt;Since launching Infracost in 2021, we’ve been pulled by engineers who all want to Shift FinOps Left. We enable them to proactively find and fix cloud cost issues before they hit production. We plug directly into developer workflows (like GitHub and Azure Repos), show cost impact in pull requests, enforce tagging and FinOps best practices, and even generate PRs to fix issues automatically.&lt;/p&gt;
    &lt;p&gt;We're backed by Sequoia, YC and trusted by Fortune 500 enterprises. You'll join a small, experienced, and supportive team that's shipping fast, solving real infrastructure problems, and having fun while doing it.&lt;/p&gt;
    &lt;p&gt;Whether you're an engineer tackling complex systems (e.g. parsing massive Terraform repos, scaling real-time systems), a product manager shaping strategy from real customer pain points, or a customer success lead working directly with users; there’s meaningful work here for you. If you care about cloud efficiency, great UX, and helping teams move faster and smarter, we’d love to work with you!&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.ycombinator.com/companies/infracost/jobs/NzwUQ7c-senior-developer-advocate"/><published>2025-10-22T12:02:02+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45667866</id><title>Internet's biggest annoyance: Cookie laws should target browsers, not websites</title><updated>2025-10-22T14:44:36.578485+00:00</updated><content>&lt;doc fingerprint="c7d5003b2d2476bc"&gt;
  &lt;main&gt;
    &lt;p&gt;Click. Ugh. Another one.&lt;/p&gt;
    &lt;p&gt;You know the drill. You land on a new website, eager to read an article or check a product price, and before the page even finishes loading, it appears: the dreaded cookie banner. A pop-up, a slide-in, a full-screen overlay demanding you "Accept All," "Manage Preferences," or navigate a labyrinth of toggles designed by a corporate lawyer.&lt;/p&gt;
    &lt;p&gt;Most people do the same thing: they sigh, their eyes glaze over, and they click "Accept All" with the muscle memory of a weary soldier.&lt;/p&gt;
    &lt;p&gt;This daily ritual of digital whack-a-mole is the result of well-intentioned privacy laws like GDPR and CCPA. The goal was noble: to give users control over their data. But the execution? It's a colossal failure. It has created a web experience that is more annoying, less transparent, and arguably no more private.&lt;/p&gt;
    &lt;p&gt;The problem isn't the what. It's the where. The law placed the burden of consent on millions of individual websites, when it should have targeted the one tool we all use to access them: the browser.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Insanity of the Status Quo&lt;/head&gt;
    &lt;p&gt;Imagine if every time you got into your car, you had to manually approve the engine's use of oil, the tires' use of air, and the radio's use of electricity. It’s absurd, right? You’d set your preferences once, and the car would just work.&lt;/p&gt;
    &lt;p&gt;Yet, that’s exactly what we do online. We are asked the same questions, by every single website, every single day. This approach is broken for three simple reasons:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Consent Fatigue is Real: We're so bombarded with these requests that they’ve become meaningless. The banners are an obstacle to be cleared, not a choice to be considered. True consent requires a conscious, informed decision, not an exasperated click to get the pop-up out of the way.&lt;/item&gt;
      &lt;item&gt;It Punishes the Little Guys: A giant corporation can afford a team of lawyers and expensive Consent Management Platforms (CMPs) to create a compliant (and often deliberately confusing) banner. But what about the small blogger, the local restaurant, or the indie developer? For them, it's another technical and legal headache, forcing them to install clunky, site-slowing plugins just to avoid a potential lawsuit.&lt;/item&gt;
      &lt;item&gt;It Doesn't Actually Give Us Control: The illusion of choice is not choice. When the options are "Accept All" or "Spend Five Minutes in a Menu of Legalese," the system is designed to push you toward the path of least resistance.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;A Simple, Radical Idea: Put Consent in the Browser&lt;/head&gt;
    &lt;p&gt;Now, imagine a different internet.&lt;/p&gt;
    &lt;p&gt;When you set up your browser—be it Chrome, Firefox, Safari, or Edge—you go through a simple, one-time setup. It asks for your privacy preferences in plain English:&lt;/p&gt;
    &lt;p&gt;How do you want to handle your data?&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Essential Only: "Only allow data necessary for websites to function (e.g., keeping me logged in, remembering my shopping cart)."&lt;/item&gt;
      &lt;item&gt;Performance &amp;amp; Analytics: "Help creators improve their sites by letting them see anonymous data about how I use them."&lt;/item&gt;
      &lt;item&gt;Personalized Experience: "Allow sites to use my data for personalized content and relevant advertising."&lt;/item&gt;
      &lt;item&gt;Custom: Fine-tune your settings for specific data types.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;You make your choice once. Set it and forget it.&lt;/p&gt;
    &lt;p&gt;From that moment on, the responsibility shifts. Your browser becomes your personal privacy enforcer, and the law would require it to act on your behalf. Based on your one-time choice, it would be responsible for allowing or declining cookies from every site you visit. If a website tries to use a cookie with an unclear or undeclared purpose? The browser simply blocks it—no questions asked.&lt;/p&gt;
    &lt;p&gt;It's much more realistic and effective to make a handful of browsers follow the law than it is to force millions of websites to do the same thing. This isn't just a theory—it's the exact lesson we learned from the failure of the "Do Not Track" signal. DNT relied on websites to voluntarily honor a user's choice, and most simply didn't. Even if it were legally binding, you can't possibly police millions of websites to ensure they comply. By contrast, you can easily check that a few major browsers are actively enforcing the settings you choose. Browser-side enforcement solves the problem by turning a polite request into an unbreakable rule.&lt;/p&gt;
    &lt;head rend="h2"&gt;The World We Could Have&lt;/head&gt;
    &lt;p&gt;This browser-centric model would fix everything that’s wrong with the current system:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;For Users: Real Control &amp;amp; A Cleaner Web. Your choice would be meaningful because you’d make it once, thoughtfully. The result? A faster, cleaner, and radically less annoying internet experience. You could easily review or change your global settings at any time, right in your browser.&lt;/item&gt;
      &lt;item&gt;For Website Owners: A Massive Burden Lifted. Suddenly, millions of developers, creators, and small business owners are freed from the role of digital janitor. They no longer need to install ugly, performance-killing scripts. Compliance becomes automatic. The web becomes more accessible and innovative.&lt;/item&gt;
      &lt;item&gt;For Regulators: Easier Enforcement. Instead of trying to police millions of websites, regulators could focus on a handful of major browser developers. Are they implementing the standard correctly? Are they honoring the user's choice? It’s a much more efficient and effective system.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;From a Tangled Mess to a Simple Tool&lt;/head&gt;
    &lt;p&gt;Some might call this a radical change, but the truly radical thing is the convoluted system we've accepted as normal.&lt;/p&gt;
    &lt;p&gt;Right now, the internet runs on a fragile, sprawling patchwork of compliance tools. Think about the sheer absurdity of it. Every individual website owner is forced to bolt on a third-party Consent Management Platform (CMP). That platform must then be perfectly configured to talk to dozens of different ad-tech vendors, analytics scripts, and embedded services. All of this has to work flawlessly while navigating the subtle legal differences between GDPR, CCPA, and a growing list of other regulations.&lt;/p&gt;
    &lt;p&gt;It’s an ecosystem where countless platforms are all trying to talk to each other, duplicating effort and overcomplicating the simple act of a user saying "yes" or "no." We've built a million different, shaky bridges to solve a problem that requires only one.&lt;/p&gt;
    &lt;p&gt;A browser-based approach cuts through this entire tangled web.&lt;/p&gt;
    &lt;p&gt;It replaces millions of individual, often-conflicting systems with one, single source of truth: your browser.&lt;/p&gt;
    &lt;p&gt;This isn’t about building a new, complex system. It’s about dismantling a monstrously inefficient one.&lt;/p&gt;
    &lt;p&gt;It’s about freeing developers and small businesses from being amateur privacy lawyers. It’s about creating a standard that is clear for users, simple for creators, and effective for regulators.&lt;/p&gt;
    &lt;p&gt;It's time to take the consent dialog out of the websites we visit and put it where it always belonged: in our hands, via our browsers.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://nednex.com/en/the-internets-biggest-annoyance-why-cookie-laws-should-target-browsers-not-websites/"/><published>2025-10-22T12:12:28+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668008</id><title>Jaguar Land Rover hack cost UK economy an estimated $2.5B</title><updated>2025-10-22T14:44:35.865029+00:00</updated><content>&lt;doc fingerprint="6702a95f28329f6b"&gt;
  &lt;main&gt;
    &lt;p&gt;LONDON, Oct 22 (Reuters) - The hack of Jaguar Land Rover, owned by India's Tata Motors (TAMO.NS), cost the British economy an estimated 1.9 billion pounds ($2.55 billion) and affected over 5,000 organisations, an independent cybersecurity body said in a report published on Wednesday.&lt;/p&gt;
    &lt;p&gt;The report was produced by the Cyber Monitoring Centre, an independent, not for profit organisation made up of industry specialists, including the former head of Britain's National Cyber Security Centre.&lt;/p&gt;
    &lt;p&gt;Sign up here.&lt;/p&gt;
    &lt;p&gt;It said losses could be higher if there were unexpected delays to the restoration of production at the vehicle manufacturer to levels before the hack took place in August.&lt;/p&gt;
    &lt;p&gt;"This incident appears to be the most economically damaging cyber event to hit the UK, with the vast majority of the financial impact being due to the loss of manufacturing output at JLR and its suppliers," the report said.&lt;/p&gt;
    &lt;p&gt;JLR will report its financial results in November, according to the company's website. A spokesperson for JLR declined to comment on the report.&lt;/p&gt;
    &lt;p&gt;The company started to resume manufacturing earlier this month after an almost six-week shutdown caused by the hack. The luxury carmaker has three factories in Britain that together produce about 1,000 cars per day.&lt;/p&gt;
    &lt;p&gt;The incident was one of several high-profile hacks to affect major British companies this year. Retailer Marks &amp;amp; Spencer (MKS.L) lost about 300 million pounds (about $400 million) after a breach in April shut down its online services for two months.&lt;/p&gt;
    &lt;p&gt;JLR, which analysts estimated was losing around 50 million pounds per week from the shutdown, was provided with a 1.5 billion pound loan guarantee by the British government in late September to help it support suppliers.&lt;/p&gt;
    &lt;p&gt;The CMC, which is funded by the insurance industry and categorises the financial impact of major cybersecurity incidents affecting British businesses, ranked the JLR hack as a Category 3 systemic event, out of a scale of five.&lt;/p&gt;
    &lt;p&gt;The CMC's estimate "reflects the substantial disruption to JLR's manufacturing, to its multi-tier manufacturing supply chain, and to downstream organisations including dealerships," the report said.&lt;/p&gt;
    &lt;p&gt;($1 = 0.7451 pounds)&lt;/p&gt;
    &lt;p&gt;Reporting by James Pearson; Editing by William Maclean and Barbara Lewis&lt;/p&gt;
    &lt;p&gt;Our Standards: The Thomson Reuters Trust Principles.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.reuters.com/sustainability/boards-policy-regulation/jaguar-land-rover-hack-cost-uk-economy-25-billion-report-says-2025-10-22/"/><published>2025-10-22T12:27:16+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668022</id><title>Tesla Recalls Almost 13,000 EVs over Risk of Battery Power Loss</title><updated>2025-10-22T14:44:35.252179+00:00</updated><content>&lt;doc fingerprint="a1dc821883afdf50"&gt;
  &lt;main&gt;
    &lt;p&gt;Transportation&lt;/p&gt;
    &lt;head rend="h1"&gt;Tesla Recalls Almost 13,000 EVs Over Risk of Battery Power Loss&lt;/head&gt;
    &lt;p&gt;Tesla Inc. is recalling thousands of recently built vehicles over an issue that can cause a sudden loss of battery power, increasing the risk of a crash.&lt;/p&gt;
    &lt;p&gt;The problem stems from a faulty battery pack connection part, which can lead to loss of propulsion without warning, Tesla said in documents posted to the National Highway Traffic Safety Administration’s website. The company is recalling almost 8,000 Model Y SUVs and just over 5,000 Model 3 sedans produced from March through August of this year.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.bloomberg.com/news/articles/2025-10-22/tesla-recalls-almost-13-000-evs-over-risk-of-battery-power-loss"/><published>2025-10-22T12:28:13+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668408</id><title>A Brain-like LLM to replace Transformers</title><updated>2025-10-22T14:44:35.085798+00:00</updated><content>&lt;doc fingerprint="8c9f3729c5f38aaa"&gt;
  &lt;main&gt;&lt;head rend="h1"&gt;Computer Science &amp;gt; Neural and Evolutionary Computing&lt;/head&gt;&lt;p&gt; [Submitted on 30 Sep 2025]&lt;/p&gt;&lt;head rend="h1"&gt;Title:The Dragon Hatchling: The Missing Link between the Transformer and Models of the Brain&lt;/head&gt;View PDF HTML (experimental)&lt;quote&gt;Abstract:The relationship between computing systems and the brain has served as motivation for pioneering theoreticians since John von Neumann and Alan Turing. Uniform, scale-free biological networks, such as the brain, have powerful properties, including generalizing over time, which is the main barrier for Machine Learning on the path to Universal Reasoning Models.&lt;lb/&gt;We introduce `Dragon Hatchling' (BDH), a new Large Language Model architecture based on a scale-free biologically inspired network of \$n\$ locally-interacting neuron particles. BDH couples strong theoretical foundations and inherent interpretability without sacrificing Transformer-like performance.&lt;lb/&gt;BDH is a practical, performant state-of-the-art attention-based state space sequence learning architecture. In addition to being a graph model, BDH admits a GPU-friendly formulation. It exhibits Transformer-like scaling laws: empirically BDH rivals GPT2 performance on language and translation tasks, at the same number of parameters (10M to 1B), for the same training data.&lt;lb/&gt;BDH can be represented as a brain model. The working memory of BDH during inference entirely relies on synaptic plasticity with Hebbian learning using spiking neurons. We confirm empirically that specific, individual synapses strengthen connection whenever BDH hears or reasons about a specific concept while processing language inputs. The neuron interaction network of BDH is a graph of high modularity with heavy-tailed degree distribution. The BDH model is biologically plausible, explaining one possible mechanism which human neurons could use to achieve speech.&lt;lb/&gt;BDH is designed for interpretability. Activation vectors of BDH are sparse and positive. We demonstrate monosemanticity in BDH on language tasks. Interpretability of state, which goes beyond interpretability of neurons and model parameters, is an inherent feature of the BDH architecture.&lt;/quote&gt;&lt;p&gt; Current browse context: &lt;/p&gt;&lt;p&gt;cs.NE&lt;/p&gt;&lt;head rend="h3"&gt;References &amp;amp; Citations&lt;/head&gt;&lt;p&gt; export BibTeX citation Loading... &lt;/p&gt;&lt;head rend="h1"&gt;Bibliographic and Citation Tools&lt;/head&gt;&lt;p&gt; Bibliographic Explorer (What is the Explorer?) &lt;/p&gt;&lt;p&gt; Connected Papers (What is Connected Papers?) &lt;/p&gt;&lt;p&gt; Litmaps (What is Litmaps?) &lt;/p&gt;&lt;p&gt; scite Smart Citations (What are Smart Citations?) &lt;/p&gt;&lt;head rend="h1"&gt;Code, Data and Media Associated with this Article&lt;/head&gt;&lt;p&gt; alphaXiv (What is alphaXiv?) &lt;/p&gt;&lt;p&gt; CatalyzeX Code Finder for Papers (What is CatalyzeX?) &lt;/p&gt;&lt;p&gt; DagsHub (What is DagsHub?) &lt;/p&gt;&lt;p&gt; Gotit.pub (What is GotitPub?) &lt;/p&gt;&lt;p&gt; Hugging Face (What is Huggingface?) &lt;/p&gt;&lt;p&gt; Papers with Code (What is Papers with Code?) &lt;/p&gt;&lt;p&gt; ScienceCast (What is ScienceCast?) &lt;/p&gt;&lt;head rend="h1"&gt;Demos&lt;/head&gt;&lt;head rend="h1"&gt;Recommenders and Search Tools&lt;/head&gt;&lt;p&gt; Influence Flower (What are Influence Flowers?) &lt;/p&gt;&lt;p&gt; CORE Recommender (What is CORE?) &lt;/p&gt;&lt;head rend="h1"&gt;arXivLabs: experimental projects with community collaborators&lt;/head&gt;&lt;p&gt;arXivLabs is a framework that allows collaborators to develop and share new arXiv features directly on our website.&lt;/p&gt;&lt;p&gt;Both individuals and organizations that work with arXivLabs have embraced and accepted our values of openness, community, excellence, and user data privacy. arXiv is committed to these values and only works with partners that adhere to them.&lt;/p&gt;&lt;p&gt;Have an idea for a project that will add value for arXiv's community? Learn more about arXivLabs.&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://arxiv.org/abs/2509.26507"/><published>2025-10-22T13:00:08+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668453</id><title>Democracy and the open internet die in daylight</title><updated>2025-10-22T14:44:33.886581+00:00</updated><content>&lt;doc fingerprint="32591f5637b532dd"&gt;
  &lt;main&gt;
    &lt;p&gt;Obviously there have been many editorial changes at the formerly venerable Washington Post, a tawdry saga which I don’t intend to recap here.&lt;/p&gt;
    &lt;p&gt;What I do want to share is this, which I spotted yesterday during research.&lt;/p&gt;
    &lt;p&gt;In other words – you get free access to news if you download PerplexityAI’s proprietary browser, which is built entirely around agentic AI.&lt;/p&gt;
    &lt;p&gt;*grinds teeth into powder*&lt;/p&gt;
    &lt;p&gt;Leaving aside the idea of access to any form of content being conditional on the use of a proprietary browser, which is a particularly horrid 1990s throwback, I’m going to call this day 0 of an experiment in shifting the funding model of journalism from adtech to agentic AI.&lt;/p&gt;
    &lt;p&gt;Journalism (or what’s left of it now) is in the state it’s in because of the adtech funding model. I don’t know what the solution is.&lt;/p&gt;
    &lt;p&gt;But it sure as fuck isn’t trading one privacy-obliterating technology for another, packaged as opportunity.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://heatherburns.tech/2025/10/22/democracy-and-the-open-internet-die-in-daylight/"/><published>2025-10-22T13:03:06+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668469</id><title>The Stagnant Order. and the End of Rising Powers</title><updated>2025-10-22T14:44:33.448837+00:00</updated><content>&lt;doc fingerprint="38b0d1d50de78cae"&gt;
  &lt;main&gt;
    &lt;p&gt;In 1898, as the United Kingdom joined other powers in carving up the once mighty Qing empire, British Prime Minister Lord Salisbury warned a London audience that the world was dividing into “living” and “dying” nations. The living were the rising powers of the industrial age—states with growing populations, transformative technologies, and militaries of unprecedented range and firepower. The dying were stagnant empires, crippled by corruption, clinging to obsolete methods, and sliding toward ruin. Salisbury feared that the ascent of some, colliding with the decline of others, would hurl the world into catastrophic conflict.&lt;/p&gt;
    &lt;p&gt;Now, that era of power transitions is ending. For the first time in centuries, no country is rising fast enough to overturn the global balance. The demographic booms, industrial breakthroughs, and territorial acquisitions that once fueled great powers have largely run their course. China, the last major riser, is already peaking, its economy slowing and its population shrinking. Japan, Russia, and Europe stalled more than a decade ago. India has youth but lacks the human capital and state capacity to turn it into strength. The United States faces its own troubles—debt, sluggish growth, political dysfunction—but still outpaces rivals sinking into deeper decay. The rapid ascents that once defined modern geopolitics have yielded to sclerosis: the world is now a closed club of aging incumbents, circled by middle powers, developing countries, and failing states.&lt;/p&gt;
    &lt;p&gt;This reversal carries profound consequences. Over the long run, it may spare the world the ruinous cycle of rising powers—their quests for territory, resources, and status that so often ended in war. In the near term, however, stagnation and demographic shocks are spawning acute dangers. Fragile states are buckling under debt and youth bulges. Struggling powers are turning to militarization and irredentism to stave off decline. Economic insecurity is stoking extremism and corroding democracies, while the United States drifts toward thuggish unilateralism. The age of rising powers is ending, but its immediate aftermath may prove no less violent.&lt;/p&gt;
    &lt;head rend="h3"&gt;THE AGE OF ASCENT&lt;/head&gt;
    &lt;p&gt;Despite the fad of likening China to a rising Athens and the United States to a threatened Sparta, true “rising powers” are a modern phenomenon. They emerged only in the last 250 years, with the Industrial Revolution, when coal, steam, and oil freed societies from the Malthusian trap, in which every bit of new wealth was swallowed by more mouths, keeping living standards stuck at subsistence. For the first time, wealth, population, and military might could expand in tandem—compounding rather than offsetting one another—allowing countries to amass power on a steady upward trajectory. This transformation rested on three forces: technologies that turbocharged productivity, burgeoning populations that swelled workforces and armies, and military machines enabling rapid conquest.&lt;/p&gt;
    &lt;p&gt;The preindustrial world had none of these dynamics. From the year 1 to 1820, global income per person rose barely 0.017 percent annually, or just under two percent per century. With poverty the norm, shifts in power came only in fits and starts, usually by squeezing scarce resources. Chinese and Indian empires eked out agricultural surpluses, Venice and the Ottomans taxed trade, Spain and Portugal plundered silver, and the Habsburgs and Bourbons expanded through dynastic marriages. Military breakthroughs—cavalry under the Mongols or gunpowder under the Ottoman, Safavid, and Mughal empires—reshaped the balance for a time, but rivals eventually adapted. Even the United Kingdom’s vaunted fiscal-military state simply wrung more from scarcity.&lt;/p&gt;
    &lt;p&gt;The Industrial Revolution broke scarcity’s grip and made productivity the foundation of power, vaulting societies from medieval to modern in under a century. A Briton born in 1830 entered a world of candles, horse carts, and wooden ships; by old age, that same person could ride a railroad, send a telegraph, and walk streets lined with electric lights, factory goods, and indoor plumbing. In one lifetime, per capita energy use multiplied five- to tenfold.&lt;/p&gt;
    &lt;p&gt;This upheaval produced the first modern rising powers. In the nineteenth century, per capita income growth expanded at 30 times its preindustrial pace, and the gains were concentrated among a handful of states, creating vast asymmetries in power. The United Kingdom, the United States, and the German states jumped from furnishing less than ten percent of global manufacturing in 1800 to more than half by 1900, while their per capita incomes roughly tripled. China’s and India’s shares, by contrast, fell from over half of world output to under ten percent, and the Habsburgs, Ottomans, and Russians remained largely agrarian, their industries swamped by imports. By 1900, populations in leading industrial nations earned about eight to ten times more per person than China or India, and several times more than those in Russia and the Habsburg and Ottoman empires. What had once been rough parity became the so-called Great Divergence between the West and the rest.&lt;/p&gt;
    &lt;p&gt;Productivity gains unleashed a population boom. Preindustrial societies had barely grown, with populations doubling only once in a thousand years. Industrialization shattered that ceiling: in the nineteenth century, the global population grew about ten times as fast as it had, on average, from year 1 to 1750. Mechanized farming, sanitation, electricity, refrigeration, and new medicines lifted global average life expectancy by more than 60 percent from 1770 to 1950, allowing populations to double every generation or two. Germany, the United Kingdom, and the United States led this surge, followed by Japan and Russia, while China, India, and the Habsburg and Ottoman empires lagged behind. By World War I, armies that had once numbered in the tens of thousands could muster millions.&lt;/p&gt;
    &lt;quote&gt;Productivity is slowing, populations are shrinking, and conquest is growing harder.&lt;/quote&gt;
    &lt;p&gt;Manpower fueled industrial militaries—the third ingredient of rising power. Preindustrial warfare was brutal but limited. Armies were generally small, seasonal, and parasitic, living off the land and moving only as fast as hoof or sail allowed. With crude weapons and poor logistics, wars were frequent but indecisive, often dragging on for decades. Industrialization upended that world. Railroads, steamships, and telegraphs made mass mobilization possible, while rifles, machine guns, and heavy artillery multiplied killing power. By the early twentieth century, industrial empires controlled four-fifths of the globe, turning the map into a patchwork dominated by a handful of rising powers.&lt;/p&gt;
    &lt;p&gt;Together, these economic, demographic, and military revolutions pulled every region into a single arena. The value of global trade expanded tenfold from 1850 to 1913, and even long-insulated empires such as Tokugawa Japan and Qing China were forced into the fray. For the first time, nations confronted a stark choice: industrialize or be dominated. From that scramble emerged a small roster of great powers, each forged through a few exceptional routes.&lt;/p&gt;
    &lt;p&gt;One was national consolidation, in which the first industrializing region of a fragmented land conquered the rest. Prussia hammered Germany together, Satsuma and Choshu built modern Japan, Piedmont spearheaded Italian unification, and the industrial North in the United States crushed native nations, defeated the secessionist, slave-holding South, and expanded westward. Another route to power was totalitarianism, as former empires pursued breakneck industrialization under ruthless dictators—Joseph Stalin’s Soviet Union, Adolf Hitler’s Germany, Mao Zedong’s China—at staggering human cost. A third route was to become a protectorate. China, having watched postwar Germany and Japan rebuild under U.S. protection, leaned toward Washington beginning in the 1970s to extract capital and know-how before breaking away in this century to pursue primacy. These were the doors into the rising power club—and all opened under the extraordinary technological, demographic, and military conditions of the industrial age.&lt;/p&gt;
    &lt;head rend="h3"&gt;FROM TAILWINDS TO HEADWINDS&lt;/head&gt;
    &lt;p&gt;Those doors are now closing. Productivity is slowing, populations are shrinking, and conquest is growing harder. Today’s technologies, remarkable though they are, have not remade life as the Industrial Revolution did. An American apartment from the 1940s, with a refrigerator, gas stove, electric lights, and telephone, would feel familiar today. By contrast, an 1870s home, with an outhouse, water well, and fireplace for cooking and heat, would seem prehistoric. The leap from 1870 to 1940 was transformative; the steps since, far less so.&lt;/p&gt;
    &lt;p&gt;Transport speeds have flatlined: just 66 years separated Kitty Hawk from the moon landing, yet half a century later, cars and planes still move at twentieth-century velocities. The energy sector has shown similar inertia, with fossil fuels still providing more than 80 percent of global supply—virtually unchanged since the 1970s, despite trillions invested in renewable energy sources. Longevity has plateaued as life expectancy gains in advanced economies have slowed or even reversed. The number of scientists has risen more than fortyfold since the 1930s, yet research productivity has declined by roughly the same margin, now halving every 13 years. Business R &amp;amp; D has more than doubled as a share of GDP since 1980, but productivity growth and startup formation have each fallen by half in advanced economies. Even the digital revolution has proved fleeting; after a brief surge in the late 1990s, productivity growth sank back to historic lows.&lt;/p&gt;
    &lt;quote&gt;Today’s technologies have not remade life as the Industrial Revolution did.&lt;/quote&gt;
    &lt;p&gt;Some forecasts claim that artificial intelligence will turbocharge global output by 30 percent per year, but most economists expect it to add only about one percentage point to annual growth. AI excels at digital tasks, yet the toughest labor bottlenecks are in physical and social realms. Hospitals need nurses more than they need faster scans; restaurants need cooks more than ordering tablets; lawyers must persuade judges, not just parse briefs. Robots remain clumsy in real-world settings, and because machine learning is probabilistic, errors are inevitable—so humans must often stay in the loop. Reflecting these limits, roughly 80 percent of firms using generative AI reported that it had no material effect on their profits, in a McKinsey Global Survey on AI.&lt;/p&gt;
    &lt;p&gt;Even if AI keeps advancing, major productivity gains may take decades because economies must reorganize around new tools. That offers little relief for today’s struggling economies. Global growth has slowed from four percent in the first decades of the twenty-first century to about three percent today—and to barely one percent in advanced economies. Productivity growth, which ran at three to four percent annually in the 1950s and 1960s, has fallen close to zero. Meanwhile, global debt has swollen from 200 percent of GDP 15 years ago to 250 percent today, topping 300 percent in some advanced economies.&lt;/p&gt;
    &lt;p&gt;The demographic outlook is equally bleak. Today, nearly two-thirds of humanity lives in countries with birthrates below replacement levels. Most industrialized nations are literally dying powers, shrinking by hundreds of thousands each year—some by millions—and emerging markets are not far behind. Only sub-Saharan Africa still has high fertility, and rates are declining even there. Recent estimates suggest that the global population will begin falling in the 2050s.&lt;/p&gt;
    &lt;p&gt;The implications for national power are stark. As labor forces contract and retiree ranks swell, growth in major economies is projected to decline by at least 15 percent over the next quarter century, and for some, the hit will be several times worse. Making up that loss would require productivity gains of two to five percent a year—the breakneck pace of the 1950s—or longer workweeks, neither of which is realistic amid slowing innovation and mass retirement. Demographic decline also rules out any phoenix-like recovery. In the industrial era, even countries shattered by war could roar back: Germany after World War I, the Soviet Union and Japan after World War II, and China after its “century of humiliation” all returned bigger and stronger within a generation. Today, as populations shrink, lost power may be gone for good.&lt;/p&gt;
    &lt;p&gt;With neither economic growth nor demographic revival to count on, conquest might seem the last path to rising power. Yet that route, too, is narrowing. The spread of industrial technologies—railroads, telegraphs, and electrification—facilitated state building and decolonization, quadrupling the number of nation-states in the world since 1900. Since then, more than 160 foreign occupations have been mired in insurgencies, as cheap rifles, mortars, and rocket-propelled grenades turned villages into kill zones. Nuclear weapons raised the risks of conquest to existential levels, while precision-guided munitions and drones now allow even ragtag militias such as the Houthis to cripple ships and tanks. Meanwhile, the spoils of conquest have shrunk: land and minerals once enriched empires, but today nearly 90 percent of corporate assets in advanced economies are intangible—software, patents, and brands that cannot be plundered.&lt;/p&gt;
    &lt;p&gt;For aspiring great powers in the developing world, the climb is steeper still. Multinational companies from wealthy states dominate capital and technology, while global production has become modular, consigning latecomers to low-value roles—assembling goods or exporting raw materials—without a chance to build globally competitive firms of their own. Foreign aid has dwindled, export markets are contracting, and protectionism is spreading, pulling up the export-led ladder that past risers once climbed.&lt;/p&gt;
    &lt;p&gt;Historical churn has slowed dramatically. With few exceptions, the countries that were rich and powerful in 1980 remain so today, while most of the poor have stayed poor. Between 1850 and 1949, five new great powers stormed onto the scene, but in the 75 years since, only China has. And it may be the last.&lt;/p&gt;
    &lt;head rend="h3"&gt;MIND THE GAP&lt;/head&gt;
    &lt;p&gt;As the world’s preeminent power, the United States sets the pace against which others rise or fall—and at the start of the twenty-first century, that pace was abysmal. In 2001, the country suffered the deadliest attack on its homeland. Over the next decade, it fought two of the three longest wars in its history, costing hundreds of thousands of lives, including those of thousands of Americans, and spending $8 trillion, without securing victory. In 2008, it suffered the worst financial collapse since the Great Depression.&lt;/p&gt;
    &lt;p&gt;Meanwhile, other economies closed the gap. Between 2000 and 2010, China’s GDP in dollar terms—the clearest gauge of a country’s purchasing power on international markets—jumped from 12 percent to 41 percent of U.S. GDP. Russia’s share quadrupled; Brazil’s and India’s more than doubled; and Europe’s major economies also made meaningful gains. To many observers, these shifts heralded an epic power transition—what the writer Fareed Zakaria memorably called “the rise of the rest,” ushering in an allegedly “post-American world.”&lt;/p&gt;
    &lt;quote&gt;China may be the last new great power to storm onto the scene.&lt;/quote&gt;
    &lt;p&gt;But the tide soon turned. In the 2010s, most major economies fell back. Brazil’s and Japan’s shares of U.S. GDP were cut roughly in half. Canada, France, Italy, and Russia each lost about a third of their relative economic weight, while Germany’s and the United Kingdom’s shares contracted by about a quarter. Only China and India continued to climb.&lt;/p&gt;
    &lt;p&gt;The 2020s have been harsher still. India is the only major economy still keeping pace with the United States. From 2020 to 2024, China’s GDP fell from 70 to 64 percent of U.S. GDP. Japan’s plunged from 22 to 14 percent. The economies of Germany, France, and the United Kingdom all slid further, while Russia’s is sputtering after a brief wartime bump. The combined economies of the countries of Africa, Latin America, the Middle East, South Asia, and Southeast Asia have also shrunk—from about 90 percent of U.S. GDP a decade ago to just 70 percent in 2023. “The rise of the rest” has not merely slowed; it is reversing.&lt;/p&gt;
    &lt;p&gt;Nor is a comeback likely. The apparent rise of new powers in the early years of the twenty-first century was always misleading because GDP is a crude measure of strength. What matters more are the foundations of a robust economy—productivity, innovation, consumer markets, energy, finance, and fiscal health—and on those fronts, most challengers are faltering. Over the past decade, only India and the United States have gained in total factor productivity, which measures how efficiently a country translates labor, capital, and other inputs into economic output. Japan has stagnated while others have slid backward, throwing in more inputs but producing less growth. In advanced industries, the gap is wider: U.S. firms capture more than half of global high-tech profits; China barely manages six percent.&lt;/p&gt;
    &lt;p&gt;The United States’ advantages extend further. Its consumer market is now larger than China’s and the eurozone’s combined. It is the world’s second-largest trader, yet it is among the least trade-dependent, with exports making up just 11 percent of GDP—one-third of which goes to Canada and Mexico—compared with 20 percent for China and 30 percent globally. In energy, it has vaulted from net importer to top producer, enjoying prices far below those of rivals. And the dollar continues to dominate reserves, banking, and foreign exchange. Total public and private debt in the United States is enormous—about 250 percent of GDP in 2024 and likely to climb with the extended tax cuts Congress passed in July—but still lower than that of many peers: in Japan, it exceeds 380 percent; in France, 320 percent; and in China, it tops 300 percent once hidden local government and corporate liabilities are included. Moreover, from 2015 to 2025, debt in the United States edged down slightly, while it rose nearly 60 percentage points in China, more than 25 in Japan and Brazil, and nearly 20 in France.&lt;/p&gt;
    &lt;quote&gt;“The rise of the rest” has not merely slowed; it is reversing.&lt;/quote&gt;
    &lt;p&gt;Demographics will further drag down U.S. rivals. Over the next 25 years, the United States will gain about eight million working-age adults (a 3.7 percent increase), while China will lose roughly 240 million (a 24.5 percent decline)—more than the entire labor force of the European Union. Japan will shed about 18 million workers (25.5 percent of its labor force), Russia more than 11 million (12.2 percent), Italy around 10 million (27.5 percent), Brazil another 10 million (7.1 percent), and Germany over 8 million (15.6 percent). Aging will compound the pain. During the same period, the United States will add about 24 million retirees (a 37.8 percent increase over today), but China will add more than 178 million (an 84.5 percent increase). Japan, already saturated with seniors, will gain 2.5 million retirees (a 6.7 percent increase). Germany will add 3.8 million (up 19 percent), Italy 4.3 million (up 29 percent), Russia 6.8 million (up 27 percent), and Brazil 24.5 million (up a staggering 100 percent). For two centuries, rising powers were propelled by swelling youth populations; today, major economies are losing workers while piling up retirees—a double blow that no challenger has ever faced.&lt;/p&gt;
    &lt;p&gt;Besides the United States, only India—the world’s most populous country, with a workforce projected to grow into the 2040s—seems to be partly shielded from demographic decline, raising its hopes to be the next rising power. Yet India suffers from a crippling dearth of skilled workers. As of 2020, nearly a quarter of working-age adults had never attended school, and among those who did, four out of five lacked basic math and science skills. In total, nearly 90 percent of young people fall short of essential literacy and numeracy. The problem is magnified by brain drain: India sends more skilled migrants to advanced economies than any other country. One study tracking the 2010 cohort of India’s Joint Entrance Examination takers—the gateway to elite technology institutions—found that within eight years, more than a third of the top 1,000 scorers had moved abroad, including over 60 percent of the top 100.&lt;/p&gt;
    &lt;p&gt;The Indian economy amplifies these weaknesses. Labor and industry remain constrained: more than 80 percent of workers are in the untaxable informal sector, and nearly half of all industrial sectors have contracted since 2015. Infrastructure and trade are also limited: India’s busiest port handles only one-seventh the volume of China’s, and a quarter of the country’s trade with Europe and East Asia must pass through foreign hubs, adding three days in transit and roughly $200 to the cost of every container. Finally, the heralded services sector is narrow, with growth concentrated in IT firms that cannot absorb a vast labor force, leaving about 40 percent of college graduates in their 20s unemployed. India will remain consequential—its market large, its military strong by regional standards, its diaspora influential—but it lacks the foundations for true great-power ascent.&lt;/p&gt;
    &lt;head rend="h3"&gt;CHINA’S GAMBLE&lt;/head&gt;
    &lt;p&gt;If any country can defy today’s headwinds, it is China. It produces a third of the world’s goods and turns out more ships, electric vehicles, batteries, rare-earth minerals, solar panels, and pharmaceutical ingredients than the rest of the world combined. Industrial hubs such as Shenzhen and Hefei can take a design from prototype to mass production in days, powered by the planet’s largest electric grid and a vast robot workforce. Beijing bankrolls research, directs firms, and stockpiles resources, while its AI strategy prizes rapid, low-cost deployment. Scale gives China leverage. It can flood markets to bankrupt competitors, as it did with solar panels, and churn out strategic goods—from drones to ships to rare earths—faster than any rival. On the asset side of the ledger, China looks unstoppable.&lt;/p&gt;
    &lt;p&gt;On the liability side, however, China’s position is far weaker. Its growth model rests on three perilous bets: that gross output matters more than net returns, that a few showcase industries can substitute for broad economic vitality, and that autocracy can deliver more dynamism than democracy. These gambles have generated spectacular output, but at mounting costs—and history shows that such liabilities are usually decisive.&lt;/p&gt;
    &lt;p&gt;Over the past two centuries, states with deeper net resources—what remained after providing for their people, sustaining their economies, and securing their homelands—prevailed in 70 percent of disputes, 80 percent of wars, and every great-power rivalry. Nineteenth-century China and Russia looked imposing on paper, with the largest economies in Eurasia, but their liability-ridden empires were repeatedly outmatched by smaller, more efficient rivals: Germany, Japan, and the United Kingdom. In the twentieth century, the Soviet Union funneled vast resources into strategic sectors, spending nearly twice as much as the United States on R &amp;amp; D as a share of GDP and employing nearly twice as many scientists and engineers, while pumping out steel, machine tools, nuclear technology, and oil, gas, and other raw materials. It built giant dams and railways and leapt out to an early lead in the space race. Yet these feats produced islands of excellence in a sea of stagnation, and the Soviet Union ultimately collapsed not for lack of megaprojects but because its broader economy rotted away.&lt;/p&gt;
    &lt;p&gt;China today is running into a similar trap. Its investment-driven model relies on ever-larger inputs to generate ever-smaller returns, with each unit of output now requiring two to three times more capital and four times more labor than in the United States. To keep headline growth going, Beijing has flooded the system with credit, creating more than $30 trillion in new bank assets since 2008. By 2024, its banking system had swollen to $59 trillion—equal to three times its GDP and more than half of global GDP.&lt;/p&gt;
    &lt;p&gt;Much of this debt is sunk in empty apartments, loss-making factories, and bad loans—assets that look like wealth on paper but are really IOUs that may never be paid. Property and construction, once nearly 30 percent of the economy, have imploded, erasing an estimated $18 trillion in household wealth since 2020. The blow to Chinese citizens has been harsher than that which hit Americans in 2008 because Chinese families had invested more than twice as much of their net worth in real estate. With many middle-class households stripped of their life savings, disposable income has stalled at $5,800 per person and consumption at 39 percent of GDP—roughly half the U.S. level and far below what Japan, South Korea, and Taiwan sustained during their industrial booms. Demand has cratered, and prices have now dropped for nine straight quarters, the longest deflationary slump any major economy has suffered in decades.&lt;/p&gt;
    &lt;p&gt;Another liability is human capital. While Beijing lavished funds on infrastructure, it neglected its people. Only one-third of working-age adults have finished high school—the lowest share among middle-income countries. By contrast, when South Korea and Taiwan were at China’s income level in the late 1980s, roughly 70 percent of their workers had high school degrees, a foundation that enabled them to move from assembly lines into advanced industries and achieve high-income status. In rural China, malnutrition and poverty push many children to drop out by middle school. The result, as the economist Scott Rozelle has shown, is hundreds of millions of young workers unprepared for a modern economy, just as the low-skill construction jobs that once absorbed them disappear.&lt;/p&gt;
    &lt;p&gt;Demographics and fiscal strain compound the pressure. If China’s elderly formed a country, it would be the world’s fourth largest and fastest growing—nearly 300 million today, projected to exceed 500 million by 2050. By then, just two workers will support each retiree, down from ten in 2000. Yet the safety net is threadbare. Pensions cover only half the workforce and will run dry by 2035. Eldercare is weaker still. China has only 29 nurses per 10,000 people, compared with 115 in Japan and 70 in South Korea. And a withering workforce is shrinking the government’s revenue base: tax receipts have fallen from 18.5 percent of GDP in 2014 to under 14 percent in 2022—less than half the average among countries in the Organization for Economic Cooperation and Development.&lt;/p&gt;
    &lt;quote&gt;What looms is a reprise of some of the worst aspects of the twentieth century.&lt;/quote&gt;
    &lt;p&gt;Beijing hopes to boost its economy by subsidizing strategic industries. But those sectors are too small to offset the collapse of real estate—electric vehicles, batteries, and renewables together made up barely 3.5 percent of GDP in 2023—and many are becoming liabilities themselves. Subsidies have spawned gluts, price wars, and “zombie” industrial zones reminiscent of the ghost cities of the property bust. China’s automakers churn out twice the number of cars the domestic market can absorb, and nearly triple the number of EVs. Solar firms added 1,000 gigawatts of capacity in 2023—five times the rest of the world combined—pushing prices below cost. High-speed rail has piled up about a trillion dollars in debt, with most lines running at a loss. Nearly a quarter of Chinese industrial firms are now unprofitable, the highest share since 2001 and almost double the share a decade ago, while the country’s top five tech giants have shed $1.3 trillion in market value since 2021.&lt;/p&gt;
    &lt;p&gt;And despite more than a trillion dollars in subsidies over the past decade, China still depends on the United States and U.S. allies for 70 to 100 percent of some 400 critical goods and technologies. Semiconductor chips, for example, have surpassed crude oil as the country’s largest import, yet domestic production covers less than one-fifth of demand. At the cutting edge, China is almost entirely reliant on foreign suppliers. After Washington’s 2022 export controls on AI chips, the U.S. share of global AI computing power jumped nearly 50 percent while China’s was cut in half, leaving the United States with a fivefold lead. That episode underscored what the scholars Stephen Brooks and Benjamin Vagle have called “excludable commercial power”: across R &amp;amp; D–intensive industries, the United States and its allies capture more than 80 percent of global revenues. In normal times, that dominance yields market power; in a crisis, it becomes a weapon—China could lose 14 to 21 percent of GDP in a trade cutoff, compared with just four to seven percent for the United States.&lt;/p&gt;
    &lt;p&gt;These vulnerabilities are compounded by China’s political system. The Chinese Communist Party has turned autocracy into an economic straitjacket, tightening its grip on the private sector and steering capital toward politically connected firms. Venture-backed startups have plunged from roughly 51,000 in 2018 to barely 1,200 in 2023, according to reporting by the Financial Times. Foreign investment has dropped to a three-decade low, while capital flight has risen, with tens of thousands of millionaires and hundreds of billions of dollars leaving each year. The result is a brittle economy—formidable assets on the surface, but festering liabilities below.&lt;/p&gt;
    &lt;head rend="h3"&gt;GATHERING STORMS&lt;/head&gt;
    &lt;p&gt;The age of rising powers is ending, and the fallout is already fueling conflict. One threat is that stagnating states are militarizing to reclaim “lost” territories and maintain great-power status. Russia has already rolled the dice in Ukraine and, if unchecked, could set its sights on wealthier neighbors such as the Baltic States or Poland. China might attempt something similar against Taiwan. For these once rising powers now facing stagnation, conquest can look tempting—a way to seize resources and respect, absorb populations in some cases nearly twice as wealthy per capita as they are, and allow their leaders to pose as empire builders rather than stewards of decline. Fear sharpens the impulse, as Western prosperity threatens to lure away borderlands and incite unrest at home. Both Russian President Vladimir Putin, haunted by the Soviet collapse in the 1990s, and Chinese leader Xi Jinping, wary of a repeat of the 1989 nationwide protests that culminated in the Tiananmen Square crackdown, stoke anti-Americanism and revanchism to shore up their rule—and with success. Russians endure staggering losses in Putin’s war in Ukraine for cash payouts and patriotic spectacles, while China channels unemployed youth into nationalist boycotts and celebrations of Xi’s promised rejuvenation.&lt;/p&gt;
    &lt;p&gt;Meanwhile, Russia and China have quintupled military spending relative to the United States and its allies since 2000, echoing earlier cases when embattled powers—Depression-era Germany and Japan, the Soviet Union in the 1970s and 1980s—poured resources into arms, betting that if they could no longer buy influence with growth, they could bludgeon their way to dominance instead. Precision weapons and drones give small states new tools of defense, but they may also convince Putin and Xi that quick victories are possible. In a dictator’s echo chamber, what looks suicidal to ordinary people can feel like destiny.&lt;/p&gt;
    &lt;p&gt;Another threat is rampant state failure among debt-ridden countries with fast-growing populations. In the nineteenth century, industrialization turned demographic growth into economic dividends by moving peasants into factories. That path is now closed. Manufacturing is commodified, automated, and dominated by incumbents, leaving latecomers stuck in low-value niches. Sub-Saharan Africa still has only 11.5 percent of its workforce in industry, barely more than it had three decades ago. India’s 2014 “Make in India” campaign promised a manufacturing takeoff, but the sector’s share of GDP has stalled at around 17 percent, and its share of jobs has shrunk. In the Middle East, oil rents have funded urban modernization but not broad-based industrialization.&lt;/p&gt;
    &lt;p&gt;Many poor countries have reaped the life-expectancy gains of modernity but without an economic revolution, turning population growth into a liability. The UN has estimated that 3.3 billion people now live in countries where interest payments on debt exceed investment in health or education. Since 2015, GDP per capita has flatlined across much of Africa and the Middle East, savings and investment have collapsed, and youth unemployment tops 60 percent in some countries. These pressures are fueling turmoil: roughly a third of African states are in active conflict, and jihadist violence in the Sahel has exploded since 2015, with extremist groups such as Boko Haram and affiliates of al-Qaeda and the Islamic State (or ISIS) operating across more than a dozen countries. As people flee from the turmoil, migration has soared. As of June 2024, the UN Refugee Agency counted more than 120 million people forcibly displaced worldwide.&lt;/p&gt;
    &lt;p&gt;The spiral of state failure could magnify a third threat: the advance of antiliberalism within democracies themselves. After the Syrian war drove nearly a million refugees to Europe, ethnonationalist parties surged across the continent. A similar shift has unfolded in the United States amid record migration at the southern border during the Biden administration. Public trust in government has collapsed—falling in the United States from nearly 80 percent in the 1960s to about 20 percent today—while automation and inequality have hollowed out middle classes and inflamed identity politics. Authoritarian powers exploit these fissures: Russia bankrolls and amplifies extremist movements, China exports surveillance tools, and both flood their Western adversaries with disinformation. Liberal democracy has historically thrived in eras of growth, opportunity, and cohesion. It is far less clear whether it can withstand an age of stagnation, mass migration, and digital subversion.&lt;/p&gt;
    &lt;p&gt;As liberal democracy corrodes at home, liberal internationalism is unraveling abroad. In a world without rising powers, the United States is becoming a rogue superpower, with little sense of obligation beyond itself. During the Cold War, U.S. leadership was one part virtue, three parts self-interest: protecting allies, transferring technology, and opening up the U.S. markets were the price of containing a rising rival. Allies publicly accepted U.S. primacy because the Red Army loomed nearby and communism commanded hundreds of millions of adherents. But when the Soviet Union collapsed, the demand for U.S. leadership collapsed with it. Today, with no Red Menace to fight and only an amorphous liberal order to defend, the phrase “leader of the free world” rings hollow even to American ears.&lt;/p&gt;
    &lt;p&gt;As a result, U.S. strategy is shedding values and historical memory, narrowing its focus to money and homeland defense. Allies are discovering what unvarnished unilateralism feels like, as security guarantees become protection rackets and trade deals are enforced with tariffs. This is the same logic of raw power that helped spur two world wars, and the consequences are already visible. Multilateral institutions are paralyzed, arms control regimes are collapsing, and economic nationalism has surged.&lt;/p&gt;
    &lt;p&gt;What looms is not a multipolar concert of great powers sharing the world, but a reprise of some of the worst aspects of the twentieth century: struggling states militarizing, fragile ones collapsing, democracies rotting from within, and the supposed guarantor of order retreating into parochial self-interest.&lt;/p&gt;
    &lt;head rend="h3"&gt;SILVER LININGS&lt;/head&gt;
    &lt;p&gt;If today’s dangers can be managed, however, the end of rising powers could ultimately produce a brighter future. For centuries, the rise and fall of great powers unleashed the bloodiest wars in history. Without new challengers, the world may finally gain reprieve from the most destructive cycle of all: hegemonic rivalry.&lt;/p&gt;
    &lt;p&gt;As the political scientist Graham Allison has noted, in the past 250 years there have been ten cases of a rising power confronting a ruling one. Seven ended in carnage. One can debate his case selection, but the basic pattern is clear: rising powers have sparked a catastrophic war roughly once a generation.&lt;/p&gt;
    &lt;p&gt;A world without rising powers will not end conflict, but it may lift the specter of those system-shattering struggles. Violence will persist—stagnation and state collapse could even make local conflicts more frequent—but such clashes are unlikely to carry the global scope, ideological zeal, generational duration, and apocalyptic potential of hegemonic contests. Shrinking populations and slowing economies could sap the ambition and capacity for continental conquest—or for a rebound, once faltering powers stumble. A less dynamic world may also yield a more pragmatic contest between liberal and authoritarian-kleptocratic systems rather than the totalizing crusades of fascism and communism, which emerged from industrialization’s upheaval and sought to remake humanity. History will not end, but its most catastrophic chapter might.&lt;/p&gt;
    &lt;p&gt;That restraint may be reinforced by what the political scientist Mark Haas calls a “geriatric peace.” Aging societies face ballooning welfare costs, shrinking pools of military-age recruits, and risk-averse electorates. On the eve of World War I, the median age of the major powers was in the mid-20s. Today, it exceeds 40 in every great power except the United States (which is just under 40), and within a decade, a quarter or more of their citizens will be seniors. A century ago, young societies stormed into world wars; in the twenty-first, gray powers may be too weary and wise to try.&lt;/p&gt;
    &lt;p&gt;If a world without rising powers proves calmer geopolitically, economics may also be brighter than expected. Even without another industrial revolution, new technologies are improving daily life, and humanity is healthier and more educated than ever. Slower productivity growth and aging populations may temper GDP, but they need not prevent a quieter revolution in living standards, creating a future in which societies grow richer in knowledge and healthier in body even as they grow smaller in population.&lt;/p&gt;
    &lt;p&gt;Another source of optimism lies in today’s demographic asymmetry. Advanced economies are capital-rich but labor-poor, while much of the developing world—especially Africa—has the reverse profile. In principle, this sets the stage for a new division of labor: aging societies supply savings and technology, and younger ones supply workers, creating a symbiosis that could sustain global growth even as individual nations slow. The flow of remittances, skills partnerships, and cross-border investment are early signs of this new relationship, and digital platforms are easing coordination. Yet none of this is automatic. The politics of trade and migration are turning inward, and absorbing large migrant flows without disrupting societies remains a daunting challenge. Without careful management—rules-based migration channels, secure borders, worker protections, and new models of remote collaboration—what could be a growth pact may instead collapse into backlash. The opportunity is real, but so are the obstacles.&lt;/p&gt;
    &lt;p&gt;Forecasting is a perilous business. Demography can be measured, but technology and politics often surprise, and today’s certainties may look naive a generation or even a few years from now. What can be said with confidence is that for two and a half centuries, global politics was driven by the rapid rise of great powers, and the forces that made such ascents possible are now receding. That does not guarantee stability, but it does mark a profound shift: the familiar struggle between living and dying powers is winding down, and another story, its outlines still obscure, is beginning to unfold.&lt;/p&gt;
    &lt;head rend="h3"&gt;You are reading a free article&lt;/head&gt;
    &lt;p&gt;Subscribe to Foreign Affairs to get unlimited access.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Paywall-free reading of new articles and over a century of archives&lt;/item&gt;
      &lt;item&gt;Six issues a year in print and online, plus audio articles&lt;/item&gt;
      &lt;item&gt;Unlock access to the Foreign Affairs app for reading on the go&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Already a subscriber? Sign In&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.foreignaffairs.com/united-states/stagnant-order-michael-beckley"/><published>2025-10-22T13:04:57+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668561</id><title>Chezmoi introduces ban on LLM-generated contributions</title><updated>2025-10-22T14:44:33.052408+00:00</updated><content>&lt;doc fingerprint="d09b6c4eafc59adf"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Developer guide&lt;/head&gt;
    &lt;p&gt;Warning&lt;/p&gt;
    &lt;p&gt;If you use an LLM (Large Language Model, like ChatGPT, Claude, Gemini, GitHub Copilot, or Llama) to make any kind of contribution then you will immediately be banned without recourse. See &lt;code&gt;CODE_OF_CONDUCT.md&lt;/code&gt;
for more information.&lt;/p&gt;
    &lt;p&gt;chezmoi is written in Go and development happens on GitHub. chezmoi is a standard Go project, using standard Go tooling. chezmoi requires Go 1.24 or later.&lt;/p&gt;
    &lt;p&gt;Checkout chezmoi:&lt;/p&gt;
    &lt;code&gt;git clone https://github.com/twpayne/chezmoi.git
cd chezmoi
&lt;/code&gt;
    &lt;p&gt;Build chezmoi:&lt;/p&gt;
    &lt;code&gt;go build
&lt;/code&gt;
    &lt;p&gt;Run all tests:&lt;/p&gt;
    &lt;code&gt;go test ./...
&lt;/code&gt;
    &lt;p&gt;chezmoi's tests include integration tests with other software. If the other software is not found in &lt;code&gt;$PATH&lt;/code&gt; the tests will be skipped. Running the full set
of tests requires &lt;code&gt;age&lt;/code&gt;, &lt;code&gt;base64&lt;/code&gt;, &lt;code&gt;bash&lt;/code&gt;, &lt;code&gt;bzip2&lt;/code&gt;, &lt;code&gt;git&lt;/code&gt;, &lt;code&gt;gpg&lt;/code&gt;, &lt;code&gt;gzip&lt;/code&gt;,
&lt;code&gt;perl&lt;/code&gt;, &lt;code&gt;python3&lt;/code&gt;, &lt;code&gt;rage&lt;/code&gt;, &lt;code&gt;ruby&lt;/code&gt;, &lt;code&gt;sed&lt;/code&gt;, &lt;code&gt;sha256sum&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;, &lt;code&gt;true&lt;/code&gt;, &lt;code&gt;unzip&lt;/code&gt;,
&lt;code&gt;xz&lt;/code&gt;, &lt;code&gt;zip&lt;/code&gt;, and &lt;code&gt;zstd&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;Run chezmoi:&lt;/p&gt;
    &lt;code&gt;go tool chezmoi
&lt;/code&gt;
    &lt;p&gt;Run a set of smoke tests, including cross-compilation, tests, and linting:&lt;/p&gt;
    &lt;code&gt;make smoke-test
&lt;/code&gt;
    &lt;p&gt;Test building chezmoi for all architectures:&lt;/p&gt;
    &lt;code&gt;make test-release
&lt;/code&gt;
    &lt;p&gt;Hint&lt;/p&gt;
    &lt;p&gt;If you use &lt;code&gt;fish&lt;/code&gt; as your primary shell, you may get warnings from Fish
during tests:&lt;/p&gt;
    &lt;code&gt;error: can not save history
warning-path: Unable to locate data directory derived from $HOME: '/home/user/.local/share/fish'.
warning-path: The error was 'Operation not supported'.
warning-path: Please set $HOME to a directory where you have write access.
&lt;/code&gt;
    &lt;p&gt;These can be avoided with by running tests with &lt;code&gt;SHELL=bash&lt;/code&gt; or &lt;code&gt;SHELL=zsh&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;SHELL=bash make test
SHELL=zsh make smoke-test
SHELL=bash go test ./...
&lt;/code&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.chezmoi.io/developer-guide/"/><published>2025-10-22T13:10:26+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668805</id><title>Cigarette-smuggling balloons force closure of Lithuanian airport</title><updated>2025-10-22T14:44:32.911508+00:00</updated><content>&lt;doc fingerprint="73e04181322976fd"&gt;
  &lt;main&gt;
    &lt;p&gt;Dozens of balloons used by smugglers to transport cigarettes from Belarus into Lithuania forced the temporary closure of Vilnius airport overnight.&lt;/p&gt;
    &lt;p&gt;The Lithuanian capital’s airport was closed from 11pm local time on Tuesday to 6.30am on Wednesday. Smugglers use the balloons to send Belarusian cigarettes into the European Union, where tobacco products are more expensive.&lt;/p&gt;
    &lt;p&gt;The head of Lithuania’s national crisis management centre, Vilmantas Vitkauskas, described the latest balloon incursion as “the most intense this year”. The decision to suspend flights was made “to ensure the safety of civil aviation”, he was quoted as saying by the Baltic news agency BNS.&lt;/p&gt;
    &lt;p&gt;Traffic was stopped for the same reason at two land border crossings between Lithuania and Belarus overnight before reopening on Wednesday, Lithuanian border guards said.&lt;/p&gt;
    &lt;p&gt;Lithuania’s prime minister, Inga Ruginienė, called on the authorities in Minsk to cooperate to prevent similar incidents in the future. She urged Belarus to adopt “a responsible approach to these incidents, irrespective of our political relations”.&lt;/p&gt;
    &lt;p&gt;Ruginienė said: “It’s not normal that so many balloons are crossing our border and that we have to intercept them to keep them away from our strategic sites and installations.”&lt;/p&gt;
    &lt;p&gt;A similar incident disrupted the operation of Vilnius airport on 5 October, when 25 balloons crossed into Lithuanian airspace.&lt;/p&gt;
    &lt;p&gt;Similar balloons landed earlier this year on Lithuanian soil, including at the airport, and border guards have had the right to shoot them down since last year.&lt;/p&gt;
    &lt;p&gt;A total of 966 balloons entered Lithuania last year and there have been more than 500 so far this year, according to official data published this month.&lt;/p&gt;
    &lt;p&gt;Neighbouring Poland has had more than 100 similar incidents this year, according to border police.&lt;/p&gt;
    &lt;p&gt;Lithuania is a member of the EU and Nato. Violations of its airspace are a sensitive issue after a number of suspected Russian drones crossed into its territory from Belarus in July, including one carrying explosives.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.theguardian.com/world/2025/oct/22/cigarette-smuggling-balloons-force-closure-vilnius-airport-lithuania"/><published>2025-10-22T13:25:51+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45668990</id><title>AI assistants misrepresent news content 45% of the time</title><updated>2025-10-22T14:44:32.554538+00:00</updated><content>&lt;doc fingerprint="adccd35b32df0994"&gt;
  &lt;main&gt;&lt;p&gt;New research coordinated by the European Broadcasting Union (EBU) and led by the BBC has found that AI assistants â already a daily information gateway for millions of people â routinely misrepresent news content no matter which language, territory, or AI platform is tested.&lt;/p&gt;&lt;p&gt;The intensive international study of unprecedented scope and scale was launched at the EBU News Assembly, in Naples. Involving 22 public service media (PSM) organizations in 18 countries working in 14 languages, it identified multiple systemic issues across four leading AI tools.&lt;/p&gt;&lt;p&gt;Professional journalists from participating PSM evaluated more than 3,000 responses from ChatGPT, Copilot, Gemini, and Perplexity against key criteria, including accuracy, sourcing, distinguishing opinion from fact, and providing context.&lt;/p&gt;&lt;p&gt;Key findings: &lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;45% of all AI answers had at least one significant issue.&lt;/item&gt;&lt;item&gt;31% of responses showed serious sourcing problems â missing, misleading, or incorrect attributions.&lt;/item&gt;&lt;item&gt;20% contained major accuracy issues, including hallucinated details and outdated information.&lt;/item&gt;&lt;item&gt;Gemini performed worst with significant issues in 76% of responses, more than double the other assistants, largely due to its poor sourcing performance.&lt;/item&gt;&lt;item&gt;Comparison between the BBCâs results earlier this year and this study show some improvements but still high levels of errors.&lt;/item&gt;&lt;/list&gt;&lt;p&gt;Why this distortion matters&lt;/p&gt;&lt;p&gt;AI assistants are already replacing search engines for many users. According to the Reuters Instituteâs Digital News Report 2025, 7% of total online news consumers use AI assistants to get their news, rising to 15% of under-25s.&lt;/p&gt;&lt;p&gt;âThis research conclusively shows that these failings are not isolated incidents,â says EBU Media Director and Deputy Director General Jean Philip De Tender. âThey are systemic, cross-border, and multilingual, and we believe this endangers public trust. When people donât know what to trust, they end up trusting nothing at all, and that can deter democratic participation.â&lt;/p&gt;&lt;p&gt;Peter Archer, BBC Programme Director, Generative AI, says: âWeâre excited about AI and how it can help us bring even more value to audiences. But people must be able to trust what they read, watch and see. Despite some improvements, itâs clear that there are still significant issues with these assistants. We want these tools to succeed and are open to working with AI companies to deliver for audiences and wider society.â&lt;/p&gt;&lt;p&gt;Next steps&lt;/p&gt;&lt;p&gt;The research team have also released a News Integrity in AI Assistants Toolkit, to help develop solutions to the issues uncovered in the report. It includes improving AI assistant responses and media literacy among users. Building on the extensive insights and examples identified in the current research, the Toolkit addresses two main questions: âWhat makes a good AI assistant response to a news question?â and âWhat are the problems that need to be fixed?â.&lt;/p&gt;&lt;p&gt;In addition, the EBU and its Members are pressing EU and national regulators to enforce existing laws on information integrity, digital services, and media pluralism. And they stress that ongoing independent monitoring of AI assistants is essential, given the fast pace of AI development, and are seeking options for continuing the research on a rolling basis.&lt;/p&gt;&lt;p&gt;About the project&lt;/p&gt;&lt;p&gt;This study built on research by the BBC published in February 2025, which first highlighted AIâs problems in handling news. This second round expanded the scope internationally, confirming that the issue is systemic and is not tied to language, market or AI assistant.&lt;/p&gt;&lt;p&gt;Participating broadcasters:&lt;/p&gt;&lt;list rend="ul"&gt;&lt;item&gt;Belgium (RTBF, VRT)&lt;/item&gt;&lt;item&gt;Canada (CBC-Radio Canada)&lt;/item&gt;&lt;item&gt;Czechia (Czech Radio)&lt;/item&gt;&lt;item&gt;Finland (YLE)&lt;/item&gt;&lt;item&gt;France (Radio France)&lt;/item&gt;&lt;item&gt;Georgia (GPB)&lt;/item&gt;&lt;item&gt;Germany (ARD, ZDF, Deutsche Welle)&lt;/item&gt;&lt;item&gt;Italy (Rai)&lt;/item&gt;&lt;item&gt;Lithuania (LRT)&lt;/item&gt;&lt;item&gt;Netherlands (NOS/NPO)&lt;/item&gt;&lt;item&gt;Norway (NRK)&lt;/item&gt;&lt;item&gt;Portugal (RTP)&lt;/item&gt;&lt;item&gt;Spain (RTVE)&lt;/item&gt;&lt;item&gt;Sweden (SVT)&lt;/item&gt;&lt;item&gt;Switzerland (SRF)&lt;/item&gt;&lt;item&gt;Ukraine (Suspilne)&lt;/item&gt;&lt;item&gt;United Kingdom (BBC)&lt;/item&gt;&lt;item&gt;USA (NPR)&lt;/item&gt;&lt;/list&gt;&lt;p&gt;Separately, the BBC has today published research into audience use and perceptions of AI assistants for News. This shows that many people trust AI assistants to be accurate - with just over a third of UK adults saying that they trust AI to produce accurate summaries, rising to almost half for people under-35.&lt;/p&gt;&lt;p&gt;The findings raise major concerns. Many people assume AI summaries of news content are accurate, when they are not; and when they see errors, they blame news providers as well as AI developers â even if those mistakes are a product of the AI assistant. Ultimately, these errors could negatively impact peopleâs trust in news and news brands.&lt;/p&gt;&lt;p&gt;The full findings can be found here: Research Findings: Audience Use and Perceptions of AI Assistants for News&lt;/p&gt;&lt;p&gt;IW&lt;/p&gt;&lt;head rend="h3"&gt;Follow for more&lt;/head&gt;&lt;head rend="h2"&gt;Latest from the Media Centre&lt;/head&gt;All news&lt;head rend="h3"&gt;Search by Tag:&lt;/head&gt;&lt;list rend="ul"&gt;&lt;item&gt;Tagged with Latest News Latest News&lt;/item&gt;&lt;/list&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.bbc.co.uk/mediacentre/2025/new-ebu-research-ai-assistants-news-content"/><published>2025-10-22T13:39:26+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45669142</id><title>Linux Capabilities Revisited</title><updated>2025-10-22T14:44:31.774969+00:00</updated><content>&lt;doc fingerprint="37339cda74278488"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Linux Capabilities Revisited&lt;/head&gt;
    &lt;head&gt;Table of Contents&lt;/head&gt;
    &lt;head rend="h2"&gt;Introduction&lt;/head&gt;
    &lt;p&gt;Notes to kernel developers: The goal of capabilities is divide the power of superuser into pieces, such that if a program that has one or more capabilities is compromised, its power to do damage to the system would be less than the same program running with root privilege. Capabilities(7) â Linux manual page&lt;/p&gt;
    &lt;p&gt;&lt;code&gt;Capabilities&lt;/code&gt; are a fine-grained access control mechanism in Linux, allowing more granular permissions than the traditional superuser (&lt;code&gt;root&lt;/code&gt;) model. Capabilities divide the privileges typically associated with the root user into distinct units that can be independently enabled or disabled for different processes. This allows for more secure and controlled privilege management.&lt;/p&gt;
    &lt;p&gt;For example, a process may need permission to bind to privileged ports but not require any other elevated permissions.&lt;/p&gt;
    &lt;head rend="h2"&gt;Understanding Capabilities&lt;/head&gt;
    &lt;p&gt;To see how many capabilities our Linux host is aware of, we can query the file &lt;code&gt;cap_last_cap&lt;/code&gt; inside the &lt;code&gt;/proc&lt;/code&gt; directory:&lt;/p&gt;
    &lt;code&gt;# cat /proc/sys/kernel/cap_last_cap
40
&lt;/code&gt;
    &lt;p&gt;The &lt;code&gt;capsh --print&lt;/code&gt; command displays the current capabilities and related settings of the shell or the process invoking the command. When executing this command on our Linux host, we see the full list of capabilities.&lt;/p&gt;
    &lt;code&gt;# capsh --print
Current: =ep
Bounding set =cap_chown,cap_dac_override,cap_dac_read_search,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_linux_immutable,cap_net_bind_service,cap_net_broadcast,cap_net_admin,cap_net_raw,cap_ipc_lock,cap_ipc_owner,cap_sys_module,cap_sys_rawio,cap_sys_chroot,cap_sys_ptrace,cap_sys_pacct,cap_sys_admin,cap_sys_boot,cap_sys_nice,cap_sys_resource,cap_sys_time,cap_sys_tty_config,cap_mknod,cap_lease,cap_audit_write,cap_audit_control,cap_setfcap,cap_mac_override,cap_mac_admin,cap_syslog,cap_wake_alarm,cap_block_suspend,cap_audit_read,cap_perfmon,cap_bpf,cap_checkpoint_restore
&lt;/code&gt;
    &lt;p&gt;Each capability corresponds to a specific privileged action.&lt;/p&gt;
    &lt;head rend="h2"&gt;Backdooring Python&lt;/head&gt;
    &lt;p&gt;The command &lt;code&gt;setcap&lt;/code&gt; sets file capabilities on an executable. The &lt;code&gt;cap_setuid&lt;/code&gt; capability allows a process to make arbitrary manipulations of user IDs (UIDs), including setting the UID to a value that would otherwise be restricted (i.e. &lt;code&gt;UID 0&lt;/code&gt;, the root user). &lt;code&gt;setcap&lt;/code&gt; takes a set of parameters, where&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;e&lt;/code&gt;: Effective means the capability is activated&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;p&lt;/code&gt;: Permitted means the capability can be used/is allowed.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Putting this together, we’re adding the &lt;code&gt;cap_setuid&lt;/code&gt; capabilities to the Python binary:&lt;/p&gt;
    &lt;code&gt;# setcap cap_setuid+ep /usr/bin/python3.12
&lt;/code&gt;
    &lt;p&gt;One can find a list of supported capabilities here:&lt;/p&gt;
    &lt;code&gt;# cat /usr/include/linux/capability.h
&lt;/code&gt;
    &lt;head rend="h2"&gt;Testing&lt;/head&gt;
    &lt;p&gt;For testing purposes, we created a new user (&lt;code&gt;malmoeb&lt;/code&gt;) and switched to the context of this user (&lt;code&gt;useradd &amp;amp;&amp;amp; su&lt;/code&gt;):&lt;/p&gt;
    &lt;code&gt;# useradd -m malmoeb
# su malmoeb
$ id
uid=1000(malmoeb) gid=1000(malmoeb) groups=1000(malmoeb)
&lt;/code&gt;
    &lt;p&gt;Using the following command line, we set the UID of the bash shell we are calling with Python to 0 (&lt;code&gt;UID 0 == root&lt;/code&gt;), effectively spawning a root shell:&lt;/p&gt;
    &lt;code&gt;$ /usr/bin/python3 -c 'import os;os.setuid(0);os.system("/bin/bash")'
# id
uid=0(root) gid=1000(malmoeb) groups=1000(malmoeb)
&lt;/code&gt;
    &lt;p&gt;The exciting thing about this technique is that we have not set a suid bit on a binary, or changed the Python binary. By setting the capabilities, we, as attackers, can build a powerful backdoor.&lt;/p&gt;
    &lt;head rend="h2"&gt;Hunting&lt;/head&gt;
    &lt;p&gt;Traditionally, system administrators and security professionals have focused on finding &lt;code&gt;SUID&lt;/code&gt; (Set User ID) and &lt;code&gt;SGID&lt;/code&gt; (Set Group ID) files, because these files can be used to escalate privileges under certain conditions. However, with the introduction of POSIX capabilities, it is now equally important to hunt for files with capabilities set, as demonstrated above.&lt;/p&gt;
    &lt;p&gt;Enumerating all binaries with capabilities set is possible with the command &lt;code&gt;getcap -r&lt;/code&gt;:&lt;/p&gt;
    &lt;code&gt;# getcap -r / 2&amp;gt;/dev/null
/usr/lib/x86_64-linux-gnu/gstreamer1.0/gstreamer-1.0/gst-ptp-helper cap_net_bind_service,cap_net_admin,cap_sys_nice=ep
/usr/bin/mtr-packet cap_net_raw=ep
/usr/bin/ping cap_net_raw=ep
/usr/bin/python3.12 cap_setuid=ep
&lt;/code&gt;
    &lt;p&gt;Inside the /proc directory:&lt;/p&gt;
    &lt;code&gt;# cat /proc/1143966/status | grep Cap
&lt;/code&gt;
    &lt;p&gt;where:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;CapInh&lt;/code&gt;= Inherited capabilities&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;CapPrm&lt;/code&gt;= Permitted capabilities&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;CapEff&lt;/code&gt;= Effective capabilities&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;CapBnd&lt;/code&gt;= Bounding set&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;CapAmb&lt;/code&gt;= Ambient capabilities set&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Utilising the command &lt;code&gt;capsh&lt;/code&gt;, we decode the capabilities as follows:&lt;/p&gt;
    &lt;code&gt;# capsh --decode=0000000000000080
0x0000000000000080=cap_setuid
&lt;/code&gt;
    &lt;p&gt;Or with the command &lt;code&gt;getpcaps&lt;/code&gt;, passing the PID as an argument:&lt;/p&gt;
    &lt;code&gt;# getpcaps 1143966
Capabilities for `1143966': = cap_setuid+ep
&lt;/code&gt;
    &lt;p&gt;Remove the capabilities from a binary with &lt;code&gt;setcap -r&lt;/code&gt;&lt;/p&gt;
    &lt;code&gt;# setcap -r /usr/bin/python3.12
&lt;/code&gt;
    &lt;head rend="h2"&gt;LinPeas&lt;/head&gt;
    &lt;p&gt;LinPEAS, the Linux Privilege Escalation Awesome Script, also performs some checks to find (interesting) capabilities. Following the commands taken directly from the relevant script:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Current shell capabilities: &lt;code&gt;cat "/proc/$$/status"&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;Parent process capabilities: &lt;code&gt;cat "/proc/$PPID/status"&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;Files with capabilities: &lt;code&gt;getcap -r / 2&amp;gt;/dev/null&lt;/code&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Besides checking for &lt;code&gt;suid&lt;/code&gt; files, LinPEAS does an excellent job here for searching for (hidden) capabilities discussed so far.&lt;/p&gt;
    &lt;head rend="h2"&gt;Elastic rule: Process Capability Set via setcap Utility&lt;/head&gt;
    &lt;p&gt;Elastic “detects the use of the setcap utility to set capabilities on a process.” See here for the full description.&lt;/p&gt;
    &lt;code&gt;process where host.os.type == "linux" and event.type == "start" and event.action in ("exec", "exec_event", "start") and
process.name == "setcap" and not (
  process.parent.executable == null or
  process.parent.executable : ("/var/lib/dpkg/*", "/var/lib/docker/*", "/tmp/newroot/*", "/var/tmp/newroot/*") or
  process.parent.name in ("jem", "vzctl")
)
&lt;/code&gt;
    &lt;head rend="h2"&gt;security.capability&lt;/head&gt;
    &lt;p&gt;Extended permissionsâsuch as &lt;code&gt;access control lists&lt;/code&gt; (ACLs) set with setfacl and capability flags set with &lt;code&gt;setcap&lt;/code&gt; are stored in the same location as traditional permission bits and setuid/setgid flags configured via chmod: the fileâs inode.&lt;/p&gt;
    &lt;p&gt;The &lt;code&gt;ls&lt;/code&gt; command does not display capability flags set by &lt;code&gt;setcap&lt;/code&gt;. To view them, use &lt;code&gt;getcap&lt;/code&gt;. To list all extended attributes, you can use &lt;code&gt;getfattr -d -m -&lt;/code&gt;. The attribute &lt;code&gt;setcap&lt;/code&gt; uses isÂ &lt;code&gt;security.capability&lt;/code&gt;, and itâs stored in a binary format that &lt;code&gt;getcap&lt;/code&gt; conveniently decodes for you.&lt;/p&gt;
    &lt;code&gt;# getfattr -d -m - /usr/bin/python3.12 
getfattr: Removing leading '/' from absolute path names
    # file: usr/bin/python3.12
security.capability=0sAQAAAoAAAAAAAAAAAAAAAAAAAAA=
&lt;/code&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;While traditional SUID/SGID checks are still crucial, modern security practices must include hunting for files with specific capabilities set. Capabilities provide a more granular and potentially stealthy way to grant necessary privileges, and if not monitored, they can introduce significant security risks. Using tools likeÂ &lt;code&gt;getcap&lt;/code&gt;Â to search the file system for these capabilities recursively is essential to ensure a comprehensive security audit and to mitigate potential exploitation vectors.&lt;/p&gt;
    &lt;p&gt;We have not touched upon &lt;code&gt;user capabilities&lt;/code&gt;, which are stored in the /etc/security/capability.conf configuration file, or the &lt;code&gt;service files&lt;/code&gt;, where you can specify &lt;code&gt;AmbientCapabilities&lt;/code&gt;.  The following section presents two good resources for an in-depth discussion of this topic.&lt;/p&gt;
    &lt;head rend="h2"&gt;References&lt;/head&gt;
    &lt;p&gt;Here are two recommended websites if you want to dig deeper into this topic:&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://dfir.ch/posts/linux_capabilities/"/><published>2025-10-22T13:50:20+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45669159</id><title>If Apple Built a Factory, It Wouldn't Use a PLC</title><updated>2025-10-22T14:44:31.596717+00:00</updated><content>&lt;doc fingerprint="cf99c31ccfb389e0"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;🍏 The Apple Factory: What Perfect Coordination Feels Like&lt;/head&gt;
    &lt;p&gt;Imagine walking into a factory where every machine knows what the others are doing, not through dashboards, but through instinct. A conveyor slows down because it feels a delay downstream. A robotic arm adjusts its torque because a sensor on the previous line hinted at a different material softness. A drone hovering above updates the system map without anyone asking.&lt;/p&gt;
    &lt;p&gt;It sounds like science fiction, but you’ve already lived a smaller version of it: your iPhone talking to your Mac, your AirPods switching automatically, your watch unlocking your laptop.&lt;/p&gt;
    &lt;p&gt;Apple’s ecosystem isn’t just a product strategy-it’s a coordination protocol.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Invisible Orchestra&lt;/head&gt;
    &lt;p&gt;The magic of Apple’s world isn’t the devices themselves. It’s the invisible handshake between them.&lt;/p&gt;
    &lt;p&gt;Each device has its own sensors, operating systems, and capabilities. Yet the experience feels seamless because of a design philosophy that treats coordination as a first-class citizen.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Handoff lets work migrate between contexts.&lt;/item&gt;
      &lt;item&gt;AirDrop understands physical proximity and network conditions.&lt;/item&gt;
      &lt;item&gt;Continuity Camera turns one device’s lens into another’s peripheral.&lt;/item&gt;
      &lt;item&gt;Find My forms a decentralized mesh that gives every object a form of awareness.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The user never sees the complex machinery of protocols: Bluetooth LE, UWB, iCloud, Bonjour, and proprietary peer discovery. They just experience coherence. That coherence is the real product.&lt;/p&gt;
    &lt;head rend="h2"&gt;Protocols as a Philosophy&lt;/head&gt;
    &lt;p&gt;Apple’s most underrated innovation is not hardware or design, it’s intent synchronization.&lt;/p&gt;
    &lt;p&gt;Every protocol carries semantics, not just data. When your Mac knows your iPhone is near, it’s not just exchanging packets, it’s negotiating context. In distributed systems, we’d call this a shared state machine with soft real-time constraints. In human terms, it’s empathy expressed through engineering.&lt;/p&gt;
    &lt;p&gt;The entire ecosystem behaves like a single organism:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Self-discovery (Bonjour)&lt;/item&gt;
      &lt;item&gt;Context sharing (Handoff)&lt;/item&gt;
      &lt;item&gt;Secure state sync (iCloud Keychain)&lt;/item&gt;
      &lt;item&gt;Local autonomy with global awareness (Find My mesh)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Apple’s genius is turning protocol design into experience design.&lt;/p&gt;
    &lt;head rend="h2"&gt;What If a Factory Worked Like That?&lt;/head&gt;
    &lt;p&gt;Now picture that philosophy applied to physical operations. Not in Cupertino, but in a steel plant, a warehouse, or a hospital.&lt;/p&gt;
    &lt;p&gt;Every machine, sensor, robot, and worker is equipped with a secure identity. They discover each other automatically, exchange intent, and adapt on the fly. A forklift’s navigation unit knows a conveyor is pausing ahead. An inspection drone schedules itself because line data hinted at a quality anomaly.&lt;/p&gt;
    &lt;p&gt;It’s not one machine controlling another-it’s mutual awareness encoded in protocols.&lt;/p&gt;
    &lt;head rend="h2"&gt;Why the Physical World Isn't an Orchard&lt;/head&gt;
    &lt;p&gt;If this seamless coordination is so obviously powerful, why doesn't it exist in our factories? Why is the physical world a chaotic bazaar of protocols instead of a unified ecosystem?&lt;/p&gt;
    &lt;p&gt;It’s not for lack of trying. It's because the physical world has three brutal antagonists that the consumer world mostly gets to ignore:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Immutable Physics &amp;amp; High Stakes: If your iPhone crashes, you reboot it. If a multi-ton robotic arm crashes because of a dropped packet, the consequences are catastrophic. Safety, determinism, and predictability have always trumped interoperability, leading to isolated, single-vendor control systems (like PLCs) that are designed not to talk to outsiders.&lt;/item&gt;
      &lt;item&gt;The Immortality of Steel: Your phone has a 3-year lifespan. A factory press or CNC machine has a 30-year lifespan. This creates a graveyard of legacy protocols and hardware that can't be updated with a simple OS patch. There's no "Update All" button for a steel plant.&lt;/item&gt;
      &lt;item&gt;Business Models Built on Islands: For decades, the business model for industrial OEMs wasn't to create interoperability; it was to create lock-in. They sell you not just a robot, but their proprietary controller, their proprietary software, and their integration services. Openness is an existential threat to that model.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Lessons from the Appleverse&lt;/head&gt;
    &lt;p&gt;These challenges create a stark divide between what we experience as consumers and what industries endure as producers.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Apple’s World&lt;/cell&gt;
        &lt;cell role="head"&gt;Physical World&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Shared identity across devices&lt;/cell&gt;
        &lt;cell&gt;Fragmented vendor IDs and serial numbers&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Seamless context handoff&lt;/cell&gt;
        &lt;cell&gt;Manual reconfiguration and downtime&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Secure local mesh communication&lt;/cell&gt;
        &lt;cell&gt;Centralized, brittle control networks&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Unified developer abstractions&lt;/cell&gt;
        &lt;cell&gt;Protocol sprawl and SDK silos&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Consistent UX built on consistent APIs&lt;/cell&gt;
        &lt;cell&gt;Each OEM reinventing the wheel&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Apple proved that a great experience is a network property. When everything speaks the same semantic language, magic emerges from the mundane.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Way Forward: Protocol Literacy&lt;/head&gt;
    &lt;p&gt;Thinking of a modern factory as Apple’s campus of devices clarifies the path forward.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Robots are Macs-powerful and multitasking.&lt;/item&gt;
      &lt;item&gt;Sensors are AirTags-small, focused, and ubiquitous.&lt;/item&gt;
      &lt;item&gt;Drones are iPhones-mobile, camera-rich, and connected.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The goal isn't to replace the hardware, but to teach it a common language. That’s not about a single, top-down software platform; it's about protocol literacy. Every interaction - discovery, authentication, command, feedback etc. must be built on the idea of making coordination invisible.&lt;/p&gt;
    &lt;p&gt;The Apple ecosystem isn’t the goal. It’s the proof that interoperability is a design choice, not an accident. To overcome the legacy and business-model inertia, we have to choose it deliberately.&lt;/p&gt;
    &lt;p&gt;When devices cooperate rather than being forced to integrate, systems can evolve faster than they’re built. That’s the kind of elegance the physical world deserves, and it's the only way to solve the problems of the last 30 years. The future of automation isn’t smarter robots. It’s better conversations between them.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://physical-ai.ghost.io/the-apple-factory-what-perfect-coordination-feels-like/"/><published>2025-10-22T13:51:17+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45669195</id><title>Tiny sugar spoons are popping up on NYC fast-food menus</title><updated>2025-10-22T14:44:31.365364+00:00</updated><content>&lt;doc fingerprint="6098d41e6e6be6ab"&gt;
  &lt;main&gt;
    &lt;p&gt;A tiny white spoon suspended in a black triangle is starting to pop up on fast food menus across the five boroughs as chain restaurants come into compliance with a local law requiring them to place the warning symbols next to sugary beverages and snacks.&lt;/p&gt;
    &lt;p&gt;New York City became the first jurisdiction in the country to require sugar warnings on chain restaurant menus when the City Council passed the Sweet Truth Act in 2023. Restaurants with at least 15 locations had to start putting the symbols up this month next to menu items with more than 50 grams of added sugar, the maximum daily amount recommended in federal dietary guidelines.&lt;/p&gt;
    &lt;p&gt;“As the first in the nation to add a warning icon for added sugars, this rule underlines our longstanding work to ensure New Yorkers have information about the food they eat,” Dr. Michelle Morse, the acting city health commissioner, said in a statement. “Just one large sugary drink can exceed the daily recommended amount of added sugars.”&lt;/p&gt;
    &lt;p&gt;City officials and public health advocates are lauding the addition of the sugar spoons — which now appear on menus alongside calorie information and sodium warnings in the form of tiny salt shakers — as a way to empower consumers to make healthier dietary choices.&lt;/p&gt;
    &lt;p&gt;But public health researchers have found that past attempts to nudge fast-food patrons into better eating habits have had mixed results. And some worry New York’s small, black-and-white sugar spoons aren’t as eye-catching as they need to be to get consumers’ attention.&lt;/p&gt;
    &lt;p&gt;“ Noticing it is step No. 1 because it won't have an impact unless someone notices it,” said Pasquale Rummo, an associate professor in the Department of Population Health at the NYU Grossman School of Medicine.&lt;/p&gt;
    &lt;p&gt;During the public comment period on the regulations, Rummo told city officials that research suggested a larger, red symbol with accompanying text would be more effective.&lt;/p&gt;
    &lt;p&gt;The new rules require chain restaurants to post warnings informing consumers of the health dangers associated with excess sugar consumption, such as an increased risk of type 2 diabetes, weight gain and tooth decay, but the sugar symbols themselves are detached from any text.&lt;/p&gt;
    &lt;p&gt;On a recent afternoon, sugar spoons were on display next to some, but not all, of the individual beverages and combo meals with more than 50 grams of added sugar at Lower Manhattan locations of McDonald’s, Taco Bell and Shake Shack.&lt;/p&gt;
    &lt;p&gt;But several customers who spoke to Gothamist said they didn’t notice the new addition to their favorite fast food menus — and weren’t sure they would have changed their orders if they did.&lt;/p&gt;
    &lt;p&gt;Abalee Reyes, a 16-year-old from the Bronx, said she goes to McDonald’s every couple of days. “ Today I had a Big Mac Meal, so that's a large fry and a soda,” she said.&lt;/p&gt;
    &lt;p&gt;The medium Dr. Pepper Reyes got with her meal has 67 grams of added sugar, according to the nutritional information McDonald’s posts online. But at the McDonald’s Reyes visited, only individual sodas, not meals, came with a sugar warning at the self-serve ordering station, Gothamist observed.&lt;/p&gt;
    &lt;p&gt;“ I feel like it is a good idea in case some people don't realize what they're actually eating,” Reyes said of the sugar warnings. But, she said, even if she had seen the symbol, her order would have remained the same.&lt;/p&gt;
    &lt;p&gt;“I already know what I’m getting,” she said.&lt;/p&gt;
    &lt;p&gt;Tanner Krewson, a 27-year-old software engineer, was eating lunch at a nearby Shake Shack with his coworkers. “ I think people might be surprised by the amount of salt and sugar in things, but I didn't notice the symbol,” Krewson said of the sugar spoon. “So, I'm not sure if it's working.”&lt;/p&gt;
    &lt;p&gt;He added, “If there was a symbol that really got my attention it might give me some pause.”&lt;/p&gt;
    &lt;p&gt;Because the city’s Sweet Truth Act only applies to items that are either packaged (such as bottled soda) or identical to packaged items (such as fountain soda), some sugary beverages are notoriously left out. That includes a range of shakes and floats at Shake Shack that are listed online as having far more than 50 grams of sugar.&lt;/p&gt;
    &lt;p&gt;But that could change. A similar law pending in the state Legislature would extend to a broader range of products.&lt;/p&gt;
    &lt;head rend="h4"&gt;Will the sugar warnings influence New Yorkers’ orders?&lt;/head&gt;
    &lt;p&gt;Rummo is leading a study funded by the National Institutes of Health to determine whether the new sugar warnings will influence consumers’ purchasing habits. His team will be analyzing New Yorkers’ receipts before and after the Sweet Truth Act is put into effect.&lt;/p&gt;
    &lt;p&gt;He said he is expecting positive, but modest results based on past research, which suggests people can be swayed by nutrition labels on menus but are more discerning about their choices at the grocery store than they are when they go out to eat.&lt;/p&gt;
    &lt;p&gt;After the salt shakers started popping up on chain restaurant menus in New York City in 2016, diners consumed less sodium per order, on average, when eating at full-service chain restaurants (think Applebees), according to a 2023 study by the city health department and the University of Rhode Island. But the study found the icons had little impact at fast food establishments.&lt;/p&gt;
    &lt;p&gt;Restaurants in the city did not voluntarily lighten the sodium content of their menus to avoid having to display the salt shakers, another study found. But a similar initiative in Philadelphia, which included sodium warnings with text attached, did result in restaurants eliminating some of the high-sodium items on their menus.&lt;/p&gt;
    &lt;p&gt;DeAnna Nara, campaign manager at the Center for Science in the Public Interest, said she was optimistic about the new sugar warnings being rolled out across the city.&lt;/p&gt;
    &lt;p&gt;“For the first time, we have an opportunity for consumers to see when a single menu item contains more than an entire day's worth of added sugars,” Nara said, adding that other jurisdictions will be watching. “ New York City being a leader here.”&lt;/p&gt;
    &lt;p&gt;She added that public awareness campaigns would be important to help educate New Yorkers about the new symbol, and noted that the health department could always make changes to the logo based on initial findings.&lt;/p&gt;
    &lt;p&gt;The city health department didn’t respond to a request for comment on some consumers saying they didn’t pick up on the new symbol.&lt;/p&gt;
    &lt;p&gt;Chain restaurants that don’t comply with the new rules will be subject to $200 fines starting next year, the health department said.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://gothamist.com/news/tiny-sugar-spoons-are-popping-up-on-nyc-fast-food-menus-youre-being-warned"/><published>2025-10-22T13:53:17+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45669593</id><title>Cryptographic Issues in Cloudflare's Circl FourQ Implementation (CVE-2025-8556)</title><updated>2025-10-22T14:44:30.933756+00:00</updated><content>&lt;doc fingerprint="9496d8d5822123c5"&gt;
  &lt;main&gt;
    &lt;p&gt;In early 2025, while working on a project which required us to perform a broad audit of OSS elliptic curve implementations â we discovered several cryptographic issues in Cloudflare's CIRCL library â specifically with the implementation of the FourQ elliptic curve.&lt;/p&gt;
    &lt;p&gt;We reported the issues through Cloudflare's HackerOne bug bounty plan in March 2025, and subsequently contacted Cloudflare directly, after having received a lukewarm and laconic response from the HackerOne triage team.&lt;/p&gt;
    &lt;p&gt;Once the team at Cloudflare stepped in the issues were appropriately acknowledged and fixed.&lt;/p&gt;
    &lt;p&gt; CIRCL, which is Cloudflare's cryptography library, offers a basic implementation of the FourQ curve, as well as a Diffie-Hellman implementation named &lt;code&gt;Curve4Q&lt;/code&gt; which offers shared secret functionality.
  &lt;/p&gt;
    &lt;p&gt;FourQ is an elliptic curve with 128-bit security, developed by Microsoft Research and is defined by a twisted Edwards curve equation.&lt;/p&gt;
    &lt;p&gt;The curve is defined over a two-dimensional extension of the prime field defined by the Mersenne prime \(p = 2^{127} - 1\), the curve twist parameter \(a = -1\) and \(d\) set to a quadratic nonresidue in \(F_{p^2}\).&lt;/p&gt;
    &lt;p&gt;Simply put, much like the complex numbers are an extension field of the real numbers â the FourQ curve is defined over an extension of a prime field, its elements being of the form \(a + bi\) where \(a\) and \(b\) are in the integers\(\mod p\).&lt;/p&gt;
    &lt;p&gt;In addition, the FourQ curve defines two endomorphisms, or structure-preserving functions, which serve as "shortcuts" to perform computations on the curve more efficiently.&lt;/p&gt;
    &lt;p&gt;These endomorphisms, along with the other characteristics of the FourQ curve, make it fast and suitable for use-cases where computational resources are scarce â such as in embedded systems.&lt;/p&gt;
    &lt;p&gt;A certain class of attacks on elliptic curve implementations allows an attacker to force the server to perform a calculation which discloses information about the secret key used.&lt;/p&gt;
    &lt;p&gt;This type of attack is often called an invalid curve or invalid point attack, and stems from insufficient validation of the points used to perform the calculation.&lt;/p&gt;
    &lt;p&gt;Elliptic Curve Diffie-Hellman or ECDH involves each side taking a secret scalar \(k\) and multiplying it with a fixed generator point \(G\) to compute the point \(Q = k*G\). Each side transmits its \(Q\) point, and receives the other side's \(Q\) point, multiplying it by his own \(k\) scalar. Since scalar multiplication in elliptic curves is commutative â both sides will end up with the same point.&lt;/p&gt;
    &lt;code&gt;
 // Shared calculates a shared key k from Alice's secret and Bob's public key.
// Returns true on success.
func Shared(shared, secret, public *Key) bool {
    var P, Q fourq.Point
    ok := P.Unmarshal((*[Size]byte)(public))
    Q.ScalarMult((*[Size]byte)(secret), &amp;amp;P)
    Q.Marshal((*[Size]byte)(shared))
    ok = ok &amp;amp;&amp;amp; Q.IsOnCurve()
    return ok
}

  &lt;/code&gt;
    &lt;p&gt; An example from CIRCL's &lt;code&gt;Curve4Q&lt;/code&gt; implementation (pre-remediation), shows a shared secret being calculated, by taking as input a public point (&lt;code&gt;P&lt;/code&gt;) and a secret scalar, and multiplying them.
  &lt;/p&gt;
    &lt;p&gt; The issue arises when the computation is done without first verifying that the other side's point is a valid point on the curve. The reason is that in order to be secure â all points on an elliptic curve must be members of an \(N\)-torsion subgroup, where \(N\) is the order of the curve â the total amount of points on the curve.&lt;lb/&gt; Put more clearly â if we consider a point being added to itself a "step", then every point on the curve should have the same amount of "steps" required to lead back to the identity point, or the "starting" point. &lt;/p&gt;
    &lt;p&gt;Meaning if one multiplies a certain point \(Q\) by the secret scalar \(k\), if the point is valid and on the expected curve, the result should land in any of the \(N\) points on the curve. For the curve to be considered secure, it must have an order \(N\) which is either a prime number, or composed from a large prime number and a small cofactor.&lt;/p&gt;
    &lt;p&gt;This is what makes the discrete logarithm problem difficult with regards to scalar multiplication, thus creating a "trap-door" function where it is easy to perform the multiplication, but hard to reverse it.&lt;/p&gt;
    &lt;p&gt;If an attacker is able to force the server to perform the scalar multiplication of his secret \(k\) with an invalid point \(\widehat{Q}\) which is not on the curve â he may choose \(\widehat{Q}\) such that it belongs to a curve with a smooth (composed of many small factors) subgroup order \(\widehat{N}\).&lt;/p&gt;
    &lt;p&gt; As a result â instead of \(k*Q\) computing any possible point on the original curve, it will instead land in any of a smaller set of points.&lt;lb/&gt; For instance, the subgroup order of \(\widehat{Q}\) is only 400 points, the attacker will be able to trivially brute-force 400 values of \(k\) to find the server's secret \(k\) value, modulo 400. &lt;/p&gt;
    &lt;p&gt;If repeated for multiple invalid points, with different subgroup orders, and in combination with the Chinese Remainder Theorem, the attacker will eventually be able to extract the server's secret \(k\) value.&lt;/p&gt;
    &lt;p&gt;The above attack is applicable on a form of elliptic curves called Weierstrass curves. While Edwards curves are birationally equivalent to Weierstrass curves, meaning a curve such as FourQ may be represented using Weierstrass formulas â the invalid curve attack as presented in the previous section does not generalize to Edwards curve.&lt;/p&gt;
    &lt;p&gt;Weierstrass addition (xâ != xâ):&lt;/p&gt;
    &lt;p&gt;\[ \lambda = \frac{y_2 - y_1}{x_2 - x_1} \]&lt;/p&gt;
    &lt;p&gt;\[ x_3 = \lambda^2 - x_1 - x_2 \]&lt;/p&gt;
    &lt;p&gt;\[ y_3 = \lambda (x_1 - x_3) - y_1 \]&lt;/p&gt;
    &lt;p&gt;Edwards addition:&lt;/p&gt;
    &lt;p&gt;\[ x_3 = \frac{x_1 y_2 + y_1 x_2}{1 + d x_1 x_2 y_1 y_2} \]&lt;/p&gt;
    &lt;p&gt;\[ y_3 = \frac{y_1 y_2 - a x_1 x_2}{1 - d x_1 x_2 y_1 y_2} \]&lt;/p&gt;
    &lt;p&gt;The reason for this is that while addition using the Weierstrass formulas is independent of the curve parameters, Edwards addition formulas are dependent on both curve parameters \(a\) and \(d\), which makes it impossible (or more accurately very difficult) to pass arbitrary points, i.e. points which are not on the curve and have the server perform addition on them correctly.&lt;/p&gt;
    &lt;p&gt;If we take a closer look at the Edwards addition formula, we see that the curve parameters (\(a\) and \(d\)) are coefficients of the \(x\) variable â meaning if we affix \(x\) to 0, the curve parameters cancel out and we are left with a less generalized invalid point attack which does work on all Edwards curves.&lt;/p&gt;
    &lt;p&gt;Concretely â if we pass in a point of form \((0, y)\), the result of multiplying it by the secret value \(k\) computes \((0, y^k)\). As such, if we select an appropriate \(y\) value such that the point \((0, y)\) has a small multiplicative subgroup order, and receive the value \((0, y^k)\) â solving the discrete logarithm problem to recover \(k\) becomes trivial.&lt;/p&gt;
    &lt;p&gt;In consideration of the invalid curve attacks presented above, the main adversarial threat to ECC implementation lies with performing computations on invalid points â points which are not on the graph. As such â points should always be validated before being relied upon for any computation.&lt;/p&gt;
    &lt;p&gt;At minimum, the process of unmarshalling a point, meaning loading an appropriate length byte-array and converting it to a point on the curve â should ensure that the point loaded is indeed a valid point on the curve â simply by checking if the curve equation holds.&lt;/p&gt;
    &lt;p&gt;For added security â the point should also be validated before being used in any of the basic computations â addition, doubling/scalar multiplication.&lt;/p&gt;
    &lt;p&gt;While auditing CIRCL's FourQ implementation we pinpointed 7 total issues related to these security primitives, as well as to the testing code â which incorrectly demonstrated some security proofs.&lt;/p&gt;
    &lt;p&gt;Below is a short description of the 4 major points we raised, and were to some extent addressed by the fixes to CIRCL.&lt;/p&gt;
    &lt;code&gt;Point.Unmarshal&lt;/code&gt;
    &lt;p&gt;The issue here is a missing step â the IETF spec for FourQ accounts for some ambiguity in the unmarshalling process by conjugating the point's \(x\) value â if not the unmarshalled point nor its conjugate are valid points on the curve â the unmarshalled point is invalid.&lt;/p&gt;
    &lt;p&gt;The IETF spec contains the following pseudocode:&lt;/p&gt;
    &lt;quote&gt;if -x^2+y^2 != 1+d*x^2*y^2: # Check curve equation with x x = conj(x) if -x^2+y^2 != 1+d*x^2*y^2: # ... or its conjugate return FAILED return P = (x,y)&lt;/quote&gt;
    &lt;p&gt;The CIRCL implementation fails to re-validate the point being on the curve after conjugating its \(x\) value:&lt;/p&gt;
    &lt;quote&gt;if !P.IsOnCurve() { fpNeg(&amp;amp;P.X[1], &amp;amp;P.X[1]) } return true&lt;/quote&gt;
    &lt;code&gt;pointR1.isEqual&lt;/code&gt;
    &lt;p&gt;The CIRCL code, as per the IETF spec, uses several representations of projected coordinates â this means that in addition to the \(x\) and \(y\) value, each point also has an additional \(Z\), \(Ta\) and \(Tb\) values, where \(Z * Ta * Tb \equiv x * y\).&lt;/p&gt;
    &lt;p&gt; The issue here is that if \(Z\) is set to 0 â which is invalid in the context of the projected representation â the &lt;code&gt;isEqual&lt;/code&gt; check always returns true.
  &lt;/p&gt;
    &lt;p&gt;Several checks in the code were affected by the issue, including faulty tests.&lt;/p&gt;
    &lt;code&gt;pointR1.ClearCofactor&lt;/code&gt;
    &lt;p&gt; Since the FourQ curve has a cofactor of 392 â meanings its order is not a prime number but rather a prime number multiplied by 392 â in order to ensure that the point being used for computation is an \(N\)-torsion point, the cofactor must be cleared by multiplying the point by 392 prior to any additional scalar multiplications.&lt;lb/&gt; If we end up with the neutral point as a result of clearing the cofactor â the input point is invalid. &lt;/p&gt;
    &lt;p&gt;The CIRCL implementation deviates from the spec by failing to perform this verification after clearing the cofactor.&lt;/p&gt;
    &lt;code&gt;pointR1.ScalarMult&lt;/code&gt;
    &lt;p&gt; The scalar multiplication implementation on &lt;code&gt;pointR1&lt;/code&gt; assumes that the projected values are valid, and that the point is indeed on the curve.&lt;lb/&gt; As a result of the previous issue with unmarshalling, it's as possible to load a point which isn't on the curve, and then perform computations on it, which exposes the implementation to the degenerate curve attacks described above. &lt;/p&gt;
    &lt;p&gt; Fixing the unmarshalling issue prevents this issue, as does the change to the code in &lt;code&gt;Curve4Q&lt;/code&gt; which performs the DH computation.&lt;lb/&gt; However, in order to conform with more stringent security measures, it would be advisable to validate that the input point is on the curve prior to performing the scalar multiplication. &lt;/p&gt;
    &lt;p&gt;Botanica Technologies Ltd.&lt;lb/&gt;47 Sheinkin St, Tel Aviv-Yafo, Israel&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.botanica.software/blog/cryptographic-issues-in-cloudflares-circl-fourq-implementation"/><published>2025-10-22T14:22:41+00:00</published></entry></feed>