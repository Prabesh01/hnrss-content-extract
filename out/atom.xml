<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><id>hnrss.org/frontpage</id><title>Hacker News: Front Page</title><updated>2025-11-15T06:44:38.887386+00:00</updated><link href="https://news.ycombinator.com/" rel="alternate"/><link href="https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml" rel="self"/><generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator><subtitle>Hacker News RSS</subtitle><entry><id>https://news.ycombinator.com/item?id=45924483</id><title>Lawmakers want to ban VPNs and have no idea what they're doing</title><updated>2025-11-15T06:44:45.641763+00:00</updated><content>&lt;doc fingerprint="a4aa19513c45d6ad"&gt;
  &lt;main&gt;
    &lt;p&gt;Remember when you thought age verification laws couldn't get any worse? Well, lawmakers in Wisconsin, Michigan, and beyond are about to blow you away.&lt;/p&gt;
    &lt;p&gt;It's unfortunately no longer enough to force websites to check your government-issued ID before you can access certain content, because politicians have now discovered that people are using Virtual Private Networks (VPNs) to protect their privacy and bypass these invasive laws. Their solution? Entirely ban the use of VPNs.&lt;/p&gt;
    &lt;p&gt;Yes, really.&lt;/p&gt;
    &lt;p&gt;As of this writing, Wisconsin lawmakers are escalating their war on privacy by targeting VPNs in the name of ‚Äúprotecting children‚Äù in A.B. 105/S.B. 130. It‚Äôs an age verification bill that requires all websites distributing material that could conceivably be deemed ‚Äúsexual content‚Äù to both implement an age verification system and also to block the access of users connected via VPN. The bill seeks to broadly expand the definition of materials that are ‚Äúharmful to minors‚Äù beyond the type of speech that states can prohibit minors from accessing‚Äîpotentially encompassing things like depictions and discussions of human anatomy, sexuality, and reproduction.&lt;/p&gt;
    &lt;p&gt;This follows a notable pattern: As we‚Äôve explained previously, lawmakers, prosecutors, and activists in conservative states have worked for years to aggressively expand the definition of ‚Äúharmful to minors‚Äù to censor a broad swath of content: diverse educational materials, sex education resources, art, and even award-winning literature.&lt;/p&gt;
    &lt;p&gt;Wisconsin‚Äôs bill has already passed the State Assembly and is now moving through the Senate. If it becomes law, Wisconsin could become the first state where using a VPN to access certain content is banned. Michigan lawmakers have proposed similar legislation that did not move through its legislature, but among other things, would force internet providers to actively monitor and block VPN connections. And in the UK, officials are calling VPNs "a loophole that needs closing."&lt;/p&gt;
    &lt;p&gt;This is actually happening. And it's going to be a disaster for everyone.&lt;/p&gt;
    &lt;head rend="h2"&gt;Here's Why This Is A Terrible Idea&lt;/head&gt;
    &lt;p&gt;VPNs mask your real location by routing your internet traffic through a server somewhere else. When you visit a website through a VPN, that website only sees the VPN server's IP address, not your actual location. It's like sending a letter through a P.O. box so the recipient doesn't know where you really live.&lt;/p&gt;
    &lt;p&gt;So when Wisconsin demands that websites "block VPN users from Wisconsin," they're asking for something that's technically impossible. Websites have no way to tell if a VPN connection is coming from Milwaukee, Michigan, or Mumbai. The technology just doesn't work that way.&lt;/p&gt;
    &lt;p&gt;Websites subject to this proposed law are left with this choice: either cease operation in Wisconsin, or block all VPN users, everywhere, just to avoid legal liability in the state. One state's terrible law is attempting to break VPN access for the entire internet, and the unintended consequences of this provision could far outweigh any theoretical benefit.&lt;/p&gt;
    &lt;head rend="h3"&gt;Almost Everyone Uses VPNs&lt;/head&gt;
    &lt;p&gt;Let's talk about who lawmakers are hurting with these bills, because it sure isn't just people trying to watch porn without handing over their driver's license.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Businesses run on VPNs. Every company with remote employees uses VPNs. Every business traveler connecting through sketchy hotel Wi-Fi needs one. Companies use VPNs to protect client and employee data, secure internal communications, and prevent cyberattacks.&lt;/item&gt;
      &lt;item&gt;Students need VPNs for school. Universities require students to use VPNs to access research databases, course materials, and library resources. These aren't optional, and many professors literally assign work that can only be accessed through the school VPN. The University of Wisconsin-Madison‚Äôs WiscVPN, for example, ‚Äúallows UW‚ÄìMadison faculty, staff and students to access University resources even when they are using a commercial Internet Service Provider (ISP).‚Äù&lt;/item&gt;
      &lt;item&gt;Vulnerable people rely on VPNs for safety. Domestic abuse survivors use VPNs to hide their location from their abusers. Journalists use them to protect their sources. Activists use them to organize without government surveillance. LGBTQ+ people in hostile environments‚Äîboth in the US and around the world‚Äîuse them to access health resources, support groups, and community. For people living under censorship regimes, VPNs are often their only connection to vital resources and information their governments have banned.&lt;/item&gt;
      &lt;item&gt;Regular people just want privacy. Maybe you don't want every website you visit tracking your location and selling that data to advertisers. Maybe you don't want your internet service provider (ISP) building a complete profile of your browsing history. Maybe you just think it's creepy that corporations know everywhere you go online. VPNs can protect everyday users from everyday tracking and surveillance.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;It‚Äôs A Privacy Nightmare&lt;/head&gt;
    &lt;p&gt;Here's what happens if VPNs get blocked: everyone has to verify their age by submitting government IDs, biometric data, or credit card information directly to websites‚Äîwithout any encryption or privacy protection.&lt;/p&gt;
    &lt;p&gt;We already know how this story ends. Companies get hacked. Data gets breached. And suddenly your real name is attached to the websites you visited, stored in some poorly-secured database waiting for the inevitable leak. This has already happened, and is not a matter of if but when. And when it does, the repercussions will be huge.&lt;/p&gt;
    &lt;p&gt;Forcing people to give up their privacy to access legal content is the exact opposite of good policy. It's surveillance dressed up as safety.&lt;/p&gt;
    &lt;head rend="h3"&gt;"Harmful to Minors" Is Not a Catch-All&lt;/head&gt;
    &lt;p&gt;Here's another fun feature of these laws: they're trying to broaden the definition of ‚Äúharmful to minors‚Äù to sweep in a host of speech that is protected for both young people and adults.&lt;/p&gt;
    &lt;p&gt;Historically, states can prohibit people under 18 years old from accessing sexual materials that an adult can access under the First Amendment. But the definition of what constitutes ‚Äúharmful to minors‚Äù is narrow ‚Äî it generally requires that the materials have almost no social value to minors and that they, taken as a whole, appeal to a minors‚Äô ‚Äúprurient sexual interests.‚Äù&lt;/p&gt;
    &lt;p&gt;Wisconsin's bill defines ‚Äúharmful to minors‚Äù much more broadly. It applies to materials that merely describe sex or feature descriptions/depictions of human anatomy. This definition would likely encompass a wide range of literature, music, television, and films that are protected under the First Amendment for both adults and young people, not to mention basic scientific and medical content.&lt;/p&gt;
    &lt;p&gt;Additionally, the bill‚Äôs definition would apply to any websites where more than one third of the site‚Äôs material is "harmful to minors." Given the breadth of the definition and its one-third trigger, we anticipate that Wisconsin could argue that the law applies to most social media websites. And it‚Äôs not hard to imagine, as these topics become politicised, Wisconsin claiming it applies to websites containing LGBTQ+ health resources, basic sexual education resources, and reproductive healthcare information.&lt;/p&gt;
    &lt;p&gt;This breadth of the bill‚Äôs definition isn't a bug, it's a feature. It gives the state a vast amount of discretion to decide which speech is ‚Äúharmful‚Äù to young people, and the power to decide what's "appropriate" and what isn't. History shows us those decisions most often harm marginalized communities.&lt;/p&gt;
    &lt;head rend="h3"&gt;It Won‚Äôt Even Work&lt;/head&gt;
    &lt;p&gt;Let's say Wisconsin somehow manages to pass this law. Here's what will actually happen:&lt;/p&gt;
    &lt;p&gt;People who want to bypass it will use non-commercial VPNs, open proxies, or cheap virtual private servers that the law doesn't cover. They'll find workarounds within hours. The internet always routes around censorship.&lt;/p&gt;
    &lt;p&gt;Even in a fantasy world where every website successfully blocked all commercial VPNs, people would just make their own. You can route traffic through cloud services like AWS or DigitalOcean, tunnel through someone else's home internet connection, use open proxies, or spin up a cheap server for less than a dollar.&lt;/p&gt;
    &lt;p&gt;Meanwhile, everyone else (businesses, students, journalists, abuse survivors, regular people who just want privacy) will have their VPN access impacted. The law will accomplish nothing except making the internet less safe and less private for users.&lt;/p&gt;
    &lt;p&gt;Nonetheless, as we‚Äôve mentioned previously, while VPNs may be able to disguise the source of your internet activity, they are not foolproof‚Äînor should they be necessary to access legally protected speech. Like the larger age verification legislation they are a part of, VPN-blocking provisions simply don't work. They harm millions of people and they set a terrifying precedent for government control of the internet. More fundamentally, legislators need to recognize that age verification laws themselves are the problem. They don't work, they violate privacy, they're trivially easy to circumvent, and they create far more harm than they prevent.&lt;/p&gt;
    &lt;head rend="h2"&gt;A False Dilemma&lt;/head&gt;
    &lt;p&gt;People have (predictably) turned to VPNs to protect their privacy as they watched age verification mandates proliferate around the world. Instead of taking this as a sign that maybe mass surveillance isn't popular, lawmakers have decided the real problem is that these privacy tools exist at all and are trying to ban the tools that let people maintain their privacy.&lt;/p&gt;
    &lt;p&gt;Let's be clear: lawmakers need to abandon this entire approach.&lt;/p&gt;
    &lt;p&gt;The answer to "how do we keep kids safe online" isn't "destroy everyone's privacy." It's not "force people to hand over their IDs to access legal content." And it's certainly not "ban access to the tools that protect journalists, activists, and abuse survivors.‚Äù&lt;/p&gt;
    &lt;p&gt;If lawmakers genuinely care about young people's well-being, they should invest in education, support parents with better tools, and address the actual root causes of harm online. What they shouldn't do is wage war on privacy itself. Attacks on VPNs are attacks on digital privacy and digital freedom. And this battle is being fought by people who clearly have no idea how any of this technology actually works.&lt;/p&gt;
    &lt;p&gt;If you live in Wisconsin‚Äîreach out to your Senator and urge them to kill A.B. 105/S.B. 130. Our privacy matters. VPNs matter. And politicians who can't tell the difference between a security tool and a "loophole" shouldn't be writing laws about the internet.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.eff.org/deeplinks/2025/11/lawmakers-want-ban-vpns-and-they-have-no-idea-what-theyre-doing"/><published>2025-11-14T06:39:13+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45926224</id><title>Winamp clone in Swift for macOS</title><updated>2025-11-15T06:44:45.310839+00:00</updated><content>&lt;doc fingerprint="6cc6844dbf363dae"&gt;
  &lt;main&gt;
    &lt;p&gt;A native macOS application that recreates the classic Winamp experience for playing MP3 and FLAC audio files.&lt;/p&gt;
    &lt;p&gt;If you enjoy using Winamp macOS and would like to support its development, consider buying me a coffee:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;
        &lt;p&gt;üéµ MP3 and FLAC playback support&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;üé® Winamp-inspired UI&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;üìù Playlist management / M3U&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;‚èØÔ∏è Full playback controls (play, pause, stop, next, previous)&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;üìä Spectrum analyzer visualization&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;üéöÔ∏è 10-band equalizer&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;üîç File browser with drag-and-drop support&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Multiple oscilliscope visualizations&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Milkdrop (click on the icon in the main app) - supports fullscreen mode&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Lyrics overlay in Milkdrop&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;macOS 13.0 or later&lt;/item&gt;
      &lt;item&gt;Xcode 15.0 or later&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Open &lt;code&gt;Winamp.xcodeproj&lt;/code&gt;in Xcode&lt;/item&gt;
      &lt;item&gt;Select the Winamp scheme&lt;/item&gt;
      &lt;item&gt;Build and run (‚åòR)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;alternatively&lt;/p&gt;
    &lt;code&gt;./build.sh --run&lt;/code&gt;
    &lt;code&gt;swift build
swift run&lt;/code&gt;
    &lt;p&gt;alternatively&lt;/p&gt;
    &lt;code&gt;./build.sh --release&lt;/code&gt;
    &lt;p&gt;MIT License - Feel free to use and modify as needed.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://github.com/mgreenwood1001/winamp"/><published>2025-11-14T12:44:07+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45927210</id><title>Linear algebra explains why some words are effectively untranslatable</title><updated>2025-11-15T06:44:45.119572+00:00</updated><content>&lt;doc fingerprint="7519dbbe0167b35d"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Linear Algebra Explains Why Some Words Are Effectively Untranslatable&lt;/head&gt;
    &lt;head rend="h2"&gt;A modest mathematical framing of language&lt;/head&gt;
    &lt;p&gt;Marco Giancotti,&lt;/p&gt;
    &lt;p&gt;Marco Giancotti,&lt;/p&gt;
    &lt;p&gt;Cover image:&lt;/p&gt;
    &lt;p&gt;Image by vackground.com, Unsplash&lt;/p&gt;
    &lt;p&gt;A part of me still hasn't recovered from learning that some people believe there is no such thing as an untranslatable word. I've written about why I disagree before, but that explanation didn't satisfy me completely. There was a stronger argument to be made, I thought, but I couldn't put it into words. Now I remember, though: you need to see language as (a little bit) like math. Call me crazy, but I think that language translation is like a change of basis in linear algebra.&lt;/p&gt;
    &lt;p&gt;Me making weird connections like this might simply be an occupational hazard. Both my PhD research and my first job had to do with controlling the position and orientation of spacecraft and rocks in space, which means that I spent years juggling vectors, matrix multiplications, and reference frames almost daily. Still, I think it is simple enough to be understood by anyone, so hear me out.&lt;/p&gt;
    &lt;p&gt;(You might remember linear algebra from high school. It's that subfield where you write about stuff like this:&lt;/p&gt;
    &lt;p&gt;If the mere sight of the above is like a punch in the face for you, don't worry. I'm not going to math you to death in what follows. I will only remind you of a tiny basic part of it that I think relates to languages.)&lt;/p&gt;
    &lt;p&gt;During those same mathematical days, I was also learning Japanese. The language fascinated me for many reasons, like its beautiful dissociation between written and spoken words and its many unique quirks, but I was also struck early on by something a bit more meta: how hard it is to translate things to and from it.&lt;/p&gt;
    &lt;p&gt;These two concurrent interests made it hard for me not to see a connection. For almost a decade now, I've held it in a corner of my mind without telling anyone, perhaps because I thought it would be seen as too outrageous, but hey! Now LLMs are popular and they literally handle words and concepts as vectors with linear algebra operations, so maybe my analogy isn't that out there. Let me give it a try.&lt;/p&gt;
    &lt;head rend="h3"&gt;The Case of Vectors&lt;/head&gt;
    &lt;p&gt;Contrary to popular belief, a vector is not "a list of numbers" but an abstract object with no predefined way to express it.&lt;/p&gt;
    &lt;p&gt;But a vector is not very useful in this abstract state. We need a way to write it down so that we can manipulate it with algebra and communicate it to others. We do this by choosing a frame of reference‚Äîor, more accurately, a set of vectors to use as "basis" to quantify all others.&lt;/p&gt;
    &lt;p&gt;This is where numbers come into play. By projecting the vectors against the basis vectors, you can assign them lists of numbers (two numbers each, in this two-dimensional case):&lt;/p&gt;
    &lt;p&gt;Those numbers are the coordinates of the vectors in that basis. For instance, the vector can be read as "half as long as the vector along the direction of , and times as long as the vector along the direction of ."&lt;/p&gt;
    &lt;p&gt;The important thing I want to convey here (and the last mathy thing to remember) is that if you were to choose a different basis, the same vector would have different coordinates.&lt;/p&gt;
    &lt;p&gt;In this new basis, the two vectors are written as:&lt;/p&gt;
    &lt;p&gt;In short, change the basis (e.g. from " &amp;amp; " to " &amp;amp; ") and the same abstract object (vector) will be represented with different numbers. You can do all the same operations with them, like changing the vector's length and direction, calculating the angle between the vectors, and so on, and you'll get the same results in both bases, because they are operations on the same objects. The choice of basis is merely cosmetic from this point of view.&lt;/p&gt;
    &lt;head rend="h3"&gt;The Case of Language&lt;/head&gt;
    &lt;p&gt;Now let's turn to language and see the parallel.&lt;/p&gt;
    &lt;p&gt;Contrary to popular belief, a concept is not a word or a group of words but an abstract object in your mind.&lt;/p&gt;
    &lt;p&gt;But a concept is not very useful in this abstract state. We need a way to write it down so that we can manipulate it with grammar and communicate it to others. We do this by choosing a language that is shared with the receiver of the message.&lt;/p&gt;
    &lt;p&gt;For the concept in my head right now, and choosing the English language to represent it, you get this:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;"Going to Tokyo"&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;This is where words come into play. By projecting the abstract idea onto the standard English vocabulary and grammar, you can assign it a list of words:&lt;/p&gt;
    &lt;p&gt;Those words are the equivalent of the coordinates of the vectors in linear algebra. The way I just wrote it is not accurate, though, because it makes it look as if English only had 3 dimensions (3 words), just like the 2-element vectors were 2-dimensional. English actually has hundreds of thousands of words, so we would need a vector that long to fully represent it, with blank spaces for all the words that aren't involved in this case.&lt;/p&gt;
    &lt;p&gt;The English language offers its speakers many other words, like camel, frolic, and or, but in this case none of them was necessary to express the idea that was in my mind, so they remain empty () and absent from my utterance of "going to Tokyo".&lt;/p&gt;
    &lt;p&gt;Of course, similar to vectors with bases, you can express the same concept in a different language. If I chose Italian as the "basis", you'd get:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;"Andare a Tokio"&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;The concept is the same, but now its representation (its "word coordinates") is different:&lt;/p&gt;
    &lt;p&gt;You can, in theory, say those two different sequences of sounds in those two languages, and obtain the same effect in the mind of the receiver. The only requirement is that all people involved know both languages.&lt;/p&gt;
    &lt;head rend="h3"&gt;Cosmetics Matter&lt;/head&gt;
    &lt;p&gt;Alright, the parallel seems plain enough. Sadly, expressing all language in that vector-like format would use up a lot of ink and is not really practical for everyday use. (LLMs kind of achieve that feat, but in a more convoluted and definitely not human-readable way.)&lt;/p&gt;
    &lt;p&gt;Why do I think it is interesting, then? Because "untranslatable" words exist.&lt;/p&gt;
    &lt;p&gt;The words that people sometimes call "untranslatable" are terms that have a clear and widely understood meaning in one language, but no equivalent in another one. I gave some examples from Japanese before, and the web is awash with blog posts enumerating curious words like that from many other languages. The key takeaway is that what only takes a single word in Language 1 can only be expressed with some accuracy in Language 2 if you use many words to explain them in all of their facets.&lt;/p&gt;
    &lt;p&gt;I wrote that the choice of basis in linear algebra is "cosmetic", because the result of an operation on vectors does not change depending on the basis. But that is only the ideal, mathematical way to look at it. We humans are not so ideal. We are weak and fallible and sometimes we even stink.&lt;/p&gt;
    &lt;p&gt;Which vector representation do you like better between these two?&lt;/p&gt;
    &lt;p&gt;or&lt;/p&gt;
    &lt;p&gt;Both represent the same vector under different bases, because I chose a base that has the vector as one of the basis vectors. Here is what the two cases look like graphically:&lt;/p&gt;
    &lt;p&gt;In theory, both representations are exactly equivalent to each other. A computer wouldn't have any preference. But the second representation, the clean one with a simple one and zero, is not only easier to remember and grasp for a person, but it is also easier to handle mathematically. Things simplify easily with it, everything that is multiplied by zero becomes zero, and similarly for the multiplications by one. The calculations proceed faster and with fewer errors.&lt;/p&gt;
    &lt;p&gt;This means that, at least for our feeble organic minds, the choice of basis does matter.&lt;/p&gt;
    &lt;p&gt;The same holds for language. A concept that took several words in English...&lt;/p&gt;
    &lt;p&gt;in Japanese is a single word: joukyou (‰∏ä‰∫¨)&lt;/p&gt;
    &lt;p&gt;Looking at it in the other direction, a native word in one language is like one of its "basis vectors"‚Äîsimple and straightforward‚Äîbut the underlying concept might need to be "spread out" onto several words when applying a different language (i.e. "basis").&lt;/p&gt;
    &lt;p&gt;Arguably, having a compact word makes it easier not only to express the concept, but also to think about it. This is the Sapir-Whorf debate, but I'll leave that for another day. Instead, I want to show you what this means for untranslatability, because there are people who vehemently deny their existence.&lt;/p&gt;
    &lt;head rend="h3"&gt;Losing in Translation&lt;/head&gt;
    &lt;p&gt;I think there are two ways in which this analogy makes it quite obvious that "practical untranslatability" is a thing.&lt;/p&gt;
    &lt;p&gt;First, communication is costly, and we don't have infinite time and space to put in all the words that are needed. Even if the word could in theory be explained in the other language, usually it's not worth it.&lt;/p&gt;
    &lt;p&gt;For example, the Japanese term mono no aware (Áâ©„ÅÆÂìÄ„Çå) could be rather accurately translated as&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;a gentle, poignant sadness or pathos felt in response to the transient nature of all things, a deep awareness of their impermanence that evokes a subtle, bittersweet sorrow and a profound, quiet empathy for their passing.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;In a dictionary, perhaps that's okay. But a dictionary is not translation. Translation is about conveying the meaning of full texts, and you can't do that kind of multi-line expansion for every word.&lt;/p&gt;
    &lt;p&gt;And so the translator simplifies it to the gist, e.g. as the pathos of all things. This conveys the majority of the meaning and it is usually enough, but it does lose a lot in the process.&lt;/p&gt;
    &lt;p&gt;This is exactly analogous to the data analysis technique called Principal Component Analysis (PCA), where one simplifies a vector by picking only its largest coordinates and disregarding all others. This means choosing a subset of the basis vectors that are more closely aligned with the vectors of interest, and ignoring the existence of the other basis vectors, effectively reducing the dimensions of the data. Translators use a version of PCA every time they (begrudgingly) accept to leave the finer nuances of a concept unsaid for the sake of space.&lt;/p&gt;
    &lt;p&gt;But, even assuming you do have time to explicate, using many more words increases the risk of introducing unintended nuances that come bundled with those extra words. This is like doing PCA but selecting inappropriate basis vectors, which introduce lots of small errors in the calculation of the vector's coordinates. Is "sorrow" too emotionally charged in that long translation of mono no aware? Does the use of "passing" unnecessarily remind English speakers of people dying?&lt;/p&gt;
    &lt;p&gt;You eventually hit diminishing returns: using more words confuses the reader instead of clarifying things further.&lt;/p&gt;
    &lt;p&gt;The second problem with translation is precision. Even if you can use many words, and even if none of those are misleading, words are still finite in number. Unlike ideal numerical coordinates, which can take any value down to the finest detail, you only have a small selection of words to convey a given bit of meaning.&lt;/p&gt;
    &lt;p&gt;Suppose you realize that the word "subtle" is not accurate enough in the "...evokes a subtle, bittersweet" part of the translation above. Maybe you do want to convey subtlety, but feel that the simple word "subtle" feels too strong in this case. You might try to soften it with an adverb, like "somewhat subtle" or "slightly subtle", but there aren't many other options out there. What if none of them is perfect for your current needs?&lt;/p&gt;
    &lt;p&gt;In this sense, language is "quantized": you can jump from one level of intensity of some meaning to the next, but you can't express anything in between.&lt;/p&gt;
    &lt;p&gt;This is a problem shared by all computers. Unlike ideal numbers, the numbers in a processor necessarily have a finite number of decimal places. So when you want to work with the ideal vector&lt;/p&gt;
    &lt;p&gt;the storage limitations of your computer might mean that you have to content yourself with this truncated version:&lt;/p&gt;
    &lt;p&gt;(Modern computers can usually handle many more digits than that, but you get the idea.)&lt;/p&gt;
    &lt;p&gt;Graphically, it looks something like this:&lt;/p&gt;
    &lt;p&gt;(Incidentally, AI engineers sometimes intentionally quantize large language models to make them take up less memory, but this tends to make them dumber, because they lose nuance.)&lt;/p&gt;
    &lt;p&gt;With language, like with computers, we're forced to "lower the resolution" of our concepts whenever we put them into words. This happens twice in translated text: once when the author first writes down their thoughts, then once more when the translator transports that already-degraded concept into a different language with different "quantization steps".&lt;/p&gt;
    &lt;head rend="h3"&gt;Between the Lines&lt;/head&gt;
    &lt;p&gt;I hope these rather unorthodox leaps between linguistics and mathematics helped make it almost obvious that some words and ideas are untranslatable in practice. I also hope you don't take the analogy too seriously, because it won't go much further than this. You might be tempted to begin talking about "word matrices" and whatnot, but I doubt it would help clarify things. That kind of advanced linear algebra with concepts might work for LLMs, but it doesn't seem to map to anything intelligible for a human being, not to mention make you any wiser.&lt;/p&gt;
    &lt;p&gt;Besides, language has something going for it that doesn't seem to have a mathematical equivalent: what does it mean to "read between the lines"?&lt;/p&gt;
    &lt;p&gt;It's hard to pin down, but I think it has to do with the structure and context of the words communicating something that is not contained in any of the words themselves. Perhaps it is the clever use of those "negligible coordinates"‚Äîthe fringe nuances‚Äîof words scattered around the text to produce a collective effect on the reader.&lt;/p&gt;
    &lt;p&gt;A good translator might not be able to exactly translate a given word or sentence, but they might be able to "write between the lines" so that it doesn't matter very much. ‚óè&lt;/p&gt;
    &lt;p&gt;Cover image:&lt;/p&gt;
    &lt;p&gt;Image by vackground.com, Unsplash&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://aethermug.com/posts/linear-algebra-explains-why-some-words-are-effectively-untranslatable"/><published>2025-11-14T14:46:27+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45928492</id><title>'No One Lives Forever' turns 25 and you still can't buy it legitimately</title><updated>2025-11-15T06:44:44.916889+00:00</updated><content>&lt;doc fingerprint="bc71c89d73a33c71"&gt;
  &lt;main&gt;
    &lt;quote&gt;
      &lt;p&gt;Maybe we‚Äôll be able to play this game legitimately by the time Bobby Bonilla stops making his million and change per year.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Ahh, a refreshing bit of optimism in these dark times!&lt;/p&gt;
    &lt;p&gt;One of my favorite things in all of professional sports is the unofficial holiday referred to as ‚ÄúBobby Bonilla Day.‚Äù The short version of it is that Bonilla played for the New York Mets decades ago and eventually bought out his contract in 2000 when they decided they were done with him. Rather than pay the $5.9 million buyout of the contract up front, the team instead made the bonkers decision to negotiate a deferred payment schedule for that amount with 8% interest over the course of 25 years. The result is that the Mets will be paying Bonilla $1.2 million per year every July 1st, starting in 2011 and ending in 2035. And if you can‚Äôt make sense of the math on that one, it‚Äôs because you aren‚Äôt aware that the Mets ownership was one of Bernie Madoff‚Äôs many victims, which is why they had to defer the payments.&lt;/p&gt;
    &lt;p&gt;November 10th is not Bobby Bonilla Day. But it should be named ‚ÄúLet Us Play No One Lives Forever, You Assholes Day.‚Äù The classic spy-shooter turned 25 on that date and, for the exact same reasons we‚Äôve detailed for a god damned decade now, you still can‚Äôt buy the game.&lt;/p&gt;
    &lt;p&gt;Here‚Äôs the short of it. Due to a series of mergers, closures, and rights purchases, the IP rights for No One Lives Forever and its sequel have been potentially split into three pieces between Warner Bros., Activision, and 20th Century Fox, like it was some kind of fucking horcrux. I say potentially because nobody really knows who owns what, if anything, when it comes to these games. When one company, Nightdive Studios, attempted to remaster and re-release the game as they‚Äôve done with other titles, along with securing trademark rights to the game which hasn‚Äôt been sold in over a decade, all three companies complained that they may have rights to it and may sue over it.&lt;/p&gt;
    &lt;p&gt;All of those qualifiers are, again, because even these companies themselves don‚Äôt know what rights they actually have. And why is that? Well, because the gaming rights deals were inked before digital storage was widely used for this sort of thing and, well, nobody seems to be able to locate the actual paperwork denoting who owns what. Here‚Äôs an example of an exchange Nightdive had with Activision.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;‚ÄúSo we went back to Activision and, [after] numerous correspondence going back and forth, they replied that they thought they might have some rights, but that any records predated digital storage. So we‚Äôre talking about a contract in a box someplace.‚Äù Kuperman laughed. ‚ÄúThe image I get is the end of Indiana Jones‚Ä¶ somewhere in a box, maybe in the bowels of Activision, maybe it was shipped off to Iron Mountain or somewhere. And they confessed, they didn‚Äôt have [their] hands on it. And they weren‚Äôt sure that they even had any of those rights.‚Äù&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Which didn‚Äôt keep Activision from warning Nightdive that it might totally sue if it moved forward with remastering the game. The other companies made similar noises.&lt;/p&gt;
    &lt;p&gt;So what‚Äôs a person to do if they want to play this game? You can‚Äôt buy it legitimately currently. It‚Äôs not even for sale anywhere. And a situation like that, which I‚Äôve stated before, completely breaks the copyright bargain. The only option is, as Kotaku of all places notes, to download it for free from somewhere.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Downloading games that are available for sale is piracy. It‚Äôs illegal, and it‚Äôs not supportive of developers and their art. But when companies have gone out of their way to refuse to take your money for a game for the better part of two decades, it‚Äôs a very different situation. Look, I‚Äôm not your real mom and dad, and I can‚Äôt tell you what to do. But if you were to click on this link (link removed by Techdirt due to us not knowing where it takes you) and download both games (as well as spin-off Contract Jack), you‚Äôd end up with modernized versions of these classic games, with mods that allow them to work on Windows 10 and 11, and in widescreen. And what better time to do (or not do) this than on the first game‚Äôs 25th anniversary?&lt;/p&gt;
      &lt;p&gt;At this point (as indeed it was over eight years ago, the last time I suggested just downloading it, to no negative response at all) we have to consider No One Lives Forever to be abandonware. No one is willing to take ownership of it, although those that could do so sometimes mindlessly threaten to intervene should anyone else try to rebuild it for sale. Nightdive were scared off a decade ago, and it‚Äôs been sitting on GOG‚Äôs Dreamlist since that launched earlier this year (with 87,171 people saying they‚Äôd pay for it if they could). It‚Äôs far too small of a concern for any of the megacorps who might own it to spend the time and money to work out if they do, but it‚Äôs far too big of a concern within gaming history to be allowed to just disappear. Thank goodness for the anonymous heroes running NOLF Revival. I thank them for their service.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;It‚Äôs the only option the public has to play this game and enjoy this small piece of our collective culture. The real answer here is some sort of copyright reform that makes this situation not a thing. If a company, or group of companies, won‚Äôt offer a piece of work for sale, can‚Äôt be bothered to understand what they own of it, if anything, and have no plans to figure any of that out‚Ä¶ then how can this be copyright infringement?&lt;/p&gt;
    &lt;p&gt;So happy ‚ÄúLet Us Play No One Lives Forever, You Assholes‚Äù Day. Maybe we‚Äôll be able to play this game legitimately by the time Bobby Bonilla stops making his million and change per year.&lt;/p&gt;
    &lt;p&gt; Filed Under: copyright, ip rights, no one lives forever, video games &lt;lb/&gt; Companies: 20th century fox, activision, microsoft, nightdive, warner bros. &lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Maybe we‚Äôll be able to play this game legitimately by the time Bobby Bonilla stops making his million and change per year.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Ahh, a refreshing bit of optimism in these dark times!&lt;/p&gt;
    &lt;p&gt;I don‚Äôt really agree it‚Äôs optimistic. Why does ‚Äúlegitimacy‚Äù depend on us giving money to assholes? Why should we go so far as to seek them out and force them to take our money? What does it mean to ‚Äúbuy‚Äù digital data anyway?&lt;/p&gt;
    &lt;p&gt;I say it is legitimate to download games for free online. It‚Äôs not in any way related to ‚Äúpiracy‚Äù, and we shouldn‚Äôt be treating it as somehow ‚Äúwrong‚Äù. There‚Äôs certainly no need to lament our inability to find some corporate overlord to give money to.&lt;/p&gt;
    &lt;p&gt;The best copyright reform would be abolition. But I don‚Äôt see why we should wait for legislators, who are out of touch and are anyway in bed with corporate interests, to realize this. We could stop giving money to copyright maximalists right now.&lt;/p&gt;
    &lt;p&gt;IANAL, but I‚Äôd say just release and let them sue.&lt;lb/&gt; If they can‚Äôt find the documentation during discovery, case dismissed. Maybe even counter-sue for legal fees.&lt;/p&gt;
    &lt;p&gt;But then they have an incentive to look for the paperwork. they don‚Äôt have any particular reason to go looking right now but if they see money and a lawsuit they‚Äôll assign someone to start digging.&lt;/p&gt;
    &lt;p&gt;You could be in for a really big payout to them.&lt;/p&gt;
    &lt;p&gt;So it would be a gamble, and the potential payoff is probably not worth the risk you would be taking.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;IANAL, but I‚Äôd say just release and let them sue.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;You didn‚Äôt need to add that first part, it‚Äôs implied.&lt;/p&gt;
    &lt;p&gt;Isn‚Äôt it funny.&lt;/p&gt;
    &lt;p&gt;If you couldn‚Äôt prove you own your house the rich would you you and your family dead in the streets instantly.&lt;/p&gt;
    &lt;p&gt;If they can‚Äôt prove they own the ip. No one is allowed to ever touch it.&lt;/p&gt;
    &lt;p&gt;All the rich need to die like the evil pedophiles they are.&lt;/p&gt;
    &lt;p&gt;I am baffled why we make intellectual property as legally upheld as physical property, and yet we still end up with these areas that are so untouchably gray area nobody can do anything.&lt;/p&gt;
    &lt;p&gt;In terms of physical property gray areas, there are certainly disputed areas, but almost nowhere on Earth do people avoid due to the ambiguity. The only real example I know is Bir Tawil.&lt;/p&gt;
    &lt;p&gt;It happens all the time in physical property; the most sterotypical example would be inheritance law, but it regularly shows up in business as well (most commonly small businesses, partnerships, S corps, etc, though also in areas like bankuptcy proceedings for larger businessnesses, and certainly when things become transnational).&lt;/p&gt;
    &lt;p&gt;Perhaps the main point of commonality for areas where this is common is the old cliche; possession may not literally be 9/10 of the law, but it certainly has a major impact. Whenever it is not really an option to rule on physical possession, ownership of anything routinely becomes exactly the gray area you complain of.&lt;/p&gt;
    &lt;p&gt;As for your example regarding physical land claims by govenments, that‚Äôs a funny joke. There are massive areas of land whose ownership is ‚Äúuntouchably gray‚Äù and are generally avoided. Your example is only notable in that nobody is currently dying over it.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;It happens all the time in physical property; the most sterotypical example would be inheritance law&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;What does ‚Äúit‚Äù refer to, and what is inheritance law an example of? Disputes?&lt;/p&gt;
    &lt;p&gt;In my view, inheritance law is meant to simplify property-ownership after death. If we didn‚Äôt have it, people would come up with ways to simulate it, such as having a trust or corporation own their property. And the courts would have to waste time dealing with that.&lt;/p&gt;
    &lt;p&gt;Sure, there are sometimes minor gray areas, but ‚Äúuntouchably gray‚Äù is quite uncommon. If some property was known to be owned by the dead person, and its new ownership is unclear, a court will resolve that. If you find some real estate you want to buy, you can get an ownership record for it; if the owner can‚Äôt be contacted, you can squat there, and the usual worst case in that you‚Äôll eventually get evicted (and the best case is that, after maybe a decade or two, you become the legal owner). With copyright, there‚Äôs no way to tell who, if anyone, holds the rights; if it does turn out to be owned, anyone using the material could be hit with statutory damages of $150,000, and that risk persists for like 150 years.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;intellectual property as legally upheld as physical property&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;It would be interesting to see something like adverse possession. Like, if it‚Äôs been openly distributed as abandonware for 10 years without complaint, it becomes public-domain. (Not that 10-year-old stuff has any business being copyrighted anyway.)&lt;/p&gt;
    &lt;p&gt;Those NOLF IP ‚Äúfeeling unproductive, might litigate later‚Ä¶ idk &amp;lt;3&amp;lt;3&amp;lt;3‚Äù hogging assholes can burn in‚Ä¶ molten lava? Very nice.&lt;/p&gt;
    &lt;p&gt;The fact that the link in the article is indeed a valid, working dedicated site for hosting ‚Äúpirated‚Äù copies of these games and it hasn‚Äôt been taken down in nearly a decade says a lot about how much the potential ‚Äúrightsholders‚Äù genuinely do not give a damn about this series.&lt;/p&gt;
    &lt;p&gt;Feels like copyright law should have stipulations for cases like this, especially considering how long terms are right now ‚Äì corporations shouldn‚Äôt be sitting on copyrights doing absolutely nothing with them like dragon hoards.&lt;/p&gt;
    &lt;p&gt;They don‚Äôt care enough to get a judgement on some random internet site- but if there was a potential to demand a nice slice carved off of GOG then you bet they would be digging through those metaphorical or literal boxes.&lt;/p&gt;
    &lt;p&gt;Is that the song from the opening in Texas Chainsaw Massacre 2 with Top Chop and Leatherface?&lt;/p&gt;
    &lt;p&gt;Prolly should just call their bluff. If they don‚Äôt have a contract in a box, well, sucks to be them.&lt;/p&gt;
    &lt;p&gt;No-one plays‚Ä¶forever. Well, legally anyway.&lt;lb/&gt; The only games are being played by the corporations, and played so poorly that EVERYONE loses.&lt;/p&gt;
    &lt;p&gt;Tim, your comments and the comments on here about ‚Äúhow can this be copyright infringement‚Äù indicate that culturally, we now live in a world where both the reason for copyright and the use of copyright are strongly at odds with the LEGAL thing that is copyright.&lt;/p&gt;
    &lt;p&gt;If someone creates something, copyright gives them, for a limited time, control over who can make copies, in exchange for encouragement to create works in the first place knowing that there will be a period of exclusivity on creating those copies.&lt;/p&gt;
    &lt;p&gt;In this case, the work is already created, and the owners of the rights are essentially saying ‚Äúwe know that we own some bits of this, and we want to enforce our exclusivity.‚Äù That‚Äôs fully within their rights, and could be (tenuously) argued to be part of what convinced the original rightsholders to create the game (and then sell the rights).&lt;/p&gt;
    &lt;p&gt;What annoys me more is when an original creator writes something, sells the copyright, and then is prevented from creating new works by the new rights holder who has no intention of creating anything new themselves, but is using the copyright instead as a tool to restrict the marketplace, pumping up the value of unrelated and already created works. This is the exact OPPOSITE of the intention behind copyright.&lt;/p&gt;
    &lt;p&gt;The One that is and Aint in Australia, that Pops up a Store every few years, that Doent sell anything, it JUST stands there, to KEEP the Rights to the company name.&lt;/p&gt;
    &lt;p&gt;Having to store 1 copy of a program SOMEPLACE, forever to keep your rights.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.techdirt.com/2025/11/13/no-one-lives-forever-turns-25-you-still-cant-buy-it-legitimately/"/><published>2025-11-14T16:31:26+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45928709</id><title>Manganese is Lyme disease's double-edge sword</title><updated>2025-11-15T06:44:44.507434+00:00</updated><content>&lt;doc fingerprint="664879920b331da1"&gt;
  &lt;main&gt;
    &lt;p&gt;For decades, Lyme disease has frustrated both physicians and patients alike. Caused by the corkscrew-shaped bacterium Borrelia burgdorferi, the infection, if left untreated, can linger for months, leading to fever, fatigue and painful inflammation.&lt;/p&gt;
    &lt;p&gt;In a new study, Northwestern University and Uniformed Services University (USU) scientists have uncovered a surprising ‚Äî and ironic ‚Äî vulnerability in the hardy bacterium. By exploiting this vulnerability, researchers could help disarm B. burgdorferi, potentially leading to new therapeutic strategies for Lyme disease.&lt;/p&gt;
    &lt;p&gt;The Northwestern and USU team discovered that manganese, which helps shield B. burgdorferi against its host‚Äôs immune system, is simultaneously also a crack in its armor. If B. burgdorferi is either starved of or overloaded with manganese, the bacteria become highly vulnerable to the host‚Äôs immune system or treatments they would otherwise resist.&lt;/p&gt;
    &lt;p&gt;The study was published today (Nov. 13) in the journal mBio.&lt;/p&gt;
    &lt;p&gt;‚ÄúOur work shows that manganese is a double-edged sword in Lyme disease,‚Äù said Northwestern‚Äôs Brian Hoffman, who co-led the study with USU‚Äôs Michael Daly. ‚ÄúIt‚Äôs both Borrelia‚Äôs armor and its weakness. If we can target the way it manages manganese, we could open doors for entirely new approaches for treating Lyme disease.‚Äù&lt;/p&gt;
    &lt;p&gt;Hoffman is the Charles E. and Emma H. Morrison Professor of Chemistry and molecular biosciences at Northwestern‚Äôs Weinberg College of Arts and Sciences. He also is a member of the Chemistry of Life Processes Institute and the Robert H. Lurie Comprehensive Cancer Center of Northwestern University. Daly is an emeritus professor of pathology at USU.&lt;/p&gt;
    &lt;p&gt;Since the 1980s, the occurrence of Lyme disease has increased dramatically across North America and around the globe. According to the Centers for Disease Control and Prevention, roughly 476,000 people in the United States are diagnosed annually. Currently, there are no approved vaccines against the disease, and long-term use of antibiotics is problematic.&lt;/p&gt;
    &lt;p&gt;‚ÄúAlthough antibiotics harm B. burgdorferi, they also kill beneficial gut bacteria,‚Äù Daly said. ‚ÄúLyme disease is transmitted through tick bites and ‚Äî if not treated promptly ‚Äî can cause lingering effects by attacking the patient‚Äôs immune, circulatory and central nervous systems.‚Äù&lt;/p&gt;
    &lt;p&gt;In a series of previous studies, Hoffman and Daly collaborated to understand the role of manganese in Deinococcus radiodurans, a radiation-resistant bacteria known as ‚ÄúConan the Bacterium‚Äù for its extraordinary ability to survive harsh conditions. Now, they wanted to see if manganese played a role in B. burgdorferi‚Äôs defenses.&lt;/p&gt;
    &lt;p&gt;To conduct the study, the team used a new tool called electron paramagnetic resonance (EPR) imaging to characterize the atomic composition of manganese inside the living bacteria. To add even finer detail, the team harnessed electron nuclear double resonance (ENDOR) spectroscopy to examine the atoms surrounding manganese. Together, the technologies created a molecular map, showing which forms of manganese were present, where they were located and how they changed under stress.&lt;/p&gt;
    &lt;p&gt;The ‚Äúmap‚Äù revealed a two-tier, manganese-based defense system comprising an enzyme called MnSOD and a pool of manganese metabolites. To withstand bombardment from the host‚Äôs immune system, the bacteria first use MnSOD, which acts like a shield. If any oxygen radicals slip past this shield, they are met with the metabolite pool, which acts like a sponge to soak up and neutralize those toxic molecules.&lt;/p&gt;
    &lt;p&gt;‚ÄúOur study demonstrates the power of EPR and ENDOR spectroscopies for uncovering hidden biochemical mechanisms in pathogens,‚Äù Hoffman said. ‚ÄúWithout these tools, B. burgdorferi‚Äôs defense system and weak spots would have remained invisible.‚Äù&lt;/p&gt;
    &lt;p&gt;The scientists found the bacteria constantly juggle where to send the manganese ‚Äî to the MnSOD enzymes or the metabolite pool. Too little manganese and the bacteria lose their defense mechanisms. But, as the microbes age, their metabolite pools dramatically shrink, leaving them exposed to damage and stress. At this point, too much manganese becomes toxic because the bacteria can no longer store it safely.&lt;/p&gt;
    &lt;p&gt;This discovery holds potential for new Lyme disease therapies. Future drugs could starve the bacterium of manganese, disrupt its ability to form protective manganese complexes or even push it into toxic overload. Any of these approaches would leave B. burgdorferi wide open to attack by the immune system.&lt;/p&gt;
    &lt;p&gt;‚ÄúBy disrupting the delicate balance of manganese in B. burgdorferi, it may be possible to weaken the pathogen during infection,‚Äù Daly said. ‚ÄúManganese is an Achilles‚Äô heel of its defenses.‚Äù&lt;/p&gt;
    &lt;head rend="h2"&gt;Notes&lt;/head&gt;
    &lt;p&gt;The study was supported by the Congressionally Directed Medical Research Programs‚Äô Tick-borne Disease Research Program and the National Institutes of Health. Additional funds were from the Defense Threat Reduction Agency and National Institute of Allergy and Infectious Diseases.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://news.northwestern.edu/stories/2025/11/manganese-is-lyme-diseases-double-edge-sword"/><published>2025-11-14T16:51:03+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45928912</id><title>Being poor vs. being broke</title><updated>2025-11-15T06:44:43.974341+00:00</updated><content>&lt;doc fingerprint="bf40ba5146f6acc9"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;You misunderstand what it means to be poor&lt;/head&gt;
    &lt;p&gt;The more I speak about being poor, the more I realize how fundamentally other folks misunderstand what it means to be poor versus being broke. The advice folks will give comes from a good place. However, I would like to give some examples to help everyone understand most advice from non-poor folks isn‚Äôt helpful.&lt;/p&gt;
    &lt;p&gt;Everyone has experienced being broke. Being broke sucks. You are watching every dollar spent, finding ways to trim or make things stretch until the next payday. The difference is when you are broke you have some money. You can afford to put gas in your car, but not enough to do that repair. Money is tight, but you can get the basics at the grocery store. You can‚Äôt afford to go to the movies, but will stay home and watch what‚Äôs new on Netflix.&lt;/p&gt;
    &lt;p&gt;When you are poor that next payday brings no relief. It is like an endless runner game. No matter how fast you run or how high you jump you can never see the finish line. No matter how tired you are the ground keeps moving. There is no room for errors as the punishment for mistakes is astronomical. When you hit an obstacle you don‚Äôt restart from the last checkpoint, you go back to the beginning.&lt;/p&gt;
    &lt;p&gt;There is this mindset from folks that poor people must not be smart. I mean, you‚Äôre smart and you‚Äôre not poor! The problem must be a skill issue! Learn the skills to do it yourself and you‚Äôll be able to pull yourself up.&lt;/p&gt;
    &lt;p&gt;The other mindset is poor people are lazy. Quit complaining and do it yourself! Just get a better job! Get a second job! There‚Äôs money out there, you just have to go get it.&lt;/p&gt;
    &lt;p&gt;The last is these folks think they understand what it is like to be poor. Hey, I was a broke college student and I get being poor! I had a rough patch, it will pass.&lt;/p&gt;
    &lt;p&gt;Let‚Äôs start at the top.&lt;/p&gt;
    &lt;p&gt;I have a van that is falling apart. It needs a lot of work that we cannot afford to do. In the mindset that poor people are unskilled, it appears that I should watch some YouTube videos, get the parts, and do it myself. The misunderstanding is that being poor means you have tons and tons of skills. You have to fix everything yourself. There is never, I mean never, a time you can pay someone to fix it for you.&lt;/p&gt;
    &lt;p&gt;In this example folks think, ‚ÄúIf the repair at the shop costs $1,000, but the parts cost $300, you can save a lot of money doing it yourself.‚Äù You are absolutely correct. Yet, I still need to be able to afford the $300 in parts.&lt;/p&gt;
    &lt;p&gt;Do you see the misunderstanding? I can‚Äôt make $300 appear out of thin air. I have the skills, I‚Äôve had to fix all my cars myself. I‚Äôve done complete engine rebuilds, I‚Äôve replaced transmissions, I do all my own regular maintenance. The problem isn‚Äôt skills, its money. When you are broke, spending $300 instead of $1,000 sounds like a win because you can‚Äôt afford the $1,000. When you‚Äôre poor $300 might as well be $1,000 or $10,000, you will never afford it.&lt;/p&gt;
    &lt;p&gt;This is not a matter of time, either. I can‚Äôt put aside money each month and then get it. There is never money to put aside. I can‚Äôt put it on the credit card as I know I will never be able to pay it. I‚Äôll just have this $300 debt looming over me, increasing with interest every month, mocking how much of a loser I am.&lt;/p&gt;
    &lt;p&gt;The second mindset: Being lazy.&lt;/p&gt;
    &lt;p&gt;How do I have the time to work multiple jobs when I‚Äôm doing all this extra work? How do I have the time when in my extra time I‚Äôm fixing cars, appliances, the roof, and cooking every meal from scratch?&lt;/p&gt;
    &lt;p&gt;Should I work a second job and never see my wife? My kids? Should I never have any personal time? Should my entire life revolve around money? Should I kill myself for capitalism?&lt;/p&gt;
    &lt;p&gt;Folks who say things like this have only ever experienced being broke. It is a temporary situation and a few months of extra income will solve the problem. Being poor is not missing $1,000 or $10,000 in the short term. It‚Äôs missing $40,000 a year, every year, forever. There is no short term relief. This isn‚Äôt a rough patch. It is The Pit in The Dark Knight Rises.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;‚ÄúThere‚Äôs a reason why this prison is the worst hell on earth‚Ä¶ Hope. Every man who has rotted here over the centuries has looked up to the light and imagined climbing to freedom. So easy‚Ä¶ So simple‚Ä¶ And like shipwrecked men turning to sea water from uncontrollable thirst, many have died trying. I learned here that there can be no true despair without hope.‚Äù&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Yes, it is possible to escape. Hell, two people have done it! Why can‚Äôt you do it! But you are completely ignoring how many people have fallen to their death trying.&lt;/p&gt;
    &lt;p&gt;All of the general guidance to escape being poor is actually advice for getting through being broke.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Cancel Netflix&lt;/item&gt;
      &lt;item&gt;Make food at home&lt;/item&gt;
      &lt;item&gt;Stop going to Starbucks&lt;/item&gt;
      &lt;item&gt;Fix it yourself&lt;/item&gt;
      &lt;item&gt;Don‚Äôt upgrade your phone&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;These are all things that will help you temporarily. It will help you get through a short period of being broke. Or it will help you get your spending under control. You have enough money, you just don‚Äôt spend it wisely.&lt;/p&gt;
    &lt;p&gt;Being poor is you already did all those things. You cancelled all your streaming services years ago. You make all your food from scratch all the time. You never go to fucking Starbucks. You fix everything yourself. You already stretch everything to the limit. That is how you have to live every day of your life, for eternity, with no relief in sight.&lt;/p&gt;
    &lt;p&gt;Last example and is pertinent to our times in the US. A lot of poor folks are having to stand in line for hours and hours to get food at a food bank due to goverment ineptitude. The advice to simply cook at home doesn‚Äôt fix that there isn‚Äôt any food at home.&lt;/p&gt;
    &lt;p&gt;Do you honestly think people standing in line at a food bank could fix their situation if they stopped getting DoorDash? Going to Starbucks? Fuck off. They weren‚Äôt doing that already.&lt;/p&gt;
    &lt;p&gt;How are they to get another job or put in extra hours if they have to stand in line for 3 hours to get food? Should they go without food until they get that job and the paycheck?&lt;/p&gt;
    &lt;p&gt;You need to step aside and think about the differences between being broke and being poor.&lt;/p&gt;
    &lt;p&gt;- - - - -&lt;/p&gt;
    &lt;p&gt;Thank you for reading! If you would like to comment on this post you can start a conversation on the Fediverse. Message me on Mastodon at @cinimodev@masto.ctms.me. Or, you may email me at blog.discourse904@8alias.com. This is an intentionally masked email address that will be forwarded to the correct inbox.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://blog.ctms.me/posts/2025-11-14-being-poor-or-being-broke/"/><published>2025-11-14T17:08:15+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45929358</id><title>Bitchat for Gaza ‚Äì messaging without internet</title><updated>2025-11-15T06:44:43.828823+00:00</updated><content>&lt;doc fingerprint="3c9acf3111f970c1"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Bitchat for Gaza - messaging without internet&lt;/head&gt;
    &lt;p&gt;Bitchat is a new messaging app that allows users to chat securely with or without internet access. Download it today via the App Store or Google Play store to begin communicating safely, even when connectivity disappears.&lt;/p&gt;
    &lt;p&gt;Why Bitchat is needed&lt;/p&gt;
    &lt;p&gt;Palestinians are dependent on Israel for their access to electricity, telecoms, and internet routing. Israel has weaponized this dependence in Gaza by deliberately causing blackouts that have left Palestinians cut off from communicating with each other or with the outside world. The relentless bombing campaign has also destroyed or severely crippled any remaining communication infrastructure.&lt;/p&gt;
    &lt;p&gt;Even when Palestinians use regular communication methods, their conversations and messages can be monitored and recorded, leaving them exposed to surveillance and potential targeting.&lt;/p&gt;
    &lt;p&gt;The basic human right to communicate freely, and without interruption, has been denied to the Palestinian people.&lt;/p&gt;
    &lt;p&gt;The solution&lt;/p&gt;
    &lt;p&gt;Bitchat lets you keep messaging even when the internet or power is down. It connects phones directly through Bluetooth, and each phone helps pass messages along, allowing communication to stretch much farther than just your immediate area. Everything is fully encrypted so your conversations stay private.&lt;/p&gt;
    &lt;p&gt;When you do have internet or cell service, Bitchat can send your messages anywhere in the world using a network of relays. There is no central server that stores any of your data. You don‚Äôt need to create an account, share your phone number or email, or even have a SIM card to use it.&lt;/p&gt;
    &lt;p&gt;Staying connected when all else fails&lt;/p&gt;
    &lt;p&gt;Bitchat is an Israel-proof messaging alternative that continues to work even when traditional networks are shut down. The app also has ‚ÄúGeohash‚Äù channels that allows users to join location-based chats, so Palestinians can stay connected to their neighbors down the street or to the larger community in cities across the region.&lt;/p&gt;
    &lt;p&gt;This lets Palestinians check on the safety of loved ones, organize and coordinate within their communities, and share critical news and updates.&lt;/p&gt;
    &lt;p&gt;Validated by T4P&lt;/p&gt;
    &lt;p&gt;T4P has evaluated the app, testing it in various conditions, and looked at the technology and governance of the application. After this evaluation, T4P recognizes it as a secure and resilient communication tool for Palestinian communities when faced with internet disruptions or outages. In addition, Tech for Palestine community members are among BitChat‚Äôs top code contributors.&lt;/p&gt;
    &lt;p&gt;Bitchat has seen a surge in downloads in countries facing civil unrest like Nepal, Indonesia, C√¥te d'Ivoire, and most recently Madagascar. The Nepali government blocked access to all major social media platforms, forcing civilians to search for alternative methods of communication.&lt;/p&gt;
    &lt;p&gt;WhatsApp is known to expose private data, potentially to Israel ‚Äì and these breaches have been used to target Palestinians. Communicating via WhatsApp or social media presents the risk of exposing private data, limiting free expression, and undermining user privacy. BitChat does not have the same vulnerabilities and does not allow Meta to help Israel surveil Palestinians.&lt;/p&gt;
    &lt;p&gt;Get started&lt;/p&gt;
    &lt;p&gt;You can start using Bitchat easily, without even creating an account. To start, download the app from the App Store or Google Play store.&lt;/p&gt;
    &lt;p&gt;Once installed, the first thing you should do is change the default @anon username at the top. Click on it to change.&lt;/p&gt;
    &lt;p&gt;The blue #mesh channel in the top right corner will indicate that you are active on your local bluetooth network. Next to it you will see an icon with the number of users connected within your network. Click on the icon and begin private conversations with users from the list.&lt;/p&gt;
    &lt;p&gt;We recommend confirming your friends‚Äô and family members‚Äô usernames in person when possible. This helps make sure you‚Äôre talking to the right people and avoids confusion or impersonation. Once you‚Äôve confirmed someone‚Äôs identity, you can start messaging them privately. You can also ‚Äúfavorite‚Äù them so they‚Äôre easy to find later.&lt;/p&gt;
    &lt;p&gt;Begin messaging by using the ‚Äútype a message‚Ä¶‚Äù box. Type in a forward slash / to open the menu for additional commands and options.&lt;/p&gt;
    &lt;p&gt;Locations:&lt;/p&gt;
    &lt;p&gt;If you click on the blue #mesh channel on the top right it will open the various location channels available.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;#mesh: The mesh channel is your local bluetooth network that extends as far as the number of connected devices using Bitchat. So the more users with the ability to relay over distance, the larger the network. This is the channel that will allow you to communicate when all other networks are down.&lt;/item&gt;
      &lt;item&gt;Location channels: You will see default channel names for your block, neighborhood, city, province, and region. These work best when connected to the internet.&lt;/item&gt;
      &lt;item&gt;#Geohash: the geohash channel is a custom channel that you can start to connect with your immediate family or local groups. Type in a name for your channel and click teleport. Users within your network can then join it.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Helpful tips:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;It is encouraged to clear your messages with the command ‚Äú/c‚Äù on a regular basis. This is good practice in the scenario where your phone is confiscated. Messages are only accessible on device as Bitchat has no central servers. If you delete the messages, they aren‚Äôt accessible anywhere.&lt;/item&gt;
      &lt;item&gt;Gaza Online provides renewable eSIMs to restore internet access across Gaza, helping people stay connected and access essential services. Paired with Bitchat, it can help communication continue even when networks are down.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Download Bitchat today and see additional tools that Tech for Palestine has been working on.&lt;/p&gt;
    &lt;p&gt;Stay connected, stay safe.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://updates.techforpalestine.org/bitchat-for-gaza-messaging-without-internet/"/><published>2025-11-14T17:43:40+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45929511</id><title>The disguised return of EU Chat Control</title><updated>2025-11-15T06:44:43.671543+00:00</updated><content/><link href="https://reclaimthenet.org/the-disguised-return-of-the-eus-private-message-scanning-plot"/><published>2025-11-14T17:54:07+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45929921</id><title>A race condition in Aurora RDS</title><updated>2025-11-15T06:44:43.390908+00:00</updated><content>&lt;doc fingerprint="755b917fcdb65da0"&gt;
  &lt;main&gt;
    &lt;p&gt;Much of the developer world is familiar with the AWS outage in &lt;code&gt;us-east-1&lt;/code&gt; that occurred on October 20th due to a race condition bug inside a DNS management service. The backlog of events we needed to process from that outage on the 20th stretched our system to the limits, and so we decided to increase our headroom for event handling throughput. When we attempted that infrastructure upgrade on October 23rd, we ran into yet another race condition bug in Aurora RDS. This is the story of how we figured out it was an AWS bug (later confirmed by AWS) and what we learned.&lt;/p&gt;
    &lt;head rend="h2"&gt;Background&lt;/head&gt;
    &lt;p&gt;The Hightouch Events product enables organizations to gather and centralize user behavioral data such as page views, clicks, and purchases. Customers can setup syncs to load events into a cloud data warehouse for analytics or stream them directly to marketing, operational, and analytics tools to support real-time personalization use cases.&lt;/p&gt;
    &lt;p&gt;Here is the portion of Hightouch‚Äôs architecture dedicated to our events system:&lt;/p&gt;
    &lt;p&gt;Hightouch events system architecture&lt;/p&gt;
    &lt;p&gt;Our system scales on three levers: Kubernetes clusters that contain event collectors and batch workers, Kafka for event processing, and Postgres as our virtual queue metadata store.&lt;/p&gt;
    &lt;p&gt;When our pagers went off during the AWS outage on the 20th, we observed:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Services were unable to connect to Kafka brokers managed by AWS MSK.&lt;/item&gt;
      &lt;item&gt;Services struggled to autoscale because we couldn‚Äôt provision new EC2 nodes.&lt;/item&gt;
      &lt;item&gt;Customer functions for realtime data transformation were unavailable due to AWS STS errors, which caused our retry queues to balloon in size.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Kafka‚Äôs durability meant that no events were dropped once they were accepted by the collectors, but there was a massive backlog to process. Syncs with consistently high traffic or with enrichments that needed to call slower 3rd party services took longer to catch up and were testing the limits of our (small) Postgres instance‚Äôs ability to act as a queue for the batch metadata.&lt;/p&gt;
    &lt;p&gt;As an aside, at Hightouch, we start with Postgres where we can. Postgres queues serve our non-events architecture well at ~1M syncs/day and for events scaled to 500K events per second at ~1s end-to-end latency on a small Aurora instance.&lt;/p&gt;
    &lt;p&gt;After observing the events on the 20th, We wanted to upsize the DB to give us more headroom. Given that Aurora supports fast failovers for scaling up instances, we decided to proceed with an upgrade on Oct 23rd without a scheduled maintenance window.&lt;/p&gt;
    &lt;head rend="h3"&gt;AWS Aurora RDS&lt;/head&gt;
    &lt;p&gt;The central datastore for real-time streaming and warehouse delivery of customer events uses Amazon Aurora PostgreSQL.&lt;/p&gt;
    &lt;p&gt;Aurora's architecture differs from traditional PostgreSQL in a crucial way: it separates compute from storage. An Aurora cluster consists of:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;One primary writer instance that handles all write operations&lt;/item&gt;
      &lt;item&gt;Multiple read replica instances that handle read-only queries&lt;/item&gt;
      &lt;item&gt;A shared storage layer that all instances access, automatically replicated across multiple availability zones&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This architecture enables fast failovers and efficient read scaling, but as we'd discover, it also introduces unique failure modes.&lt;/p&gt;
    &lt;p&gt;A failover is the process of promoting a read replica to become the new primary writer - typically done automatically when the primary fails, or manually triggered for maintenance operations like ours. When you trigger a failover in the AWS console:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Aurora designates a read replica as the new primary&lt;/item&gt;
      &lt;item&gt;The storage layer grants write privileges to the new primary&lt;/item&gt;
      &lt;item&gt;The cluster endpoint points to the new writer&lt;/item&gt;
      &lt;item&gt;The old primary becomes a read replica (if it's still healthy)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The diagram below explains how Hightouch Events uses Aurora.&lt;/p&gt;
    &lt;p&gt;How Hightouch Events uses Aurora&lt;/p&gt;
    &lt;head rend="h2"&gt;The Plan&lt;/head&gt;
    &lt;p&gt;This was our upgrade plan:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Add another read replica (instance #3) to maintain read capacity during the upgrade.&lt;/item&gt;
      &lt;item&gt;Upgrade the existing reader (instance #2) to the target size and give it the highest failover priority.&lt;/item&gt;
      &lt;item&gt;Trigger a failover to promote instance #2 as the new writer (expected downtime less than 15s, handled gracefully by our backend).&lt;/item&gt;
      &lt;item&gt;Upgrade the old writer (instance #1) to match the size and make it a reader.&lt;/item&gt;
      &lt;item&gt;Remove the temporary extra reader (instance #3).&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The AWS docs supported this approach and we had already tested the process successfully in a staging environment while performing a load test, so we were confident in the correctness of the procedure.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Upgrade Attempt&lt;/head&gt;
    &lt;p&gt;At 16:39 EDT on October 23, 2025, we triggered the failover to the newly-upgraded instance #2. The AWS Console showed the typical progression: parameter adjustments, instance restarts, the usual status updates.&lt;/p&gt;
    &lt;p&gt;Then the page refreshed. Instance #1 - the original writer was still the primary. The failover had reversed itself.&lt;/p&gt;
    &lt;p&gt;According to AWS everything was healthy. The cluster appeared healthy across the board. But our backend services couldn't execute write queries. Restarting the services cleared the errors and restored normal operation, but the upgrade had failed.&lt;/p&gt;
    &lt;p&gt;We tried again at 16:43. Same result: brief promotion followed by immediate reversal.&lt;/p&gt;
    &lt;p&gt;Two failed failovers in five minutes. Nothing else had changed - no code updates, no unusual queries, no traffic spikes. We had successfully tested this exact procedure in a staging environment under load earlier in the day. We checked our process to see if we had made any mistakes. We searched online to see if anyone else had encountered this issue but found nothing. Nothing obvious could explain why Aurora was refusing to complete the failover in this cluster. We were perplexed.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Investigation&lt;/head&gt;
    &lt;p&gt;We first checked database metrics for anything unusual. There was a spike in connection count, network traffic, and commit throughput to the read replica (instance #2) during the failover.&lt;/p&gt;
    &lt;p&gt;The higher commit throughput could have been due to replication or the execution of write queries. The other two metrics simply indicated a higher query volume.&lt;/p&gt;
    &lt;p&gt;We checked the read query traffic from the app (graph below), and found that there was no change during this period. This told us the extra traffic to instance #2 came from our backend services which are supposed to connect to the writer instance.&lt;/p&gt;
    &lt;p&gt;Query traffic from the Hightouch app&lt;/p&gt;
    &lt;p&gt;When we looked at the backend application logs, we found this error -&lt;code&gt;DatabaseError: cannot execute UPDATE in a read-only transaction&lt;/code&gt; in some pods.&lt;/p&gt;
    &lt;p&gt;Backend application logs&lt;/p&gt;
    &lt;p&gt;Our services do not connect directly to the writer instance, but rather to a cluster endpoint which points to the writer. This could mean one of 3 things:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;The pods did not get the signal that the writer had changed - i.e. the cluster did not terminate the connection.&lt;/item&gt;
      &lt;item&gt;The cluster endpoint incorrectly pointed to a reader instance.&lt;/item&gt;
      &lt;item&gt;The pod was connected to the writer, but the write operation was rejected at runtime.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We did not find any evidence supporting or disproving #1 in the application logs. We had a strong suspicion it was either #2 or #3. We downloaded the database logs to take a closer look and found something interesting. In both the promoted reader and the original writer, we found the same sequence of logs:&lt;/p&gt;
    &lt;code&gt;2025-10-23 20:38:58 UTC::@:[569]:LOG:  starting PostgreSQL...
...
...
...
LOG:  database system is ready to accept connections
LOG:  server process (PID 799) was terminated by signal 9: Killed
DETAIL:  Failed process was running: &amp;lt;write query from backend application&amp;gt;
LOG:  terminating any other active server processes
FATAL:  Can't handle storage runtime process crash
LOG:  database system is shut down
&lt;/code&gt;
    &lt;p&gt;This led us to a hypothesis:&lt;/p&gt;
    &lt;p&gt;During the failover window, Aurora briefly allowed both instances to process writes. The distributed storage layer rejected the concurrent write operations, causing both instances to crash.&lt;/p&gt;
    &lt;p&gt;We expect Aurora‚Äôs failover orchestration to do something like this:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Stop accepting new writes. Clients can expect connection errors until the failover completes.&lt;/item&gt;
      &lt;item&gt;Finish processing in-flight write requests.&lt;/item&gt;
      &lt;item&gt;Demote the writer and simultaneously promote the reader.&lt;/item&gt;
      &lt;item&gt;Accept new write requests on the new writer.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;There was clearly a race condition between steps 3 &amp;amp; 4.&lt;/p&gt;
    &lt;head rend="h2"&gt;Testing the Hypothesis&lt;/head&gt;
    &lt;p&gt;To validate the theory, we performed a controlled failover attempt. This time:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;We scaled down all services that write to the database&lt;/item&gt;
      &lt;item&gt;We triggered the failover again&lt;/item&gt;
      &lt;item&gt;We monitored for storage runtime crashes&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;By eliminating concurrent writes, the failover completed successfully. This strongly reinforced the race-condition hypothesis.&lt;/p&gt;
    &lt;head rend="h2"&gt;AWS Confirms the Root Cause&lt;/head&gt;
    &lt;p&gt;We escalated the findings and log patterns to AWS. After an internal review, AWS confirmed that:&lt;/p&gt;
    &lt;p&gt;The root cause was due to an internal signaling issue in the demotion process of the old writer, resulting in the writer being unchanged after the failover.&lt;/p&gt;
    &lt;p&gt;They also confirmed that there was nothing unique about our configuration or usage that would trigger the bug. The conditions that caused it were not under our control.&lt;/p&gt;
    &lt;p&gt;AWS has indicated a fix is on their roadmap, but as of now, the recommended mitigation aligns with our solution: use Aurora‚Äôs Failover feature on an as-needed basis and ensure that no writes are executed against the DB during the failover.&lt;/p&gt;
    &lt;head rend="h2"&gt;Final State&lt;/head&gt;
    &lt;p&gt;With the race condition understood and mitigated, we:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Successfully upsized the cluster in &lt;code&gt;us-east-1&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;Updated our internal playbooks to pause writers before an intentional failover&lt;/item&gt;
      &lt;item&gt;Added monitoring to detect any unexpected writer role advertisement flips&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Takeaways&lt;/head&gt;
    &lt;p&gt;The following principles were reinforced during this experience:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Prepare for the worst in any migration - you could end up in your desired end state, beginning state, or an in-between state - even for services you trust. Ensuring you‚Äôre ready to redirect traffic and handle brief outages in dependencies will minimize downtime.&lt;/item&gt;
      &lt;item&gt;The importance of good observability cannot be emphasized enough. The ‚Äúbrief writer advertisement‚Äù was only detectable because we were monitoring queries to each instance in Datadog and had access to database logs in RDS.&lt;/item&gt;
      &lt;item&gt;For large scale distributed systems, isolating the impact any single component can have on the system can help both uptime and maintenance. It helps a lot if the design allows for such events without completely shutting down the system.&lt;/item&gt;
      &lt;item&gt;Test setups are not always representative of production environments. Even though we practiced the upgrade process during a load test in a staging region, we could not reproduce the exact conditions that caused the race condition in Aurora. AWS confirmed that there was nothing specific about our traffic pattern that would trigger it.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;If challenges like this investigation sound interesting, we encourage you to check out our careers page&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://hightouch.com/blog/uncovering-a-race-condition-in-aurora-rds"/><published>2025-11-14T18:20:08+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45930151</id><title>AI World Clocks</title><updated>2025-11-15T06:44:43.024727+00:00</updated><content>&lt;doc fingerprint="6702fe84490aee0"&gt;
  &lt;main&gt;
    &lt;div&gt;√ó&lt;head rend="h2"&gt;About AI World Clocks&lt;/head&gt;&lt;p&gt;Every minute, a new clock is displayed that has been generated by nine different AI models.&lt;/p&gt;&lt;p&gt;Each model is allowed 2000 tokens to generate its clock. Here is its prompt:&lt;/p&gt;&lt;code&gt;Create HTML/CSS of an analog clock showing ${time}. Include numbers (or numerals) if you wish, and have a CSS animated second hand. Make it responsive and use a white background. Return ONLY the HTML/CSS code with no markdown formatting.&lt;/code&gt;
            &lt;p&gt;Created by Brian Moore. You can also follow him on Instagram. Idea inspired by Matthew Rayfield.&lt;/p&gt;&lt;/div&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://clocks.brianmoore.com/"/><published>2025-11-14T18:35:22+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45930284</id><title>Minisforum Stuffs Entire Arm Homelab in the MS-R1</title><updated>2025-11-15T06:44:42.844780+00:00</updated><content>&lt;doc fingerprint="37917957198407e9"&gt;
  &lt;main&gt;
    &lt;p&gt;The Minisforum MS-R1 uses the same Cix CD8180 Arm SoC as the Orion O6 I reviewed earlier this year. But everything else about this thing is different.&lt;/p&gt;
    &lt;p&gt;What this thing should be, is a box that runs Linux and can compete with at least an Apple M1 Mac mini, or a mid-range Mini PC. But what we got... is something different.&lt;/p&gt;
    &lt;head rend="h2"&gt;Video&lt;/head&gt;
    &lt;p&gt;Hate reading? I also published a video on the MS-R1 on my YouTube channel. Watch it here, or scroll on past.&lt;/p&gt;
    &lt;head rend="h2"&gt;Hardware overview&lt;/head&gt;
    &lt;p&gt;Let's get started with the hardware. At first glance, it looks great!&lt;/p&gt;
    &lt;p&gt;You have a 12 core Arm CPU with a Mali G720 iGPU. There's a full-size PCIe slot, NVMe storage, WiFi 6E, and a ton of ports on the front and back.&lt;/p&gt;
    &lt;p&gt;You have a grand total of 9 USB ports, with 2 of them Type C with DisplayPort 1.4.&lt;/p&gt;
    &lt;p&gt;There's HDMI, dual 10 Gbps NICs (Realtek RTL8127), and even an old fashioned audio combo jack, so you can plug in a headset.&lt;/p&gt;
    &lt;p&gt;It looks great on my desk, it's quiet, it uses a 19V 180W power adapter (which is a bit chunky, but par for the course with Minisforum PCs), and overall, the hardware is some of the nicest of any Arm system, outside Apple's walled garden.&lt;/p&gt;
    &lt;p&gt;And the way you get inside is simple: press a little button and slide the chassis out of the shell (see photo above).&lt;/p&gt;
    &lt;p&gt;It came with adapters for a U.2 drive (see above) or a second M.2 drive, which replace the built-in Mediatek WiFi card.&lt;/p&gt;
    &lt;p&gt;And yes, the unit I'm testing is a review unit sent by Minisforum. They did not pay me to test the machine, write this blog post, nor did they have any input into its contents.&lt;/p&gt;
    &lt;head rend="h2"&gt;Cix SoC - iGPU and a Big/Medium/Little Arm CPU&lt;/head&gt;
    &lt;p&gt;Now, let's dive into why this machine puzzles me, starting with the iGPU. Using Minisforum's default Debian 12 install, I could run &lt;code&gt;glmark2&lt;/code&gt;, and it performed well, scoring 6322, far above something like a Raspberry Pi 5 (which got 1935).&lt;/p&gt;
    &lt;p&gt;But Vulkan support was iffy. &lt;code&gt;vulkaninfo&lt;/code&gt; Segfaulted, and &lt;code&gt;vkmark&lt;/code&gt; wouldn't run at all.&lt;/p&gt;
    &lt;p&gt;But GravityMark did. And while the G720 won't bring home any awards, it's about on par with the Adreno 750 in Qualcomm's Snapdragon 8 cx Gen 3.&lt;/p&gt;
    &lt;p&gt;That's the chip Microsoft used in their 'Project Volterra' 2023 Windows Arm Dev Kit.&lt;/p&gt;
    &lt;p&gt;And that's not the only similarity between the two.&lt;/p&gt;
    &lt;p&gt;Geekbench 6 scores were also pretty close, coming in at 1336 single core, and 6773 multicore.&lt;/p&gt;
    &lt;p&gt;That soundly beats SBCs like the Pi 5 or a Rockchip. But it's still well under Apple's four-year-old M1.&lt;/p&gt;
    &lt;p&gt;In other benchmarks, this thing is all over the place. I have two theories about that, which I'll get to.&lt;/p&gt;
    &lt;p&gt;But in real-world use, it does feel fast. At least, faster than any Arm SBC. You can actually watch 4K video on YouTube while you do other things, which is kind-of a novelty on anything that's not Qualcomm or Apple.&lt;/p&gt;
    &lt;p&gt;More testing revealed some oddities, though.&lt;/p&gt;
    &lt;p&gt;Consider my Top500 High Performance Linpack benchmark. This is a massive CPU stress test, great for testing memory access, too.&lt;/p&gt;
    &lt;p&gt;I played around with 4 cores, 8 cores, all 12 cores, and even limited the amount of RAM I was testing, because the results I was getting were confusing.&lt;/p&gt;
    &lt;p&gt;In the end, after some help from GitHub user @volyrique, we found the Cix P1 SoC is affected by the same BLIS issue other chips like the Nvidia GB10 'Superchip' and cloud chips using Neoverse N2 CPU cores run into: Poor DGEMM performance for armsve build on Neoverse N2.&lt;/p&gt;
    &lt;p&gt;We're diving a bit deep here, but with newer SVE technology (vs. Arm's more traditional NEON 128 bit SIMD), chips can use arbitrary vector lengths. The BLIS library optimizes newer chips with an &lt;code&gt;armsve&lt;/code&gt; configuration, which assumes 256+ bit vector lengths, and is not optimized at all for 128-bit vector lengths (used by the Cix P1 in the Orion O6 and Minisforum MS-R1).&lt;/p&gt;
    &lt;p&gt;All that out of the way, I have deleted the section of the video embedded above covering HPL entirely, and have updated my benchmark graphs below:&lt;/p&gt;
    &lt;p&gt;The MS-R1 with it's 64 GB of RAM edged out my Orion O6 (I have the 16 GB model...), though it is less than half as performant as the M4 Mac mini.&lt;/p&gt;
    &lt;p&gt;Not a bad showing, overall, and after adjusting the HPL configuration to account for the instruction set mismatch, I was able to get a score almost triple that of the fastest small Arm SBCs'.&lt;/p&gt;
    &lt;p&gt;Energy efficiency is a step down, though‚Äîit's not the worst, and certainly, under load, it is better than most Intel/AMD systems:&lt;/p&gt;
    &lt;p&gt;But the efficiency story is much worse considering the idle power draw:&lt;/p&gt;
    &lt;p&gt;Unless you are running large workloads constantly, this machine will end up using far more energy than other Arm solutions (especially Apple's M-series Macs), due to the high idle power.&lt;/p&gt;
    &lt;p&gt;But why is it so high? This is a graph of core to core memory latency, showing how fast it is for different CPU cores to share memory on the system. Honestly, this isn't horrible, especially when I pair it with raw memory access speed:&lt;/p&gt;
    &lt;p&gt;The MS-R1's RAM is pretty fast (though notably slower than the O6, which directly impacts performance with tasks like AI inference).&lt;/p&gt;
    &lt;p&gt;But I think the strange CPU core layout is causing power problems; Radxa and Minisforum both told me Cix is working on power draw, and enabling features like ASPM.&lt;/p&gt;
    &lt;p&gt;It seems like for stability, and to keep memory access working core to core, with the big.medium.little CPU core layout, Cix wants to keep the chip powered up pretty high. 14 to 17 watts idle is beyond even modern Intel and AMD!&lt;/p&gt;
    &lt;p&gt;For networking, the onboard NICs provide a full 10 gigs, and the built-in WiFi 6E was good for a gigabit on my network.&lt;/p&gt;
    &lt;p&gt;And with 64 gigs of RAM, one thing this box could excel at compared to an SBC is local AI, even if it's just on the CPU.&lt;/p&gt;
    &lt;p&gt;I ran a bunch of different models that would fit in the memory, and here are those results:&lt;/p&gt;
    &lt;p&gt;This is one place where it actually underperforms the older Orion O6 with the same CPU, which is directly related to the slower RAM speeds.&lt;/p&gt;
    &lt;head rend="h2"&gt;Efficiency&lt;/head&gt;
    &lt;p&gt;The performance inconsistency is puzzling, but the power consumption is really what hurts the most‚Äîthat's an area Arm is supposed to shine in. But it goes to show you, CPU core architecture and even process nodes aren't everything when it comes to effiency. Design matters.&lt;/p&gt;
    &lt;p&gt;Apple's M-series puts everything to shame, but even taking that out of the mix, it's not quite what I'd expect from 2025 Arm CPU design.&lt;/p&gt;
    &lt;p&gt;Despite all that, it's quiet and the fans keep it cool. The performance profile ramps up the fans to 100%, but that didn't make much difference in real-world performance except making it about 50 dBa from a foot away instead of 40 dBa in the normal profile.&lt;/p&gt;
    &lt;head rend="h2"&gt;Dedicated GPU Upgrade&lt;/head&gt;
    &lt;p&gt;If you're thinking about loading up AI models, or even modest gaming, a dedicated GPU will get you a lot further than the iGPU.&lt;/p&gt;
    &lt;p&gt;Minisforum added ventilation holes across the entire top, so a modded GPU like the Abovetop RTX A2000, with 8 gigs of VRAM, will fit and get adequate cooling. Similar to older MS-** Minisforum workstations, this machine only fits half-height single-slot PCI Express cards, and ones that are not too long at that.&lt;/p&gt;
    &lt;p&gt;Installation is easy, though finicky due to the tight spaces. You unscrew and pull a small retention clip out, remove the slot cover, and fit the new card. It rests on a small foam spacer to isolate the card from the motherboard.&lt;/p&gt;
    &lt;p&gt;Booting the computer back up, I saw the card using &lt;code&gt;lspci&lt;/code&gt;, so Linux can see it. But I wasn't able to install the drivers on the Debian 12 OS image shipped with the machine. I also tried an Intel Arc A310 ECO, a lower-specced and smaller single-slot card, but that wasn't even recognized when I ran &lt;code&gt;lspci&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;For the Intel card, it's probably just a signaling issue, though‚ÄîI'm not going to hold it against the MS-R1 since I've had issues with the A310 ECO on other systems.&lt;/p&gt;
    &lt;head rend="h2"&gt;BIOS detour&lt;/head&gt;
    &lt;p&gt;I'll get back to A2000 testing, but these experiments took me on a detour into the BIOS.&lt;/p&gt;
    &lt;p&gt;There are settings for USB, RAM, power on behavior, and a lot more. It's pretty complete, but I still see a lot of things labeled 'Beta', so keep that in mind if you buy one of these things.&lt;/p&gt;
    &lt;p&gt;One thing I tested that didn't work is the AC Power Loss setting. You're supposed to be able to tell it to turn on when power is restored‚Äîthat's great for something like a homelab. But the BIOS setting didn't do anything. I remembered seeing a hardware switch on the board, though, and sure enough! That's how you actually control the AC power loss setting.&lt;/p&gt;
    &lt;head rend="h2"&gt;Switching to Ubuntu&lt;/head&gt;
    &lt;p&gt;Getting back to the A2000, I decided to switch gears and try Ubuntu from an Arm ISO install via USB flash drive. The process was easy enough (I didn't have to change anything in the BIOS), and Ubuntu installed without a hitch.&lt;/p&gt;
    &lt;p&gt;The A2000's drivers were automatically installed, and I was off to the races.&lt;/p&gt;
    &lt;p&gt;AI is obviously faster on the GPU (total system power draw was around 94W):&lt;/p&gt;
    &lt;p&gt;And GravityMark, a good proxy for how games will run on a given GPU, ran fine too, increasing the score over the iGPU from 3,037 to 16,679.&lt;/p&gt;
    &lt;head rend="h2"&gt;Conclusion&lt;/head&gt;
    &lt;p&gt;Having a full PCI Express slot in here is nice. Coupled with the extra included U.2 and M.2 adapters, it's clear Minisforum thinks of this thing as a good homelab box. They even published guides for installing Proxmox (a community maintained version) and Jellyfin with iGPU acceleration. Considering expansion-options-per-cubic meter, this has all other Arm machines beat, including the Mac mini.&lt;/p&gt;
    &lt;p&gt;Honestly, this works fine as an Arm desktop, certainly better than any SBC. But Intel and AMD exist, and so does Apple, for that matter, and that makes this a bad value where it stands today, in the $500-600 range. Unless you're an Arm enthusiast, you should save some money and get a different mini PC‚Äîeven one of Minisforum's other MS-series desktops. Or if you can afford $600 bucks, buy the best value Arm desktop on the market, the M4 Mac mini. Of course, that thing can't run bare metal Linux, so take that into account.&lt;/p&gt;
    &lt;p&gt;I like that it exists. And I like that Cix and Minisforum are trying to shake up the Arm desktop market a bit. But it's still half-baked:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Can performance and power issues be fixed in firmware?&lt;/item&gt;
      &lt;item&gt;Will they get all the drivers mainlined so all features work in every Linux distro?&lt;/item&gt;
      &lt;item&gt;Windows can run on here, but will Nvidia ever release GPU drivers for Windows on Arm?&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;I'm not sure. But I will try gaming in Linux on here soon, and some other tests. So make sure you follow this blog's RSS feed or subscribe over on YouTube, if you want to follow along!&lt;/p&gt;
    &lt;p&gt;You can buy the Minisforum MS-R1 from Minisforum's online store, starting around $500 at the time of this writing.&lt;/p&gt;
    &lt;head rend="h2"&gt;Comments&lt;/head&gt;
    &lt;p&gt;Just wanted to note after some discussion over in the sbc-reviews issue for the MS-R1, I'm re-running my HPL top500 benchmark with the correct optimizations for the Cix CPU and will update the HPL benchmark and efficiency graphs in the post.&lt;/p&gt;
    &lt;p&gt;Minis Forum is advertising Proxmox support for virtualization. All of the builds I have seen previously for this are unsupported or custom. It appears there is a build based on Debian ARM64? Does it work? Is it viable? I see people running routing software (like OpenWRT) on these VM's.&lt;/p&gt;
    &lt;p&gt;Their PVE install guide for the MS-R1 seems to use the pxvirt fork of Proxmox targeting Arm and LoongArch architectures. It's not an officially supported way to get Proxmox going, but it does work.&lt;/p&gt;
    &lt;p&gt;Do note that those "Abovetop" cards are not modified A2000s they are actually mobile A2000s. Desktop A2000s have either 6GB or 12GB of VRAM and the dual slot cooler that can infact be modified by nerdwares all copper single slot cooler. The Desktop cards also have 4 mini Displayports and not the more standard 1 DP 1 HDMI that you would see on gaming cards. There is also the terrible AMD RX 6400 that would fit in these but no-one should ever use a 4GB GPU in 2025.&lt;/p&gt;
    &lt;p&gt;Minisforum proudly advertises ECC support for this. Have you done any testing on that?&lt;lb/&gt; It's going to reduce performance, Minisforum says it's 1/8, so the best case is 12.5% reduction in memory bound workloads and none in compute bound workloads, though it's probably much worse.&lt;lb/&gt; Anandtech (RIP) tested Intel's in-band ECC, which is 1/32, and found that it reduced performance by 0% to 10% in CPU tests, which isn't that bad, but in iGPU tests performance was reduced by 20% to 30%, which is pretty awful. Also the energy efficiency was reduced by similar amounts.&lt;lb/&gt; (Couldn't add a link, so just search for "Anandtech in-band ECC" and you should find the article)&lt;/p&gt;
    &lt;p&gt;Lack of mainline support in the kernel AND in uboot/edk2 is the primary reason I can't take the arm market seriously. It's firmly in the hobby-fiddling space, no matter how much I want it to be otherwise. Looks like RISC-V isn't doing anything differently.&lt;/p&gt;
    &lt;p&gt;It seems like Cix is trying‚Äîbut like with most Arm vendors, the mainline efforts begin after real world products are already shipping, instead of before. So you end up with at least a 1-2 year lag time before even the basic parts are in a bleeding edge kernel...&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.jeffgeerling.com/blog/2025/minisforum-stuffs-entire-arm-homelab-ms-r1"/><published>2025-11-14T18:42:55+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45930598</id><title>Structured outputs on the Claude Developer Platform</title><updated>2025-11-15T06:44:42.583044+00:00</updated><content>&lt;doc fingerprint="bf899f1ed4aed2f6"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Structured outputs on the Claude Developer Platform&lt;/head&gt;
    &lt;p&gt;Guarantee responses match your JSON schemas and tool definitions with structured outputs.&lt;/p&gt;
    &lt;p&gt;Guarantee responses match your JSON schemas and tool definitions with structured outputs.&lt;/p&gt;
    &lt;p&gt;The Claude Developer Platform now supports structured outputs for Claude Sonnet 4.5 and Opus 4.1. Available in public beta, this feature ensures API responses always match your specified JSON schemas or tool definitions.&lt;/p&gt;
    &lt;p&gt;With structured outputs, developers can eliminate schema-related parsing errors and failed tool calls by ensuring that Claude's responses conform to a defined schema√¢whether you're extracting data from images, orchestrating agents, or integrating with external APIs.&lt;/p&gt;
    &lt;p&gt;For developers building applications and agents in production, a single error in data formatting can cause cascading failures. Structured outputs solves this by guaranteeing your response matches the exact structure you define, without any impact to model performance. This makes Claude dependable for applications and agents where accuracy is critical, including:&lt;/p&gt;
    &lt;p&gt;Structured outputs can be used two ways: with JSON or tools. When used with JSON, you provide your schema definition in the API request. For tools, you define your tool specifications, and Claude's output conforms to those tool definitions automatically.&lt;/p&gt;
    &lt;p&gt;The end result is a reliable output, reduced retries, and a simplified codebase that no longer needs failover logic or complex error handling.&lt;/p&gt;
    &lt;p&gt;OpenRouter provides 4M+ developers access to all major AI models through a single, unified interface.&lt;/p&gt;
    &lt;p&gt;"Structured outputs have become a really valuable part of the agentic AI stack. Agents constantly ingest and produce structured data, so Anthropic√¢s structured outputs close a real gap for developers. Agent workflows run reliably, every time, and teams can focus on their customers rather than debugging tool calls,√¢ said Chris Clark, COO, OpenRouter.&lt;/p&gt;
    &lt;p&gt;Structured outputs is now available in public beta for Sonnet 4.5 and Opus 4.1 on the Claude Developer Platform, with support for Haiku 4.5 coming soon. Explore our documentation for supported JSON schema types, implementation examples, and best practices.&lt;/p&gt;
    &lt;p&gt;Get the developer newsletter&lt;/p&gt;
    &lt;p&gt;Product updates, how-tos, community spotlights, and more. Delivered monthly to your inbox.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.claude.com/blog/structured-outputs-on-the-claude-developer-platform"/><published>2025-11-14T19:04:23+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45931403</id><title>All praise to the lunch ladies</title><updated>2025-11-15T06:44:42.246969+00:00</updated><content>&lt;doc fingerprint="3269d05598e64206"&gt;
  &lt;main&gt;
    &lt;head rend="h3"&gt;Words by Jennifer Justus | Photos by Houston Cofield&lt;/head&gt;
    &lt;head rend="h2"&gt;Portaits featured in this story were taken at Peabody High School and Trenton Elementary School in Trenton, Tennessee.&lt;/head&gt;
    &lt;p&gt;November 4, 2025&lt;/p&gt;
    &lt;p&gt;Granny won me over with the government cheese. As a child, maybe 4 or 5 years old, when I‚Äôd visit her on occasional Sundays in Blue Ridge, Georgia, she‚Äôd slice me off a little treat ‚Äî an orange rectangle from a brown cardboard box in the refrigerator. We would sit around her kitchen table, where she held court with my aunts by telling stories and making plans for canning vegetables. Sometimes the aunts smoked cigarettes, which they‚Äôd quickly stamp out when my preacher-grandfather came around the corner. Nevermind that my snack was processed and inexpensive, a generic type of Velveeta. In those days at Granny‚Äôs, sitting with my cheese and the grown-ups in our rural mountain town, I might as well have been tasting Camembert on the banks of the Seine.&lt;/p&gt;
    &lt;p&gt;Nevermind, too, the Mason jars of homemade soup on her shelves, a kaleidoscope of summer‚Äôs bounty ‚Äî tomatoes, okra, corn ‚Äî put up and waiting to take the chill off colder days. Nevermind the freshly baked pound cakes under Tupperware domes like trophies, which she kept atop the washing machine, also in the kitchen, or the biscuits she could whip up with nary a measuring device or recipe. I would learn to appreciate all those later. As a kid, the cheese wowed me.&lt;/p&gt;
    &lt;p&gt;My mother tried to explain that it was a commodity provided by government funding for the school cafeteria where my grandmother worked. ‚ÄúMaybe you shouldn‚Äôt mention the cheese,‚Äù Mom said recently, when I told her about writing this story. She has a good point. Folks don‚Äôt like to hear the words processed and school food in the same sentence. And Mom wouldn‚Äôt want people to think Granny was somehow taking advantage of the system. But don‚Äôt worry, Mom. The cheese is part of the point. I want people to know how Granny believed in wasting nothing, in sharing everything. In cooking from scratch as often as possible but also making do with every resource provided to her. And, yes, she sometimes had leftover cheese at home, but she also got in trouble for sneaking extra food into the paper sacks of kids without lunch money or even handing food out the back of the lunchroom screen door. ‚ÄúSituational ethics,‚Äù my cousin Susie calls it. I‚Äôd come to understand all that later. But as a kid, I just knew Granny‚Äôs job was cool.&lt;/p&gt;
    &lt;p&gt;Beulah Culpepper started work as an assistant lunch lady at Blue Ridge Elementary School in 1950 at age 43. That‚Äôs after she‚Äôd had eight kids of her own, whom she raised by home cooking, pickling, canning, and keeping chickens. She married young, after a rough childhood. My grandparents held a small ceremony on the railroad tracks outside the textile plant where they‚Äôd met. My grandfather called her Sunshine. And, for the outsized proportion of his noggin, she called him Fathead. She never learned to drive, and she only had a third-grade education. But when my father, her youngest, started school, she decided she was going with him. ‚ÄúWe walked to school together every morning,‚Äù Dad told me.&lt;/p&gt;
    &lt;p&gt;She worked her way to manager at the cafeteria, retiring in the early 1980s. Over the course of her tenure, her education level sometimes couldn‚Äôt keep up with her natural-born smarts, so she‚Äôd ask for my aunt‚Äôs help on the weekends to work out the financial parts of her menus. She became known for her vegetable soups, yeast rolls, and peanut butter cookies.&lt;/p&gt;
    &lt;p&gt;Mom remembers Granny‚Äôs frustration as, over time, guidelines and budgets added complicated layers to the work and hampered the scratch cooking she preferred. The government cheese went into big batches of creamy macaroni served alongside crisp, fried fish and scoops of turnip greens. She‚Äôd sneak in bacon grease from home to flavor green beans. Sadly, her own savory cornbread eventually gave way to a quicker and sweeter mix at school. My cousin Margaret remembers a student asking her: ‚ÄúMrs. Culpepper, is this cornbread ‚Äî or just bad cake?‚Äù&lt;/p&gt;
    &lt;p&gt;County employees would sometimes join the students for lunch as if she were running a restaurant. ‚ÄúShe had a name county-wide for the meals she served,‚Äù says Gene Crawford, a columnist for the local newspaper who taught at the school in the 1970s.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Sheila Robinson (age 56; 7 years in the cafeteria; from St. Louis, Missouri)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Dad remembers when the lunchroom was just an old clapboard structure with wooden floors. Students who brought their lunch, often because they couldn‚Äôt afford the cafeteria meal, sat on benches along the perimeter. Granny tried to be discreet in making sure those kids had plenty. ‚ÄúWhat have you got to eat today?‚Äù Dad remembers her asking, peeking into their bags and sometimes finding nothing but a leftover biscuit. ‚ÄúShe would give them anything she could get her hands on,‚Äù he says. She left out extra bowls of grits and gravy or commodity foods for students to share. At least once, the principal scolded her for giving away food for free. ‚ÄúDo I make money for this lunchroom?‚Äù she asked him. Yes. ‚ÄúDo I lose money for this lunchroom?‚Äù No. ‚ÄúWell, don‚Äôt you ever get on to me again for giving those kids food,‚Äù my mother remembers Granny recounting. ‚ÄúNo kid will ever leave this lunchroom hungry.‚Äù&lt;/p&gt;
    &lt;p&gt;But before we go too far: a warning. If you‚Äôre looking for a dreamy, idyllic grandma story where I stand at her elbow and learn recipes, this ain‚Äôt it. I somehow don‚Äôt have a single recipe from Granny, even if she was the best cook I‚Äôve ever known. But I did learn plenty else from her and felt her love in different ways. I‚Äôd sometimes sit with her and her dogs Tico or George while she chewed tobacco and watched Braves games. I remember her feisty attitude, stout build, and strong hands. She would squeeze my upper arms every time I entered her kitchen and compliment me on weight gain (a confusing but comforting message for a teen girl). It took me years to realize how she‚Äôd influenced my life as a food writer.&lt;/p&gt;
    &lt;p&gt;In reflecting on her now, I wanted to check in with modern-day heroes of the school lunch line. Even as it feels like our social safety nets are crumbling, I see in these workers a sharp stewardship of resources, a special sort of hospitality, and ‚Äî despite government red tape and political divides ‚Äî a deep commitment to community care.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Lisa Stoneburner (age 61; 8 years in the cafeteria; from Trenton)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;quote&gt;
      &lt;p&gt;Zhanae Box ‚ÄúI like to add my own touch to the recipes.‚Äù (age 31; 2 years in the cafeteria; from Jackson, Tennessee)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Stephanie Dillard at Enterprise City Schools in South Alabama likes to sit down for lunch with the kids and hear their thoughts on the food. She‚Äôs a longtime board member and newly elected president of the School Nutrition Association, a nonprofit organization of more than 50,000 lunch ladies (and fellas) and others interested in school nutrition. But day to day, you‚Äôll find Dillard filling in for kitchen staff, crunching budget numbers, and working to get fresh, locally grown foods onto kids‚Äô plates. Last year that meant satsumas from a neighboring county to serve with roasted chicken and broccoli. It meant local strawberries and even a special shrimp bowl with the region‚Äôs beloved Conecuh sausage.&lt;/p&gt;
    &lt;p&gt;‚ÄúThe greatest joy is just knowing that we are feeding children healthy meals. So many families rely on us daily,‚Äù Dillard says. ‚ÄúI just want to continue to see that all children have equal access to the meals.‚Äù&lt;/p&gt;
    &lt;p&gt;But Dillard is clear about the challenges. ‚ÄúNumber one, we need more funding, so we can increase scratch cooking and more farm-to-school programs,‚Äù she says. ‚ÄúWith the MAHA movement, they‚Äôre pushing, obviously, more scratch cooking, and that‚Äôs great and grand. I have no problem with less processed foods in schools, but we need the funding to be able to support it.‚Äù&lt;/p&gt;
    &lt;p&gt;To be sure, the stew of school food has long been mixed with politics and money. The National School Lunch Act, which passed in 1946, four years before my grandmother started cafeteria work, had its roots in an ecosystem of competing interests, says Marcus Weaver-Hightower, author of Unpacking School Lunch: Understanding the Hidden Politics of School Food. Over the years, politicians have argued over funding cuts, regulations, and what makes food healthy ‚Äî along with who gets to set the menu.&lt;/p&gt;
    &lt;p&gt;Of late, Health and Human Services Secretary Robert F. Kennedy Jr. seems to champion some of the healthier standards that conservatives once criticized, and partly rolled back, when the same ideas were espoused by then-First Lady Michelle Obama‚Äôs Healthy, Hunger-Free Kids Act campaign. (The opening lines of a 2014 Heritage Foundation article: ‚ÄúMichelle Obama thinks she knows what your children should eat.‚Äù)&lt;/p&gt;
    &lt;p&gt;Kennedy has advocated for healthier school food even as the Trump administration has cut millions in funding that would help make that possible, including eliminating the Local Food for Schools Cooperative Agreement Program and Patrick Leahy Farm to School Grants.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Deloris Morgan ‚ÄúThe babies make you feel young.‚Äù (age 63; 8 years in the cafeteria; from Trenton)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;quote&gt;
      &lt;p&gt;Caryn Needham ‚ÄúI love seeing the children every day.‚Äù (age 44; 4 years in the cafeteria; came to Trenton from California)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Samantha Goyret and Caroline Ideus, co-directors of the Northwest Tennessee Local Food Network, had a statewide farm-to-school plan ready to implement ‚Äî at least until the funding was cut.&lt;/p&gt;
    &lt;p&gt;Goyret and Ideus, who produce a guide to local farmers and producers and manage a West Tennessee farmers market, began serving as vital liaisons between farmers and school nutrition directors several years ago. They knew both groups were overworked, with little time to make connections. Goyret and Ideus also helped arrange transportation and delivery. Local farmers earned market values for their products while schools amped up nutrition in ways that appealed to kids. ‚ÄúIt‚Äôs like, OK, we‚Äôre finally finding solutions to these problems,‚Äù Goyret says. ‚ÄúThen the government‚Äôs like, No, we‚Äôre not going to fund you anymore. So, good luck. Just try to figure it out on your own.‚Äù&lt;/p&gt;
    &lt;p&gt;Lisa Seiber-Garland, school nutrition director for the Trenton Special School District in Trenton, Tennessee, says students loved items like local butter lettuce and purple hull peas obtained through a federal grant. She learned that at least one student convinced her mother to visit a nearby farm for the tender leaves she had tasted atop her school burger. ‚ÄúIt was so cool,‚Äù Seiber-Garland says. ‚ÄúGrants like that provide access for kids to have things they wouldn‚Äôt normally have. With that grant, we were also able to provide fresh ground beef. ‚Ä¶ We‚Äôre still doing it, but not to the extent with the grant. It was such a blessing I didn‚Äôt want to stop. I told my farmers I will do what I can to still buy. One had planted his strawberries and his watermelons and everything to meet what we needed in the school for that year. And then we lost the grant.‚Äù&lt;/p&gt;
    &lt;p&gt;Goyret confirms that, indeed, seeds had been planted, orders had been placed. ‚ÄúWith every administration, there‚Äôs always changes,‚Äù she says. ‚ÄúBut what‚Äôs different about this administration is that they are taking away already allocated funds ‚Äî funds allocated by the Congress. That should be 100 percent illegal.‚Äù&lt;/p&gt;
    &lt;p&gt;But, per usual, school nutrition directors are making do.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Lisa Seiber-Garland ‚ÄúThey‚Äôre gonna be fed. We'll find a way.‚Äù (age 60; 20-plus years in the cafeteria; from Trenton)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;quote&gt;
      &lt;p&gt;Pat Morgan (age 67; 5 years in the cafeteria, from Trenton)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Dillard says the federal funding cuts will hurt local farmers in Alabama, but her state offers rebates when she serves Alabama-grown foods. ‚ÄúThey direct us and help me find the farmers that have the ability to grow enough for our district,‚Äù she says. ‚ÄúSo I‚Äôm very lucky in that aspect. As soon as we find something new or new farmers willing to grow for us, we jump on that.‚Äù&lt;/p&gt;
    &lt;p&gt;Likewise, in Tennessee, Seiber-Garland works through a different grant specifically for elementary students to provide snacks of fresh fruit and vegetables paired with nutritional education. ‚ÄúThe kids are the joy for sure. Watching them and their excitement when there‚Äôs something they really like,‚Äù she says, of offering students new tastes as well as standbys like peaches, grapes, berries, pepper strips, and carrots. A student‚Äôs mother came up to her at the cafeteria and said, ‚ÄúYou‚Äôre the reason my daughter likes raspberries.‚Äù&lt;/p&gt;
    &lt;p&gt;In 2022, California became the first of a half dozen or so states to offer free school meals to all students, regardless of family income. Dillard supports free meals for all students with an emphatic, ‚ÄúYes, yes, yes!‚Äù Food should not be based on income, she says: ‚ÄúIt should be part of the school day. Your transportation is of no charge to students. School books are no charge to students. School lunch should be of no charge to students. ‚Ä¶ It‚Äôs just the right thing to do.‚Äù&lt;/p&gt;
    &lt;p&gt;Still, most schools must provide a mix of fee-based and subsidized free and reduced-price meals. Some communities with high percentages of families on SNAP and enrolled in Medicaid automatically qualify for the USDA‚Äôs Community Eligibility Provision, which authorizes free meals for all students in the district. But, as the ‚ÄúBig Beautiful Bill‚Äù slashes both SNAP and Medicaid, it will surely reverberate through school lunchrooms too. ‚ÄúIt‚Äôs going to be a huge burden for a lot of families,‚Äù says Weaver-Hightower. ‚ÄúThe number of problems I think [free lunches] would solve is a really long list. There‚Äôs paperwork, of course. And there‚Äôs the shame and stigma that some kids feel. Why would we do that to little 5-year-olds?‚Äù&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Janet Roach ‚ÄúThe kids ‚Äî that‚Äôs what I love about the job.‚Äù (age 63; 9 years in the cafeteria; from Trenton)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Through all of the policy changes, the cafeteria has remained the ‚Äúheart of our schools,‚Äù according to acclaimed chef Alice Waters. In 1995 she founded the Edible Schoolyard Project, an international nonprofit dedicated to promoting organic school gardens, kitchens, and cafeterias. Waters‚Äô new book, A School Food Revolution (October 2025) celebrates this beating heart of public education.&lt;/p&gt;
    &lt;p&gt;Dan Giusti, formerly head chef at world-renowned Noma, is another prominent advocate for school lunches. He left his prestigious role in 2015 to create Brigaid, a company now working with 40 school districts in eight states along with other institutions such as senior centers and prisons.&lt;/p&gt;
    &lt;p&gt;His team has adopted the pragmatic approach long espoused by the professionals in those settings. ‚ÄúWe don‚Äôt say, This is the food you should serve, or, You shouldn‚Äôt serve this food,‚Äù he explains. ‚ÄúIt is their program and it is their community. Who are we to come from the outside to tell them otherwise? So we come in and ask, What are you trying to achieve with your program?‚Äù&lt;/p&gt;
    &lt;p&gt;Giusti loves the puzzle ‚Äî the dynamics and balance of nutrition and taste preference. ‚ÄúI was talking with a food service director, and she uses the statistic that roughly 70 percent of the calories students eat in her district come from the food in the schools. So you have a real responsibility to make sure that food is nutritious. But at the same point you also need to make sure kids want to eat it. ‚Ä¶ Kids need to eat. Period.‚Äù&lt;/p&gt;
    &lt;p&gt;Giusti stresses that policies need to be backed up with resources. ‚ÄúIt‚Äôs amazing to talk about removing processed foods, cooking more from scratch. I have a business based off of that,‚Äù he says. ‚ÄúIt‚Äôs also really hard to do. If we‚Äôre going to say to School District XYZ, You can‚Äôt use these things anymore, then I hope we‚Äôre also going to give them money to buy more equipment and train their staff.‚Äù&lt;/p&gt;
    &lt;p&gt;Furthermore, edicts need to take into account the people who have to implement them, Giusti stresses. ‚ÄúFolks who work in the kitchens get caught in the mix,‚Äù he says. ‚ÄúYou can feel it on them. They‚Äôre just waiting for the next initiative. They‚Äôve maybe been working in these schools for 20, 30 years, and they‚Äôve seen so many initiatives come and go, come and go. They‚Äôve seen people come and go. Superintendents come and go. But they‚Äôre still there. Doing this work every day.‚Äù&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Cherie Kelly (age 48; 9 years in the cafeteria; from Ottawa, Illinois)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Similar to my grandmother, Hope North in Murfreesboro, Tennessee, started work at the cafeteria when her son entered school. She‚Äôs been in food service ever since, about 27 years. Long enough to see her grandson attend Murfreesboro City Schools, too.&lt;/p&gt;
    &lt;p&gt;On a recent summer day, she climbed onto a brightly painted old school bus with the words CHOW BUS across its front. Inside, the seats had been reconfigured into booths with tables. About 50 meals sat in cooler bags: penne pasta with tomato-meat sauce, a side of carrots, fruit cups, and milk. The bus was headed for Chariot Pointe Apartments, the first stop of about five that day.&lt;/p&gt;
    &lt;p&gt;‚ÄúWe meet people where they are,‚Äù says Tori Carr, a school employee who was driving a van that followed the bus, which had been converted into a sort of free book store. Its shelves also carry cleaning supplies, pantry items, and simple toys like glow sticks and coloring pages.&lt;/p&gt;
    &lt;p&gt;North‚Äôs cousin Keith Sneed drives the Chow Bus as well as regular bus routes during the school year. The two make a good team ‚Äî tough and tender. They run their route every day in the summer heat, bus windows down. North keeps tabs on her people at each stop. She knows their stories and worries. And if they don‚Äôt show up for a few days, she‚Äôll be on the case.&lt;/p&gt;
    &lt;p&gt;They‚Äôd hardly parked at their first location, when a young man in a yellow T-shirt approached the bus. Sneed poked his head out the window. ‚ÄúMan, go get a book!‚Äù he said. ‚ÄúYou ain‚Äôt read a book all summer.‚Äù The boy couldn‚Äôt help but oblige. Book in hand, he got a fist bump from Sneed as he climbed up the steps for a meal.&lt;/p&gt;
    &lt;p&gt;‚ÄúIt‚Äôs not just about the food,‚Äù Sneed explained later. ‚ÄúAll they want is for you to listen to them.‚Äù But, of course, food is important, too. Not all schools can serve summer meals, which leaves many students at risk. And while this school used to have three Chow buses, funded by a USDA grant, they‚Äôre now down to one. ‚ÄúIf we lose this bus,‚Äù Sneed says, ‚Äúpeople will be hungry.‚Äù&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Cathy Hill (age 62; 2 years in the cafeteria; from Humboldt, Tennessee, but moved to Trenton)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;quote&gt;
      &lt;p&gt;Carolyn White ‚ÄúThe kids keep me active.‚Äù (age 64; 4 years in the cafeteria; came here from California)&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Today, my grandmother‚Äôs town of Blue Ridge is surrounded by million-dollar vacation homes, its downtown sidewalks lined with art galleries and outfitters selling $6,000 bamboo fly rods. The economic disparity between visitors and full-time residents is vast. Fannin County schools qualify for the Community Eligibility Provision, which allows free meals for all ‚Äî at least for now.&lt;/p&gt;
    &lt;p&gt;Martha Williams, who works as director of nutrition and wellness in Fannin County School District, grew up here and originally returned to teach math. But a cafeteria lunch lady inspired Williams to work in school nutrition when she pulled the teacher aside and pointed out a student who seemed disheveled and kept wearing the same clothes. Williams recognized the insights that can be gleaned from the serving line and how the work goes beyond keeping kids fed to providing stability, routine, and community care.&lt;/p&gt;
    &lt;p&gt;Williams points to another inspiration, GiGi Thomas, 63, who has worked in school food service for more than two decades. These days one of her duties is serving cookies, kept in an ancient warmer that ‚Äúprobably came over on the Mayflower,‚Äù Thomas says with a laugh. She hands students freshly baked cookies on napkins. ‚ÄúI see these kids every day,‚Äù she says. Some of them like chocolate chip cookies, others prefer sugar cookies. ‚ÄúIt tickles them to death that I kind of remember what they get.‚Äù&lt;/p&gt;
    &lt;p&gt;In 2023, her cookies were featured in the high school seniors‚Äô graduation video. ‚ÄúIf you don‚Äôt have the cookies, those kids are devastated,‚Äù Thomas says. ‚ÄúThat‚Äôs all you wanna do is take care of the kids.‚Äù&lt;/p&gt;
    &lt;p&gt;Over in West Tennessee, Seiber-Garland says she sometimes feels like she has 1,400 kids of her own. If no one shows up for a student on grandparents‚Äô day, she fills in. And she loves running into students outside school, where they‚Äôre excited to say, ‚ÄúThere‚Äôs my lunch lady!‚Äù Alumni sometimes share photos of their kids. ‚ÄúThey‚Äôre so special. Every one of them.‚Äù&lt;/p&gt;
    &lt;p&gt;Over her 22 years in the business, Seiber-Garland has served her mother‚Äôs recipe for poppyseed chicken as well as old favorites like chicken tetrazzini and spaghetti. ‚ÄúI‚Äôve always said, I want this to be their cafe. I can‚Äôt control what goes on at night. But for two-thirds or three-fourths of the day, I can. And I want them to be fed and happy, well, and blessed. They bless me.‚Äù&lt;/p&gt;
    &lt;p&gt;She tells of a student who kept trying to save her meal to carry home, because she didn‚Äôt have anything to eat there. Seiber-Garland and her staff found a way to provide her with a second meal for the evening. ‚ÄúI also had a parent come tell me to not let her child eat. And I‚Äôm like, No ma‚Äôam. If she asks to eat in my line, I‚Äôm gonna feed her.‚Äù&lt;/p&gt;
    &lt;p&gt;Seiber-Garland says there are people who donate every year to help pay off lunch balances that have remained unpaid. Recently, she created a ‚Äúshare table‚Äù on a red cart with a donated Yeti cooler that helps teach kids about reducing food waste. It‚Äôs where students can leave unopened milks or whole food that they don‚Äôt want for their classmates to enjoy. She‚Äôs also been known to cover lunches out of her own pocket, and her staff has taken up collections, too. ‚ÄúThey‚Äôre gonna be fed,‚Äù she says. ‚ÄúWe‚Äôll find a way.‚Äù&lt;/p&gt;
    &lt;p&gt;I hear in those words the resourcefulness and care of my own grandmother and a guiding phrase she taught my father in standing up for what you believe.&lt;/p&gt;
    &lt;p&gt;As Granny would say, ‚ÄúYou take your part.‚Äù ‚óä&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Jennifer Justus is a writer based in Atlanta, Georgia, and St. Petersburg, Florida. She is an editor at Wildsam and author of Nashville Eats (Abrams). Her work has been published in two editions of Cornbread Nation: The Best of Southern Food Writing, a publication of the Southern Foodways Alliance, and she has received national awards from the Society of Features Journalism, Society of Professional Journalists, and the Association of Food Journalists. Jennifer graduated from the University of Tennessee followed by Boston University where she created her own food writing curriculum with courses in journalism and the masters program in gastronomy, which was founded by Julia Child and Jacques Pepin, and focuses on the cultural study of food. She worked for six years as food culture reporter and features writer at The Tennessean newspaper before embarking on a freelance career that led to work in TIME, Rolling Stone Country, Southern Living, Garden &amp;amp; Gun and more. Jennifer is co-founder of the recipe storytelling project Dirty Pages. The project's first exhibit lives in the permanent collection of the Southern Food &amp;amp; Beverage Museum in New Orleans. She was born in the mountains of Blairsville, Georgia near the start of the Appalachian Trail, which might explain her love for soup beans and cornbread.&lt;/p&gt;
      &lt;p&gt;Houston Cofield is a photographer based in Memphis, Tennessee. His work explores mythology, fiction, and folklore that embody the American South.&lt;/p&gt;
      &lt;p&gt;‚Äî&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Top Photo: Peggy Davis ‚ÄúI‚Äôve been working here off and on since 1975 ‚Äî and still here.‚Äù (age 69; 50 years in the cafeteria; from Trenton, Tennessee)&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://bittersoutherner.com/issue-no-12/all-praise-to-the-lunch-ladies"/><published>2025-11-14T19:54:58+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45932131</id><title>Mentra (YC W25) Is Hiring: Head of Growth to Make Smart Glasses Mainstream</title><updated>2025-11-15T06:44:41.685071+00:00</updated><content>&lt;doc fingerprint="81b0117a139faf2d"&gt;
  &lt;main&gt;
    &lt;p&gt;Building the open source smart glasses operating system.&lt;/p&gt;
    &lt;p&gt;Mentra is building the operating system for smart glasses. Smart glasses will empower humans to be more than ever before. Use cases like subtitles for the deaf, proactive AI that during conversations, and POV streaming enhance our thinking and communication.&lt;/p&gt;
    &lt;p&gt;Mentra‚Äôs mission is to build universal interfaces between mind and machine.&lt;/p&gt;
    &lt;p&gt;We‚Äôre a team of passionate builders in San Francisco and Shenzhen building the world‚Äôs best smart glasses. We believe that the best future for computing is open, user-empowering, and cross-compatible.&lt;/p&gt;
    &lt;p&gt;We‚Äôre sitting on the most transformative technology since the iPhone and we need a Head of Growth to help us tell our story and show the world what smart glasses can do for them.&lt;/p&gt;
    &lt;p&gt;The Role&lt;/p&gt;
    &lt;p&gt;We‚Äôre hiring a Head of Growth to bring smart glasses to millions of people.&lt;/p&gt;
    &lt;p&gt;Success looks like this: Mentra is what people think of when they hear ‚Äúsmart glasses‚Äù. Thousands of devs in February building apps on MentraOS. Dozens of companies ordering 10,000s of units by Q2 2024. Viral launch videos online define internet culture. Big content creators use our glasses in their videos to make better content. 100,000 deaf/HoH people in 2026 using Mentra live captions.&lt;/p&gt;
    &lt;p&gt;The opportunity to show humanity that technology can once again be a force of good in the world.&lt;/p&gt;
    &lt;p&gt;What you‚Äôll do:&lt;/p&gt;
    &lt;p&gt;What we‚Äôre looking for:&lt;/p&gt;
    &lt;p&gt;Apply if you want to scale the next personal computer to billions of users.&lt;/p&gt;
    &lt;p&gt;Mentra is building MentraOS, the open-source OS for smart glasses. It's like Android for smart glasses.&lt;/p&gt;
    &lt;p&gt;Smart glasses hardware is finally ready, and we're building the software ecosystem to unlock the next personal computer.&lt;/p&gt;
    &lt;p&gt;Our team (ex. MIT, Tsinghua, JITX (YCS18), University of Toronto) has been building smart glasses for over 6 years.&lt;/p&gt;
    &lt;p&gt;The hardware was never ready, but breakthroughs in micro-optoelectronics has give us lightweight, all-day wearable smart glasses and put us on the precipice of the next personal computing revolution.&lt;/p&gt;
    &lt;p&gt;But the software still sucks. The apps still suck.&lt;/p&gt;
    &lt;p&gt;We're building MentraOS to change that. It's a fully open source operating system for smart glasses that unlocks this new interface for devs and brings their apps into the hands (and on the faces) of users.&lt;/p&gt;
    &lt;p&gt;This is not another B2B SaaS. We're going to eat Apple and Google's lunch. Help us architect the OS for the next personal computer.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.ycombinator.com/companies/mentra/jobs/2YbQCRw-make-smart-glasses-mainstream-head-of-growth"/><published>2025-11-14T21:00:25+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45932798</id><title>SSL Configuration Generator</title><updated>2025-11-15T06:44:41.523243+00:00</updated><content>&lt;doc fingerprint="db2d42fa8747b7e3"&gt;
  &lt;main&gt;
    &lt;p&gt;moz://a SSL Configuration Generator SSL Config Generator Server Software Apache AWS ALB AWS ELB Caddy Coturn Dovecot Exim Go HAProxy Jetty lighttpd MySQL nginx Oracle HTTP Postfix PostgreSQL ProFTPD Redis Squid stunnel Tomcat Traefik Mozilla Configuration Modern Services with clients that support TLS 1.3 and don't need backward compatibility Intermediate General-purpose servers with a variety of clients, recommended for almost all systems Old Compatible with a number of very old clients, and should be used only as a last resort Environment Server Version OpenSSL Version Miscellaneous This also redirects to HTTPS, if possible javascript required Copy&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://ssl-config.mozilla.org/"/><published>2025-11-14T22:15:04+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45932962</id><title>Go's Sweet 16</title><updated>2025-11-15T06:44:41.287406+00:00</updated><content>&lt;doc fingerprint="d395979280422d9"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;The Go Blog&lt;/head&gt;
    &lt;head rend="h1"&gt;Go‚Äôs Sweet 16&lt;/head&gt;
    &lt;p&gt;This past Monday, November 10th, we celebrated the 16th anniversary of Go‚Äôs open source release!&lt;/p&gt;
    &lt;p&gt;We released Go 1.24 in February and Go 1.25 in August, following our now well-established and dependable release cadence. Continuing our mission to build the most productive language platform for building production systems, these releases included new APIs for building robust and reliable software, significant advances in Go‚Äôs track record for building secure software, and some serious under-the-hood improvements. Meanwhile, no one can ignore the seismic shifts in our industry brought by generative AI. The Go team is applying its thoughtful and uncompromising mindset to the problems and opportunities of this dynamic space, working to bring Go‚Äôs production-ready approach to building robust AI integrations, products, agents, and infrastructure.&lt;/p&gt;
    &lt;head rend="h1"&gt;Core language and library improvements&lt;/head&gt;
    &lt;p&gt;First released in Go 1.24 as an experiment and then graduated in Go 1.25, the new &lt;code&gt;testing/synctest&lt;/code&gt; package
significantly simplifies writing tests for concurrent, asynchronous
code. Such code is particularly common in network services,
and is traditionally very hard to test well. The &lt;code&gt;synctest&lt;/code&gt; package works by
virtualizing time itself. It takes tests that used to be slow, flaky, or both,
and makes them easy to rewrite into reliable and nearly instantaneous tests,
often with just a couple extra lines of code. It‚Äôs also a great example of Go‚Äôs
integrated approach to software development: behind an almost trivial API, the
&lt;code&gt;synctest&lt;/code&gt; package hides a deep integration with the Go runtime and other parts
of the standard library.&lt;/p&gt;
    &lt;p&gt;This isn‚Äôt the only boost the &lt;code&gt;testing&lt;/code&gt; package got over the past year. The new
&lt;code&gt;testing.B.Loop&lt;/code&gt; API is both easier to use
than the original &lt;code&gt;testing.B.N&lt;/code&gt; API and addresses many of the traditional‚Äîand
often invisible!‚Äîpitfalls of writing Go benchmarks. The
&lt;code&gt;testing&lt;/code&gt; package also has new APIs that make it easy to
cleanup in tests that use
&lt;code&gt;Context&lt;/code&gt;, and that make it
easy to write to the test‚Äôs log.&lt;/p&gt;
    &lt;p&gt;Go and containerization grew up together and work great with each other. Go 1.25 launched container-aware scheduling, making this pairing even stronger. Without developers having to lift a finger, this transparently adjusts the parallelism of Go workloads running in containers, preventing CPU throttling that can impact tail latency and improving Go‚Äôs out-of-the-box production-readiness.&lt;/p&gt;
    &lt;p&gt;Go 1.25‚Äôs new flight recorder builds on our already powerful execution tracer, enabling deep insights into the dynamic behavior of production systems. While the execution tracer generally collected too much information to be practical in long-running production services, the flight recorder is like a little time machine, allowing a service to snapshot recent events in great detail after something has gone wrong.&lt;/p&gt;
    &lt;head rend="h2"&gt;Secure software development&lt;/head&gt;
    &lt;p&gt;Go continues to strengthen its commitment to secure software development, making significant strides in its native cryptography packages and evolving its standard library for enhanced safety.&lt;/p&gt;
    &lt;p&gt;Go ships with a full suite of native cryptography packages in the standard library, which reached two major milestones over the past year. A security audit conducted by independent security firm Trail of Bits yielded excellent results, with only a single low-severity finding. Furthermore, through a collaborative effort between the Go Security Team and Geomys, these packages achieved CAVP certification, paving the way for full FIPS 140-3 certification. This is a vital development for Go users in certain regulated environments. FIPS 140 compliance, previously a source of friction due to the need for unsupported solutions, will now be seamlessly integrated, addressing concerns related to safety, developer experience, functionality, release velocity, and compliance.&lt;/p&gt;
    &lt;p&gt;The Go standard library has continued to evolve to be safe by default and safe by design. For example, the &lt;code&gt;os.Root&lt;/code&gt;
API‚Äîadded in Go 1.24‚Äîenables traversal-resistant file system
access, effectively combating a class of vulnerabilities where an
attacker could manipulate programs into accessing files intended to be
inaccessible. Such vulnerabilities are notoriously challenging to address
without underlying platform and operating system support, and the new
&lt;code&gt;os.Root&lt;/code&gt; API offers a straightforward,
consistent, and portable solution.&lt;/p&gt;
    &lt;head rend="h2"&gt;Under-the-hood improvements&lt;/head&gt;
    &lt;p&gt;In addition to user-visible changes, Go has made significant improvements under the hood over the past year.&lt;/p&gt;
    &lt;p&gt;For Go 1.24, we completely redesigned the &lt;code&gt;map&lt;/code&gt;
implementation, building on the latest and greatest ideas in
hash table design. This change is completely transparent, and brings significant
improvements to &lt;code&gt;map&lt;/code&gt; performance, lower tail latency of &lt;code&gt;map&lt;/code&gt; operations, and
in some cases even significant memory wins.&lt;/p&gt;
    &lt;p&gt;Go 1.25 includes an experimental and significant advancement in Go‚Äôs garbage collector called Green Tea. Green Tea reduces garbage collection overhead in many applications by at least 10% and sometimes as much as 40%. It uses a novel algorithm designed for the capabilities and constraints of today‚Äôs hardware and opens up a new design space that we‚Äôre eagerly exploring. For example, in the forthcoming Go 1.26 release, Green Tea will achieve an additional 10% reduction in garbage collector overhead on hardware that supports AVX-512 vector instructions‚Äîsomething that would have been nigh impossible to take advantage of in the old algorithm. Green Tea will be enabled by default in Go 1.26; users need only upgrade their Go version to benefit.&lt;/p&gt;
    &lt;head rend="h1"&gt;Furthering the software development stack&lt;/head&gt;
    &lt;p&gt;Go is about far more than the language and standard library. It‚Äôs a software development platform, and over the past year, we‚Äôve also made four regular releases of the gopls language server, and have formed partnerships to support emerging new frameworks for agentic applications.&lt;/p&gt;
    &lt;p&gt;Gopls provides Go support to VS Code and other LSP-powered editors and IDEs. Every release sees a litany of features and improvements to the experience of reading and writing Go code (see the v0.17.0, v0.18.0, v0.19.0, and v0.20.0 release notes for full details, or our new gopls feature documentation!). Some highlights include many new and enhanced analyzers to help developers write more idiomatic and robust Go code; refactoring support for variable extraction, variable inlining, and JSON struct tags; and an experimental built-in server for the Model Context Protocol (MCP) that exposes a subset of gopls‚Äô functionality to AI assistants in the form of MCP tools.&lt;/p&gt;
    &lt;p&gt;With gopls v0.18.0, we began exploring automatic code modernizers. As Go evolves, every release brings new capabilities and new idioms; new and better ways to do things that Go programmers have been finding other ways to do. Go stands by its compatibility promise‚Äîthe old way will continue to work in perpetuity‚Äîbut nevertheless this creates a bifurcation between old idioms and new idioms. Modernizers are static analysis tools that recognize old idioms and suggest faster, more readable, more secure, more modern replacements, and do so with push-button reliability. What &lt;code&gt;gofmt&lt;/code&gt; did for
stylistic consistency, we hope modernizers can do for idiomatic
consistency. We‚Äôve integrated modernizers as IDE suggestions, where they can
help developers not only maintain more consistent coding standards, but where we
believe they will help developers discover new features and keep up with the
state of the art. We believe modernizers can also help AI coding assistants keep
up with the state of the art and combat their proclivity to reinforce outdated
knowledge of the Go language, APIs, and idioms. The upcoming Go 1.26 release
will include a total overhaul of the long-dormant &lt;code&gt;go fix&lt;/code&gt; command to make it
apply the full suite of modernizers in bulk, a return to its pre-Go 1.0
roots.&lt;/p&gt;
    &lt;p&gt;At the end of September, in collaboration with Anthropic and the Go community, we released v1.0.0 of the official Go SDK for the Model Context Protocol (MCP). This SDK supports both MCP clients and MCP servers, and underpins the new MCP functionality in gopls. Contributing this work in open source helps empower other areas of the growing open source agentic ecosystem built around Go, such as the recently released Agent Development Kit (ADK) for Go from Google. ADK Go builds on the Go MCP SDK to provide an idiomatic framework for building modular multi-agent applications and systems. The Go MCP SDK and ADK Go demonstrate how Go‚Äôs unique strengths in concurrency, performance, and reliability differentiate Go for production AI development and we are expecting more AI workloads to be written in Go in the coming years.&lt;/p&gt;
    &lt;head rend="h1"&gt;Looking ahead&lt;/head&gt;
    &lt;p&gt;Go has an exciting year ahead of it.&lt;/p&gt;
    &lt;p&gt;We‚Äôre working on advancing developer productivity through the brand new &lt;code&gt;go fix&lt;/code&gt;
command, deeper support for AI coding assistants, and ongoing improvements to
gopls and VS Code Go. General availability of the Green Tea garbage collector,
native support for Single Instruction Multiple Data (SIMD) hardware features,
and runtime and standard library support for writing code that scales even
better to massive multicore hardware will continue to align Go with modern
hardware and improve production efficiency. We‚Äôre focusing on Go‚Äôs ‚Äúproduction
stack‚Äù libraries and diagnostics, including a massive (and long in the making)
upgrade to &lt;code&gt;encoding/json&lt;/code&gt;, driven by Joe Tsai and people across
the Go community; leaked goroutine
profiling, contributed by
Uber‚Äôs Programming Systems team; and many
other improvements to &lt;code&gt;net/http&lt;/code&gt;, &lt;code&gt;unicode&lt;/code&gt;, and other foundational packages.
We‚Äôre working to provide well-lit paths for building with Go and AI, evolving
the language platform with care for the evolving needs of today‚Äôs developers,
and building tools and capabilities that help both human developers and AI
assistants and systems alike.&lt;/p&gt;
    &lt;p&gt;On this 16th anniversary of Go‚Äôs open source release, we‚Äôre also looking to the future of the Go open source project itself. From its humble beginnings, Go has formed a thriving contributor community. To continue to best meet the needs of our ever-expanding user base, especially in a time of upheaval in the software industry, we‚Äôre working on ways to better scale Go‚Äôs development processes‚Äîwithout losing sight of Go‚Äôs fundamental principles‚Äîand more deeply involve our wonderful contributor community.&lt;/p&gt;
    &lt;p&gt;Go would not be where it is today without our incredible user and contributor communities. We wish you all the best in the coming year!&lt;/p&gt;
    &lt;p&gt; Previous article: The Green Tea Garbage Collector&lt;lb/&gt; Blog Index &lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://go.dev/blog/16years"/><published>2025-11-14T22:33:15+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45933497</id><title>No Leak, No Problem ‚Äì Bypassing ASLR with a ROP Chain to Gain RCE</title><updated>2025-11-15T06:44:40.347051+00:00</updated><content>&lt;doc fingerprint="ba0999966147d7c5"&gt;
  &lt;main&gt;
    &lt;p&gt;After my previous post on ARM exploitation, where we crafted an exploit for a known vulnerability, I decided to continue the research on a more modern IoT target. In this follow-up post, I will take you through building a considerably more complex binary exploit. We will explore the path from firmware extraction and analysis to the discovery of a previously unknown vulnerability and its exploitation. Follow along as we build an ARM ROP chain to bypass ASLR without an address leak, and achieve unauthenticated RCE.&lt;/p&gt;
    &lt;head rend="h2"&gt;Target Overview&lt;/head&gt;
    &lt;p&gt;I examined the IN-8401 2K+, an IP camera from the German manufacturer INSTAR. It‚Äôs a modern networked surveillance camera that exposes a web-based user interface for configuration and live view. As I later found this particular model shares its firmware with other devices from INSTAR‚Äôs 2K+ and 4K series. According to Shodan1 there are roughly 12,000 INSTAR devices visible on the public internet.&lt;/p&gt;
    &lt;head rend="h2"&gt;Cracking the Shell Open&lt;/head&gt;
    &lt;p&gt;Before we can meaningfully hunt for vulnerabilities, we need to gain access to the device to obtain its firmware. Access to the firmware exposes binaries, configuration files, scripts and the filesystem layout and enables both static inspection and dynamic testing. Without the firmware we‚Äôre stuck with blind fuzzing of the network interface.&lt;/p&gt;
    &lt;p&gt;It‚Äôs always a good idea to collect as much information as possible before diving into analysis mode. So I started with some reading. INSTAR provides quite an extensive documentation about its cameras and their features. I found a very interesting page titled ‚ÄúRestore your HD Camera after a faulty Firmware upgrade‚Äù2. The article explained that the camera exposes a UART interface and how it could be accessed to restore a firmware image. UART is a hardware interface used for serial communication commonly found on development boards, embedded systems, and debugging interfaces. In the documentation it looked like it‚Äôs possible to boot right into a root shell.&lt;/p&gt;
    &lt;p&gt;Although the article was written for the HD camera models, not my 2K+, I figured it might be worth a shot, since manufacturers often reuse features and components across different product versions. I removed the front part of the housing and spotted the debugging interface as shown on the wiki page.&lt;/p&gt;
    &lt;p&gt;I went ahead and attached some PCBites to the interface and connected them to a FTDI, which is a small USB-to-serial converter.&lt;/p&gt;
    &lt;p&gt;I then plugged the FTDI into my Linux machine and connected to it. After supplying some input over the serial connection I was greeted with a login prompt, cool!&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;I tried a couple of the usual combinations like admin:admin, root:root, and so on, but had no success. The documentation explained that the boot process could be interrupted to obtain a root shell on the device‚Äôs OS. So I rebooted the camera to see if that worked.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;As you can see there was indeed a mechanism to stop the device from autobooting. But contrary to what the documentation suggested, interrupting the boot process didn‚Äôt provide a root shell on the OS, only in the U-Boot bootloader. U-Boot (short for Universal Bootloader) is an open-source bootloader commonly used in embedded systems to initialize hardware and load the operating system or firmware during startup.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;I noticed that the Kernel boot parameters were provided by an environment variable called &lt;code&gt;bootargs&lt;/code&gt;. I went ahead an tried the &lt;code&gt;init=/bin/sh&lt;/code&gt; trick which tells the Kernel to start a shell instead of the init process. I updated the variable accordingly and tried to boot using &lt;code&gt;nvt_boot&lt;/code&gt;.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;It worked. I added a new root user and rebooted the device. Now I was able to login to the device using the newly created user. I dumped the whole filesystem for analysis and as a backup so I could also restore it later, if anything went wrong along the way.&lt;/p&gt;
    &lt;head rend="h2"&gt;High-Level Architecture &amp;amp; Attack Surface&lt;/head&gt;
    &lt;p&gt;With the device unlocked and open for exploration it‚Äôs very easy to get swept away by curiosity. With the goal of finding exploitable vulnerabilities in mind it‚Äôs important to lay out something like an attack surface map first.&lt;/p&gt;
    &lt;p&gt;The web stack consisted of various components, most prominently a lighttpd web server that acted as an entry point and reverse proxy. I started by inspecting its configuration to see what it was doing. As you would expect from a reverse proxy, incoming requests were forwarded to the appropriate backend. For example, requests to files ending with &lt;code&gt;.cgi&lt;/code&gt; were routed to the fcgi_server binary through a socket at &lt;code&gt;/tmp/instt_fcgi.socket&lt;/code&gt;.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;I was mainly interested in finding code that was reachable without authentication. From my initial exploration I knew that there was an SQLite database file where the web interface users were stored, so the binary that performed authentication had to access this file. However, I couldn‚Äôt confirm that &lt;code&gt;fcgi_server&lt;/code&gt; was interacting with it. I concluded another component must be involved. In the process list I noticed a process called &lt;code&gt;ipc_server&lt;/code&gt;. I attached &lt;code&gt;strace&lt;/code&gt; to see what it was doing and found that incoming requests for most endpoints were forwarded from &lt;code&gt;fcgi_server&lt;/code&gt; to &lt;code&gt;ipc_server&lt;/code&gt; via &lt;code&gt;/tmp/insttv2_socket&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;As an example:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;On ipc_server‚Äôs end:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;As you can observe, the HTTP request wasn‚Äôt forwarded as-is, it was first serialized using some type of Type√¢Length√¢Value (TLV) structure. These observations also made it clear that authentication and the core application logic reside in the &lt;code&gt;ipc_server&lt;/code&gt; backend.&lt;/p&gt;
    &lt;p&gt;With this, I had identified two interesting targets: &lt;code&gt;fcgi_server&lt;/code&gt; and &lt;code&gt;ipc_server&lt;/code&gt;, both of which were reachable by an unauthenticated attacker.&lt;/p&gt;
    &lt;head rend="h2"&gt;Methodology&lt;/head&gt;
    &lt;p&gt;With the two main targets &lt;code&gt;fcgi_server&lt;/code&gt; and &lt;code&gt;ipc_server&lt;/code&gt; identified we can now focus on searching for vulnerabilities. In this section I want to quickly touch on the methods I employed for doing so.&lt;/p&gt;
    &lt;p&gt;Probably one of the most important ingredients for efficient vulnerability hunting is having a proper debugging setup in place. This allows for quickly double-checking any assumptions made during static analysis, tracing calls, and so on. I ran more or less an identical setup to the one used in the last research with a gdb server on the IP camera and a gdb client on the attacker‚Äôs machine.&lt;/p&gt;
    &lt;p&gt;For this research I primarily used two approaches: fuzzing, and a combination of static and dynamic analysis. I started off with something that I would call a very primitive way of black-box fuzzing using boofuzz3 on collected web endpoints. I tried fuzzing through all possible parameters I had found on various endpoints to see if I could trigger a crash. Although this approach yielded CVE-2025-87614, I felt like it was very inefficient as a crash of the whole system was the only thing I was able to reliably detect (more on that later).&lt;/p&gt;
    &lt;p&gt;As a secondary approach I spent quite some time on reverse engineering the two binaries &lt;code&gt;fcgi_server&lt;/code&gt; and &lt;code&gt;ipc_server&lt;/code&gt;. I tried to get an understanding of how things work while focusing on the usual suspects for memory corruption like bounds checking, pointer arithmetic, etc. To speed things up my process usually involved examining the decompiled binary, making assumptions, and verifying them using &lt;code&gt;gdb&lt;/code&gt; and &lt;code&gt;strace&lt;/code&gt; dynamically.&lt;/p&gt;
    &lt;head rend="h2"&gt;Vulnerability Hunting&lt;/head&gt;
    &lt;p&gt;Let‚Äôs have a look at some code. As described earlier &lt;code&gt;fcgi_server&lt;/code&gt; acted as some sort of custom middleware that translated web requests into ipc messages. In the decompiled binary I found a dispatcher for &lt;code&gt;.cgi&lt;/code&gt; endpoints which called certain handler functions based on the given URI.&lt;/p&gt;
    &lt;p&gt;In most of the handler functions a similar pattern emerged. Inside each handler there was a call to the same function which looked like another dispatcher. I identified the second dispatcher as some sort of authentication handler.&lt;/p&gt;
    &lt;p&gt;I assumed that the code had to extract and serialize the corresponding auth data from http requests differently, depending on the authentication mechanism used. There were several different handlers one of which I identified as the basic auth handler.&lt;/p&gt;
    &lt;p&gt;Inside the basic auth handler, there was a call to another function that looked like a custom implementation of Base64 decoding. As you might have noticed, the decompiled code contained typical C++ elements such as class methods, this pointers, and references to the C++ standard library. Most of the string-related functionality I had seen so far was therefore using C++√¢s standard string handling. In this case, however, I noticed a &lt;code&gt;memcpy&lt;/code&gt; that copied the decoded Base64 result into a fixed-size buffer (516 bytes) located on the stack.&lt;/p&gt;
    &lt;p&gt;Without spending much more time on static analysis, I moved on to perform some dynamic testing of the basic authentication functionality. First, I needed to verify my assumption that the basic auth handler and Base64 decode function were being triggered, so I set a few breakpoints and sent a request.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;The breakpoints triggered which confirmed my assumptions so far and I got back a 500.&lt;/p&gt;
    &lt;p&gt;Then I sent another request with a very long basic auth string exceeding the 516 buffer length in the base64 decode function.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;I got back another 500. However, the response wasn√¢t the same, this time it included an HTML error message. Strange, right? Let‚Äôs have a look at what the serial terminal showed.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;What happened? The program had crashed. &lt;code&gt;PC is at 0x41414140&lt;/code&gt; indicates that I had overwritten the stack since the code took the return address from the stack and tried jumping to it. In this case &lt;code&gt;0x41414140&lt;/code&gt; which corresponds to the payload sent. I had found a stack-based buffer overflow.&lt;/p&gt;
    &lt;p&gt;Why hadn‚Äôt I discovered this vulnerability during my initial fuzzing? I figured there were two reasons:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;The HTTP status code was the same as for a normal request, only the response body differed. So getting a 500 response to the request was nothing unusual.&lt;/item&gt;
      &lt;item&gt;The lighttpd server immediately restarted &lt;code&gt;fcgi_server&lt;/code&gt;, so the crash wasn‚Äôt noticeable from an outside perspective.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This once again highlights the importance of a proper debugging setup.&lt;/p&gt;
    &lt;head rend="h2"&gt;Exploitation&lt;/head&gt;
    &lt;p&gt;Before we jump to the fun part, a quick heads up: If you‚Äôre not familiar with binary exploitation or the ARM architecture I‚Äôd recommend to have a look at the previous blog post5 first as many concepts are similar to those from the previous research and won‚Äôt be described in detail in this post.&lt;/p&gt;
    &lt;p&gt;Let‚Äôs first discuss the preconditions of exploiting the discovered stack-based buffer overflow. We‚Äôre dealing with an ARMHF 32 bit binary, dynamically linked and stripped. As shown by &lt;code&gt;checksec&lt;/code&gt; the target binary isn‚Äôt protected by stack canaries, but does have the NX mitigation enabled. It isn‚Äôt compiled as a position independent executable (PIE) and has partial relocation read-only (RELRO).&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;What does this mean for us as attackers? Overwriting return addresses on the stack with an overflow is straightforward because of the lack of stack canaries. However, we can‚Äôt execute shellcode on the stack. Also, the binary will always be placed in the same memory region, because it wasn‚Äôt compiled as a PIE. Finally, partial RELRO means that the global offset table (GOT) comes before the BSS section in memory, which holds uninitialized global and static variables. This eliminates the risk of a buffer overflow from a global variable overwriting GOT entries6. Since our overflow is on the stack, this doesn‚Äôt really matter to us. What does matter though, is that it also means that the GOT is writable. Only full RELRO provides a read-only GOT.&lt;/p&gt;
    &lt;p&gt;Let‚Äôs also have a look at the libraries included by the target binary such as the libc. We can see that libc was compiled with PIE, meaning that it can be placed randomly in memory during runtime.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Evidently, when looking at the mitigations in place, it makes sense to consider a Return-oriented programming (ROP) chain to achieve command execution. A ROP chain leverages small code snippets, or gadgets, already present in a program‚Äôs memory. By linking these gadgets, an attacker constructs an unintended, attacker-controlled execution flow. The effectiveness of a ROP chain depends on the availability of suitable gadgets and the attacker‚Äôs knowledge of their memory addresses.&lt;/p&gt;
    &lt;p&gt;In our case we could use gadgets from the target binary (&lt;code&gt;fcgi_server&lt;/code&gt;) itself because their addresses are static and therefore known. These gadgets are quite limited though and eventually we would need to call file I/O functions or &lt;code&gt;system()&lt;/code&gt; provided by libc to gain command execution. Note that libc was compiled with PIE. I quickly confirmed on the device that address space layout randomization (ASLR) was enabled, so libc was indeed placed at a random address in memory.&lt;/p&gt;
    &lt;p&gt;I came up with a couple of ideas on how to deal with this:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Find a libc address leak through another vulnerability&lt;/item&gt;
      &lt;item&gt;Find a file read for /proc/self/maps&lt;/item&gt;
      &lt;item&gt;Leak a libc address through a ROP chain&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Unfortunately, I couldn‚Äôt quickly find another vulnerability that would let me leak a libc address. I considered reading &lt;code&gt;/proc/self/maps&lt;/code&gt; to locate libc, but that proved unsuccessful. I also looked into using gadgets in the target binary to build a ROP chain to leak a libc address. However, there was no straightforward way to exfiltrate the leaked pointer.&lt;/p&gt;
    &lt;p&gt;A bigger issue was that any ROP chain would eventually crash the binary, rendering the leak useless because libc would be relocated on the next start of &lt;code&gt;fcgi_server&lt;/code&gt;. In a stack-based buffer overflow, it‚Äôs also impossible to restore the stack to its previous state, as the very information required for restoration is overwritten.&lt;/p&gt;
    &lt;p&gt;One approach often used in this kind of scenario is to trigger the bug multiple times to prolong the crash: trigger it once to leak an address, then return to the vulnerable function and trigger the overflow again to make use of the leak. However, that approach requires an I/O channel to read the leak and then supply input again. Given the web-stack architecture we discussed and the bug√¢s location, that wasn‚Äôt feasible, so I concluded a one-shot exploit was likely the only viable option.&lt;/p&gt;
    &lt;head rend="h3"&gt;The Plan&lt;/head&gt;
    &lt;p&gt;There are several known techniques that revolve around the GOT and Procedure Linkage Table (PLT) to bypass ASLR. When a call to an external function such as &lt;code&gt;puts&lt;/code&gt; (libc) is made, the immediate call goes to &lt;code&gt;puts@plt&lt;/code&gt; which acts as a resolver of the actual address of &lt;code&gt;puts&lt;/code&gt; within libc. The resolved address is then stored in the GOT. If a specific function has already been resolved previously it is taken from the GOT by the &lt;code&gt;puts@plt&lt;/code&gt; stub7.&lt;/p&gt;
    &lt;p&gt;So the information needed to bypass ASLR lives in the GOT. Ideally we‚Äôd find the address of &lt;code&gt;system&lt;/code&gt; there, but the target binary never references &lt;code&gt;system&lt;/code&gt;, so it has no GOT/PLT entry. Instead, we could read a GOT entry for another function, compute the offset from that function to our target, and use that to redirect execution to the target. But all of this must be done via a ROP chain built from gadgets available in the binary.&lt;/p&gt;
    &lt;p&gt;The high level steps would look something like this:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Read a GOT entry and store in register x&lt;/item&gt;
      &lt;item&gt;Increment/decrement register x to reach target function (eg. addition, multiply, etc.)&lt;/item&gt;
      &lt;item&gt;Jump to x&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Or another approach:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Increment/decrement value pointed to by GOT pointer to reach target function (GOT is writable)&lt;/item&gt;
      &lt;item&gt;Dereference GOT pointer into register x&lt;/item&gt;
      &lt;item&gt;Jump to x&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Still a vast simplification, we would still need to move arguments into the correct registers and so on before jumping to the target function &lt;code&gt;system()&lt;/code&gt; but it‚Äôs a starting point.&lt;/p&gt;
    &lt;head rend="h3"&gt;Finding the Pieces&lt;/head&gt;
    &lt;p&gt;To pursue this idea I first wanted to find a GOT entry that is already populated when triggering the vulnerability. Within the vulnerable base64 decode function there is a call to &lt;code&gt;isalnum&lt;/code&gt; which is a libc function. Let‚Äôs have a look at its PLT and GOT entries.&lt;/p&gt;
    &lt;p&gt;Using &lt;code&gt;objdump&lt;/code&gt; we can see the address of the PLT entry inside &lt;code&gt;fcgi_server&lt;/code&gt; of &lt;code&gt;isalnum&lt;/code&gt;&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;To verify the corresponding GOT entry and actual address at runtime I set a breakpoint at the return statement after the overflow.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;As you can see the GOT entry is at &lt;code&gt;0x400c8&lt;/code&gt; which points to the actual address of &lt;code&gt;isalnum&lt;/code&gt; at &lt;code&gt;0x76ba86f0&lt;/code&gt; within libc.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Let‚Äôs see how far apart that &lt;code&gt;isalnum&lt;/code&gt; (0x76ba86f0) and &lt;code&gt;system&lt;/code&gt; (0x76bbb920) are.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;So that means that if we can add 0x13230 to the address at &lt;code&gt;isalnum@got&lt;/code&gt; we have the address of &lt;code&gt;system&lt;/code&gt;.&lt;/p&gt;
    &lt;head rend="h3"&gt;Gadgets, Gadgets and more Gadgets&lt;/head&gt;
    &lt;p&gt;Now to the tedious part. The only thing between the high-level plan and RCE was a bunch of gadgets, right? I initially tried tools such as &lt;code&gt;angrop&lt;/code&gt;8 to find and automatically chain gadgets, but ARM assembly offers many different, often multi-instruction ways to perform simple operations, e.g. add to a register or move values between registers. Those tools handle obvious, straightforward gadgets well, but they struggle once the gadget sequences become more complex. So in the end I reverted to manually searching and chaining gadgets with &lt;code&gt;Ropper&lt;/code&gt;9.&lt;/p&gt;
    &lt;p&gt;If no short, straightforward gadgets are available, you must resort to longer ones. Typically, the longer a gadget is, the more side effects it has, for example, overwriting registers or changing the stack pointer. The challenge is therefore to find gadgets that implement the required primitive while introducing only manageable side effects that later gadgets can correct.&lt;/p&gt;
    &lt;p&gt;The most crucial gadget in my chain was the one to add two values, preferably fully controllable. This would let me add the calculated offset to the address at &lt;code&gt;isalnum@got&lt;/code&gt; to get the address of &lt;code&gt;system&lt;/code&gt;. While there were a couple of gadgets to add static values like 0x1 or 0x2 to a register, these didn‚Äôt seem very useful because either a loop would be required to call them many times or the chain would become too long to reach the desired value. So I tried to find gadgets that added values from two registers such as the following one.&lt;/p&gt;
    &lt;code&gt;# 0x000228d8: add r6, fp, r6; ldrb sb, [ip, #1]; ldr sl, [ip, #2]; blx r3;
&lt;/code&gt;
    &lt;p&gt;Let‚Äôs break that down:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;add r6, fp, r6&lt;/code&gt;: Adds fp (r11) and r6, stores result in r6&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;ldrb sb, [ip, #1]&lt;/code&gt;: Dereferences ip (r12) + 1 byte, stores result in sb (r9)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;ldr sl, [ip, #2]&lt;/code&gt;: Dereferences ip (r12) + 2 word, stores result in sl (r10)&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;blx r3&lt;/code&gt;: Jumps to r3&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;As you can see here side effects can also mean that certain registers have to contain certain values beforehand. In this case ip (r12) has to contain a valid address that can be dereferenced. If that‚Äôs not the case, the program will crash.&lt;/p&gt;
    &lt;p&gt;So we have a gadget that allows us to add fp (r11) and r6. Ideally we want the address of &lt;code&gt;isalnum&lt;/code&gt; in r6 and the offset we calculated earlier in fp (r11) giving us the address of &lt;code&gt;system&lt;/code&gt; in r6 as an output of the gadget. But how do we get the address of &lt;code&gt;isalnum&lt;/code&gt; into r6? The address of &lt;code&gt;isalnum@got&lt;/code&gt; is known so we need a gadget to dereference it to obtain the address of &lt;code&gt;isalnum&lt;/code&gt; within libc.&lt;/p&gt;
    &lt;p&gt;To accomplish this, let‚Äôs have a look at this gadget:&lt;/p&gt;
    &lt;code&gt;# 0x000190ac: ldr r6, [r3, #0x10]; ldr r3, [r2, #4]; blx r3;
&lt;/code&gt;
    &lt;p&gt;Breakdown:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;ldr r6, [r3, #0x10]&lt;/code&gt;: Dereferences (r3 + 0x10), stores result in r6&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;ldr r3, [r2, #4]&lt;/code&gt;: Dereferences (r2 + 0x4), stores result in r3&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;blx r3;&lt;/code&gt;: Jumps to r3&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Exactly what we need, but as you can tell this gadget needs some specific preparation beforehand. To continue the chain with &lt;code&gt;blx r3&lt;/code&gt; we need to make sure &lt;code&gt;*(r2 + 0x4)&lt;/code&gt; results in the next gadget of the chain. But that should be doable.&lt;/p&gt;
    &lt;p&gt;Last but not least we need a gadget to jump to the calculated address. Unfortunately I simply couldn‚Äôt find one. I also couldn‚Äôt find ways of moving the address into another register for which call gadgets would exist. So where to go from here? I recalled that the GOT of the target binary is actually writable. So what about writing it back to the GOT? If that works we could just call &lt;code&gt;isalnum@plt&lt;/code&gt; which would then load the altered address from the GOT and jump to it.&lt;/p&gt;
    &lt;p&gt;Let‚Äôs try, here‚Äôs another gadget:&lt;/p&gt;
    &lt;code&gt;# 0x0002a3f8: str r0, [r4, #4]; pop {r4, r5, r6, pc};
&lt;/code&gt;
    &lt;p&gt;Breakdown:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;str r0, [r4, #4]&lt;/code&gt;: Dereferences (r4 + 0x4) and stores value of r0&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;pop {r4, r5, r6, pc}&lt;/code&gt;: Continues the chain&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This gadget enables us to store a value in r0 at &lt;code&gt;*(r4 + 0x4)&lt;/code&gt;. Given that we find gadgets to move our calculated address into r0 and &lt;code&gt;isalnum@got - 0x4&lt;/code&gt; into r4 this allows us to write the tampered address back to the GOT.&lt;/p&gt;
    &lt;p&gt;So if we could make everything line up the plan would be:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Dereference &lt;code&gt;isalnum@got&lt;/code&gt;entry and store it in r6&lt;/item&gt;
      &lt;item&gt;Add the calculated offset to &lt;code&gt;system&lt;/code&gt;to the register r6&lt;/item&gt;
      &lt;item&gt;Write the register r6 back to the GOT -&amp;gt; &lt;code&gt;isalnum@got&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;Prepare function arguments for &lt;code&gt;system&lt;/code&gt;&lt;/item&gt;
      &lt;item&gt;Call &lt;code&gt;isalnum@plt&lt;/code&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Building the Chain&lt;/head&gt;
    &lt;p&gt;The path wasn‚Äôt as straightforward as this write-up might imply. I spent quite some time trying to mix and match gadgets and even exchanged the ones discussed above numerous times until I came up with the following chain. Let me walk you through it.&lt;/p&gt;
    &lt;p&gt;The function epilogue of the vulnerable base64 function conveniently allows us to populate r4 to r11 before jumping to the first gadget. So in this case I added some values to r6, r9 and r11 for later use.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;As a first step of the chain, we do some preparations.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;What we do here is basically this:&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Note that we store &lt;code&gt;isalnum@got&lt;/code&gt; in r3 so the following gadget can dereference it into r6. As discussed before we have to make sure that r2 contains a stack pointer so the chain can continue with &lt;code&gt;blx r3&lt;/code&gt;.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;As shown above &lt;code&gt;*(sp + 0x4)&lt;/code&gt; is overwritten at runtime, so we need to make sure there is some scratch space on the stack so everything adds up properly.&lt;/p&gt;
    &lt;p&gt;When jumping to the gadget at 0x1cad0 the stack looks like this:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Address&lt;/cell&gt;
        &lt;cell role="head"&gt;Value&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;0x1000FFF8&lt;/cell&gt;
        &lt;cell&gt;0x1459c&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;0x1000FFF4&lt;/cell&gt;
        &lt;cell&gt;0x1cad0&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;0x1000FFF0&lt;/cell&gt;
        &lt;cell&gt;AAAA&lt;/cell&gt;
        &lt;cell&gt;&amp;lt;- stack pointer&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;The stack pointer still points at the AAAA value. So we continue with some readjustments of the stack pointer and preparations of the r3 register.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Next up is the discussed gadget to add &lt;code&gt;isalnum&lt;/code&gt;‚Äôs address an the calculated offset. The offset was already put into fp (r11) at the very beginning of the chain. Register r6 also contains &lt;code&gt;isalnum&lt;/code&gt;‚Äôs real address read from the GOT by now.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;The ip register can be disregarded as it won‚Äôt be used later and conveniently contained an address that points to the stack. Since we‚Äôre just reading from it, it also doesn‚Äôt invoke any undesirable side effects.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;As a next step we have a gadget that moves r6 into r0. So we move the calculated address (= &lt;code&gt;system&lt;/code&gt;) into r0. Also, we prepare the r4 register for the next step. To deal with the side effects of this gadget some more padding is added.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Finally, we reach the gadget that writes our calculated &lt;code&gt;system&lt;/code&gt; address back to the GOT.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;To our convenience it also allows us to write &lt;code&gt;isalnum@plt&lt;/code&gt; to r6.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;From here there isn‚Äôt much left to do. We move the stack pointer into r0 (first argument) and then call r6 which we previously populated with the address of &lt;code&gt;system&lt;/code&gt;.&lt;/p&gt;
    &lt;table&gt;
      &lt;row/&gt;
    &lt;/table&gt;
    &lt;p&gt;Let‚Äôs test things out:&lt;/p&gt;
    &lt;p&gt;RCE!&lt;/p&gt;
    &lt;head rend="h3"&gt;Why Didn‚Äôt You Just ‚Ä¶ ?&lt;/head&gt;
    &lt;p&gt;Attentive readers might have noticed this is a 32-bit binary, so why not just brute-force the address of &lt;code&gt;system()&lt;/code&gt;? This was indeed possible because the address space for 32-bit systems is significantly less than for 64-bit therefore the number of possible locations of libc is also a lot smaller. I used this approach for the first version of the exploit which worked fine. However, while probing for the correct address the exploit keeps crashing the target binary. If we think about a red team scenario this approach would be very noisy and should therefore be avoided. That‚Äôs why I decided to work out a more reliable exploit.&lt;/p&gt;
    &lt;head rend="h2"&gt;Wrapping up&lt;/head&gt;
    &lt;p&gt;We‚Äôve now walked the full path from firmware extraction and analysis, through vulnerability identification, and exploitation. I hope reading this was as enjoyable for you as the actual research was for me.&lt;/p&gt;
    &lt;p&gt;All vulnerabilities discovered during this research were reported through a responsible-disclosure process. Thanks to INSTAR for their prompt response, they fixed the issues and released an update within a short period of time. The 90-day disclosure period has elapsed, and along with this write-up the exploit is now publicly available here.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;
        &lt;p&gt;Shodan INSTAR Search - https://www.shodan.io/search?query=http.favicon.hash%3A-1748763891 ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;INSTAR Wiki: Restore Firmware - https://wiki.instar.com/en/Advanced_User/Restore_Firmware/) ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;boofuzz Fuzzing Framework - https://github.com/jtpereyda/boofuzz ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;INSTAR Advisory - https://modzero.com/static/MZ-25-03_modzero_INSTAR.pdf ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;ROPing our way to RCE - https://modzero.com/en/blog/roping-our-way-to-rce/ ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;CTF Handbook Relocation Read-Only - https://ctf101.org/binary-exploitation/relocation-read-only/ ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Cybersecurity Notes PLT and GOT - https://ir0nstone.gitbook.io/notes/binexp/stack/aslr/plt_and_got ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;angrop - https://github.com/angr/angrop ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;p&gt;Ropper - https://github.com/sashs/Ropper ‚Ü©Ô∏é&lt;/p&gt;
      &lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://modzero.com/en/blog/no-leak-no-problem/"/><published>2025-11-14T23:39:36+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45934416</id><title>AMD GPUs Go Brrr</title><updated>2025-11-15T06:44:40.006053+00:00</updated><content>&lt;doc fingerprint="a27a99184d3a2088"&gt;
  &lt;main&gt;
    &lt;p&gt;Team: William Hu, Drew Wadsworth, Sean Siddens, Stanley Winata, Daniel Fu, Ryan Swann, Muhammad Osama, Christopher R√©, Simran Arora&lt;lb/&gt; Links: Arxiv | Code&lt;/p&gt;
    &lt;p&gt;AI is compute hungry. So we've been asking: How do we build AI from the hardware up? How do we lead AI developers to do what the hardware prefers?&lt;/p&gt;
    &lt;p&gt;AMD GPUs are now offering state-of-the-art speeds and feeds. However, this performance is locked away from AI workflows due to the lack of mature AMD software. We share HipKittens, an opinionated collection of programming primitives to help developers realize the hardware's capabilities: optimized register tiles, 8-wave and 4-wave kernel patterns instead of wave-specialization to schedule work within processors, and chiplet-optimized cache reuse patterns to schedule work across processors.&lt;/p&gt;
    &lt;p&gt;Checkout part one of this series for an intro to HipKittens and checkout this post for a technical deep dive.&lt;/p&gt;
    &lt;head rend="h3"&gt;What do AMD CDNA GPUs look like? A lay of the land.&lt;/head&gt;
    &lt;p&gt;An AMD MI355X GPU has 256 processors called ‚Äúcompute units‚Äù (CUs) and a CU contains four SIMDs. A SIMD has different execution units. A 64-thread ‚Äúwave‚Äù (contrasting a 32-thread warp on NVIDIA) occupies a single SIMD. We show the MI355X memory hierarchy below.&lt;/p&gt;
    &lt;p&gt;Unsurprisingly, making AMD GPUs go brr boils down to keeping the ‚Äúmatrix cores‚Äù (tensor cores on NVIDIA) fed. There are a few differences in how we think about this hardware:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;What it's not. An MI355X has 70% the SRAM of a B200 (165KB instead of 228KB), lacks asynchronous matrix multiplication instructions that operate on inputs in shared or tensor memory (wgmma, tcgen05), lacks register reallocation (the ability for some waves to give their registers to others), lacks tensor memory acceleration (dedicated hardware for global memory access), and lacks first class mbarrier primitives (for fine-grained synchronization).&lt;/item&gt;
      &lt;item&gt;What it is. On the other hand, AMD GPUs have a 2x larger register file per processor than the B200 and offers 60% more processors per GPU (256 compute units versus 160 streaming multiprocessors). AMD offers tiny and fine-grained matrix core instructions, while NVIDIA tensor cores instructions are generally called with large input operands. AMD has a TMA-like direct global to shared memory loads via instructions, which bypass the register file.&lt;/item&gt;
      &lt;item&gt;Towards chiplet architectures. AMD is also leading the charge in the shift from monolithic grids to chiplets. AMD splits the 256 processors into 8 chiplets called ‚ÄúXCDs‚Äù of 32 CUs. NVIDIA B200s include 2 chips. The AMD cache is disaggregated: an AMD XCD has a private L2 cache and there is an extra last level cache (LLC) that sits between the L2 and HBM memory.&lt;/item&gt;
    &lt;/list&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Spec&lt;/cell&gt;
        &lt;cell role="head"&gt;NVIDIA B200 SXM5&lt;/cell&gt;
        &lt;cell role="head"&gt;AMD MI355X OAM&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;BF16 matrix / tensor&lt;/cell&gt;
        &lt;cell&gt;2.2 PFLOPs&lt;/cell&gt;
        &lt;cell&gt;2.5 PFLOPs&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;MXFP8 matrix / tensor&lt;/cell&gt;
        &lt;cell&gt;4.5 PFLOPs&lt;/cell&gt;
        &lt;cell&gt;5.0 PFLOPs&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;MXFP6 matrix / tensor&lt;/cell&gt;
        &lt;cell&gt;4.5 PFLOPs&lt;/cell&gt;
        &lt;cell&gt;10.1 PFLOPs&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;MXFP4 matrix / tensor&lt;/cell&gt;
        &lt;cell&gt;9.0 PFLOPs&lt;/cell&gt;
        &lt;cell&gt;10.1 PFLOPs&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Memory capacity&lt;/cell&gt;
        &lt;cell&gt;180 GB&lt;/cell&gt;
        &lt;cell&gt;288 GB&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Memory bandwidth&lt;/cell&gt;
        &lt;cell&gt;8.0 TB/s&lt;/cell&gt;
        &lt;cell&gt;8.0 TB/s&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table 1: Hardware overview. Peak memory and compute speeds for the latest generation GPU platforms.&lt;/p&gt;
    &lt;p&gt;These differences impact the ways in which we design kernels on AMD.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Optimized memory access: Of course this matters on NVIDIA, but AMD‚Äôs layouts, HIPCC compiler limitations, and (undocumented) quirky behaviors of different I/O instructions yields new challenges.&lt;/item&gt;
      &lt;item&gt;Scheduling within processors: We need to rely on our register file and small matrix core instructions instead of shared memory and bulky wgmma/tcgen05 instructions to establish deep pipelines and hide memory costs. Wave specialization / producer consumer, which reigns supreme in NVIDIA kernels, is not the right answer on AMD.&lt;/item&gt;
      &lt;item&gt;Scheduling across processors: We need to start thinking about NUMA effects at the cache level as we schedule work across thread blocks.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We walk through these three topics next.&lt;/p&gt;
    &lt;head rend="h3"&gt;HipKittens memory access patterns&lt;/head&gt;
    &lt;p&gt;As in ThunderKittens, in HK, developers program using tiles as the basic data structure. Tiles exist in shared or register memory, and are parametrized by a data type, size dimensions (a multiple of the matrix core instruction shape), and layout. HK provides a library of PyTorch-like functions that operate on tiles, for instance , , , , compute ops and load, store memory ops. A tile is collectively owned by threads in a wave (warp). The functions use template metaprogramming to generalize to different input tiles and are lightweight, directly wrapping assembly (PTX, CDNA ISA) and C++.&lt;/p&gt;
    &lt;p&gt;A memory layout determines how data elements map to thread ownership. A matrix core instruction expects a particular register layout depending on the data type and instruction shape. We also want to maximize the granularity and coalescing of global memory loads. Between registers and HBM, shared memory is split into banks (4-byte regions) that can serve data simultaneously. If threads from a wave request data from the same bank at the same time, their accesses are serialized; efficient kernels use ‚Äúswizzle patterns‚Äù to organize data in a way that avoids these bank conflicts.&lt;/p&gt;
    &lt;p&gt;A few challenges for memory access in HK include:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Register scheduling: A core tenant of HK and TK is to give developers full control over register allocation by remaining C++ embedded. Compilers like Triton prevent register management altogether, but surprisingly we find that even the HIPCC compiler imposes severe limitations (no wonder AMD uses raw assembly!).1 For instance, 4-wave (1-wave per SIMD) kernels compiled via HIPCC cannot use data held in certain types of registers as inputs to matrix instructions. This motivated us to add explicit register scheduling to HK, where developers pin specific registers when creating registers tiles, effectively replacing the compiler‚Äôs register management capabilities. Developers thus have the control necessary to write peak performance kernels!&lt;/item&gt;
    &lt;/list&gt;
    &lt;head&gt;Learn more about explicit register scheduling&lt;/head&gt;
    &lt;p&gt;When a single wave is mapped per SIMD, the 512 registers are actually divided into 256 accumulator general purpose registers (AGPRs) and 256 vector general purpose registers (VGPRs). AGPRs have fundamental hardware limitations (e.g., vector arithmetic instructions cannot operate on them), but they can still crucially serve as the input or outputs for MFMA instructions. HIPCC, however, cannot generate code that uses AGPRs as input to MFMA instructions, leading to inefficient register management for register heavy workloads and redundant accvgpr_read/write instructions that move data between VGPRs and AGPRs.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Register layouts: NVIDIA tensor core layouts are regular ‚Äì as we vary the data type or matrix shape, the layout is composed of an underlying ‚Äúcore matrix‚Äù structure. Thus, frameworks like TK and Gluon can apply a unified swizzling rule to avoid bank conflicts. However, AMD layouts differ significantly based on the data type and matrix shape. In fact, we show that it‚Äôs not possible to use a single swizzle pattern for all layouts. Further, sometimes we want to use multiple matrix shapes within the same kernel meaning that our swizzle pattern needs to be compatible with multiple types of layouts concurrently.&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Instruction phases: Waves (and NVIDIA warps) execute shared memory read/write instructions in phases, where a subset of threads in the wave access shared memory concurrently. NVIDIA instructions sequentially assign threads to phases (e.g., threads 0-7 in phase one, 8-15 in phase two). However, the phase groups are both non-sequential and differ entirely based on AMD CDNA memory instruction. For example, we found that a instruction reading 128 bits for each thread executes across 4 phases and has access to 64 banks. On the other hand, a instruction writing 64 bits for each thread executes across 4 phases and has access to only 32 banks. This behavior is not well-documented even within AMD(! üòî), so we created and release solvers that reverse-engineer this behavior.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head&gt;Learn why we can't use a single swizzle pattern for all AMD layouts.&lt;/head&gt;
    &lt;p&gt;Proof by contradiction:&lt;/p&gt;
    &lt;p&gt;To show why a single swizzling pattern is insufficient across different register tile shapes and layouts on AMD GPUs, consider the following two access patterns that surface in attention backwards:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;A row-layout 16x16 bf16 tile is written to shared memory. For this tile configuration, each thread holds 4 contiguous bf16 values - 64 bits in memory - and the most optimal instruction to issue this write is . Avoiding bank conflicts for this access requires a swizzle pattern that respects the phase ordering and bank behavior previously mentioned. In this case, a swizzle that abides by these constraints is computed as ^ , where 64-bit chunks of memory is shifted around memory using an XOR swizzle.&lt;/item&gt;
      &lt;item&gt;A row-layout 16x32 bf16 tile is read from shared memory. For this tile, each thread holds 8 contiguous bf16 values - 128 bits in memory - and the most optimal instruction to issue this read is .&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Regardless of the swizzling pattern required for , the granularities of these two instructions are in conflict with each other. requires at least 128 bits of memory to be contiguous in shared memory, and the swizzle pattern for breaks apart memory into 64-bit chunks. As a result, different swizzling patterns need to be used for each.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Address generation: AMD GPUs support direct asynchronous HBM to shared memory loads. Like TMA, these loads bypass the register file. The instruction takes as input per-thread addresses in HBM from which each thread will read data. While DSLs like TK directly swizzle the shared memory addresses, swizzling shared memory on AMD is instead accomplished by swizzling on the HBM addresses.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We provide developers with optimized tile layouts and memory access patterns by default within HK. Checkout our paper to learn more about how we implement solutions to the above challenges.&lt;/p&gt;
    &lt;head rend="h3"&gt;HipKittens schedules within a processor&lt;/head&gt;
    &lt;p&gt;Ideally we would have simple, reusable patterns for scheduling the compute and memory within kernels that generalize across AI workloads. Wave specialization / producer consumer serves this purpose on NVIDIA, but what about on AMD?&lt;/p&gt;
    &lt;p&gt;Wave specialization struggles on AMD. Wave specialization is the dominant paradigm for achieving high occupancy on modern NVIDIA GPUs. Producer waves focus on memory movement while consumer waves focus on computation. This strategy underpins today‚Äôs state-of-the-art AI kernels‚Äîincluding FlashAttention-3, COMET for MOE models, and high-performance GEMMs ‚Äîas well as kernel DSLs such as ThunderKittens LSCF and TileLang.&lt;/p&gt;
    &lt;p&gt;But, we show that wave specialization underperforms on AMD due to the lack of register reallocation. On the MI355X, registers are statically divided across all waves. Producer waves that only need a few registers for address calculation are allocated more registers than they need; consumer waves cannot recoup those registers and must either spill registers to scratch memory or run at a lower arithmetic intensity. Both are disastrous for performance. Wave specialization limits the output tile size and makes our kernels more memory bound. For GEMMs, data loaded from memory is O(MK + NK) while compute is O(MNK). Decreasing the M or N in our per thread block output tile size lowers arithmetic intensity. 2&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell role="head"&gt;# P / # C&lt;/cell&gt;
        &lt;cell role="head"&gt;MFMA Shape&lt;/cell&gt;
        &lt;cell role="head"&gt;Output&lt;/cell&gt;
        &lt;cell role="head"&gt;TFLOPS&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;HK 4 / 8&lt;/cell&gt;
        &lt;cell&gt;16√ó16√ó32&lt;/cell&gt;
        &lt;cell&gt;128√ó256&lt;/cell&gt;
        &lt;cell&gt;893&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;HK 4 / 12&lt;/cell&gt;
        &lt;cell&gt;16√ó16√ó32&lt;/cell&gt;
        &lt;cell&gt;192√ó256&lt;/cell&gt;
        &lt;cell&gt;1278&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;HK 0 / 8&lt;/cell&gt;
        &lt;cell&gt;16√ó16√ó32&lt;/cell&gt;
        &lt;cell&gt;192√ó256&lt;/cell&gt;
        &lt;cell&gt;1281&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;HK 0 / 8&lt;/cell&gt;
        &lt;cell&gt;16√ó16√ó32&lt;/cell&gt;
        &lt;cell&gt;256√ó256&lt;/cell&gt;
        &lt;cell&gt;1605&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;TK&lt;/cell&gt;
        &lt;cell&gt;256√ó256√ó16&lt;/cell&gt;
        &lt;cell&gt;256√ó256&lt;/cell&gt;
        &lt;cell&gt;1538&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;CUTLASS&lt;/cell&gt;
        &lt;cell&gt;256√ó256√ó16&lt;/cell&gt;
        &lt;cell&gt;256√ó256&lt;/cell&gt;
        &lt;cell&gt;1570&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Figure: Wave specialization underperforms on AMD GPUs. We benchmark AMD GEMMs on the MI355X using different numbers of producers (P) and consumer (C) waves. We report the matrix core intrinsic shape, output tile size computed per thread block, and TFLOPs (500 iterations warmup / 100 iterations measured). The CUTLASS GEMM is selected and tuned using the CUTLASS profiler tool on a B200 GPU.&lt;/p&gt;
    &lt;p&gt;As an aside, it might be surprising that AMD matches NVIDIA GEMM performance without all the bells and whistles of wgmma/tma, producer consumer, TMA, mbarriers, large shared memory for deep multi-stage pipelining etc. But‚Ä¶ AMD has a larger register file and AMD‚Äôs smaller tensor core shapes (e.g., ) provide an alternative path to establish deep pipelines by using finer-granularity load and compute stages.&lt;/p&gt;
    &lt;p&gt;Scheduling patterns for AMD. Our attempt to use wave specialization - a strategy that works well on NVIDIA GPUs - did not yield the expected speedups on AMD hardware. All is not lost! We found two scheduling patterns that consistently yield high occupancy AMD GPUs, while using tile programming primitives (no raw assembly)!&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;8-wave ping-pong: We assign two waves per SIMD and at any given time, one is executing a cluster of memory instructions while the other wave executes a cluster of compute instructions. The waves swap at the end of cluster execution. With this approach, the developer can use large HK tiles since a thread issues many of the same instructions at once!&lt;/item&gt;
      &lt;item&gt;4-wave interleave: We assign one wave per SIMD and threads in this wave finely switch between issuing memory and compute operations. Here, the developer uses small HK tiles (essentially matching the size of the matrix core instruction shape) to achieve the fine-grained schedule.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;These two patterns tradeoff programmability and performance, where 8-wave and its large tile primitives lead to compact code and 4-wave fine-grained interleaving expands code size. Surprisingly, the 8-wave schedule is sufficient to achieve SoTA-level performance on GEMMs and attention forwards. For GQA non-causal attention backwards, 8-wave also outperforms all AMD baselines by , and our HK 4-wave further outperforms by .&lt;/p&gt;
    &lt;head rend="h3"&gt;HipKittens schedules across processors&lt;/head&gt;
    &lt;p&gt;Modern GPUs are moving toward chiplet-based architectures, shifting away from traditional monolithic dies. AMD‚Äôs MI355X, for instance, integrates eight chiplets (XCDs), each with its own L2 cache, while NVIDIA‚Äôs B200 pairs two dies together. This shift enables higher scalability and yield but introduces a new performance challenge: disaggregated memory hierarchies. Each cluster of compute units now has local caches, and memory locality is no longer uniform across the chip.&lt;/p&gt;
    &lt;p&gt;On AMD GPUs, thread blocks are scheduled to chiplets in a round-robin fashion, meaning that the order in which blocks are launched‚Äîthe grid schedule‚Äîdirectly affects how effectively data is reused in cache. Even perfectly tuned kernels can lose bandwidth if their grid layout is cache-unfriendly.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="5"&gt;
        &lt;cell role="head"&gt;Block Order&lt;/cell&gt;
        &lt;cell role="head"&gt;L2 %&lt;/cell&gt;
        &lt;cell role="head"&gt;LLC %&lt;/cell&gt;
        &lt;cell role="head"&gt;Mem. BW&lt;/cell&gt;
        &lt;cell role="head"&gt;TFLOPS&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;Matrix Multiply (M=N=K=9216)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;Row-major&lt;/cell&gt;
        &lt;cell&gt;55%&lt;/cell&gt;
        &lt;cell&gt;95%&lt;/cell&gt;
        &lt;cell&gt;15.1 TB/s&lt;/cell&gt;
        &lt;cell&gt;1113&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;XCD (W 7/C 216)&lt;/cell&gt;
        &lt;cell&gt;79%&lt;/cell&gt;
        &lt;cell&gt;24%&lt;/cell&gt;
        &lt;cell&gt;14.9 TB/s&lt;/cell&gt;
        &lt;cell&gt;991&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;XCD (W 5/C 25)&lt;/cell&gt;
        &lt;cell&gt;75%&lt;/cell&gt;
        &lt;cell&gt;93%&lt;/cell&gt;
        &lt;cell&gt;18.3 TB/s&lt;/cell&gt;
        &lt;cell&gt;1145&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;Matrix Multiply (M=N=K=14592)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;Row-major&lt;/cell&gt;
        &lt;cell&gt;36%&lt;/cell&gt;
        &lt;cell&gt;76%&lt;/cell&gt;
        &lt;cell&gt;10.7 TB/s&lt;/cell&gt;
        &lt;cell&gt;900&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="5"&gt;
        &lt;cell&gt;XCD (W 8/C 542)&lt;/cell&gt;
        &lt;cell&gt;79%&lt;/cell&gt;
        &lt;cell&gt;7%&lt;/cell&gt;
        &lt;cell&gt;13.9 TB/s&lt;/cell&gt;
        &lt;cell&gt;980&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;XCD W 8/C 64&lt;/cell&gt;
        &lt;cell&gt;78%&lt;/cell&gt;
        &lt;cell&gt;55%&lt;/cell&gt;
        &lt;cell&gt;16.6 TB/s&lt;/cell&gt;
        &lt;cell&gt;1068&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Table: Performance results corresponding to the above chiplet swizzling figures.&lt;/p&gt;
    &lt;p&gt;Above for a GEMM , we show different patterns for assigning thread blocks the responsibility of computing different tiles of the output matrix . When thread blocks are scheduled in na√≠ve row-major order, cache reuse is suboptimal () because blocks that share the same L2 cache often load different, non-overlapping tiles of A and B. Further, optimizing purely for L2 locality can cause each XCD to fetch disjoint portions of A and B, leading to redundant loads at the next cache level.&lt;/p&gt;
    &lt;p&gt;To address this, HipKittens introduces a chiplet-aware scheduling strategy that reorganizes the grid launch order to better exploit locality at both the L2 (per-chiplet) and LLC (shared) cache levels for GEMM workloads. The key idea is to group thread blocks that operate on nearby regions of the output matrix so that they naturally reuse overlapping tiles of input data across cache hierarchies.&lt;/p&gt;
    &lt;head rend="h3"&gt;Putting it all together&lt;/head&gt;
    &lt;p&gt;Let's take a look at a few kernels written in HK.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;First, here's the hot loop of our attention forwards pass kernel (the entire kernel is lines of code). We can see that the kernel uses HK's 8-wave ping pong schedule where waves alternate between compute instruction clusters and memory clusters.&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;// hot loop
#pragma unroll
for (int j = 3; j &amp;lt; num_tiles - 1; j += 2) {
    // Cluster 0: Compute
    //      QK1 (QK multiplication for tile 1 of keys)
    zero(att_block[1]);
    swap_layout_and_transpose(k_reg_transposed, k_reg);
    mma_AtB(att_block[1], k_reg_transposed, q_reg_transposed, att_block[1]);
    //      Finish softmax for QK0 (Softmax w/r/t tile 0 of keys, which we started in the prologue)
    exp2(att_block[0].tiles[1][0], att_block[0].tiles[1][0]);
    mul(norm_vec, norm_vec, scale_vec);
    col_sum(norm_vec, att_block[0], norm_vec);
    copy(att_block_bf16, att_block[0]);
    att_block_bf16_in = *reinterpret_cast&amp;lt;attn_tile&amp;lt;D, bf16, col_l, rt_16x32_4_s&amp;gt;*&amp;gt;(&amp;amp;att_block_bf16);
    sched_barrier_exp_pairs&amp;lt;6, 3, 1&amp;gt;();
    sched_barrier_pairs&amp;lt;10, 5, 1&amp;gt;();
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);

    // Cluster 1: Memory
    //      Load K3 into shared (Tile 3 of keys)
    G::load&amp;lt;1, false&amp;gt;(k_smem[1], g.Kg, {batch_idx, j, head_idx_kv, 0});
    //      Load V0 into registers (Prepare for multiplication by tile 0 of values)
    load(v_reg, v_smem[0]);
    asm volatile("s_waitcnt lgkmcnt(0)");
    asm volatile("s_waitcnt vmcnt(2)");
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);

    // Cluster 2: Compute
    //      A0V0
    __builtin_amdgcn_s_setprio(1);
    mma_AtB(o_reg, v_reg, att_block_bf16_in, o_reg);
    //      Partial softmax for QK1
    col_max(max_vec, att_block[1], max_vec_prev);
    sub(scale_vec, max_vec_prev, max_vec);
    copy(max_vec_prev, max_vec);
    exp2(scale_vec, scale_vec);
    sub_col(att_block[1], att_block[1], max_vec);
    exp2(att_block[1].tiles[0][0], att_block[1].tiles[0][0]);
    sched_barrier_pairs&amp;lt;10, 5, 2&amp;gt;();
    sched_barrier_exp_pairs&amp;lt;6, 3, 2&amp;gt;();
    __builtin_amdgcn_sched_barrier(0);
    mul_col(o_reg, o_reg, scale_vec);
    __builtin_amdgcn_s_setprio(0); 
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);

    // Cluster 3: Memory
    //      Load V2 into shared
    G::load&amp;lt;1, false&amp;gt;(v_smem[0], g.Vg, {batch_idx, j - 1, head_idx_kv, 0});
    //      Load K2 into registers
    load(k_reg, k_smem[0]);
    asm volatile("s_waitcnt lgkmcnt(0)");
    asm volatile("s_waitcnt vmcnt(2)");
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);

    // Cluster 4: Compute
    //      QK2
    zero(att_block[0]);
    swap_layout_and_transpose(k_reg_transposed, k_reg);
    mma_AtB(att_block[0], k_reg_transposed, q_reg_transposed, att_block[0]);
    //      Finish softmax for QK1
    exp2(att_block[1].tiles[1][0], att_block[1].tiles[1][0]);
    mul(norm_vec, norm_vec, scale_vec);
    col_sum(norm_vec, att_block[1], norm_vec);
    copy(att_block_bf16, att_block[1]);
    att_block_bf16_in = *reinterpret_cast&amp;lt;attn_tile&amp;lt;D, bf16, col_l, rt_16x32_4_s&amp;gt;*&amp;gt;(&amp;amp;att_block_bf16);
    sched_barrier_exp_pairs&amp;lt;6, 3, 3&amp;gt;();
    sched_barrier_pairs&amp;lt;10, 5, 3&amp;gt;();
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);

    // Cluster 5: Memory
    //      Load K4 into shared
    G::load&amp;lt;1, false&amp;gt;(k_smem[0], g.Kg, {batch_idx, j + 1, head_idx_kv, 0});
    //      Load V1 into registers
    load(v_reg, v_smem[1]);
    asm volatile("s_waitcnt lgkmcnt(0)");
    asm volatile("s_waitcnt vmcnt(2)");
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);

    // Cluster 6: Compute
    //      A1V1
    __builtin_amdgcn_s_setprio(1);
    mma_AtB(o_reg, v_reg, att_block_bf16_in, o_reg);
    //      Partial softmax for QK2
    col_max(max_vec, att_block[0], max_vec_prev);
    sub(scale_vec, max_vec_prev, max_vec);
    copy(max_vec_prev, max_vec);
    exp2(scale_vec, scale_vec);
    sub_col(att_block[0], att_block[0], max_vec);
    exp2(att_block[0].tiles[0][0], att_block[0].tiles[0][0]);
    sched_barrier_pairs&amp;lt;10, 5, 4&amp;gt;();
    sched_barrier_exp_pairs&amp;lt;6, 3, 4&amp;gt;();
    __builtin_amdgcn_sched_barrier(0);
    mul_col(o_reg, o_reg, scale_vec);
    __builtin_amdgcn_s_setprio(0);
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);

    // Cluster 7: Memory
    //      Load V3 into shared
    G::load&amp;lt;1, false&amp;gt;(v_smem[1], g.Vg, {batch_idx, j, head_idx_kv, 0});
    //      Load K3 into registers
    load(k_reg, k_smem[1]);
    asm volatile("s_waitcnt lgkmcnt(0)");
    asm volatile("s_waitcnt vmcnt(2)");
    __builtin_amdgcn_sched_barrier(0); __builtin_amdgcn_s_barrier(); __builtin_amdgcn_sched_barrier(0);
}
&lt;/code&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Here's the core hot loop structure for our BF16 GEMM kernel. Again, we can see that waves alternate between compute clusters and memory clusters using HK's 8-wave ping pong schedule.&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;#pragma unroll
for (int tile = 0; tile &amp;lt; num_tiles - 2; ++tile, tic^=1, toc^=1) {
    // Cluster 0: Memory
    // load a sub-tile of the current A and B tiles from SMEM to register
    auto st_subtile_b = subtile_inplace&amp;lt;HALF_REG_BLOCK_N, K_STEP&amp;gt;(Bs[tic][0], {warp_col, 0});
    load(B_tile_0, st_subtile_b);
    auto st_subtile_a = subtile_inplace&amp;lt;HALF_REG_BLOCK_M, K_STEP&amp;gt;(As[tic][0], {warp_row, 0});
    load(A_tile, st_subtile_a);
    // load a portion of the future A tile into the shared memory buffer
    G::load(As[toc][1], g.a, {0, 0, row*2 + 1, tile + 1}, swizzled_offsets_A);
    asm volatile("s_waitcnt lgkmcnt(8)");
    __builtin_amdgcn_s_barrier();

    // Cluster 1: Compute
    // mfma on the sub-tile
    asm volatile("s_waitcnt lgkmcnt(0)");
    __builtin_amdgcn_s_setprio(1);
    mma_ABt(C_accum[0][0], A_tile, B_tile_0, C_accum[0][0]);
    __builtin_amdgcn_s_setprio(0);
    __builtin_amdgcn_s_barrier();
    __builtin_amdgcn_sched_barrier(0);

    // Cluster 2: Memory
    // load next sub-tile of B from SMEM to register 
    st_subtile_b = subtile_inplace&amp;lt;HALF_REG_BLOCK_N, K_STEP&amp;gt;(Bs[tic][1], {warp_col, 0});
    load(B_tile_1, st_subtile_b);
    G::load(Bs[tic][0], g.b, {0, 0, col*2, tile + 2}, swizzled_offsets_B);
    __builtin_amdgcn_s_barrier();

   // Cluster 3: Compute 
    asm volatile("s_waitcnt lgkmcnt(0)");
    __builtin_amdgcn_s_setprio(1);
    mma_ABt(C_accum[0][1], A_tile, B_tile_1, C_accum[0][1]);
    __builtin_amdgcn_s_setprio(0);
    __builtin_amdgcn_s_barrier();

    // Cluster 4: Memory
    st_subtile_a = subtile_inplace&amp;lt;HALF_REG_BLOCK_M, K_STEP&amp;gt;(As[tic][1], {warp_row, 0});
    load(A_tile, st_subtile_a);
    G::load(As[tic][0], g.a, {0, 0, row*2, tile + 2}, swizzled_offsets_A);
    __builtin_amdgcn_s_barrier();

    // Cluster 5: Compute
    asm volatile("s_waitcnt lgkmcnt(0)");
    __builtin_amdgcn_s_setprio(1);
    mma_ABt(C_accum[1][0], A_tile, B_tile_0, C_accum[1][0]);
    __builtin_amdgcn_s_setprio(0);
    __builtin_amdgcn_s_barrier();
    __builtin_amdgcn_sched_barrier(0);

    // Cluster 6: Memory
    // load a portion of the future B tile into the shared memory buffer
    G::load(Bs[tic][1], g.b, {0, 0, col*2 + 1, tile + 2}, swizzled_offsets_B);
    asm volatile("s_waitcnt vmcnt(6)");
    __builtin_amdgcn_s_barrier();
    
    // Cluster 7: Compute
    __builtin_amdgcn_s_setprio(1);
    mma_ABt(C_accum[1][1], A_tile, B_tile_1, C_accum[1][1]);
    __builtin_amdgcn_s_setprio(0);
    __builtin_amdgcn_s_barrier();
}
&lt;/code&gt;
    &lt;head rend="h3"&gt;Multi-silicon AI is coming!&lt;/head&gt;
    &lt;p&gt;HipKittens delivers competitive performance on AMD CDNA3 and CDNA4 through three key insights: optimized memory access, AMD-centric wave scheduling patterns within a processor, and chiplet-aware grid scheduling across processors to exploits AMD's disaggregated cache hierarchy. Our kernels consistently achieve peak performance amongst AMD baselines across workloads (and compete with peak Blackwell kernels as well).&lt;/p&gt;
    &lt;p&gt;Realizing AI's full potential requires diverse, open hardware.1 Today, that means making AMD GPUs truly accessible.&lt;/p&gt;
    &lt;p&gt;We want more AI in the world. AI has relied on and innovated on a single hardware provider, but we need to be able to use and experiment with all the compute we can. We need to be able to use the fastest hardware out there. We‚Äôre happy to help address these problems with HipKittens!&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;We believe that the HIPCC register scheduling is one of the most important areas for improvement in AMD's kernel software stack.‚Ü©&lt;/item&gt;
      &lt;item&gt;We hope these findings lead to hardware changes that support wave specialization or guide AMD kernel development; for instance, Mojo currently provides a warp-specialized matmul kernel as of 11/06/2025 even though AMD CDNA doesn‚Äôt have register reallocation.‚Ü©&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://hazyresearch.stanford.edu/blog/2025-11-09-amd-brr"/><published>2025-11-15T02:06:16+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45934940</id><title>I can't recommend Grafana anymore</title><updated>2025-11-15T06:44:39.774354+00:00</updated><content>&lt;doc fingerprint="9931085905659b4e"&gt;
  &lt;main&gt;
    &lt;p&gt; Published: 14/11/2025 &lt;lb/&gt; 6 minute read&lt;/p&gt;
    &lt;head rend="h1"&gt;I can‚Äôt recommend Grafana anymore&lt;/head&gt;
    &lt;quote&gt;
      &lt;p&gt;Disclaimer: This tells my personal experiences with Grafana products. It also incudes some facts but your experience may entirely vary and I would love to here your take.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;I started my work life at a small software company near my university. They develop, run websites and operate web services for multiple clients. Everyone had multiple responsibilities, and they heavily relied on interns and freshmen‚Äîwhich can be both bad and good.&lt;lb/&gt; For me it was good because I learned a lot.&lt;/p&gt;
    &lt;p&gt;At some point we needed a monitoring solution, and Zabbix didn‚Äôt fit well into the new and declarative world of containers and Docker. I was tasked to find a solution. I looked at Loki/Prometheus with Grafana and Elastic with Kibana. Elastic was a beast! Heavy, hard to run, resource-hungry, and complex, Loki and Prometheus were the perfect fit back then.&lt;/p&gt;
    &lt;p&gt;So I created a &lt;code&gt;docker-compose.yaml&lt;/code&gt; with Loki, Prometheus and Grafana. Since they all had the internal Docker network, we required no auth between them. Grafana was only exposed over an SSH tunnel. One static scrape config and the Docker Loki log plugin later, we had our observability stack. For non-Docker logs, we used Promtail. Loki and Prometheus stayed on the same machine and all we required was a local volume mount. Load was minimal.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;‚ÑπÔ∏è This is when I learned that you should not transform every log parameter to an label just to make it easier to select in the Grafana UI. Having a label for latency with basically limitless values will fill every disks inodes, thats just how Cortex bin-packs.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;I also found out Grafana Labs has a cloud offering with a nice free tier. So I even used this for personal stuff. I had a good experience with them.&lt;/p&gt;
    &lt;p&gt;Time goes on, and I switched jobs. Now we have Kubernetes.&lt;lb/&gt; The Prometheus container was now switching nodes. Roming storage was a problem back then, and also our workload increased by a lot. We also needed long-term storage (13 months). So I looked around and found Thanos and Mimir.&lt;lb/&gt; Previous experiences with Grafana products were good, so I chose Mimir. Should be similar to Loki since both are based on Cortex. Now we didn‚Äôt really need Prometheus anymore. We were only using &lt;code&gt;remote_write&lt;/code&gt; from Prometheus. Grafana had a solution for this. With the Grafana Agent, you can ship both logs and metrics to a remote location all in one binary. This seemed like a no-brainer.&lt;/p&gt;
    &lt;p&gt;Time goes on, and Grafana changed the Grafana Agent setup to Grafana Agent Flow Mode‚Äîsome adjustments, but okay - software changes. And man, did Grafana like to change things.&lt;/p&gt;
    &lt;p&gt;They started to build their own observability platform to steal some of DataDogs customers. They created Grafana OnCall their own notification system. Not only that, but they heavily invested in Helm charts and general starter templates. Basically two commands to install the metric/log shippers and use Grafana Cloud. And even when you don‚Äôt want or can‚Äôt use Grafana Cloud, here are the Helm charts to install Mimir/Loki/Tempo. To make things even easier, let‚Äôs all put it in an umbrella chart (it renders to 6k lines in the default state). Or use their Grafana Operator to manage Grafana installs - or at least parts of it.&lt;/p&gt;
    &lt;p&gt;As many may have experienced, software maintenance shows with age.&lt;lb/&gt; Grafana OnCall is deprecated, and Grafana Agent and Agent Flow were deprecated within 2-3 years of their creation. Some of the easy to use Helm charts are not maintained anymore. They also deprecated Angular within Grafana and switched to React for dashboards. This broke most existing dashboards.&lt;/p&gt;
    &lt;p&gt;On the same day they deprecated the Grafana Agent, they announced Grafana Alloy. The all in one replacement. It can do Logs, Metrics, Traces (zipkin &amp;amp; jaeger) and OTEL. The solution for everything!&lt;lb/&gt; The solution kind of had a rough start and was a little buggy. But it got better over time. The Alloy Operator also entered the game because why not.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;‚ÑπÔ∏è They choose to use their own configuration language for alloy. Something that looks like HCL. I can understand why thy didn‚Äôt want to use YAML but I‚Äôm still not a fan of this. Not everything needs their own DSL.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Happy End, right? - Not quite&lt;lb/&gt; The all-in-one solution does not support everything. While Grafana built their own monitoring empire, the kube-prometheus community consistently and naturally developed. The Prometheus Operator with &lt;code&gt;ServiceMonitor&lt;/code&gt; and &lt;code&gt;PodMonitor&lt;/code&gt; CRDs became the defacto standards. So Alloy also supports the &lt;code&gt;monitoring.coreos.com&lt;/code&gt; api-group CRDs, at least some parts of it. It natively works with &lt;code&gt;ServiceMonitor&lt;/code&gt; and &lt;code&gt;PodMonitor&lt;/code&gt;, but &lt;code&gt;PrometheusRules&lt;/code&gt; needs extra configuration. The &lt;code&gt;AlertmanagerConfig&lt;/code&gt; which would need to be implemented in Mimir is not supported. Because Mimir brings its own Alertmanager - at least sort of. There are version differences and small incompatibilities. ¬†&lt;/p&gt;
    &lt;p&gt;But I got it all working; now I can finally stop explaining to my boss why we need to re-structure the monitoring stack every year.&lt;/p&gt;
    &lt;p&gt;Grafana just released Mimir 3.0. They re-architected the ingestion logic for scalability, and now they use a message broker. Yes, Mimir in version 3.0 needs Apache Kafka to work.&lt;lb/&gt; None of the above things alone would be a reason to ditch Grafana products. Set aside the fact that they made it incredibly difficult now to find the ingestion endpoints for Grafana Cloud since they want to push users to use their new fleet-config management service. But all this together makes me uncomfortable recommending Grafana stuff.&lt;lb/&gt; I just don‚Äôt know what will change next.&lt;/p&gt;
    &lt;p&gt;I want stability for my monitoring; I want it boring, and that‚Äôs something Grafana is not offering. It seems like the pace within Grafana is way too fast for many companies, and I know for a fact that that pace is partially driven by career-driven development. There are some smart people at Grafana but not every customer is smart nor has the capacity to make Grafana their priority number one. Complexity kills - we‚Äôve seen this.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;‚ÑπÔ∏è Don‚Äôt get me wrong. Mimir, Loki and Grafana are technically really good software products and I (mostly) still like them but it‚Äôs the way these products are managed which makes me question them.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Sometimes I wonder how I would see this if I had chosen the ELK stack at my first job. I also wonder if the OpenShift approach (kube-prometheus-stack) with Thanos for long-term storage is the most time-stable solution. I just hope OTEL settles, gets stable and boring fast, and just lets me pick whatever I want for my backend. Because right now I‚Äôm done with monitoring. I just want to support our application and do not want to revisit the monitoring setup every x weeks, because monitoring is a necessity‚Äînot the product. At least for most companies.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://henrikgerdes.me/blog/2025-11-grafana-mess/"/><published>2025-11-15T03:58:01+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45935342</id><title>So, you want to design your own language?</title><updated>2025-11-15T06:44:39.157836+00:00</updated><content>&lt;doc fingerprint="e720009b8a253ae8"&gt;
  &lt;main&gt;&lt;p&gt;Of course you want to design (and implement!) your own programming language! It‚Äôs fun. It‚Äôs creative. It‚Äôs empowering.&lt;/p&gt;&lt;p&gt;How do we do it? In a nutshell, the process is iterative, cycling between four phases:&lt;/p&gt;&lt;p&gt;Doing the phases over and over is important; for example, while writing the compiler, you may be like ‚Äúwoah this is impossible‚Äù and then realize ‚Äúoh shoot this part of the language wasn‚Äôt designed right!‚Äù&lt;/p&gt;&lt;p&gt;It helps to be experienced. If you‚Äôre not, that‚Äôs okay, actually‚Äîyou might get lucky!&lt;/p&gt;&lt;p&gt;But don‚Äôt mistake creativity for luck that shows up without pre-existing knowledge. The most creative people are those with a lot of knowledge and experience. So you should still study and practice!&lt;/p&gt;&lt;p&gt;Your success as a language designer will be massively aided by knowledge in three main areas:&lt;/p&gt;&lt;p&gt;See Wikipedia‚Äôs list of programming paradigms.&lt;/p&gt;&lt;p&gt;I‚Äôm working on a glossary of such terms that may be helpful to review.&lt;/p&gt;&lt;p&gt;Also check out this mini-encyclopedia of 70 languages.&lt;/p&gt;&lt;p&gt;Here are some excellent cross-language comparisons that help you to hone your understanding of how different syntaxes can express the same ideas:&lt;/p&gt;&lt;p&gt;These are really good too:&lt;/p&gt;&lt;p&gt;Remember, many people have designed languages before you. They made mistakes. They came up with brilliant ideas. Many were wildly successful. Some never made it big. Some people have brought in years of research on how people think and learn to come up with principles for language (and environment) design.&lt;/p&gt;&lt;p&gt;You should learn form their experiences.&lt;/p&gt;&lt;p&gt;Study classic papers. Read web essays. Visit online courses. Here is a small sampling of things to study and places to look for more information:&lt;/p&gt;&lt;p&gt;Think about the future:&lt;/p&gt;&lt;p&gt;And understand that traditional, mainstream programming languages, are not at all the epitome of computational expression. Languages can be much more:&lt;/p&gt;&lt;p&gt;Ready to strike out on your own? Here are some things to think about, in the form of a, you guessed it, a checklist:&lt;/p&gt;&lt;p&gt;Come up with a list of capabilities, or features. Make sure they enable programmers to express their creations by following the suggestions and principles in the Learnable Programming essay, including:&lt;/p&gt;&lt;p&gt;What kind of questions might you have here? Here are some totally random ideas:&lt;/p&gt;&lt;code&gt;public&lt;/code&gt;, &lt;code&gt;private&lt;/code&gt;, and &lt;code&gt;protected&lt;/code&gt;, or are there conventions, like in Go, where capitalized entities are implicitly exportable and lower-cased entities are private?
  &lt;code&gt;let&lt;/code&gt;-expression for super-local scopes?
  &lt;code&gt;this&lt;/code&gt; expression?
  &lt;code&gt;break&lt;/code&gt; and &lt;code&gt;continue&lt;/code&gt;? Anything like Ruby‚Äôs &lt;code&gt;retry&lt;/code&gt; and &lt;code&gt;redo&lt;/code&gt;?
  &lt;code&gt;goto&lt;/code&gt;?
  &lt;quote&gt;What did I just read?&lt;p&gt;Feeling like only about 20% of the questions above made any sense? Feeling like that vocabulary came out of nowhere? That‚Äôs fine for now. Learning about programming languages can be a never-ending lifelong journey, but you can use the questions you don‚Äôt quite understand now as a place to start some research.&lt;/p&gt;&lt;p&gt;Oh, I have a glossary you might find helpful.&lt;/p&gt;&lt;/quote&gt;&lt;p&gt;When you have a good idea of your language features, you‚Äôll want to figure out a good way to organize them, structurally. This is known as your language‚Äôs abstract syntax. In an abstract syntax we don‚Äôt worry much about punctuation and parentheses and such microscopic details. We are interested in the overall structure. Here‚Äôs a look at abstract syntax trees in JavaScript:&lt;/p&gt;&lt;p&gt;When defining your language, you will want to specify exactly what the AST Nodes are, how they are related to each other, and what their properties are. For JavaScript, the AST Node types come from a specification called EsTree. I've summarized the main interfaces here:&lt;/p&gt;&lt;code&gt;Program sourceType:["script"|"module"] body:[Statement|ModuleDeclaration]
Statement
    Declaration
        FunctionDeclaration(Function) id:Identifier
        VariableDeclaration declarations:[VariableDeclarator] kind:("var"|"let"|"const")
        ClassDeclaration(Class) id:Identifier
    EmptyStatement
    DebuggerStatement
    ExpressionStatement expression:Expression
    BlockStatement body:[Statement]
    ReturnStatement argument:Expression?
    LabeledStatement label:Identifier body:Statement
    BreakStatement label:Identifier?
    ContinueStatement label:Identifier?
    IfStatement test:Expression consequent:Statement alternate:Statement?
    SwitchStatement discriminant:Expression cases:[SwitchCase]
    WhileStatement test:Expression body:Statement
    DoWhileStatement body:Statement test:Expression
    ForStatement init:(VariableDeclaration|Expression)? test:Expression? update:Expression? body:Statement
    ForInStatement left:(VariableDeclaration|Pattern) right:Expression body:Statement
        ForOfStatement await:boolean
    ThrowStatement argument:Expression
    TryStatement block:BlockStatement handler:CatchClause? finalizer:BlockStatement?
    WithStatement object:Expression body:Statement
Function id:Identifier? params:[Pattern] body:BlockStatement generator:bool async:bool
VariableDeclarator id:Pattern init:Expression?
SwitchCase test:Expression? consequent:[Statement]
CatchClause param:(Pattern?) body:BlockStatement
Expression
    ThisExpression
    Identifier(Pattern) name:string
    Literal value:(string|bool|number|Regexp|bigint)?
        RegExpLiteral regex:{pattern:string flags:string}
        BigIntLiteral bigint:string
    ArrayExpression elements:[(Expression|SpreadElement)?]
    ObjectExpression properties:[Property|SpreadElement]
    FunctionExpression(Function)
    ArrowFunctionExpression(Function) body:(BlockStatement|Expression) expression:bool
    UnaryExpression operator:UnaryOperator prefix:bool argument:Expression
    UpdateExpression operator:UpdateOperator argument:expression prefix:bool
    BinaryExpression operator:BinaryOperator left:Expression right:Expression
    AssignmentExpression operator:AssignmentOperator left:Pattern right:Expression
    LogicalExpression operator:LogicalOperator left:Expression right:Expression
    MemberExpression(ChainElement) object:(Expression|Super) property:Expression computed:bool
    ChainExpression expression:ChainElement 
    ConditionalExpression test:Expression consequent:Expression alternate:Expression
    CallExpression(ChainElement) callee:(Expression|Super) arguments:[(Expression|SpreadElement)]
    YieldExpression argument:Expression? delegate:bool
    TemplateLiteral quasis:[TemplateElement] expressions:[Expression]
    TaggedTemplateExpression tag:Expression quasi:TemplateLiteral
    NewExpression
    SequenceExpression expressions:[Expression]
    ClassExpression(Class)
    AwaitExpression argument:Expression
    ImportExpression source:Expression
    MetaProperty meta:Identifier property:Identifier
Class id:Identifier? superClass:Expression? body:ClassBody
ClassBody body:[MethodDefinition]
MethodDefinition key:Expression value:FunctionExpression kind:("constructor"|"method"|"get"|"set") computed:bool static:bool
SpreadElement argument:Expression
Property key:Expression value:Expression kind:("init"|"get"|"set") method:bool shorthand:bool computed:bool
    AssignmentProperty value:Pattern kind:"init" method:false
Pattern
    ObjectPattern properties:[AssignmentProperty|RestElement]
    ArrayPattern elements:[Pattern?]
    RestElement argument:Pattern
    AssignmentPattern left:Pattern right:Expression
Super
TemplateElement tail:boolean value:{cooked:string? raw:string}
ChainElement optional:boolean
enum UnaryOperator {"-"|"+"|"!"|"~"|"typeof"|"void"|"delete"}
enum UpdateOperator {"++"|"--"}
enum BinaryOperator {"=="|"!="|"==="|"!=="|"&amp;lt;"|"&amp;lt;="|"&amp;gt;"|"&amp;gt;="|"&amp;lt;&amp;lt;"|"&amp;gt;&amp;gt;"|"&amp;gt;&amp;gt;&amp;gt;"|"+"|"-"|"*"|"/"|"%"|"**"|"|"|"^"|"&amp;amp;"|"in"|"instanceof"}
enum AssignmentOperator {"="|"+="|"-="|"*="|"/="|"%="|"**="|"&amp;lt;&amp;lt;="|"&amp;gt;&amp;gt;="|"&amp;gt;&amp;gt;&amp;gt;="|"|="|"^="|"&amp;amp;="}
enum LogicalOperator {"||"|"&amp;amp;&amp;amp;"|"??"}
ModuleDeclaration
    ImportDeclaration specifiers:[ImportSpecifier|ImportDefaultSpecifier|ImportNamespaceSpecifier] source:Literal
    ExportNamedDeclaration declaration:Declaration? specifiers:[ExportSpecifier] source:Literal?
    ExportDefaultDeclaration declaration:(Declaration|Expression)
    ExportAllDeclaration source:Literal exported:(Identifier?)
ModuleSpecifier local:Identifier
    ImportSpecifier imported:Identifier
    ImportDefaultSpecifier
    ImportNamespaceSpecifier
    ExportSpecifier exported:Identifier
&lt;/code&gt;
&lt;p&gt;I‚Äôve built an interactive application for you to explore AST generation. Please try it out!.&lt;/p&gt;&lt;quote&gt;Too much detail?&lt;p&gt;You may notice that the EsTree specification has a lot more detail than the hand-drawn ASTs in the video above. This is okay. The specification is used to build actual compilers and interpreters, while for hand-drawn ASTs we just like to give the big picture and can take some ‚Äúshortcuts.‚Äù&lt;/p&gt;&lt;/quote&gt;&lt;p&gt;Now it‚Äôs time to think about what your language will really look like! Remember that design is creative and iterative, so you will want to begin, like all artists do, with sketches:&lt;/p&gt;&lt;p&gt;Do a lot of experimentation here! You will probably want to put creative effort into designing languages people like to use! What kind of syntax issues do they deal with? Dozens, actually, and we can‚Äôt cover them all. But how about a taste of just a few. We‚Äôll peek at just a few issues that sometimes generate strong opinions.&lt;/p&gt;&lt;p&gt;You will need to adopt a scheme for showing structure. The popular approaches are: Curly-brace (JavaScript, Java, C++, C#), Terminal-end (Ruby, Ada), Nested parentheses (Lisp, Clojure, Racket), Indentation (Python), Blocks (EToys, Scratch, Snap!), Pictures (Piet), Other (Haskell, Erlang, Prolog).&lt;/p&gt;&lt;p&gt;The important idea here is that a single abstract syntax can be realized with many different concrete syntaxes. A concrete syntax specifies exactly which strings of characters make up structurally valid programs. For example, the AST:&lt;/p&gt;&lt;p&gt;represents each of the following (and more!):&lt;/p&gt;&lt;code&gt;while y - 5 == 3:
    print(x * (3 + y))
&lt;/code&gt;
&lt;code&gt;while y - 5 == 3 {
  print(x * (3 + y))
}
&lt;/code&gt;
&lt;code&gt;while y - 5 == 3 loop
  print(x * (3 + y))
end
&lt;/code&gt;
&lt;code&gt;(while (= (- y 5) 3)
    (print (* x (+ 3 y))))
&lt;/code&gt;
&lt;code&gt;y 5 - 3 == [x 3 y + * print] while&lt;/code&gt;. Do you know of, or can you find, any languages which have that kind of syntax?
&lt;p&gt;In addition to structure, your choice of keywords, operators, punctuation (or lack thereof) are part of your design. Here‚Äôs an abstract syntax:&lt;/p&gt;&lt;p&gt;Let‚Äôs try out a few things:&lt;/p&gt;&lt;code&gt;program:
    var x, y: integer
    while y - 5 == 3:
        var y: integer
        get(x)
        get(y)
        x = 2 * (3 + y)
    put(5)
&lt;/code&gt;
&lt;code&gt;int x, y;
while y - 5 = 3 {
    int y;
    STDIN -&amp;gt; x;
    STDIN -&amp;gt; y;
    x &amp;lt;- 2 * (3 + y);
}
STDOUT &amp;lt;- 5;
&lt;/code&gt;
&lt;code&gt;COMMENT THIS LOOKS LIKE OLD CODE
DECLARE INT X.
DECLARE INT Y.
WHILE DIFFERENCE OF Y AND 5 IS 3 LOOP:
    DECLARE INT Y.
    READ FROM STDIN INTO X.
    READ FROM STDIN INTO Y.
    MOVE PRODUCT OF 2 AND (SUM OF 3 AND Y) INTO X.
END LOOP.
WRITE 5 TO STDOUT.
&lt;/code&gt;
&lt;code&gt;(program
  (declare x int)
  (declare y int)
  (while (= (- y 5) 3)
    (define (y int))
    (read x y)
    (assign x (* 2 (+ 3 y)))
  )
  (write 5)
)
&lt;/code&gt;
&lt;p&gt;How to separate one construct from another is a really big issue in syntax design, believe it or not. We can identify two main classes of languages: those in which newlines are significant and those in which they are not.&lt;/p&gt;&lt;p&gt;In many languages, newlines are just like any other whitespace character (except for minor exceptions such as single-line comments and single-line string literals. Then, unless you have an S-Expression-based syntax as in LISP, Scheme, and Clojure, you‚Äôll need semicolons to terminate (or separate) statements. This means you can (but shouldn‚Äôt) write code like:&lt;/p&gt;&lt;code&gt;#define ZERO 0
    unsigned  gcd(   unsigned   int  // Euclid's algorithm
      x,unsigned   y) {   while ( /* hello */  x&amp;gt;   ZERO
   ){unsigned temp=x;x=y   %x;y  = temp ;}return

   y ;}
&lt;/code&gt;
&lt;p&gt;Where you place your newlines matters greatly in, let‚Äôs see, Assembly languages, Python, Ruby, JavaScript, Elm, Haskell, Go, Swift, and yes, many others. The rules can get pretty technical.&lt;/p&gt;&lt;p&gt;Python scripts are defined as sequences of logical lines, delimited by the token NEWLINE. A statement may not cross logical lines, except in the case of compound statements in which each constituent simple statement ends with a NEWLINE. Logical lines are made up of one or more physical lines according to line joining rules. Lines are implicitly jointed within parentheses, brackets, or braces; lines can be explicitly joined by ending with a backslash. These rules are somewhat exclusive of comments and string literals.&lt;/p&gt;&lt;p&gt;Ruby looks at the end of each line and says ‚Äúwell if up to here it looks like we‚Äôve completed a statement the we have.‚Äù This means you have to be careful where you break lines:&lt;/p&gt;&lt;code&gt;puts 5
  + 3
puts 5 +
  3
&lt;/code&gt;
&lt;p&gt;prints 5 then 8.&lt;/p&gt;&lt;p&gt;JavaScript requires most statements to be terminated by semicolons, but the compiler will put one in for you if it looks like you might have missed one. The rules by which this automatic semicolon insertion (ASI) is done have to be learned and they might be hard to remember.&lt;/p&gt;&lt;quote&gt;&lt;p&gt;[God creating JavaScript]&lt;/p&gt;‚Äî Neckbeard Hacker (@NeckbeardHacker) August 24, 2016&lt;lb/&gt;GOD: It uses prototype-based inheritance.&lt;lb/&gt;Angel: Nice.&lt;lb/&gt;GOD: Also it secretly adds semicolons to ur code.&lt;lb/&gt;A: wat&lt;/quote&gt;&lt;p&gt;If you are going to be a serious JavaScript programmer, you need to learning the rules of ASI whether you choose to use semicolons or not.&lt;/p&gt;&lt;p&gt;Some people feel very strongly whether to use or not to use semicolons:&lt;/p&gt;&lt;p&gt;Most programming languages have functions. Seriously. But there are a lot of ways to work them into your design. Basic questions include: Must functions have exactly one argument, or zero or more arguments? Parens or no parens? Positional or keyword arguments? Argument labels? If no arguments, can we omit parentheses?&lt;/p&gt;&lt;p&gt;You can play around and see what you can come up with:&lt;/p&gt;&lt;code&gt;push(myStack, 55)&lt;/code&gt;&lt;code&gt;push myStack 55&lt;/code&gt;&lt;code&gt;[push myStack 55]&lt;/code&gt;&lt;code&gt;(push myStack 55)&lt;/code&gt;&lt;code&gt;push(on: myStack, theValue: 55)&lt;/code&gt;&lt;code&gt;push(theValue: 55, on: myStack)&lt;/code&gt;&lt;code&gt;push on:myStack theValue:55&lt;/code&gt;&lt;code&gt;push({ on: myStack, theValue: 55 })&lt;/code&gt;&lt;code&gt;push { on: myStack, theValue: 55 }&lt;/code&gt;&lt;code&gt;push({ theValue: 55, on: myStack })&lt;/code&gt;&lt;p&gt;You might want to consider an ultra-low precedence function application, like they have in Haskell and F#:&lt;/p&gt;&lt;code&gt;sum (filter even (map square a))&lt;/code&gt;&lt;code&gt;sum $ filter even $ map square $ a&lt;/code&gt;&lt;code&gt;sum &amp;lt;| filter even &amp;lt;| map square &amp;lt;| a&lt;/code&gt;&lt;code&gt;a |&amp;gt; filter even |&amp;gt; map square |&amp;gt; sum&lt;/code&gt;&lt;p&gt;The flip side of function calls is function definitions. You‚Äôre likely familiar with default parameters, and rest parameters. Python has cool mechanisms for requiring arguments to be positional or keyword, based on the definition. Examples:&lt;/p&gt;&lt;code&gt;def sqrt(x, /)&lt;/code&gt;&lt;code&gt;def line(*, x1, x2, y1, y2, width, style, color)&lt;/code&gt;&lt;code&gt;def f(a, b, /, c, d, *, e, f)&lt;/code&gt;&lt;p&gt;Syntactic sugar refers to forms in a language that make certain things easier to express, but can be considered surface translations of more basic forms.&lt;/p&gt;&lt;p&gt;This is best understood by example. There are zillions of examples out there. Here are a few. (Disclaimer: Some of these are just examples I made up and are not part of any real language.)&lt;/p&gt;&lt;table&gt;&lt;row span="3"&gt;&lt;cell role="head"&gt;Construct&lt;/cell&gt;&lt;cell role="head"&gt;Desugared Form&lt;/cell&gt;&lt;cell role="head"&gt;Description&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;x += n&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;x = x + n&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Compound assignment&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;a + b&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;operator+(a, b)&lt;/code&gt; or&lt;code&gt;"+"(a, b)&lt;/code&gt; or&lt;code&gt;__add__(a, b)&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Common in languages that allow overloading&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;a[i]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;*(a + i)&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;(C, C++ pointer arithmetic) And &lt;code&gt;i[a]&lt;/code&gt; works too!

&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;p -&amp;gt; x&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;(*p).x&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;(C, C++) Field of struct being pointed to&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;f&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;f()&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Some languages let you leave off parentheses in calls with no arguments&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;f x&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;f(x)&lt;/code&gt; or&lt;code&gt;x.f()&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Some languages let you leave off parentheses in calls with one argument&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;x op y&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;op(x, y)&lt;/code&gt; or&lt;code&gt;x.op(y)&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Some languages let you leave off parentheses in calls with two arguments&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;let¬†x=E1¬†in¬†E2&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;(x =&amp;gt; E2)(E1)&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Let-expression (in functional languages)&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;(E1 ; E2)&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;(() =&amp;gt; E2)(E1)&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Expression sequencing (in eager functional languages)&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;r = [s&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;r = []&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;List comprehension&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;x orelse y&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;if x then x else y&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;(Standard ML) short-circuit disjunction&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;x¬†andalso¬†y&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;if¬†x¬†then¬†y¬†else¬†x&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;(Standard ML) short-circuit conjunction&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;&lt;code&gt;[x, y, z]&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;x :: y :: z :: nil&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;Lists in Standard ML&lt;/cell&gt;&lt;/row&gt;&lt;row&gt;&lt;cell&gt;&lt;code&gt;"a${x}b"&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;&lt;code&gt;"a" + x + "b"&lt;/code&gt;&lt;/cell&gt;&lt;cell&gt;String interpolation&lt;/cell&gt;&lt;/row&gt;&lt;/table&gt;&lt;p&gt;When the sugared form is completely gratuitous or actually makes the code less readable, you sometimes hear the term syntactic syrup or syntactic saccharin.&lt;/p&gt;&lt;p&gt;Here‚Äôs the definition from The New Hacker‚Äôs Dictionary:&lt;/p&gt;&lt;quote&gt;The opposite of syntactic sugar, a feature designed to make it harder to write bad code. Specifically, syntactic salt is a hoop the programmer must jump through just to prove that he knows what‚Äôs going on, rather than to express a program action. Some programmers consider required type declarations to be syntactic salt. A requirement to write ‚Äú&lt;code&gt;end if&lt;/code&gt;‚Äù, ‚Äú&lt;code&gt;end while&lt;/code&gt;‚Äù, ‚Äú&lt;code&gt;end do&lt;/code&gt;‚Äù, etc. to terminate the last block controlled by a control construct (as opposed to just ‚Äú&lt;code&gt;end&lt;/code&gt;‚Äù) would definitely be syntactic salt. Syntactic salt is like the real thing in that it tends to raise hackers‚Äô blood pressures in an unhealthy way.&lt;/quote&gt;&lt;p&gt;Some people love verbose code, because explicit is better than implicit. But if you are language designer, be pragmatic: there is such a thing as code that is too verbose. What about trying to make the code like human language? Here‚Äôs an example in Hypertalk (taken from Wikipedia):&lt;/p&gt;&lt;code&gt;on mouseDown
  answer file "Please select a text file to open."
  if it is empty then exit mouseDown
  put it into filePath
  if there is a file filePath then
    open file filePath
    read from file filePath until return
    put it into cd fld "some field"
    close file filePath
    set the textStyle of character 1 to 10 of card field "some field" to bold
  end if
end mouseDown
&lt;/code&gt;
&lt;p&gt;And here‚Äôs an example from a language that some students developed, and regretted:&lt;/p&gt;&lt;code&gt;to get the truth value prime of whole number n:
    return no if n &amp;lt; 2
    for each d in 3 to n - 1 by 2:
        return no if d divides n
    end
    return yes
end
for each k in 1 to 100:
    write k if prime(k)
end
&lt;/code&gt;
&lt;p&gt;In practice this kind of verbosity is worse than it sounds. Here‚Äôs what the New Hacker‚Äôs Dictionary has to say about this:&lt;/p&gt;&lt;quote&gt;candygrammar /n./ A programming-language grammar that is mostly syntactic sugar; the term is also a play on ‚Äúcandygram.‚Äù COBOL, Apple‚Äôs Hypertalk language, and a lot of the so-called ‚Äú4GL‚Äù database languages share this property. The usual intent of such designs is that they be as English-like as possible, on the theory that they will then be easier for unskilled people to program. This intention comes to grief on the reality that syntax isn‚Äôt what makes programming hard; it‚Äôs the mental effort and organization required to specify an algorithm precisely that costs. Thus the invariable result is that candygrammar languages are just as difficult to program in as terser ones, and far more painful for the experienced hacker.&lt;lb/&gt;[The overtones from the old Chevy Chase skit on Saturday Night Live should not be overlooked. This was a "Jaws" parody. Someone lurking outside an apartment door tries all kinds of bogus ways to get the occupant to open up, while ominous music plays in the background. The last attempt is a half-hearted "Candygram!" When the door is opened, a shark bursts in and chomps the poor occupant. There is a moral here for those attracted to candygrammars.]&lt;/quote&gt;&lt;p&gt;Some languages pride themselves on doing a whole lot with few characters:&lt;/p&gt;&lt;p&gt;An example from Ruby (do you see what this does?):&lt;/p&gt;&lt;code&gt;c = Hash.new 0
ARGF.each {|l| l.scan(/[A-Z']+/i).map {|w| c[w.downcase] += 1}}
c.keys.sort.each {|w| puts "#{w}, #{c[w]}"}
&lt;/code&gt;
&lt;p&gt;An example from APL (The 99 bottles of beer program taken from Rosetta Code):&lt;/p&gt;&lt;code&gt;bob  ‚Üê  { (‚çï‚çµ), ' bottle', (1=‚çµ)‚Üì's of beer'}
bobw ‚Üê  {(bob ‚çµ) , ' on the wall'}
beer ‚Üê  { (bobw ‚çµ) , ', ', (bob ‚çµ) , '; take one down and pass it around, ', bobw ‚çµ-1}
‚Üëbeer¬® ‚åΩ(1-‚éïIO)+‚ç≥99
&lt;/code&gt;
&lt;p&gt;Here‚Äôs APL again, with an expression to find all the prime numbers up to R:&lt;/p&gt;&lt;code&gt;(~R‚àäR‚àò.√óR)/R‚Üê1‚Üì‚ç≥R
&lt;/code&gt;
&lt;p&gt;Some people love terse, concise code, because it says only what it needs and reduces the cognitive load, leaving you with less useless noisy syntax to learn. But if you are language designer, be pragmatic: there is such a thing as code that is too terse. Unless...that‚Äôs your goal....&lt;/p&gt;&lt;p&gt;Golfing languages take terseness to the next level. A golfing language is a kind of esoteric programming language (a non-practical language created to experiment with weird ideas, be hard to program in, or be humorous) that allows programs to be written in an insanely small number of characters (or bytes).&lt;/p&gt;&lt;p&gt;Here are some CJam programs:&lt;/p&gt;&lt;code&gt;"Hello, world!"&lt;/code&gt;&lt;code&gt;5{"Hello, world"oNo}*&lt;/code&gt;&lt;code&gt;0X{_2$+}A*]N*&lt;/code&gt;&lt;code&gt;l~@-@@-mh&lt;/code&gt;&lt;code&gt;1{_B&amp;lt;}{_'**N+o)}w;&lt;/code&gt;&lt;p&gt;Here are some Pyth programs (taken from the documentation):&lt;/p&gt;&lt;code&gt;"Hello, world!&lt;/code&gt;&lt;code&gt;FNrZhTN&lt;/code&gt;&lt;code&gt;FNUhTN&lt;/code&gt;&lt;code&gt;VhTN&lt;/code&gt;&lt;code&gt;K1FNr1hQ=K*KN;K&lt;/code&gt;&lt;code&gt;.!Q&lt;/code&gt;&lt;code&gt;WtQ=Q?%Q2h*Q3/Q2Q&lt;/code&gt;&lt;code&gt;A(Z1;VhhTGA(H+GH&lt;/code&gt;&lt;p&gt;Traditionally, real world language definitions come in three main flavors:&lt;/p&gt;&lt;p&gt;An official definition will have three parts:&lt;/p&gt;&lt;table&gt;&lt;row span="3"&gt;&lt;cell role="head"&gt;Syntax (Structure)&lt;/cell&gt;&lt;cell role="head"&gt;Semantics (Meaning)&lt;/cell&gt;&lt;/row&gt;&lt;row span="3"&gt;&lt;cell&gt;Statics&lt;/cell&gt;&lt;cell&gt;Dynamics&lt;/cell&gt;&lt;/row&gt;&lt;row&gt;&lt;cell&gt;What are the structural entities (e.g., declarations, expressions, statements, modules) and how do they fit together, perhaps with punctuation?&lt;/cell&gt;&lt;cell&gt;What are the non-structural rules that define a legal program (e.g., type checks, argument-parameter matching rules, visibility rules, etc.)?&lt;/cell&gt;&lt;cell&gt;What does a program do? What effects do each of the forms of a well-structured, legal program have on the run-time environment?&lt;/cell&gt;&lt;/row&gt;&lt;/table&gt;&lt;p&gt;Why are there three parts instead of two (i.e., just syntax and semantics)? Here‚Äôs why. While everyone might agree that the following is structurally malformed:&lt;/p&gt;&lt;code&gt;#&amp;lt;include &amp;gt; stdio.h
main() int }
    printf["Hello, world!\n");]
{
&lt;/code&gt;
&lt;p&gt;the following program looks good in terms of ‚Äústructure‚Äù but it‚Äôs actually meaningless since it violates a contextual rule that says identifiers must be declared before use:&lt;/p&gt;&lt;code&gt;int main() {
    printf("%d\n", x);
}
&lt;/code&gt;
&lt;p&gt;We say the latter program has static semantic errors because they can be detected by a compiler before the program is ever run. This is in contrast to a dynamic semantic error, which can only be detected at run time.&lt;/p&gt;&lt;p&gt;Let‚Äòs see how we would formally specify the syntax for the simple language Astro. Assume we‚Äôve gone through the first two design phases, and we‚Äôve sketched out a program that shows all the features:&lt;/p&gt;&lt;code&gt;// A simple program in Astro

radius = 55.2 * (-cos(2.8E-20) + 89) % 21;    // assignment statement
the_area = œÄ * radius ** 2;                   // a built-in identifier
print hypot(2.28, 3 - radius) / the_area;     // print statement
&lt;/code&gt;
&lt;p&gt;Next, we put our ideas into words. A first pass: ‚ÄúPrograms are structured as a sequence of one or more statements, each of which is an assignment or print statement, with expressions formed with numbers, variables, function calls, and the usual arithmetic operators, which can have parentheses when needed. Comments look like the slash-slash comments of C-like languages.‚Äù&lt;/p&gt;&lt;p&gt;Natural language isn‚Äôt super precise, so let‚Äôs try to tighten this up. Let‚Äôs get started defining programs, statements, and expressions:&lt;/p&gt;&lt;quote&gt;Program = Statement+ Statement = id "=" Exp ";" | print Exp ";" Exp = numeral | id | id "(" (Exp ("," Exp)*)? ")" | "-" Exp | Exp ("+" | "-" | "*" | "/" | "%" | "**") Exp | "(" Exp ")"&lt;/quote&gt;&lt;p&gt;An identifier is the computer science word for a name you attach to an entity (a variable, constant, function, type, parameter, or similar thing). Let‚Äôs decree that Astro identifiers begin with a letter, and can have letters, digits, and underscores (examples: &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;last_attempt&lt;/code&gt;, &lt;code&gt;p1&lt;/code&gt;, &lt;code&gt;p2&lt;/code&gt;, &lt;code&gt;overTheLimit&lt;/code&gt;, &lt;code&gt;bot8675309_jEnNy&lt;/code&gt;). We will call letters, digits, and underscores identifier characters (&lt;code&gt;idchar&lt;/code&gt;s). But let‚Äôs also decree that &lt;code&gt;print&lt;/code&gt; is not allowed to be an identifier (so we don‚Äôt confuse people)!&lt;/p&gt;&lt;p&gt;This means we have to carefully define the &lt;code&gt;print&lt;/code&gt; keyword very carefully. It‚Äôs not just the five letters p, r, i, n, and t. If it were then the program:&lt;/p&gt;&lt;quote&gt;printy;&lt;/quote&gt;&lt;p&gt;would be legal! It would be the five characters spelling print followed by a legal expression, namely the identifer $y$. We want the word &lt;code&gt;print&lt;/code&gt; to not bleed into any following characters that might be part of an expression. In other words, &lt;code&gt;print&lt;/code&gt; must not be immediately followed by an identifier character. And, we have to explicitly exclude &lt;code&gt;print&lt;/code&gt; from our category of identifiers. Both things are necessary. Let‚Äôs use the &lt;code&gt;~&lt;/code&gt; symbol in our notation to exclude things:&lt;/p&gt;&lt;quote&gt;print = "print" ~idchar idchar = letter | digit | "_" id = ~print letter idchar*&lt;/quote&gt;&lt;code&gt;print&lt;/code&gt; followed by the identifier &lt;code&gt;y&lt;/code&gt;.
&lt;p&gt;Now time for numerals. We‚Äôll keep things in decimal only (no worries about hex or binary), and use the times-ten-to-the notation from popular programming languages:&lt;/p&gt;&lt;quote&gt;numeral = digit+ ("." digit+)? (("E" | "e") ("+" | "-")? digit+)?&lt;/quote&gt;&lt;p&gt;Looking good. But what about things like &lt;code&gt;letter&lt;/code&gt; and &lt;code&gt;digit&lt;/code&gt;? Should we define these? Nah, let‚Äôs say that in our definition schema that these things are built-in. Let‚Äôs in fact ‚Äúbuild in‚Äù all of the following:&lt;/p&gt;&lt;code&gt;letter&lt;/code&gt;, for any Unicode letter&lt;code&gt;digit&lt;/code&gt;, for &lt;code&gt;"0".."9"&lt;/code&gt;&lt;code&gt;alnum&lt;/code&gt;, for &lt;code&gt;letter | digit&lt;/code&gt;&lt;code&gt;upper&lt;/code&gt;, for any Unicode uppercase letter&lt;code&gt;lower&lt;/code&gt;, for any Unicode lowercase letter&lt;code&gt;hexDigit&lt;/code&gt;, for &lt;code&gt;digit | "a".."f" | "A".."F"&lt;/code&gt;&lt;code&gt;any&lt;/code&gt;, for any Unicode character at all&lt;p&gt;Did you notice that some of our syntax categories (Program, Statement, Exp) were capitalized and others (id, numeral, letter, digit) were not? Why did we do this?&lt;/p&gt;&lt;p&gt;The latter things are very primitive. They can not have internal spaces. We call these tokens. Think of these as basic ‚Äúwords‚Äù. The former, called phrases are more complex. Think of them as sentences. They are made up of tokens that can be separated by spaces. Tokens and phrases are very different, so we should denote them differently.&lt;/p&gt;&lt;p&gt;So what are spaces‚Äîthose characters that can separate tokens from each other? We‚Äôll take them to be any Unicode space character. But we also want to separate tokens with comments. Let‚Äôs define how tokens should look in our language, and add them to the special &lt;code&gt;space&lt;/code&gt; category:&lt;/p&gt;&lt;quote&gt;space += "//" (~"\n" any)*&lt;/quote&gt;&lt;p&gt;Let‚Äôs take a deeper look into how the lexical and phrase syntaxes differ. As a specific example, this program:&lt;/p&gt;&lt;quote&gt;print( // ‚øáüåø 420 );&lt;/quote&gt;&lt;p&gt;is made up of these characters:&lt;/p&gt;&lt;p&gt;SPACE SPACE LATIN SMALL LETTER P LATIN SMALL LETTER R LATIN SMALL LETTER I LATIN SMALL LETTER N LATIN SMALL LETTER T LEFT PARENTHESIS TAB SOLIDUS SOLIDUS SPACE KANGXI RADICAL HEMP HERB LINEFEED DIGIT FOUR DIGIT TWO DIGIT ZERO SPACE RIGHT PARENTHESIS SEMICOLON&lt;/p&gt;&lt;p&gt;Following the lexical syntax, skipping the spaces (and comments), we get the token stream:&lt;/p&gt;&lt;p&gt;&lt;code&gt;print&lt;/code&gt;&lt;code&gt;(&lt;/code&gt;&lt;code&gt;num(420)&lt;/code&gt;&lt;code&gt;)&lt;/code&gt;&lt;code&gt;;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;Following the phrase syntax, we can uncover the underlying parse tree:&lt;/p&gt;&lt;p&gt;A very important thing to note: The frontier of the parse tree is the token stream.&lt;/p&gt;&lt;quote&gt;The parse tree ends at tokens, not characters&lt;lb/&gt;Please take the time to consider how silly it would be if the parse tree expanded all of the lexical rules down to characters. Having the parse tree stop at tokens is a good example of what we would call ‚Äúbreaking a complex problem down into simpler parts.‚Äù&lt;/quote&gt;&lt;p&gt;Another term for ‚Äúparse tree‚Äù is concrete syntax tree (CST).&lt;/p&gt;&lt;p&gt;How are we doing so far? We are able to distinguish well-structured Astro programs from all other Unicode strings. But there are some things we haven‚Äôt dealt with yet. For one, we have some strings with multiple structural forms. For example, the phrase &lt;code&gt;9-3*7&lt;/code&gt; can be parsed in two ways:&lt;/p&gt;&lt;p&gt;Having more than one parse tree for a given input string means that our syntax description is ambiguous. It‚Äôs possible to handle this particular kind of ambiguity in the syntax. Here‚Äôs how.&lt;/p&gt;&lt;p&gt;We can create rules that force certain operators to be applied before others; that is, the precedence of operators can be enforced in our syntax definition. To do so, we define additional syntactic categories. We say:&lt;/p&gt;&lt;p&gt;So let‚Äôs revise our syntax specification:&lt;/p&gt;&lt;quote&gt;Exp = Term ( ("+" | "-") Term )* Term = Factor ( ("*" | "/" | "%") Factor )* Factor = Primary ( "**" Primary )* | "-" Primary Primary = numeral | id | id "(" (Exp ("," Exp)*)? ")" | "(" Exp ")"&lt;/quote&gt;&lt;p&gt;Great! Now there is one and only one parse tree for that previously problematic expression:&lt;/p&gt;&lt;p&gt;Note that the new syntax has forced the binary operators into a precedence hierarchy!&lt;/p&gt;&lt;code&gt;+&lt;/code&gt; and &lt;code&gt;-&lt;/code&gt; have the lowest precedence.&lt;code&gt;*&lt;/code&gt;, &lt;code&gt;/&lt;/code&gt;, and &lt;code&gt;/&lt;/code&gt; have the next higher precedence.&lt;code&gt;**&lt;/code&gt; has the highest precedence.&lt;p&gt;Of course, you can think of parenthesized expressions as being done before anything else, though we don‚Äôt usually think of these as operators.&lt;/p&gt;&lt;code&gt;-3**2&lt;/code&gt; be parsed? In Python exponentiation precedes negation, like &lt;code&gt;-(3**2)&lt;/code&gt;. In Elm, negation precedes exponentiation, like &lt;code&gt;(-3)**2&lt;/code&gt;. Astro follows JavaScript and simply does not allow this expression (forcing programmers to use parentheses in this case)! Show how this is done.
&lt;code&gt;-3**2&lt;/code&gt; as an expression, but it does allow &lt;code&gt;-3+2&lt;/code&gt; and &lt;code&gt;-3*2&lt;/code&gt;. Why did we care only enough to ensure negation did not mix with exponentiation, but we were fine with it mixing with addition and multiplication?
&lt;p&gt;Wait, we are not done with structuring our operators just yet. The way things stand now, the parse tree for &lt;code&gt;3-8-5&lt;/code&gt; looks pretty flat:&lt;/p&gt;&lt;p&gt;It doesn‚Äôt suggest whether we mean to compute &lt;code&gt;(3-8)-5&lt;/code&gt; (which would be -10) or &lt;code&gt;3-(8-5)&lt;/code&gt; (which would be 0). We can give a syntax that makes this clear. In our design, let‚Äôs make the additive and multiplicative operators left-associative and the exponentiation operator right-associative:&lt;/p&gt;&lt;quote&gt;Exp = Exp ("+" | "-") Term | Term Term = Term ("*" | "/" | "%") Factor | Factor Factor = Primary "**" Factor | "-" Primary | Primary&lt;/quote&gt;&lt;p&gt;How the heck does this work? Study these parse trees, and hopefully the insight will come to you! (Hint: remember the syntax is designed to force the tree to ‚Äúcome out‚Äù a certain way.&lt;/p&gt;&lt;p&gt;The notation we‚Äôve been using to precisely describe our syntax is a kind of a grammar. In fact, it is very close to a specific kind of grammar called an Ohm Grammar. Ohm requires a bit more ceremony than what we‚Äôve been using so far. We‚Äôll just jump right in and extend our work so far to a complete and working Ohm grammar:&lt;/p&gt;&lt;code&gt;Astro {
  Program     = Statement+
  Statement   = id "=" Exp ";"                         --assignment
              | print Exp ";"                          --print
  Exp         = Exp ("+" | "-") Term                   --binary
              | Term
  Term        = Term ("*" | "/" | "%") Factor          --binary
              | Factor
  Factor      = Primary "**" Factor                    --binary
              | "-" Primary                            --negation
              | Primary
  Primary     = id "(" ListOf&amp;lt;Exp, ","&amp;gt; ")"            --call
              | numeral                                --num
              | id                                     --id
              | "(" Exp ")"                            --parens

  numeral     = digit+ ("." digit+)? (("E" | "e") ("+" | "-")? digit+)?
  print       = "print" ~idchar
  idchar      = letter | digit | "_"
  id          = ~print letter idchar*
  space      += "//" (~"\n" any)*                      --comment
}
&lt;/code&gt;
&lt;p&gt;When you are designing your language, you will build up your grammar iteratively, from increasingly more complex examples, and test the grammar as you go. Tools will help you here! If you are using Ohm, and you should, take advantage of the use the Ohm Editor. This is an amazing tool for experimenting with programming languages.&lt;/p&gt;&lt;p&gt;In the upper left panel, design your grammar. You can load/save from your browser‚Äôs local storage, and even publish gists to GitHub. In the lower left panel, enter test cases: both tests you want to succeed (thumbs up) and those you want to fail (thumbs down). The right panel is an interactive concrete syntax tree for the currently selected test case.&lt;/p&gt;&lt;p&gt;This tool will save you a lot of time.&lt;/p&gt;&lt;p&gt;It is an essential component of your language design toolbox.&lt;/p&gt;&lt;quote&gt;How essential is it?&lt;p&gt;Unless your language is trivial, tools like the Ohm Editor are very important! Design is an iterative process, and creativity is enabled and enhanced with immediate feedback. So you should design with tools that allow you to experiment and test your ideas.&lt;/p&gt;&lt;p&gt;That said, it is true that in practice, many production-level compilers do not use Ohm or related tools like ANTLR, Bison, etc.‚Äîthey do everything by hand. But developers that go this route will write their grammar tests concurrently with their design.&lt;/p&gt;&lt;/quote&gt;&lt;quote&gt;Let‚Äôs do a code-along with the Ohm Editor for developing the Astro grammar. During the code-along, note how examples are done first, and note how we will evolve from the basics to more complex features, bringing in notions such as a precedence and associativity where needed.&lt;p&gt;During the code-along, bits of Ohm will be introduced as needed. In a subsequence course unit, we will cover Ohm in detail.&lt;/p&gt;&lt;/quote&gt;&lt;p&gt;Question: Does the grammar we defined above for Astro capture the following (desirable) rule:&lt;/p&gt;&lt;p&gt;‚ÄúYou can only use an identifier if it has been previously assigned to.‚Äù&lt;/p&gt;&lt;p&gt;Answer: It does not.&lt;/p&gt;&lt;code&gt;print x;&lt;/code&gt; a legal program according to the grammar?
&lt;p&gt;Enforcing this rule requires knowledge of context. That is, the syntactic rule for producing expressions such as calls and arithmetic operations would need to somehow know which identifiers appeared on the left hand side of some previous assignment statement. This turns out to be so hard that even designers of real programming languages omit enforcement of contextual rules from the grammar! In fact, while the official grammar for Java will not derive this program:&lt;/p&gt;&lt;code&gt;class A {2 / == {{;
&lt;/code&gt;
&lt;p&gt;and report a syntax error, a Java compiler will say that this program:&lt;/p&gt;&lt;code&gt;class A {int x = y;}
&lt;/code&gt;
&lt;p&gt;is structurally well formed according to the official syntax of the Java language! The compilation unit consists of a type declaration that is a class declaration whose body consists of a field declaration with a type, a name, and an initializing expression which is an identifier. But we know this program is not legal, since the identifier y has not been declared. It‚Äôs not only Java that has grammars overspecifying things: pretty much every programming language uses a grammar to define structural rules only, and specifies contextual rules in prose, or in a separate semantic definition.&lt;/p&gt;&lt;p&gt;For Astro, we will ‚Äúdefine‚Äù the following contextual rules:&lt;/p&gt;&lt;code&gt;œÄ&lt;/code&gt;, a number&lt;code&gt;sqrt&lt;/code&gt;, a function of exactly one argument&lt;code&gt;sin&lt;/code&gt;, a function of exactly one argument&lt;code&gt;cos&lt;/code&gt;, a function of exactly one argument&lt;code&gt;hypot&lt;/code&gt;, a function of exactly two arguments&lt;p&gt;For more complex languages, the statics definition (contextual rules) can be quite large. Here are some things that might appear:&lt;/p&gt;&lt;code&gt;break&lt;/code&gt; and &lt;code&gt;continue&lt;/code&gt; statements may only appear in a loop. &lt;code&gt;return&lt;/code&gt; statements may only appear in a function it‚Äôs possible to encode these restrictions in the grammar, but it would be ugly).
  &lt;p&gt;The dynamics for most programming languages are given in prose. If you language is simple enough, a formal semantic definition is possible. For the sample languages in this course, Astro and Bella are given both informal and formal semantic definitions. We‚Äôll not be studying formal semantics at this time, but feel free to study the definitions on your own.&lt;/p&gt;&lt;p&gt;During your language design, you will want to whip up a simple interpreter to at the very least make sure your design is reasonable. You may wish to developer your interpreter in parallel with your language design.&lt;/p&gt;&lt;p&gt;Ohm was designed for prototyping programming languages, so it is a natural choice. The Ohm Editor, as we just saw, helps you design the syntax. To write an actual interpreter, we‚Äôll have to go much deeper into Ohm. We‚Äôll be doing this in our next unit of study in this course, which is, indeed, a deep study of Ohm.&lt;/p&gt;&lt;p&gt;Many well-known programming languages have published, formal definitions. You can find them by searching the web.&lt;/p&gt;&lt;p&gt;For this class, we will be studying five little languages crafted especially to help you in your stufy of language design and implementation. We will be studying them in order, building upon previous languages and learning new things as we progress. This will allow us to introduce the huge topic of language processing in a practical setting, writing real compilers for real languages. The languages are Astro, Bella, Carlos, Dax, and Ekko.&lt;/p&gt;&lt;p&gt;We all begin as a white belt in every new endeavor. We will start, then, with a very simple, almost trivial, language. All it has are numbers, arithmetic operators, variables, and a few pre-defined constants and functions. Here‚Äôs an example program:&lt;/p&gt;&lt;quote&gt;// A simple program in Astro rAd1uS = 55.2 * (-cos(2.8E-20) + 89) % 21; the_area = œÄ * rAd1uS ** 2; print(hypot(2.28, 3 - rAd1uS) / the_area); // woohoo üëª&lt;/quote&gt;&lt;p&gt;There are only two kinds of statements: assignments and print statements. Expressions include numbers, variables, function calls, arithmetic expressions with &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;-&lt;/code&gt;, &lt;code&gt;*&lt;/code&gt;, &lt;code&gt;/&lt;/code&gt;, &lt;code&gt;%&lt;/code&gt;, and &lt;code&gt;**&lt;/code&gt;, and can be parenthesized. We will cover the official definition of the language, and use the language to motivate a formal study of syntax.&lt;/p&gt;&lt;p&gt;When studying this language, we‚Äôll learn about the separation of context-free syntax from contextual rules. Contextual rules include such things as: having to match the number of arguments in a call with the number of defined parameters, rudimentary type checking, and not allowing assignments to read-only variables.&lt;/p&gt;&lt;p&gt;As Astro will be our first language, we will use it as a case study to learn the amazing Ohm Language Library to build an interpreter. The details of how the interpreter is constructed are covered in the course notes on Ohm.&lt;/p&gt;&lt;p&gt;Our second language has a few things Astro does not: a richer set of operators, variable declarations, and user-defined functions. The contextual rules for Bella are much richer than that of Astro, since we now have actual declarations, and scope! Here‚Äôs an example program:&lt;/p&gt;&lt;quote&gt;let dozen = 12; print dozen % 3 ** 1; function gcd(x, y) = y == 0 ? x : gcd(y, x % y); while dozen &amp;gt;= 3 || (gcd(1, 10) != 5) { dozen = dozen - 2.75E+19 ** 1 ** 3; }&lt;/quote&gt;&lt;p&gt;We will first look at the official specification, introducing all sorts of interesting concepts. Then we‚Äôll study a real, actual Bella compiler. Here we learn about designing and architecting a compiler, building the components (analyzer, optimizer, and generator), and getting 100% test coverage. The compiler source code is on GitHub.&lt;/p&gt;&lt;p&gt;In our third language, we encounter arrays, structs, and optionals: our first language that is basically useful. If you are taking the compiler course for which these notes were written, Carlos is a good example of the minimal language complexity you will need for your term project.&lt;/p&gt;&lt;quote&gt;const languageName = "Carlos"; function greeting() { return random(["Welcome", "„Åì„Çì„Å´„Å°„ÅØ", "Bienvenido"]); } print("üëãüëãüëã"); repeat 5 { print(greeting() + " " + languageName); }&lt;/quote&gt;&lt;p&gt;We‚Äôll be visiting the language‚Äôs official specification and a compiler on GitHub. The compiler (of course!) uses the Ohm Language Library.&lt;/p&gt;&lt;p&gt;There‚Äôs no separate page of notes describing the compiler. After studying the Astro and Bella compilers, you‚Äôll be able to find your way around the code on GitHub (there‚Äôs documentation). And don‚Äôt worry, it‚Äôs development and usage will be covered in class, and the teaching staff can help you with any questions you might have.&lt;/p&gt;&lt;p&gt;Language number four is a functional language, that is, a language with no assignments! The only bindings of names to entities happens when passing arguments to parameters, though there is that famous &lt;code&gt;let&lt;/code&gt; declaration which nicely sugars a function call: it‚Äôs nicer to say &lt;code&gt;let x = 5 in x * y end&lt;/code&gt; than &lt;code&gt;{x =&amp;gt; x * y}(5)&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Here‚Äôs a sample program to get the feel for the language:&lt;/p&gt;&lt;quote&gt;let gcd = {x =&amp;gt; {y ==&amp;gt; y == 0 ? x : gcd y (x % y)}}; z = 5 in [1, 3, z] |&amp;gt; filter {x =&amp;gt; x &amp;gt; 2} |&amp;gt; map {x =&amp;gt; x ** 2} |&amp;gt; print then "hello" |&amp;gt; substring 2 5 |&amp;gt; print then print (gcd 33 99) // This is fine, you don't HAVE to use |&amp;gt; end&lt;/quote&gt;&lt;p&gt;If you have not yet seen languages with the awesome &lt;code&gt;|&amp;gt;&lt;/code&gt; operator, here‚Äôs your chance to be wowed.&lt;/p&gt;&lt;p&gt;We will discuss the language design and compiler later in the course.&lt;/p&gt;&lt;p&gt;Our fifth language, Ekko (starting with E like Erlang and Elixir, which greatly influence it), is a kind of experimental language that deals quite a lot with time.&lt;/p&gt;&lt;p&gt;Ekko mixes styles of asynchronous programming from JavaScript and the distributed process-orientation of Erlang and Elixir: Ekko‚Äôs &lt;code&gt;future&lt;/code&gt; objects are based on JS promises, and its processes communicate via messages as in Erlang. There‚Äôs also quite a bit more temporal goodness, including timeout calls, value histories with time travel (influenced by older versions of Elm), and even explicit parallelism.&lt;/p&gt;&lt;p&gt;Students in previous iterations of the course have designed and implemented their own languages. Here‚Äôs a sampling of language over the past decade or so. (Please note that there is a very wide variety of quality in these examples. They are presented here without any evaluative commentary as to whether they are suitable building blocks for one‚Äôs own project.)&lt;/p&gt;&lt;p&gt;Here are some questions useful for your spaced repetition learning. Many of the answers are not found on this page. Some will have popped up in lecture. Others will require you to do your own research.&lt;/p&gt;&lt;p&gt;We‚Äôve covered:&lt;/p&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://cs.lmu.edu/~ray/notes/languagedesignnotes/"/><published>2025-11-15T05:44:43+00:00</published></entry></feed>