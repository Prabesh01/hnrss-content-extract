<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><id>hnrss.org/frontpage</id><title>Hacker News: Front Page</title><updated>2025-09-19T09:11:28.206823+00:00</updated><link href="https://news.ycombinator.com/" rel="alternate"/><link href="https://raw.githubusercontent.com/Prabesh01/hnrss-content-extract/refs/heads/main/out/rss.xml" rel="self"/><generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator><subtitle>Hacker News RSS</subtitle><entry><id>https://news.ycombinator.com/item?id=45288161</id><title>Nvidia buys $5B in Intel</title><updated>2025-09-19T09:13:50.689338+00:00</updated><content>&lt;doc fingerprint="27f94771cdaa5063"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Nvidia and Intel announce jointly developed 'Intel x86 RTX SOCs' for PCs with Nvidia graphics, also custom Nvidia data center x86 processors — Nvidia buys $5 billion in Intel stock in seismic deal&lt;/head&gt;
    &lt;p&gt;Cats and Dogs, living together!&lt;/p&gt;
    &lt;p&gt;In a surprise announcement that finds two long-time rivals working together, Nvidia and Intel announced today that the companies will jointly develop multiple new generations of x86 products together — a seismic shift with profound implications for the entire world of technology. Before the news broke, Tom's Hardware spoke with Nvidia representatives to learn more details about the company’s plans.&lt;/p&gt;
    &lt;p&gt;The products include x86 Intel CPUs tightly fused with an Nvidia RTX graphics chiplet for the consumer gaming PC market, named the ‘Intel x86 RTX SOCs.’ Nvidia will also have Intel build custom x86 data center CPUs for its AI products for hyperscale and enterprise customers. Additionally, Nvidia will buy $5 billion in Intel common stock at $23.28 per share, representing a roughly 5% ownership stake in Intel. (Intel stock is now up 33% in premarket trading.)&lt;/p&gt;
    &lt;p&gt;The partnership between the two companies is in the very early stages, Nvidia told us, so the timeline for product releases, along with any product specifications, will be disclosed at a later, unspecified date. (Given the traditionally long lead-times for new processors, it is rational to expect these products will take at least a year, and likely longer, to come to market.)&lt;/p&gt;
    &lt;p&gt;Nvidia emphasized that the companies are committed to multi-generation roadmaps for the co-developed products, which represents a strong investment in the x86 ecosystem. But Nvidia representatives tell us it also remains fully committed to other announced product roadmaps and architectures, including the company's Arm-based GB10 Grace Blackwell processors for workstations and the Nvidia Grace CPUs for data centers, as well as the next-gen Vera CPUs. Nvidia says it also remains committed to products on its internal roadmaps that haven’t been publicly disclosed yet, indicating that the new roadmap with Intel will merely be additive to existing initiatives.&lt;/p&gt;
    &lt;p&gt;Nvidia hasn’t disclosed whether it will use Intel Foundry to produce any of these products yet. However, while Intel has used TSMC to manufacture some of its own recent products, its goal is to bring production of most high-performance products back into its own foundries.&lt;/p&gt;
    &lt;p&gt;Some products never left. For instance, Intel’s existing Granite Rapids data center processors use the ‘Intel 3’ node, and the upcoming Clearwater Forest Xeons will use Intel’s own 18A process node for compute. This suggests that at least some of the Nvidia-custom x86 silicon, particularly for the data center, could be fabbed on Intel nodes. Intel also uses TSMC to fabricate many of its client x86 processors, however, so we won’t know for sure until official announcements are made — particularly for the RTX GPU chiplet.&lt;/p&gt;
    &lt;p&gt;In either case, Nvidia has been mulling using Intel Foundry since 2022, has fabbed test chips there, and participates in the U.S. Defense Dept.'s RAMP-C project with Intel. The DoD project involves Nvidia already making chips on Intel's 18A process node, so it wouldn't be a total surprise.&lt;/p&gt;
    &lt;p&gt;Get Tom's Hardware's best news and in-depth reviews, straight to your inbox.&lt;/p&gt;
    &lt;p&gt;While the two companies have engaged in heated competition in some market segments, Intel and Nvidia have partnered for decades, ensuring interoperability between their hardware and software for products spanning both the client and data center markets. The PCIe interface has long been used to connect Intel CPUs and Nvidia GPUs. The new partnership will find tighter integration using the NVLink interface for CPU-to-GPU communication, which affords up to 14 times more bandwidth along with lower latency than PCIe, thus granting the new x86 products access to the highest performance possible when paired with GPUs. That's a strategic advantage. Let’s dive into the details we’ve learned so far.&lt;/p&gt;
    &lt;head rend="h2"&gt;Intel x86 RTX SOCs for the PC gaming market&lt;/head&gt;
    &lt;p&gt;For the PC market, the Intel x86 RTX SoC chips will come with an x86 CPU chiplet tightly connected with an Nvidia RTX GPU chiplet via the NVLink interface. This type of processor will have both CPU and GPU units merged into one compact chip package that externally looks much like a standard CPU, rivaling AMD’s competing APU products.&lt;/p&gt;
    &lt;p&gt;Intel's new x86 RTX CPUs will compete directly with AMD's APUs. For AMD, that means it faces intensifying competition from a company with the leading market share in notebook CPUs (Intel ships ~79% of laptop chips worldwide) that's now armed with GPU tech from Nvidia, which ships 92% of the world's gaming GPUs.&lt;/p&gt;
    &lt;p&gt;This type of tight integration packs all the gaming prowess into one package without an external discrete GPU, providing power and footprint advantages. As such, we're told these chips will be heavily focused on thin-and-light gaming laptops and small form-factor PCs, much like today’s APUs from AMD. However, it’s possible the new Nvidia/Intel chips could come in multiple flavors and permeate further into the Intel stack over time.&lt;/p&gt;
    &lt;p&gt;Intel has worked on a similar type of chip before with AMD; there is at least one significant technical difference between these initiatives, however. Intel launched its Kaby Lake-G chip in 2017 with an Intel processor fused into the same package as an AMD Radeon GPU chiplet, much the same as the description of the new Nvidia/Intel chips. You can see an image of the Intel/AMD chip below.&lt;/p&gt;
    &lt;p&gt;This SoC had a CPU at one end connected via a PCIe connection to the separate AMD GPU chiplet, which is flanked by a small, dedicated memory package. This separate memory package was only usable by the GPU. The Nvidia/Intel products will have an RTX GPU chiplet connected to the CPU chiplet via the faster and more efficient NVLink interface, and we’re told it will have uniform memory access (UMA), meaning both the CPU and GPU will be able to access the same pool of memory. Given the particulars of Nvidia's NVLink Fusion architecture, we can expect the chips to communicate via a refined interface, but it is unlikely that it will leverage Nvidia's C2C (Chip-to-Chip) technology, an inter-die/inter-chip interconnect that's based on Arm protocols that aren't likely optimized for x86.&lt;/p&gt;
    &lt;p&gt;Intel notoriously axed the Kaby Lake-G products in 2019, and the existing systems were left without proper driver support for quite some time, in part because Intel was responsible for validating the drivers, and then finger-pointing ensued. We’re told that both Intel and Nvidia will be responsible for their respective drivers for the new models, with Nvidia naturally providing its own GPU drivers. However, Intel will build and sell the consumer processors.&lt;/p&gt;
    &lt;p&gt;We haven’t spoken with Intel yet, but the limited scope of this project means that Intel’s proprietary Xe graphics architecture will most assuredly live on as the primary integrated GPU (iGPU) for its mass-market products.&lt;/p&gt;
    &lt;head rend="h2"&gt;Nvidia's first x86 data center CPUs&lt;/head&gt;
    &lt;p&gt;Intel will fabricate custom x86 data center CPUs for Nvidia, which Nvidia will then sell as its own products to enterprise and data center customers. However, the entirety and extent of the modifications are currently unknown. We know that Nvidia will employ its NVLink interface, which suggests that the chips could leverage Nvidia’s new NVLink Fusion technology for custom CPUs and accelerators, enabling faster and more efficient communication with Nvidia’s GPUs than is possible with the PCIe interface.&lt;/p&gt;
    &lt;p&gt;Intel has long offered custom Xeons to its customers, primarily hyperscalers, often with relatively minor tweaks to clock rates, cache capacities, and other specifications. In fact, these mostly slightly-modified custom Xeon models once comprised more than 50% of Intel’s Xeon shipments. Intel has endured several years of market share erosion due to AMD’s advances, most acutely in the hyperscale market. Therefore, it is unclear if the 50% number still holds true, as hyperscalers were the primary customers for custom models.&lt;/p&gt;
    &lt;p&gt;Intel has said that it will design completely custom x86 chips for customers as part of its IDM 2.0 strategy. However, aside from a recent announcement of custom AWS chips that sound like the slightly modified Xeons mentioned above, we haven’t heard of any large-scale uptake for significantly modified custom x86 processors. Intel announced a new custom chip design unit just two weeks ago, so it will be interesting to learn the extent of the customization for Nvidia’s x86 data center CPUs.&lt;/p&gt;
    &lt;p&gt;Nvidia already uses Intel’s Xeons in several of its systems, like the Nvidia DGX B300, but these systems still use the PCIe interface to communicate with the CPU. Intel’s new collaboration with Nvidia will obviously open up new opportunities, given the tighter integration with NVLink and all the advantages it brings with it.&lt;/p&gt;
    &lt;p&gt;The likelihood of AMD adopting NVLink Fusion is somewhere around zero, as the company is heavily invested in its own Infinity Fabric (XGMI) and Ultra Accelerator Link (UALink) initiatives, which aim to provide an open-standard interconnect to rival NVLink and democratize rack-scale interconnect technologies. Intel is also a member of UALink, which uses AMD’s Infinity Fabric protocol as the foundation.&lt;/p&gt;
    &lt;head rend="h2"&gt;Dollar and Cents, Geopolitics&lt;/head&gt;
    &lt;p&gt;Nvidia’s $5 billion purchase of Intel common stock will come at $23.28 a share, roughly 6% below the current market value, but several aspects of this investment remain unclear. Nvidia hasn’t stated whether it will have a seat on the board (which is unlikely) or how it will vote on matters requiring shareholder approval. It is also unclear if Intel will issue new stock (primary issuance) for Nvidia to purchase, as it did when the U.S. government recently became an Intel shareholder (that is likely). Naturally, the investment is subject to approval from regulators.&lt;/p&gt;
    &lt;p&gt;Nvidia’s buy-in comes on the heels of the U.S government buying $10 billion of newly-created Intel stock, granting the country a 9.9% ownership stake at $20.47 per share. The U.S. government won’t have a seat on the board and agreed to vote with Intel’s board on matters requiring shareholder approval “with limited exceptions.” Softbank has also recently purchased $2 billion worth of primary issuance of Intel stock at $23 per share.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;Row 0 - Cell 0&lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Total&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Share Price&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;Stake in Intel&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;Nvidia&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;$5 Billion&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;$23.28&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;~5%&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="4"&gt;
        &lt;cell&gt;
          &lt;p&gt;U.S. Government&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;$9 Billion&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;$20.47&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;~9.9%&lt;/p&gt;
        &lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;
          &lt;p&gt;Softbank&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;$2 Billion&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;
          &lt;p&gt;$23&lt;/p&gt;
        &lt;/cell&gt;
        &lt;cell&gt;Row 3 - Cell 3&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;The U.S. government says it invested in Intel with the goal of bolstering US technology, manufacturing, and national security, and the investments from the private sector also help solidify the struggling Intel. Altogether, these investments represent a significant cash influx for Intel as it attempts to maintain the heavy cap-ex investments required to compete with TSMC, all while struggling with a negative amount of free cash flow.&lt;/p&gt;
    &lt;p&gt;“AI is powering a new industrial revolution and reinventing every layer of the computing stack — from silicon to systems to software. At the heart of this reinvention is Nvidia’s CUDA architecture,” said Nvidia CEO Jensen Huang. “This historic collaboration tightly couples NVIDIA’s AI and accelerated computing stack with Intel’s CPUs and the vast x86 ecosystem—a fusion of two world-class platforms. Together, we will expand our ecosystems and lay the foundation for the next era of computing.”&lt;/p&gt;
    &lt;p&gt;“Intel’s x86 architecture has been foundational to modern computing for decades – and we are innovating across our portfolio to enable the workloads of the future,” said Intel CEO Lip-Bu Tan. “Intel’s leading data center and client computing platforms, combined with our process technology, manufacturing and advanced packaging capabilities, will complement Nvidia's AI and accelerated computing leadership to enable new breakthroughs for the industry. We appreciate the confidence Jensen and the Nvidia team have placed in us with their investment and look forward to the work ahead as we innovate for customers and grow our business.”&lt;/p&gt;
    &lt;p&gt;We’ll learn more details of the new partnership later today when Nvidia CEO Jensen Huang and Intel CEO Lip-Bu Tan hold a webcast press conference at 10 am PT. {EDIT: you can read our futher coverage of that press event here.}&lt;/p&gt;
    &lt;p&gt;Follow Tom's Hardware on Google News, or add us as a preferred source, to get our up-to-date news, analysis, and reviews in your feeds. Make sure to click the Follow button!&lt;/p&gt;
    &lt;p&gt;Paul Alcorn is the Editor-in-Chief for Tom's Hardware US. He also writes news and reviews on CPUs, storage, and enterprise hardware.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;header&gt;bolweval&lt;/header&gt;WOW, didn't see that coming, but it makes good business sense, especially for Intel..Reply&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;usertests&lt;/header&gt;Wow.Reply&lt;lb/&gt;So this is still kind of like an integrated dGPU, unlike the chiplet/tile-based CPUs with integrated graphics they're already making?&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;watzupken&lt;/header&gt;AMD must be sweating now. An Intel and Nvidia tag team is going to give AMD some tough competition.Reply&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;hotaru251&lt;/header&gt;Reply&lt;quote/&gt;pretty much.... basically it keeps intel afloat by riding on nvidia and nvidia gets to take its monopoly even further.watzupken said:AMD must be sweating now. An Intel and Nvidia tag team is going to give AMD some tough competition.&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;usertests&lt;/header&gt;Reply&lt;quote/&gt;What products are they trying to compete with?watzupken said:AMD must be sweating now. An Intel and Nvidia tag team is going to give AMD some tough competition.&lt;lb/&gt;Intel's mobile graphics were already competitive with AMD's phoned-in 128-bit APUs, with Lunar Lake being around Strix Point for example. They don't need an Nvidia chiplet to compete.&lt;lb/&gt;Intel never cared to make a desktop APU from the aforementioned graphics.&lt;lb/&gt;So that leaves Strix Halo. And Apple products.&lt;lb/&gt;They also get to outsource drivers and software to Nvidia, and CUDA will work with these. That could be a bigger deal than any hardware match-up.&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;rluker5&lt;/header&gt;Reply&lt;quote/&gt;I wonder how much this will help transitioning common CPU tasks to GPU like OneAPI was supposed to?usertests said:What products are they trying to compete with?&lt;lb/&gt;Intel's mobile graphics were already competitive with AMD's phoned-in 128-bit APUs, with Lunar Lake being around Strix Point for example. They don't need an Nvidia chiplet to compete.&lt;lb/&gt;Intel never cared to make a desktop APU from the aforementioned graphics.&lt;lb/&gt;So that leaves Strix Halo. And Apple products.&lt;lb/&gt;They also get to outsource drivers and software to Nvidia, and CUDA will work with these. That could be a bigger deal than any hardware match-up.&lt;quote/&gt;Isn't buying common shares is the opposite of dilution? It sounds like same amount of shares enriched with more money.dalek1234 said:So another share dilution, yet Intel stock price is going up.&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;aldaia&lt;/header&gt;"Nvidia announced that it will buy $5 billion in Intel common stock"Reply&lt;lb/&gt;Wondering if this is the start of a takeover process.&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;blppt&lt;/header&gt;Wait a minute, if they start moving in this direction, wouldn't that make Intel's growing GPU division superfluous or redundant?Reply&lt;/item&gt;
      &lt;item&gt;&lt;header&gt;tamalero&lt;/header&gt;So an outright overpowered monopoly trying to prop up a falling monopoly by setting up joint products.. what can go wrong?Reply&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.tomshardware.com/pc-components/cpus/nvidia-and-intel-announce-jointly-developed-intel-x86-rtx-socs-for-pcs-with-nvidia-graphics-also-custom-nvidia-data-center-x86-processors-nvidia-buys-usd5-billion-in-intel-stock-in-seismic-deal"/><published>2025-09-18T11:04:48+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45288690</id><title>KDE is now my favorite desktop</title><updated>2025-09-19T09:13:50.033310+00:00</updated><content>&lt;doc fingerprint="7416641b31042abb"&gt;
  &lt;main&gt;
    &lt;p&gt;From my last blog post, I am now using KDE as the desktop environment for my gaming rig. The reason is because I want a reasonably easy to use Linux desktop for when my wife needs to use the PC for something other than gaming, and this was the reason why my "traditional" Sway setup was a no-go.&lt;/p&gt;
    &lt;p&gt;But, after using KDE for a while I am starting to really appreciate how good it is. And no, this is not compared to other Linux desktops, but also with both Windows and macOS (that I need to use often, especially the later since my job gave me a MacBook Pro).&lt;/p&gt;
    &lt;p&gt;To start, KDE is surprisingly feature-complete. For example, the network applet gives lots of information that in other operational systems are either not available or difficult to access. It is easy to see in the screenshot below:&lt;/p&gt;
    &lt;p&gt;You can see things like channel, signal strength, frequency, MAC address, BSSID address (so the MAC address of the router). It even includes a handy button to share the Wi-Fi information via QR code, so you can easily setup a new mobile device like Android.&lt;/p&gt;
    &lt;p&gt;By the way, the crop and blur from that screenshot above? I made everything using the integrated screenshot tool. I didn't need to open an external application even once. It is also really smart, I need to redo this screenshot a few times and it kept the cropping to the exact area I was taking the screenshot before.&lt;/p&gt;
    &lt;p&gt;Another example, I wanted Steam to start automatically with the system, but it has the bad habit of putting its main window at the top. Really annoying since it sometimes ended up stealing up the focus. However KDE has this "Window Rules" feature inside "Window Management" settings where you can pretty much control whatever you want about application windows. Really useful tool.&lt;/p&gt;
    &lt;p&gt;KDE also has lots of really well integrated tools. For example, I am using some Flatpak applications and I can easily configure the permissions via System Settings. Or if I want hardware information like SMART status, I can just open Info Center. I can prevent the screen and computer to sleep at the click of a button (something that in both Windows and macOS I need to install a separate program). The list goes on, I keep getting surprised how many things that I used to need a third-party program that KDE just has available by default.&lt;/p&gt;
    &lt;p&gt;But not only KDE is fully featured, it is also fast. Now to be clear, this is a completely subjective analysis but I find KDE faster than Windows 11 in the same hardware, especially for things integrated in the system itself. For example, while opening Windows settings it can take a few seconds after a cold boot, the KDE's System Settings is pretty much instantaneous. Even compared with macOS in my MacBook Pro M2 Pro (that is of course comparing Apples and Bananas), KDE just feels snappier. I actually can't find much difference between KDE and my Sway setup to be honest, except maybe for the heavy use of animations (that can be disabled, but I ended up liking it after a while).&lt;/p&gt;
    &lt;p&gt;I will not say KDE is perfect though. At the first launch I got one issue where it started without the task bar because I connected this PC to both my monitor and TV, but the TV is used exclusively for gaming. However, KDE considered my TV the primary desktop and put the task bar only in that monitor, and even disabling the TV didn't add the task bar to my monitor. Easily fixed by manually adding a task bar, but an annoying problem (especially when you're not used to the desktop). There were also a few other minor issues that I don't remember right now.&lt;/p&gt;
    &lt;p&gt;After using KDE for about a week I can say that this is the first time that I really enjoy a desktop environment on Linux, after all those years. Props for the KDE developers for making the experience so good.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://kokada.dev/blog/kde-is-now-my-favorite-desktop/"/><published>2025-09-18T12:17:51+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45289453</id><title>Flipper Zero Geiger Counter</title><updated>2025-09-19T09:13:48.928636+00:00</updated><content>&lt;doc fingerprint="1c73dc206bab88f9"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Flipper Zero Geiger Counter&lt;/head&gt;
    &lt;quote&gt;&lt;p&gt;注意：所有模块均在第三方固件中测试，推荐使用:&lt;/p&gt;&lt;lb/&gt;unleashed固件，链接：[https://github.com/DarkFlippers/unleashed-firmware]&lt;lb/&gt;Momentum固件，链接：[https://github.com/Next-Flip/Momentum-Firmware]&lt;/quote&gt;
    &lt;head rend="h2"&gt;Compatible apps&lt;/head&gt;
    &lt;head rend="h2"&gt;Geiger counter&lt;/head&gt;
    &lt;p&gt;This app gives you a graph view with counts per second (instantaneous measure of the radioactivity) as CPS and per minute as CPM.&lt;/p&gt;
    &lt;p&gt;There is extra functionality to record, zoom, change units, etc.&lt;/p&gt;
    &lt;p&gt;(credits to nmrr)&lt;/p&gt;
    &lt;p&gt;CPS: counts per second (instantaneous measure of the radioactivity). CPS is alway displayed on the left corner.&lt;/p&gt;
    &lt;p&gt;CPM: counts per minute (the sum of CPS over a period of one minute). Other units of measurement can be chosen with Left/Right.&lt;/p&gt;
    &lt;p&gt;New CPS bar measure appears on the left every second.&lt;/p&gt;
    &lt;p&gt;A4 GPIO can be connected on A7 GPIO to test this application without using a geiger tube. A4 GPIO generates a signal with a frequency that varies every second.&lt;/p&gt;
    &lt;head rend="h3"&gt;Button assignments:&lt;/head&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;button&lt;/cell&gt;
        &lt;cell role="head"&gt;function&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Ok [long press]&lt;/cell&gt;
        &lt;cell&gt;Clear the graph&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Left/Right [short press]&lt;/cell&gt;
        &lt;cell&gt;Choose unit on the right corner (cpm, μSv/h, mSv/y, Rad/h, mRad/h, uRad/h), cps on the left is always displayed&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Up [long press]&lt;/cell&gt;
        &lt;cell&gt;Enable/disable recording, led of Flipper Zero is colored in red when recording&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Up/Down [short press]&lt;/cell&gt;
        &lt;cell&gt;Zoom/unzoom&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Down [long press]&lt;/cell&gt;
        &lt;cell&gt;Display version of the application&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Back [long press]&lt;/cell&gt;
        &lt;cell&gt;Exit&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h3"&gt;Use cases&lt;/head&gt;
    &lt;p&gt;Ambient radioactivity (descendants of radon gas are detected, not radon itself):&lt;/p&gt;
    &lt;p&gt;Measurement of a sample of uranium ore within a lead container:&lt;/p&gt;
    &lt;p&gt;Note: measures in Sv or Rad are not precise&lt;/p&gt;
    &lt;p&gt;Measurement of a sample of uranium ore (the most radioactive part):&lt;/p&gt;
    &lt;p&gt;Measurement of radium dial pointers:&lt;/p&gt;
    &lt;p&gt;All prior measurements in sequence (the scale of the graph is automatically adjusted):&lt;/p&gt;
    &lt;p&gt;Measurement of uranium orange pottery:&lt;/p&gt;
    &lt;p&gt;Measurement of americium-241 button from a smoke detector (descendants of americium or radioisotope impurities are detected, not americium itself):&lt;/p&gt;
    &lt;p&gt;A4 GPIO on A7 GPIO (to test this program without a geiger board):&lt;/p&gt;
    &lt;p&gt;Zoom levels (the third picture is the default zoom):&lt;/p&gt;
    &lt;p&gt;Version of the application (press down button during 1 sec to display version):&lt;/p&gt;
    &lt;head rend="h3"&gt;Recording function&lt;/head&gt;
    &lt;p&gt;Output CSV files are stored in the root directory of the SD card. Date and time are incorporated into the file name (example: geiger-2023-07-03--23-48-15.csv)&lt;/p&gt;
    &lt;p&gt;Data sample:&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;epoch&lt;/cell&gt;
        &lt;cell role="head"&gt;cps&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;0&lt;/cell&gt;
        &lt;cell&gt;10&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;1&lt;/cell&gt;
        &lt;cell&gt;14&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;8&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;3&lt;/cell&gt;
        &lt;cell&gt;11&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;9&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Note: J305 geiger tube is only sensible to beta and gamma rays. Alpha rays cannot be detected.&lt;/p&gt;
    &lt;p&gt;Usable radioactive sources:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;natural uranium (alpha, beta, gamma)&lt;/item&gt;
      &lt;item&gt;natural thorium (alpha, beta, gamma)&lt;/item&gt;
      &lt;item&gt;radium-226 (alpha, beta, gamma)&lt;/item&gt;
      &lt;item&gt;cobalt-60 (beta &amp;amp; gamma)&lt;/item&gt;
      &lt;item&gt;iodine-131 (beta &amp;amp; gamma)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Not really usable radioactive sources (must be in contact with the geiger tube to be detected):&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;americium-241 (alpha &amp;amp; low gamma, some strong beta/gamma rays are emitted during radioactive cascade or due to the presence of radioisotope impurities)&lt;/item&gt;
      &lt;item&gt;high purity metallic uranium/thorium (same as am241)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Totaly unusable radioactive sources:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;polonium-210 (pure alpha)&lt;/item&gt;
      &lt;item&gt;tritium (very low beta)&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Atomic dice roller&lt;/head&gt;
    &lt;p&gt;With this app you can get a really random dice based on the geiger counter. Make your decisions and board games extra exciting.&lt;/p&gt;
    &lt;p&gt;(credits to nmrr)&lt;/p&gt;
    &lt;p&gt;This application generates true random numbers by hashing timestamps obtained when a tick is produced by the geiger counter (i.e. when a beta or gamma ray is detected). Timestamps have 32 bit resolution and are produced from a 64 MHz signal.&lt;/p&gt;
    &lt;p&gt;Two hash methods have been implemented:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;CRC32: 8 ticks are needed to obtain a hash, for low activity sources&lt;/item&gt;
      &lt;item&gt;MD5: 32 ticks are needed to obtain a hash, for high activity sources&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Dice rolls are produced by transforming a single hash into a number between 1 and 6. Out of scope values are ignored so the dice is really balanced. Modulo-based methods are ugly because they are usually unbalanced.&lt;/p&gt;
    &lt;p&gt;It's possible to roll the dice without using a radioactive isotope. Air contains radon gas that is radioactive. Geiger board can detect descendants of radon gas that emit strong beta or gamma rays.&lt;/p&gt;
    &lt;p&gt;In the left corner, counts per second (cps) indicates the activity. In the right corner, availiable dice rolls are indicated. 64 rolls can be stored.&lt;/p&gt;
    &lt;head rend="h3"&gt;Button assignments:&lt;/head&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;button&lt;/cell&gt;
        &lt;cell role="head"&gt;function&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Ok [short short]&lt;/cell&gt;
        &lt;cell&gt;Roll the dice&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Left [long press]&lt;/cell&gt;
        &lt;cell&gt;Set CRC32 as hash method&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Right [long press]&lt;/cell&gt;
        &lt;cell&gt;Set MD5 as hash method&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Up [long press]&lt;/cell&gt;
        &lt;cell&gt;Set 0-1 as output range (coin flipper)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Down [long press]&lt;/cell&gt;
        &lt;cell&gt;Set 1-6 as output range (dice roller)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Back [long press]&lt;/cell&gt;
        &lt;cell&gt;Exit&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h2"&gt;Warning&lt;/head&gt;
    &lt;p&gt;These apps are for educational purposes only. Please use this code responsibly and only use these apps on your own equipment.&lt;lb/&gt; 本模块和软件只能用作教育和学习用途，一切使用责任请自负，请仅在您拥有的设备上使用&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://kasiin.top/blog/2025-08-04-flipper_zero_geiger_counter_module/"/><published>2025-09-18T13:28:59+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45290021</id><title>Grief gets an expiration date, just like us</title><updated>2025-09-19T09:13:48.865639+00:00</updated><content/><link href="https://bessstillman.substack.com/p/oh-fuck-youre-still-sad"/><published>2025-09-18T14:17:40+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45290245</id><title>TernFS – An exabyte scale, multi-region distributed filesystem</title><updated>2025-09-19T09:13:48.614457+00:00</updated><content>&lt;doc fingerprint="65ba0c171fb742d2"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;TernFS — an exabyte scale, multi-region distributed filesystem&lt;/head&gt;
    &lt;p&gt;September 2025&lt;/p&gt;
    &lt;p&gt;XTX is an algorithmic trading firm: it builds statistical models that produce price forecasts for over 50,000 financial instruments worldwide. We use those forecasts to make trades. As XTX's research efforts to build better models ramped up, the demand for resources kept increasing.&lt;/p&gt;
    &lt;p&gt;The firm started out with a couple of desktops and an NFS server, and 10 years later ended up with tens of thousands of high-end GPUs, hundreds of thousands of CPUs, and hundreds of petabytes of storage.&lt;/p&gt;
    &lt;p&gt;As compute grew, storage struggled to keep up. We rapidly outgrew NFS first and existing open-source and commercial filesystems later. After evaluating a variety of third-party solutions, we made the decision to implement our own filesystem, which we called TernFS[1].&lt;/p&gt;
    &lt;p&gt;We have decided to open source our efforts: TernFS is available as free software on our public GitHub. This post motivates TernFS, explains its high-level architecture, and then explores some key implementation details. If you just want to spin up a local TernFS cluster, head to the README.&lt;/p&gt;
    &lt;head rend="h2"&gt;Another filesystem?&lt;/head&gt;
    &lt;p&gt;There's a reason why every major tech company has developed its own distributed filesystem — they're crucial to running large-scale compute efforts, and liable to cause intense disruption if they malfunction. [2]&lt;/p&gt;
    &lt;p&gt;XTX was in the same position, so we designed TernFS to be a one-stop solution for most of our storage needs, going from relatively 'cold' storage of raw market data to short-lived random-access data used to communicate between GPU jobs running on our cluster.&lt;/p&gt;
    &lt;p&gt;TernFS:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Is designed to scale up to tens of exabytes, trillions of files, millions of concurrent clients.&lt;/item&gt;
      &lt;item&gt;Stores file contents redundantly to protect against drive failures.&lt;/item&gt;
      &lt;item&gt;Has no single point of failure in its metadata services.&lt;/item&gt;
      &lt;item&gt;Supports file snapshot to protect against accidental file deletion.&lt;/item&gt;
      &lt;item&gt;Can span across multiple regions.&lt;/item&gt;
      &lt;item&gt;Is hardware agnostic and uses TCP/IP to communicate.&lt;/item&gt;
      &lt;item&gt;Utilizes different types of storage (such as flash vs. hard disks) cost effectively.&lt;/item&gt;
      &lt;item&gt;Exposes read/write access through its own API over TCP and UDP, and a Linux kernel filesystem module.&lt;/item&gt;
      &lt;item&gt;Requires no external service and has a minimal set of build dependencies. [3]&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Specifically, C++ and Go are needed to build the various TernFS components.&lt;/p&gt;
    &lt;p&gt;The C++ and Go processes depend on a handful of vendored libraries, most notably RocksDB for C++.&lt;/p&gt;
    &lt;p&gt;Naturally, there are some limitations, the main ones being:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Files are immutable — once they're written they can't be modified.&lt;/item&gt;
      &lt;item&gt;TernFS should not be used for tiny files — our median file size is 2MB.&lt;/item&gt;
      &lt;item&gt;The throughput of directory creation and removal is significantly constrained compared to other operations.&lt;/item&gt;
      &lt;item&gt;TernFS is permissionless, deferring that responsibility to other services.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We started designing TernFS in early 2022 and began putting it into production in summer 2023. By mid-2024 all of our machine learning efforts were driven out of TernFS, and we're migrating the rest of the firm's storage needs onto it as well.&lt;/p&gt;
    &lt;p&gt;As of September 2025, our TernFS deployment stores more than 500PB across 30,000 disks, 10,000 flash drives, and three data centres. At peak we serve multiple terabytes per second. To this day, we haven't lost a single byte.&lt;/p&gt;
    &lt;head rend="h2"&gt;High-level overview&lt;/head&gt;
    &lt;p&gt;Now that the stage is set, we're ready to explain the various components that make up TernFS. TernFS' core API is implemented by four services:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Metadata shards store the directory structure and file metadata.&lt;/item&gt;
      &lt;item&gt;The cross-directory coordinator (or CDC) executes cross-shard transactions.&lt;/item&gt;
      &lt;item&gt;Block services store file contents.&lt;/item&gt;
      &lt;item&gt;The registry stores information about all the other services and monitors them.&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;
 A ──► B means "A sends requests to B" 
                                       
                                       
 ┌────────────────┐                    
 │ Metadata Shard ◄─────────┐          
 └─┬────▲─────────┘         │          
   │    │                   │          
   │    │                   │          
   │ ┌──┴──┐                │          
   │ │ CDC ◄──────────┐     │          
   │ └──┬──┘          │     │          
   │    │             │ ┌───┴────┐     
   │    │             └─┤        │     
 ┌─▼────▼────┐          │ Client │     
 │ Registry  ◄──────────┤        │     
 └──────▲────┘          └─┬──────┘     
        │                 │            
        │                 │            
 ┌──────┴────────┐        │            
 │ Block Service ◄────────┘            
 └───────────────┘

&lt;/code&gt;
    &lt;p&gt;In the next few sections, we'll describe the high-level design of each service and then give more background on other relevant implementation details.[4]&lt;/p&gt;
    &lt;p&gt;Note that TernFS' multi-region capabilities are orthogonal to much of its high-level design, and they're therefore explained separately.&lt;/p&gt;
    &lt;head rend="h3"&gt;Metadata&lt;/head&gt;
    &lt;p&gt;To talk about metadata, we first need to explain what metadata is in TernFS. The short answer is: 'everything that is not file contents.' The slightly longer answer is:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Directory entries, including all files and directory names.&lt;/item&gt;
      &lt;item&gt;File metadata including creation/modification/access time, logical file size, and so on.&lt;/item&gt;
      &lt;item&gt;The mapping between files and the blocks containing their contents.&lt;/item&gt;
      &lt;item&gt;Other ancillary data structures to facilitate maintenance operations.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;TernFS' metadata is split into 256 logical shards. Shards never communicate with each other. This is a general principle in TernFS: each service is disaggregated from the others, deferring to the clients to communicate with each service directly.[5]&lt;/p&gt;
    &lt;p&gt;There are some exceptions — most notably the shards execute requests from the CDC, and all services check into the registry.&lt;/p&gt;
    &lt;p&gt;A logical shard is further split into five physical instances, one leader and four followers, in a typical distributed consensus setup. The distributed consensus engine is provided by a purpose-built Raft-like implementation, which we call LogsDB, while RocksDB is used to implement read/write capabilities within a shard instance.&lt;/p&gt;
    &lt;p&gt;Currently all reads and writes go through the leader, but it would be trivial to allow clients to read from followers, and with a bit more effort to switch to a write-write setup.&lt;/p&gt;
    &lt;code&gt;    ┌─────────┐ ┌─────────┐       ┌───────────┐ 
    │ Shard 0 │ │ Shard 1 │  ...  │ Shard 255 │ 
    └─────────┘ │         │       └───────────┘ 
            ┌───┘         └───────────────────┐ 
            │                                 │ 
            │                  ┌────────────┐ │ 
            │ ┌───────────┐    │ Replica 0  │ │ 
            │ │           ◄────► (follower) │ │ 
 ┌────────┐ │ │ Replica 3 ◄──┐ └────────────┘ │ 
 │ Client ├─┼─► (leader)  ◄─┐│ ┌────────────┐ │ 
 └────────┘ │ │           ◄┐│└─► Replica 1  │ │ 
            │ └───────────┘││  │ (follower) │ │ 
            │              ││  └────────────┘ │ 
            │              ││  ┌────────────┐ │ 
            │              │└──► Replica 2  │ │ 
            │              │   │ (follower) │ │ 
            │              │   └────────────┘ │ 
            │              │   ┌────────────┐ │ 
            │              └───► Replica 4  │ │ 
            │                  │ (follower) │ │ 
            │                  └────────────┘ │ 
            └─────────────────────────────────┘ 
&lt;/code&gt;
    &lt;p&gt;Splitting the metadata into 256 shards from the get-go simplifies the design, given that horizontal scaling of metadata requires no rebalancing, just the addition of more metadata servers.&lt;/p&gt;
    &lt;p&gt;For instance, our current deployment can serve hundreds of petabytes and more than 100,000 compute nodes with just 10 metadata servers per data centre, with each server housing roughly 25 shard leaders and 100 shard followers.&lt;/p&gt;
    &lt;p&gt;Given that the metadata servers are totally decoupled from one another, this means that we can scale metadata performance by 25× trivially, and by 100× if we were to start offloading metadata requests to followers.&lt;/p&gt;
    &lt;p&gt;TernFS shards metadata by assigning each directory to a single shard. This is done in a simple round-robin fashion by the cross-directory coordinator. Once a directory is created, all its directory entries and the files in it are housed in the same shard.&lt;/p&gt;
    &lt;p&gt;This design decision has downsides: TernFS assumes that the load will be spread across the 256 logical shards naturally. This is not a problem in large deployments, given that they will contain many directories, but it is something to keep in mind.[6]&lt;/p&gt;
    &lt;head rend="h3"&gt;Cross-directory transactions&lt;/head&gt;
    &lt;p&gt;Most of the metadata activity is contained within a single shard:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;File creation, same-directory renames, and deletion.&lt;/item&gt;
      &lt;item&gt;Listing directory contents.&lt;/item&gt;
      &lt;item&gt;Getting attributes of files or directories.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;However, some operations do require coordination between shards, namely directory creation, directory removal, and moving directory entries across different directories.&lt;/p&gt;
    &lt;p&gt;The cross-directory coordinator (CDC) performs these distributed transactions using a privileged metadata shard API. The CDC transactions are stateful, and therefore the CDC uses RocksDB and LogsDB much like the metadata shards themselves to persist its state safely.&lt;/p&gt;
    &lt;code&gt; ┌────────┐    ┌──────────┐ ┌───────────┐ 
 │ Client ├─┐  │ Shard 32 │ │ Shard 103 │ 
 └────────┘ │  └────────▲─┘ └─▲─────────┘ 
 ┌─────┬────┼───────────┼─────┼─┐         
 │ CDC │  ┌─▼──────┐    │     │ │         
 ├─────┘  │ Leader ├────┴─────┘ │         
 │        └─────▲──┘            │         
 │              │               │         
 │       ┌──────┴───────┐       │         
 │       │              │       │         
 │ ┌─────▼────┐    ┌────▼─────┐ │         
 │ │ Follower │ .. │ Follower │ │         
 │ └──────────┘    └──────────┘ │         
 └──────────────────────────────┘   
&lt;/code&gt;
    &lt;p&gt;The CDC executes transactions in parallel, which increases throughput considerably, but it is still a bottleneck when it comes to creating, removing, or moving directories. This means that TernFS has a relatively low throughput when it comes to CDC operations.[7]&lt;/p&gt;
    &lt;head rend="h3"&gt;Block services, or file contents&lt;/head&gt;
    &lt;p&gt;In TernFS, files are split into chunks of data called blocks. Blocks are read and written to by block services. A block service is typically a single drive (be it a hard disk or a flash drive) storing blocks. At XTX a typical storage server will contain around 100 hard disks or 25 flash drives — or in TernFS parlance 100 or 25 block services.[8]&lt;/p&gt;
    &lt;p&gt;Read/write access to the block service is provided using a simple TCP API currently implemented by a Go process. This process is hardware agnostic and uses the Go standard library to read and write blocks to a conventional local file system. We originally planned to rewrite the Go process in C++, and possibly write to block devices directly, but the idiomatic Go implementation has proven performant enough for our needs so far.&lt;/p&gt;
    &lt;head rend="h3"&gt;The registry&lt;/head&gt;
    &lt;p&gt;The final piece of the TernFS puzzle is the registry. The registry stores the location of each instance of service (be it a metadata shard, the CDC, or a block storage node). A client only needs to know the address of the registry to mount TernFS — it'll then gather the locations of the other services from it.&lt;/p&gt;
    &lt;p&gt;In TernFS all locations are IPv4 addresses. Working with IPv4 directly simplifies the kernel module considerably, since DNS lookups are quite awkward in the Linux kernel. The exception to this rule is addressing the registry itself, for which DNS is used.&lt;/p&gt;
    &lt;p&gt;The registry also stores additional information, such as the capacity and available size of each drive, who is a follower or a leader in LogsDB clusters, and so on.&lt;/p&gt;
    &lt;p&gt;Predictably, the registry itself is a RocksDB and LogsDB C++ process, given its statefulness.&lt;/p&gt;
    &lt;head rend="h3"&gt;Going global&lt;/head&gt;
    &lt;p&gt;TernFS tries very hard not to lose data, by storing both metadata and file contents on many different drives and servers. However, we also want to be resilient to the temporary or even permanent loss of one entire data centre. Therefore, TernFS can transparently scale across multiple locations.&lt;/p&gt;
    &lt;p&gt;The intended use for TernFS locations is for each location to converge to the same dataset. This means that each location will have to be provisioned with roughly equal resources.[9] Both metadata and file contents replication are asynchronous. In general, we judge the event of losing an entire data centre rare enough to tolerate a time window where data is not fully replicated across locations.&lt;/p&gt;
    &lt;p&gt;Metadata replication is set up so that one location is the metadata primary. Write operations in non-primary locations pay a latency price since they are acknowledged only after they are written to the primary location, replicated, and applied in the originating location. In practice this hasn't been an issue since metadata write latencies are generally overshadowed by writing file contents.&lt;/p&gt;
    &lt;p&gt;There is no automated procedure to migrate off a metadata primary location — again, we deem it a rare enough occurrence to tolerate manual intervention. In the future we plan to move from the current protocol to a multi-master protocol where each location can commit writes independently, which would reduce write latencies on secondary locations and remove the privileged status of the primary location.&lt;/p&gt;
    &lt;p&gt;File contents, unlike metadata, are written locally to the location the client is writing from. Replication to other locations happens in two ways: proactively and on-demand. Proactive replication is performed by tailing the metadata log and replicating new file contents. On-demand replication happens when a client requests file content which has not been replicated yet.&lt;/p&gt;
    &lt;head rend="h2"&gt;Important Details&lt;/head&gt;
    &lt;p&gt;Now that we've laid down the high-level design of TernFS, we can talk about several key implementation details that make TernFS safer, more performant, and more flexible.&lt;/p&gt;
    &lt;head rend="h3"&gt;Talking to TernFS&lt;/head&gt;
    &lt;head rend="h4"&gt;Speaking TernFS' language&lt;/head&gt;
    &lt;p&gt;The most direct way to talk to TernFS is by using its own API. All TernFS messages are defined using a custom serialization format we call bincode. We chose to develop a custom serialization format since we needed it to work within the confines of the Linux kernel and to be easily chopped into UDP packets.&lt;/p&gt;
    &lt;p&gt;We intentionally kept the TernFS API stateless, in the sense that each request executes without regard to previous requests made by the same client. This is in contrast to protocols like NFS, whereby each connection is very stateful, holding resources such as open files, locks, and so on.&lt;/p&gt;
    &lt;p&gt;A stateless API dramatically simplifies the state machines that make up the TernFS core services, therefore simplifying their testing. It also forces each request to be idempotent, or in any case have clear retry semantics, since they might have to be replayed, which facilitates testing further.&lt;/p&gt;
    &lt;p&gt;It also allows the metadata shards and CDC API to be based on UDP rather than TCP, which makes the server and clients (especially the kernel module) simpler, due to doing away with the need for keeping TCP connections. The block service API is TCP based, since it is used to stream large amounts of contiguous data, and any UDP implementation would have to re-implement a reliable stream protocol. The registry API is also TCP-based, given that it is rarely used by clients, and occasionally needs to return large amounts of data.&lt;/p&gt;
    &lt;p&gt;While the TernFS API is simple out-of-the-box, we provide a permissively licensed Go library implementing common tasks that clients might want to perform, such as caching directory policies and retrying requests. This library is used to implement many TernFS processes that are not part of the core TernFS services, such as scrubbing, garbage collection, migrations, and the web UI.&lt;/p&gt;
    &lt;head rend="h4"&gt;Making TernFS POSIX-shaped&lt;/head&gt;
    &lt;p&gt;While the Go library is used for most ancillary tasks, some with high performance requirements, the main way to access TernFS at XTX is through its Linux kernel module.&lt;/p&gt;
    &lt;p&gt;This is because, when migrating our machine learning workflows to TernFS, we needed to support a vast codebase working with files directly. This not only meant that we needed to expose TernFS as a normal filesystem, but also that said normal filesystem API needed to be robust and performant enough for our machine learning needs.[10]&lt;/p&gt;
    &lt;p&gt;For this reason, we opted to work with Linux directly, rather than using FUSE. Working directly with the Linux kernel not only gave us the confidence that we could achieve our performance requirements but also allowed us to bend the POSIX API to our needs, something that would have been more difficult if we had used FUSE.[11]&lt;/p&gt;
    &lt;p&gt;The main obstacle when exposing TernFS as a 'normal' filesystem is that TernFS files are immutable. More specifically, TernFS files are fully written before being 'linked' into the filesystem as a directory entry. This is intentional: it lets us cleanly separate the API for 'under construction' files and 'completed files', and it means that half-written files are not visible.&lt;/p&gt;
    &lt;p&gt;However this design is essentially incompatible with POSIX, which endows the user with near-absolute freedom when it comes to manipulating a file. Therefore, the TernFS kernel module is not POSIX-compliant, but rather exposes enough POSIX to allow many programs to work without modifications, but not all.&lt;/p&gt;
    &lt;p&gt;In practice this means that programs which write files left-to-right and never modify the files' contents will work out-of-the-box. While this might seem very restrictive, we found that a surprising number of programs worked just fine.[12] Programs that did not follow this pattern were modified to first write to a temporary file and then copy the finished file to TernFS.&lt;/p&gt;
    &lt;p&gt;While we feel that writing our own kernel module was the right approach, it proved to be the trickiest part of TernFS, and we would not have been able to implement it without some important safety checks in the TernFS core services.[13]&lt;/p&gt;
    &lt;head rend="h4"&gt;S3 gateway&lt;/head&gt;
    &lt;p&gt;Almost all the storage-related activity at XTX is due to our machine-learning efforts, and for those purposes the TernFS' kernel module has served us well. However, as TernFS proved itself there, we started to look into offering TernFS to the broader firm.&lt;/p&gt;
    &lt;p&gt;Doing so through the kernel module presented multiple challenges. For starters installing a custom kernel module on every machine that needed to reach TernFS is operationally cumbersome. Moreover, while all machine-learning happens in clusters housed in the same data centre as TernFS itself, we wanted to expose TernFS in a way that's more amenable to less local networks, for instance by removing the need for UDP. Finally, TernFS does not have any built-in support for permissions or authentication, which is a requirement in multi-tenant scenarios.&lt;/p&gt;
    &lt;p&gt;To solve all these problems, we implemented a gateway for TernFS, which exposes a TernFS subtree using the S3 API. The gateway is a simple Go process turning S3 calls into TernFS API calls. The S3 gateway is not currently open sourced since it is coupled to authentication services internal to XTX, but we have open sourced a minimal S3 gateway to serve as a starting point for third-party contributors to build their own.&lt;/p&gt;
    &lt;p&gt;We've also planned an NFS gateway to TernFS, but we haven't had a pressing enough need yet to complete it.&lt;/p&gt;
    &lt;head rend="h4"&gt;The web UI and the JSON interface&lt;/head&gt;
    &lt;p&gt;Finally, a view of TernFS is provided by its web UI. The web UI is a stateless Go program which exposes most of the state of TernFS in an easy-to-use interface. This state includes the full filesystem contents (both metadata and file contents), the status of each service including information about decommissioned block services, and so on.&lt;/p&gt;
    &lt;p&gt;Moreover, the web UI also exposes the direct TernFS API in JSON form, which is very useful for small scripts and curl-style automation that does not warrant a full-blown Go program.&lt;/p&gt;
    &lt;head rend="h3"&gt;Directory Policies&lt;/head&gt;
    &lt;p&gt;To implement some of the functionality we'll describe below, TernFS adopts a system of per-directory policies.&lt;/p&gt;
    &lt;p&gt;Policies are used for all sorts of decisions, including:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;How to redundantly store files.&lt;/item&gt;
      &lt;item&gt;On which type of drive to store files.&lt;/item&gt;
      &lt;item&gt;How long to keep files around after deletion.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Each of the topics above (and a few more we haven't mentioned) correspond to a certain policy tag. The body of the policies are stored in the metadata together with the other directory attributes.&lt;/p&gt;
    &lt;p&gt;Policies are inherited: if a directory does not contain a certain policy tag, it transitively inherits from the parent directory. TernFS clients store a cache of policies to allow for traversal-free policy lookup for most directories.&lt;/p&gt;
    &lt;head rend="h3"&gt;Keeping blocks in check&lt;/head&gt;
    &lt;p&gt;A filesystem is no good if it loses, leaks, corrupts, or otherwise messes up its data. TernFS deploys a host of measures to minimize the chance of anything going wrong. So far, these have worked: we've never lost data in our production deployment of TernFS. This section focuses on the measures in place to specifically safeguard files' blocks.&lt;/p&gt;
    &lt;head rend="h4"&gt;Against bitrot, or CRC32-C&lt;/head&gt;
    &lt;p&gt;The first and possibly most obvious measure consists of aggressively checksumming all TernFS' data. The metadata is automatically checksummed by RocksDB, and every block is stored in a format interleaving 4KiB pages with 4byte CRC32-C checksums.&lt;/p&gt;
    &lt;p&gt;CRC32-C was picked since it is a high-quality checksum and implemented on most modern silicon.[14] It also exhibits some desirable properties when used together with Reed-Solomon coding.&lt;/p&gt;
    &lt;p&gt;Peter Cawley's fast-crc32 repository provides a general framework to compute CRC32-C quickly, together with state-of-the-art implementations for x86 and aarch64 architectures.&lt;/p&gt;
    &lt;p&gt;4KiB was picked since it is the read boundary used by Linux filesystems and is fine-grained while still being large enough to render the storage overhead of the 4byte checksums negligible.&lt;/p&gt;
    &lt;p&gt;Interleaving the CRCs with the block contents does not add any safety, but it does improve operations in two important ways. First, it allows for safe partial reads: clients can demand only a few pages from a block which is many megabytes in size and still check the reads against its checksum. Second, it allows scrubbing files locally on the server which hosts the blocks, without communicating with other services at all.&lt;/p&gt;
    &lt;head rend="h4"&gt;Storing files redundantly, or Reed-Solomon codes&lt;/head&gt;
    &lt;p&gt;We've been talking about files being split into blocks, but we haven't really explained how files become blocks.&lt;/p&gt;
    &lt;p&gt;The first thing we do to a file is split it into spans. Spans are at most 100MiB and are present just to divide files into sections of a manageable size.&lt;/p&gt;
    &lt;p&gt;Then each span is divided into D data blocks, and P parity blocks. D and P are determined by the corresponding directory policy in which the file is created. When D is 1, the entire contents of the span become a single block, and that block is stored D+P times. This scheme is equivalent to a simple mirroring scheme and allows it to lose up to P blocks before losing file data.&lt;/p&gt;
    &lt;p&gt;While wasteful, mirroring the entire contents of the file can be useful for very hot files, since TernFS clients will pick a block at random to read from, thereby sharing the read load across many block services. And naturally files which we do not care much for can be stored with D = 1 and P = 0, without any redundancy.&lt;/p&gt;
    &lt;p&gt;That said, most files will not be stored using mirroring but rather using Reed-Solomon coding. Other resources can be consulted to understand the high-level idea and the low-level details of Reed-Solomon coding, but the gist is it allows us to split a span into D equally sized blocks (some padding might be necessary), and then generate P blocks of equal size such that up to any P blocks can be lost while retaining the ability to reconstruct all the other blocks.&lt;/p&gt;
    &lt;p&gt;As mentioned, D and P are fully configurable, but at XTX we tend to use D = 10 and P = 4, which allows us to lose up to any four drives for any file.&lt;/p&gt;
    &lt;head rend="h4"&gt;Drive type picking&lt;/head&gt;
    &lt;p&gt;We now know how to split files into a bunch of blocks. The next question is: which drives to pick to store the blocks on. The first decision is which kind of drive to use. At XTX we separate drives into two broad categories for this purpose — flash and spinning disks.&lt;/p&gt;
    &lt;p&gt;When picking between these two, we want to balance two needs: minimizing the cost of hardware by utilizing hard disks if we can [15], and maximizing hard disk productivity by having them reading data most of the time, rather than seeking.&lt;/p&gt;
    &lt;p&gt;To achieve that, directory policies offer a way to tune how large each block will be, and to tune which drives will be picked based on block size. This allows us to configure TernFS so that larger files that can be read sequentially are stored on hard disks, while random-access or small files are stored on flash. [16]&lt;/p&gt;
    &lt;p&gt;Currently this system is not adaptive, but we found that in practice it's easy to carve out sections of the filesystem which are not read sequentially. We have a default configuration which assumes sequential reads and then uses hard disks down to roughly 2.5MB blocks, below which hard disks stop being productive enough and blocks start needing to be written to flash.&lt;/p&gt;
    &lt;head rend="h4"&gt;Block service picking&lt;/head&gt;
    &lt;p&gt;OK, we now know what type of drive to select for our files, but we still have tens of thousands of individual drives to pick from. Picking the 'right' individual drive requires some sophistication.&lt;/p&gt;
    &lt;p&gt;The first thing to note is that drive failures or unavailability are often correlated. For instance, at XTX a single server handles 102 spinning disks. If the server is down, faulty, or needs to be decommissioned, it'll render its 102 disks temporarily or permanently unavailable.&lt;/p&gt;
    &lt;p&gt;It's therefore wise to spread a file's blocks across many servers. To achieve this, each TernFS block service (which generally corresponds to a single drive) has a failure domain. When picking block services in which to store the blocks for a given file, TernFS will make sure that each block is in a separate failure domain. In our TernFS deployment a failure domain corresponds to a server, but other users might wish to tie it to some other factor as appropriate.&lt;/p&gt;
    &lt;p&gt;TernFS also tries hard to avoid write bottlenecks by spreading the current write load across many disks. Moreover, since new drives can be added at any time, it tries to converge to a situation where each drive is roughly equally filled by assigning writing more to drives with more available space.&lt;/p&gt;
    &lt;p&gt;Mechanically this is achieved by having each shard periodically request a set of block services to use for writing from the registry. When handing out block services to shards, the registry selects block services according to several constraints:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;It never gives block services from the same failure domain to the same shard&lt;/item&gt;
      &lt;item&gt;It minimizes the variance in how many shards each block service is currently assigned to&lt;/item&gt;
      &lt;item&gt;It prioritizes block services which have more available space.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Then when a client wants to write a new span, requiring D+P blocks, the shard simply selects D+P block services randomly amongst the ones it last received from the registry.&lt;/p&gt;
    &lt;p&gt;One concept currently absent from TernFS is what is often known as 'copyset replication'. When assigning disks to files at random (even with the caveat of failure domains) the probability of rendering at least one file unreadable quickly becomes a certainty as more and more drives fail:&lt;/p&gt;
    &lt;p&gt;Copysets reduce the likelihood of data loss occurring by choosing blocks out of a limited number of sets of drives, as opposed to picking the drives randomly. This dramatically reduces the probability of data loss[17]. They are generally a good idea, but we haven't found them to be worthwhile, for a few reasons.&lt;/p&gt;
    &lt;p&gt;Note that while copysets reduce the failure probability, they do not (and cannot) reduce the expected amount of data loss. That is, instead of a large probability of a relatively small amount of data loss we have a very small probability of a catastrophic loss.&lt;/p&gt;
    &lt;p&gt;First, evacuating a 20TB drive takes just a few minutes, and in the presence of multiple failed drives the migrator process evacuates first the files which are present in multiple failed drives to get ahead of possible data loss. This means that for TernFS to lose data within a single data centre tens of drives would have to fail within a matter of seconds.&lt;/p&gt;
    &lt;p&gt;More importantly, our TernFS deployment is replicated across three data centres. This replication eliminates the chance of losing data due to 'independent' drive failures — thousands of drives would need to fail at once. Obviously, data centre wide events can cause a large proportion of the drives within it to fail, but having such an event in three data centres at once is exceedingly unlikely.&lt;/p&gt;
    &lt;p&gt;Finally, copysets are not without drawbacks or complications. Assigning drives at random is an optimal strategy when it comes to evacuating drives quickly, since the files with blocks in the drives to be evacuated will be evenly spread over the rest of the filesystem, and since we only ever need to replace the failed blocks given that we're not constrained by fitting the new set of blocks in predetermined copysets. This means that the evacuation procedure will not be bottlenecked by drive throughput, which is what enables evacuation to finish in a matter of minutes. Moreover, the algorithm to distribute drives to shards is significantly simpler and more flexible than if it needed to care about copysets.&lt;/p&gt;
    &lt;p&gt;However, users that wish to deploy TernFS within a single data centre might wish to implement some form of copyset replication. Such a change would be entirely contained to the registry and would not change any other component.&lt;/p&gt;
    &lt;head rend="h4"&gt;Block Proofs&lt;/head&gt;
    &lt;p&gt;We now have a solid scheme to store files redundantly (thanks to Reed-Solomon codes) and protect against bitrot (thanks to the checksums). However, said schemes are only as good as their implementation.&lt;/p&gt;
    &lt;p&gt;As previously mentioned, TernFS clients communicate their intention to write a file to metadata servers, the metadata servers select block services that the blocks should be written to, and the clients then write the blocks to block services independently of the metadata services. The same happens when a client wants to erase blocks: the client first communicates its intentions to delete the blocks to the right metadata shard and then performs the erasing itself.&lt;/p&gt;
    &lt;p&gt;This poses a challenge. While verifying the correctness of the core TernFS services is feasible, verifying all clients is not, but we'd still like to prevent buggy clients from breaking key invariants of the filesystem.&lt;/p&gt;
    &lt;p&gt;Buggy clients can wreak havoc in several ways:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;They can leak data by writing blocks to block services that are not referenced anywhere in the metadata.&lt;/item&gt;
      &lt;item&gt;They can lose data by erasing blocks which are still referenced in metadata.&lt;/item&gt;
      &lt;item&gt;They can corrupt data by telling the metadata services they'll write something and then writing something else.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;We address all these points by using what we call block proofs. To illustrate how block proofs work, it's helpful to go through the steps required to write new data to a file.&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;When a client is creating a file, it'll do so by adding its file spans one-by-one. For each span the client wants to add it sends an 'initiate span creation' request to the right metadata shard. This request contains both the overall checksum of the span, and the checksum of each block in it (including parity blocks).&lt;/item&gt;
      &lt;item&gt;The metadata shard checks the consistency of the checksum of the span and of its blocks, something it can do thanks to some desirable mathematical properties of CRCs.&lt;/item&gt;
      &lt;item&gt;The shard picks block services for the blocks to be written in and returns this information to the client together with a signature for each 'block write' instruction.&lt;/item&gt;
      &lt;item&gt;The client forwards this signature to the block services, which will refuse to write the block without it. Crucially, the cryptographic signature ranges over a unique identity for the block (ensuring we only write the block we mean to write), together with its checksum, ensuring we don't write the wrong data.[18]&lt;/item&gt;
      &lt;item&gt;After committing the block to disk, the block service returns a 'block written' signature to the client.&lt;/item&gt;
      &lt;item&gt;Finally, the client forwards the block written signature back to the shard, which certifies that the span has been written only when it has received the signatures for all the blocks that make up the span. [19]&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This kind of scheme was described more generally in a separate blog post.&lt;/p&gt;
    &lt;p&gt;Similarly, when a client wants to delete a span, it first asks the metadata shard to start doing so. The metadata shard marks the span as 'in deletion' and returns a bunch of 'block erase' signatures to the client. The client then forwards the signatures to the block services that hold the blocks, which delete the blocks, and return a 'block erased' signature. The clients forward these signatures back to the metadata shards, which can then forget about the span entirely.&lt;/p&gt;
    &lt;p&gt;We use AES to generate the signatures for simplicity but note that the goal here is not protecting ourselves from malicious clients — just buggy ones. The keys used for the signature are not kept secret, and CRC32-C is not a secure checksum. That said, we've found this scheme enormously valuable in the presence of complex clients. We spent considerable efforts making the core services very simple so we could then take more implementation risks in the clients, with the knowledge that we would have a very low chance of corrupting the filesystem itself.&lt;/p&gt;
    &lt;head rend="h4"&gt;Scrubbing&lt;/head&gt;
    &lt;p&gt;Finally, if things go wrong, we need to notice. The most common failure mode for a drive is for it to fail entirely, in which case our internal hardware monitoring system will pick it up and migrate from it automatically. The more insidious (and still very common) case is a single sector failing in a drive, which will only be noticed when we try to read the block involving that sector.&lt;/p&gt;
    &lt;p&gt;This is acceptable for files which are read frequently, but some files might be very 'cold' but still very important.&lt;/p&gt;
    &lt;p&gt;Consider the case of raw market data taps which are immediately converted to some processed, lossy format. While we generally will use the file containing the processed data, it's paramount to store the raw market data forever so that if we ever want to include more information from the original market data, we can. So important cold files might go months or even years without anyone reading them, and in the meantime, we might find that enough blocks have been corrupted to render them unreadable.[20]&lt;/p&gt;
    &lt;p&gt;To make sure this does not happen, a process called the scrubber continuously reads every block that TernFS stores, and replaces blocks with bad sectors before they can cause too much damage.&lt;/p&gt;
    &lt;head rend="h3"&gt;Snapshots and garbage collection&lt;/head&gt;
    &lt;p&gt;We've talked at length about what TernFS does to try to prevent data loss due to hardware failure or bugs in clients. However, the most common type of data loss is due to human error — the &lt;code&gt;rm —rf / home/alice/notes.txt&lt;/code&gt; scenario.&lt;/p&gt;
    &lt;p&gt;To protect against these scenarios, TernFS implements a lightweight snapshotting system. When files or directories are deleted, their contents aren't actually deleted. Instead, a weak reference to them is created. We call such weak references snapshot directory entries.&lt;/p&gt;
    &lt;p&gt;Snapshot entries are not be visible through the kernel module or the S3 gateway, but are visible through the direct API, and at XTX we have developed internal tooling to easily recover deleted files through it.[21] Deleted files are also visible through the TernFS web UI.&lt;/p&gt;
    &lt;p&gt;Given that 'normal' file operations do not delete files, but rather make them a snapshot, the task of freeing up space is delegated to an external Go process, the garbage collector. The garbage collector traverses the filesystem and removes expired snapshots, which involves deleting their blocks permanently. Snapshot expiry is predictably regulated by directory policies.&lt;/p&gt;
    &lt;head rend="h3"&gt;Keeping TernFS healthy&lt;/head&gt;
    &lt;p&gt;This last section covers how we (humans of XTX) notice problems in TernFS, and how TernFS self-heals when things go wrong — both key topics if we want to ensure no data loss and notice performance problems early.&lt;/p&gt;
    &lt;head rend="h4"&gt;Performance metrics&lt;/head&gt;
    &lt;p&gt;TernFS exposes a plethora of performance metrics through the HTTP InfluxDB line protocol. While connecting TernFS to a service which ingests these metrics is optional, it is highly recommended for any production service.&lt;/p&gt;
    &lt;p&gt;Moreover, the kernel module exposes many performance metrics itself through DebugFS.&lt;/p&gt;
    &lt;p&gt;Both types of metrics, especially when used in tandem, have proved invaluable to resolve performance problems quickly.&lt;/p&gt;
    &lt;head rend="h4"&gt;Logging and alerts&lt;/head&gt;
    &lt;p&gt;TernFS services log their output to files in a simple line-based format. The internal logging API is extremely simple and includes support for syslog levels out-of-the-box. At XTX we run TernFS as normal systemd services and use journalctl to view logs.&lt;/p&gt;
    &lt;p&gt;As with metrics, the kernel module includes various logging facilities as well. The first type of logging is just through dmesg, but the kernel module also includes numerous tracepoints for low-overhead opt-in logging of many operations.&lt;/p&gt;
    &lt;p&gt;TernFS is also integrated with XTX's internal alerting system, called XMon, to page on call developers when things go wrong. XMon is not open source, but all the alerts are also rendered as error lines in logs. [22] We plan to eventually move to having alerts feed off performance metrics, which would make them independent from XMon, although we don't have plans to do so in the short-term.&lt;/p&gt;
    &lt;head rend="h4"&gt;Migrations&lt;/head&gt;
    &lt;p&gt;Finally, there's the question of what to do when drives die — and they will die, frequently, when you have 50,000 of them. While drives dying is not surprising, we've been surprised at the variety of different drive failures. [23] A malfunctioning drive might:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Produce IO errors when reading specific files. This is probably due to a single bad sector.&lt;/item&gt;
      &lt;item&gt;Produce IO errors when reading or writing anything. This might happen because enough bad sectors have gone bad and the drive cannot remap them, or for a variety of other reasons.&lt;/item&gt;
      &lt;item&gt;Return wrong data. This is usually caught by the built-in error correction codes in the hard drives, but not always.&lt;/item&gt;
      &lt;item&gt;Lie about data being successfully persisted. This can manifest in a variety of ways: file size being wrong on open, file contents being partially zero'd out, and so on.&lt;/item&gt;
      &lt;item&gt;Disappear from the mount list, only to reappear when the machine is rebooted, but missing some data.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;When clients fail to read from a drive, they'll automatically fall back on other drives to reconstruct the missing data, which is extremely effective in hiding failures from the end-user. That said, something needs to be done about the bad drives, and done quickly to avoid permanent data loss.&lt;/p&gt;
    &lt;p&gt;The TernFS registry allows marking drives as faulty. Faulty drives are then picked up by the migrator, a Go process which waits for bad drives and then stores all its blocks onto freshly picked block services.&lt;/p&gt;
    &lt;p&gt;TernFS also tries to mark drives as bad automatically using a simple heuristic based on the rate of IO errors the drive is experiencing. The number of drives automatically marked as faulty is throttled to avoid having this check go awry and mark the whole cluster as faulty, which would not be catastrophic but would still be messy to deal with.&lt;/p&gt;
    &lt;p&gt;Moreover, drives that are faulty in subtle ways might not be picked up by the heuristics, which means that occasionally a sysadmin will need to mark a drive as faulty manually, after which the migrator will evacuate them.&lt;/p&gt;
    &lt;head rend="h2"&gt;Closing thoughts&lt;/head&gt;
    &lt;p&gt;At XTX we feel strongly about utilizing our resources efficiently. When it comes to software, this means having software that gets close to some theoretical optimum when it comes to total cost of ownership. This culture was borne out by competing hard for technological excellence when doing on-exchange trading at first, and by our ever-growing hardware costs as our business has grown later.&lt;/p&gt;
    &lt;p&gt;Such idealized tools might not exist or be available yet, in which case we're happy to be the tool makers. TernFS is a perfect example of this and we're excited to open source this component of our business for the community.&lt;/p&gt;
    &lt;p&gt;Crucially, the cost of implementation of a new solution is often overblown compared to the cost of tying yourself to an ill-fitting, expensive third-party solution. Designing and implementing a solution serving exactly your needs allows for much greater simplicity. If the requirements do change, as often happens, changes can be implemented very quickly, again only catering to your needs.&lt;/p&gt;
    &lt;p&gt;That said, we believe that TernFS' set of trade-offs are widely shared across many organizations dealing with large-scale storage workloads, and we hope we'll contribute to at least slowing down the seemingly constant stream of new filesystems.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.xtxmarkets.com/tech/2025-ternfs/"/><published>2025-09-18T14:36:44+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45291024</id><title>Launch HN: Cactus (YC S25) – AI inference on smartphones</title><updated>2025-09-19T09:13:48.029845+00:00</updated><content>&lt;doc fingerprint="b50a9a40fcb997a8"&gt;
  &lt;main&gt;
    &lt;p&gt;Energy-efficient AI inference framework &amp;amp; kernels for phones &amp;amp; AI-native hardware. Budget and mid-range phones control over 70% of the market, but frameworks today optimise for the highend phones. Cactus is designed bottom-up with no dependencies for all mobile devices.&lt;/p&gt;
    &lt;p&gt;Example (CPU-only):&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Model: Qwen3-600m-INT8&lt;/item&gt;
      &lt;item&gt;File size: 370-420mb&lt;/item&gt;
      &lt;item&gt;16-20 t/s on Pixel 6a, Galaxy S21, iPhone 11 Pro&lt;/item&gt;
      &lt;item&gt;50-70 t/s on Pixel 9, Galaxy S25, iPhone 16&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Cactus exposes 4 levels of abstraction.&lt;/p&gt;
    &lt;code&gt;┌─────────────────┐
│   Cactus FFI    │ ←── OpenAI compatible C API for integration  
└─────────────────┘
         │
┌─────────────────┐
│  Cactus Engine  │ ←── High-level transformer engine
└─────────────────┘
         │
┌─────────────────┐  
│  Cactus Graph   │ ←── Unified zero-copy computation graph 
└─────────────────┘
         │
┌─────────────────┐
│ Cactus Kernels  │ ←── Low-level ARM-specific SIMD operations
└─────────────────┘
&lt;/code&gt;
    &lt;p&gt;Cactus Graph is a general numerical computing framework that runs on Cactus Kernels. Great for implementing custom models and scientific computing, like JAX for phones.&lt;/p&gt;
    &lt;code&gt;#include cactus.h

CactusGraph graph;

auto a = graph.input({2, 3}, Precision::FP16);
auto b = graph.input({3, 4}, Precision::INT8);

auto x1 = graph.matmul(a, b, false);
auto x2 = graph.transpose(x1);
auto result = graph.matmul(b, x2, true);

float a_data[6] = {1.1f, 2.3f, 3.4f, 4.2f, 5.7f, 6.8f};
float b_data[12] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};

graph.set_input(a, a_data, Precision::FP16);
graph.set_input(b, b_data, Precision::INT8);
graph.execute();

void* output_data = graph.get_output(result);
graph.hard_reset(); 
&lt;/code&gt;
    &lt;p&gt;Cactus Engine is a transformer inference engine built on top of Cactus Graphs. It is abstracted via Cactus Foreign Function Interface.&lt;/p&gt;
    &lt;code&gt;#include cactus.h

const char* model_path = "path/to/weight/folder";
cactus_model_t model = cactus_init(model_path, 2048);

const char* messages = R"([
    {"role": "system", "content": "You are a helpful assistant."},
    {"role": "user", "content": "/nothink My name is Henry Ndubuaku"}
])";

const char* options = R"({
    "temperature": 0.1,
    "top_p": 0.95,
    "top_k": 20,
    "max_tokens": 50,
    "stop_sequences": ["&amp;lt;|im_end|&amp;gt;"]
})";

char response[1024];
int result = cactus_complete(model, messages, response, sizeof(response), options, nullptr, nullptr, nullptr);&lt;/code&gt;
    &lt;p&gt;With tool support:&lt;/p&gt;
    &lt;code&gt;const char* tools = R"([
    {
        "function": {
            "name": "get_weather",
            "description": "Get weather for a location",
            "parameters": {
                "properties": {
                    "location": {
                        "type": "string",
                        "description": "City name",
                        "required": true
                    }
                },
                "required": ["location"]
            }
        }
    }
])";

int result = cactus_complete(model, messages, response, sizeof(response), options, tools, nullptr, nullptr);&lt;/code&gt;
    &lt;p&gt;This makes it easy to write Cactus bindings for any language. Header files are self-documenting but documentation contributions are welcome.&lt;/p&gt;
    &lt;p&gt;Cactus SDKs run 500k+ weekly inference tasks in production today, try them!&lt;/p&gt;
    &lt;p&gt;You can run these codes directly on Macbooks with Apple chips due to their design. Performance gain is observed in mobile devices but for testing during development, Vanilla M3 CPU-only can run Qwen3-600m-INT8 at 60-70 toks/sec, use the following:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Generate weights from HuggingFace model:&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;python3 tools/convert_hf.py Qwen/Qwen3-0.6B weights/qwen3-600m-i8/ --precision INT8&lt;/code&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Build and test:&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;./tests/run.sh # remember to chmod +x any script first time
&lt;/code&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Gemma, SmolVLM, Liquid, Kitten, Vosk etc.&lt;/item&gt;
      &lt;item&gt;SMMLA, NPU &amp;amp; DSP for high-end phones.&lt;/item&gt;
      &lt;item&gt;INT4 support for 1B+ models.&lt;/item&gt;
      &lt;item&gt;Python tools for porting Torch/JAX cactus.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Preliminary results:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Qwen3-4B-INT4 on iPhone 16 Pro NPU = 21 t/s&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;While Cactus can be used for all Apple devices including Macbooks, for computers/AMD/Intel/Nvidia generally, please use HuggingFace, Llama.cpp, Ollama, vLLM, MLX. They're built for those, support x86, and are all great!&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://github.com/cactus-compute/cactus"/><published>2025-09-18T15:40:29+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45292475</id><title>OpenTelemetry collector: What it is, when you need it, and when you don't</title><updated>2025-09-19T09:13:47.786455+00:00</updated><content>&lt;doc fingerprint="76f9d19190f9188e"&gt;
  &lt;main&gt;
    &lt;quote&gt;
      &lt;p&gt;Do you really need an OpenTelemetry Collector? If you're just sprinkling SDKs into a side project - maybe not. If you're running a multi-service production environment and care about cost, performance, security boundaries, or intelligent processing - yes, you almost certainly do.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;This post explains exactly what the OpenTelemetry Collector is, why it exists, how data flows with and without it, and the trade‑offs of each approach. You’ll leave with a decision framework, deployment patterns, and practical configuration guidance.&lt;/p&gt;
    &lt;head rend="h2"&gt;Quick Definition&lt;/head&gt;
    &lt;p&gt;The OpenTelemetry Collector is a vendor‑neutral, pluggable telemetry pipeline that receives, processes, and exports telemetry signals (traces, metrics, logs, profiles, more coming) from your applications to one or more backends (one of those backends is OneUptime).&lt;/p&gt;
    &lt;p&gt;It removes vendor SDK lock‑in, centralizes telemetry policy, and gives you a programmable choke point to:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Clean the data (remove sensitive fields, add context)&lt;/item&gt;
      &lt;item&gt;Batch sends and retry automatically when exports fail&lt;/item&gt;
      &lt;item&gt;Sample smartly (keep errors &amp;amp; rare slow traces, trim noisy success traffic)&lt;/item&gt;
      &lt;item&gt;Smooth out differences between frameworks / SDK versions&lt;/item&gt;
      &lt;item&gt;Route traces, metrics, and logs to different backends&lt;/item&gt;
      &lt;item&gt;Act as a safety barrier between app nodes and the public internet&lt;/item&gt;
      &lt;item&gt;Cut cost early by dropping low‑value or redundant telemetry&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Architecture at 10,000ft&lt;/head&gt;
    &lt;head rend="h3"&gt;1. Without a Collector (Direct Export)&lt;/head&gt;
    &lt;p&gt;Each service ships telemetry directly to your backend (e.g., OneUptime, another SaaS, or self‑hosted store):&lt;/p&gt;
    &lt;code&gt;graph LR
  A[Service A
  App SDKs] --&amp;gt;|OTLP/gRPC| B[(Observability Backend)]
  C[Service B
  App SDKs] --&amp;gt;|OTLP/HTTP| B
  D[Service C
  App SDKs] --&amp;gt;|OTLP| B&lt;/code&gt;
    &lt;p&gt;Pros:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Simpler (fewer moving parts)&lt;/item&gt;
      &lt;item&gt;Lower operational overhead&lt;/item&gt;
      &lt;item&gt;Good for small apps / POCs&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Cons:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Each service handles retries, auth, backpressure&lt;/item&gt;
      &lt;item&gt;Hard to change exporters later (coupling)&lt;/item&gt;
      &lt;item&gt;No central sampling / scrubbing / routing&lt;/item&gt;
      &lt;item&gt;Higher risk of SDK or network misconfig hurting reliability&lt;/item&gt;
      &lt;item&gt;Increased egress cost if sending duplicate data to multiple vendors&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;2. With a Central Collector&lt;/head&gt;
    &lt;p&gt;All apps send to a centralized Collector (or a tiered set) which then exports.&lt;/p&gt;
    &lt;code&gt;graph LR
  subgraph Your Infrastructure
    A[Service A]
    C[Service B]
    D[Service C]
    A --&amp;gt; E[Central Collector]
    C --&amp;gt; E
    D --&amp;gt; E
  end



  E --&amp;gt;|Telemetry Data| B1[(OTel Backend like OneUptime)]&lt;/code&gt;
    &lt;p&gt;Pros:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Centralized config: sampling, redaction, enrichment&lt;/item&gt;
      &lt;item&gt;One egress channel with batching &amp;amp; retry&lt;/item&gt;
      &lt;item&gt;Decouple app lifecycle from vendor changes&lt;/item&gt;
      &lt;item&gt;Multi-destination routing (e.g., traces, metrics, logs → OneUptime, logs → S3)&lt;/item&gt;
      &lt;item&gt;Reduce noisy telemetry before it hits priced tiers&lt;/item&gt;
      &lt;item&gt;Security boundary: no direct outbound to internet from app nodes&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Cons:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Extra component to deploy / monitor&lt;/item&gt;
      &lt;item&gt;Potential chokepoint (must size + scale properly)&lt;/item&gt;
      &lt;item&gt;Misconfiguration can drop all telemetry&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Direct Export vs Collector: Side‑by‑Side&lt;/head&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Dimension&lt;/cell&gt;
        &lt;cell role="head"&gt;Direct Export&lt;/cell&gt;
        &lt;cell role="head"&gt;Collector-Based&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Setup Speed&lt;/cell&gt;
        &lt;cell&gt;Fast&lt;/cell&gt;
        &lt;cell&gt;Moderate&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Policy Control (sampling/redaction)&lt;/cell&gt;
        &lt;cell&gt;Per service&lt;/cell&gt;
        &lt;cell&gt;Centralized&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Multi-backend Routing&lt;/cell&gt;
        &lt;cell&gt;Manual duplication&lt;/cell&gt;
        &lt;cell&gt;Built-in pipelines&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Cost Optimization&lt;/cell&gt;
        &lt;cell&gt;Hard&lt;/cell&gt;
        &lt;cell&gt;Easy (drop early)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Failure Isolation&lt;/cell&gt;
        &lt;cell&gt;Each app handles retries&lt;/cell&gt;
        &lt;cell&gt;Central queue + backpressure&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Security (egress lockdown)&lt;/cell&gt;
        &lt;cell&gt;Outbound from every app&lt;/cell&gt;
        &lt;cell&gt;Single controlled egress&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Config Drift Risk&lt;/cell&gt;
        &lt;cell&gt;High&lt;/cell&gt;
        &lt;cell&gt;Low (single source)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Vendor Migration&lt;/cell&gt;
        &lt;cell&gt;Painful (touch all apps)&lt;/cell&gt;
        &lt;cell&gt;Swap exporter centrally&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Scaling Pressure&lt;/cell&gt;
        &lt;cell&gt;Apps bear it&lt;/cell&gt;
        &lt;cell&gt;Collector tier handles it&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Recommended For&lt;/cell&gt;
        &lt;cell&gt;Small app / POC&lt;/cell&gt;
        &lt;cell&gt;Production / multi-service&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;head rend="h2"&gt;What the Collector Actually Does (Core Concepts)&lt;/head&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Component&lt;/cell&gt;
        &lt;cell role="head"&gt;Purpose&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Receivers&lt;/cell&gt;
        &lt;cell&gt;Ingest telemetry (OTLP, Jaeger, Prometheus, Zipkin, Syslog, etc.)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Processors&lt;/cell&gt;
        &lt;cell&gt;Transform / batch / sample / tail filter / memory limit&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Exporters&lt;/cell&gt;
        &lt;cell&gt;Send to destinations (OTLP, Kafka, S3, logging, load balancers)&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Extensions&lt;/cell&gt;
        &lt;cell&gt;Auth, health check, zpages, pprof, headers, feature add-ons&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Pipelines&lt;/cell&gt;
        &lt;cell&gt;Declarative graphs binding receiver → processors → exporter&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;A minimal example pipeline (YAML):&lt;/p&gt;
    &lt;code&gt;receivers:
  otlp:
    protocols:
      grpc:
      http:

processors:
  batch:
    send_batch_max_size: 8192
    timeout: 5s
  memory_limiter:
    limit_mib: 512
    spike_limit_mib: 128
    check_interval: 2s
  attributes/redact:
    actions:
      - key: user.email
        action: delete
  tail_sampling:
    decision_wait: 5s
    num_traces: 10000
    policies:
      - name: errors
        type: status_code
        status_code:
          status_codes: [ERROR]
      - name: latency
        type: latency
        latency:
          threshold_ms: 500

exporters:
  otlphttp_oneuptime:
    endpoint: https://oneuptime.com/otlp/v1/traces
    headers:
      x-oneuptime-token: ${ONEUPTIME_TOKEN}


service:
  pipelines:
    traces:
      receivers: [otlp]
      processors: [memory_limiter, batch, tail_sampling, attributes/redact]
      exporters: [otlphttp_oneuptime]
    metrics:
      receivers: [otlp]
      processors: [memory_limiter, batch]
      exporters: [otlphttp_oneuptime]
    logs:
      receivers: [otlp]
      processors: [memory_limiter, batch, attributes/redact]
      exporters: [otlphttp_oneuptime]
    &lt;/code&gt;
    &lt;head rend="h2"&gt;When You Definitely Need a Collector&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;You want tail sampling (decide after seeing full trace) to keep 100% of errors &amp;amp; rare paths but downsample boring traffic.&lt;/item&gt;
      &lt;item&gt;You need multi-destination routing (e.g., traces, metrics, logs → OneUptime, logs → S3/ClickHouse, security events → SIEM).&lt;/item&gt;
      &lt;item&gt;You must strip sensitive PII before it leaves your network.&lt;/item&gt;
      &lt;item&gt;You need cost governance—drop chatty spans/metrics at the edge.&lt;/item&gt;
      &lt;item&gt;You want hot-swappable vendors without touching app code.&lt;/item&gt;
      &lt;item&gt;You require network isolation (no direct internet from app nodes).&lt;/item&gt;
      &lt;item&gt;You need central retries / buffering to survive outages gracefully.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;When You Can Probably Skip It (For Now)&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Single service + low traffic.&lt;/item&gt;
      &lt;item&gt;You only emit a few key metrics and a handful of spans.&lt;/item&gt;
      &lt;item&gt;You are experimenting locally / learning OTel basics.&lt;/item&gt;
      &lt;item&gt;You have no current need for sampling, routing, or redaction.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;(But design your app setup so you can add a collector later with a one-line endpoint change. Ideally an env variable change)&lt;/p&gt;
    &lt;head rend="h2"&gt;Cost Optimization: Why the Collector Often Pays for Itself&lt;/head&gt;
    &lt;p&gt;Raw telemetry can explode: high-cardinality logs, trace spans for internal cron noise, verbose debug metrics. Sending everything directly → backend = surprise bill.&lt;/p&gt;
    &lt;p&gt;Collector lets you:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Batch aggressively → fewer network round trips&lt;/item&gt;
      &lt;item&gt;Drop low-value spans (health checks, cache hits)&lt;/item&gt;
      &lt;item&gt;Tail sample: keep 100% of errors, maybe 10% of success&lt;/item&gt;
      &lt;item&gt;Strip high-cardinality attributes before storage&lt;/item&gt;
      &lt;item&gt;Aggregate / reduce metrics before export&lt;/item&gt;
      &lt;item&gt;Route only audit-critical logs to expensive storage; bulk to cheap object store&lt;/item&gt;
    &lt;/list&gt;
    &lt;quote&gt;
      &lt;p&gt;Every dollar saved upstream compounds monthly. The collector is your first cost control valve.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;head rend="h2"&gt;Observing the Observer: Collector Internal Metrics&lt;/head&gt;
    &lt;p&gt;You can (and should) scrape the collector's own metrics to watch queue length, dropped spans, export latency. See our post:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;How to collect internal metrics from OpenTelemetry Collector?&lt;/item&gt;
      &lt;item&gt;How to increase the size of the sending queue in OpenTelemetry Collector?&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Related Concepts&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Traces vs Metrics in Software Observability&lt;/item&gt;
      &lt;item&gt;Logs, Metrics &amp;amp; Traces: A Before and After Story.&lt;/item&gt;
      &lt;item&gt;How to reduce noise in OpenTelemetry?&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Final Take&lt;/head&gt;
    &lt;p&gt;If observability is core to operating your system (it should be), the Collector becomes the control plane for your telemetry. Start simple, add capabilities incrementally, and let it pay for itself through cost savings, flexibility, and reliability.&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;Golden rule: Emit broadly at the edge, curate aggressively in the pipeline, store intentionally in the backend. The Collector is where that curation lives.&lt;/p&gt;
    &lt;/quote&gt;
    &lt;p&gt;Need a production-grade backend for your Collector pipelines? OneUptime natively supports OpenTelemetry for traces, metrics, logs, and more - without vendor lock‑in.&lt;/p&gt;
    &lt;p&gt;Happy instrumenting.&lt;/p&gt;
    &lt;head rend="h3"&gt;Neel Patel&lt;/head&gt;
    &lt;p&gt;@devneelpatel • Sep 18, 2025 •&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://oneuptime.com/blog/post/2025-09-18-what-is-opentelemetry-collector-and-why-use-one/view"/><published>2025-09-18T17:29:17+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45292648</id><title>Learn Your Way: Reimagining Textbooks with Generative AI</title><updated>2025-09-19T09:13:47.499792+00:00</updated><content>&lt;doc fingerprint="bd71201abef387ab"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Learn Your Way: Reimagining textbooks with generative AI&lt;/head&gt;
    &lt;p&gt;September 16, 2025&lt;/p&gt;
    &lt;p&gt;Gal Elidan, Research Scientist, and Yael Haramaty, Senior Product Manager, Google Research&lt;/p&gt;
    &lt;p&gt;New research into GenAI in education demonstrates a novel approach to reimagining textbooks that led to improved learning outcomes in a recent study. The research comes to life in our interactive experience, Learn Your Way, now available on Google Labs.&lt;/p&gt;
    &lt;head rend="h2"&gt;Quick links&lt;/head&gt;
    &lt;p&gt;Textbooks are a cornerstone of education, but they have a fundamental limitation: they are a one-size-fits-all medium. The manual creation of textbooks demands significant human effort, and as a result they lack alternative perspectives, multiple formats and tailored variations that can make learning more effective and engaging. At Google, we’re exploring how we can use generative AI (GenAI) to automatically generate alternative representations or personalized examples, while preserving the integrity of the source material. What if students had the power to shape their own learning journey, exploring materials using various formats that fit their evolving needs? What if we could reimagine the textbook to be as unique as every learner?&lt;/p&gt;
    &lt;p&gt;Recent advances in GenAI are bringing this vision closer to reality. Today we are excited to introduce Learn Your Way, now on Google Labs, a research experiment that explores how GenAI can transform educational materials to create a more effective, engaging, learner-driven experience for every student. Here we outline the research and pedagogy underpinning Learn Your Way, with more details in the accompanying tech report. We also report early indicators of its impact: in our efficacy study, students using Learn Your Way scored 11 percentage points higher on retention tests than students using a standard digital reader.&lt;/p&gt;
    &lt;head rend="h2"&gt;Grounded in learning, built for the student&lt;/head&gt;
    &lt;p&gt;Our approach is built on two key pillars that work together to augment the learning experience: (1) generating various multimodal representations of the content, and (2) taking foundational steps toward personalization.&lt;/p&gt;
    &lt;p&gt;The seminal dual coding theory states that forging mental connections between different representations strengthens the underlying conceptual schema in our brain. Subsequent research indeed showed that when students actively engage with information in various formats, they build a more robust and complete mental model of the material. Inspired by this, our approach empowers students with the agency to choose and intermix multiple formats and modalities to best help them understand the material. In addition, personalization is increasingly becoming an aspirational standard in K-12 educational settings, and so our research reflects this. We aim to enhance the relatability and effectiveness of educational content by adapting it to student attributes. Moreover, we incorporate quizzing capabilities that enable us to further tailor the experience according to the learners’ real-time responses. Such personalization can be a powerful method for enhancing motivation and deepening learning.&lt;/p&gt;
    &lt;p&gt;Bringing this to life involves a layered technical approach using LearnLM, our best-in-class pedagogy-infused family of models, now integrated directly into Gemini 2.5 Pro. The first layer is a unique personalization pipeline that serves as the basis for the second layer of multiple content representations. Our starting point is a textbook PDF, although our approach could be used with other forms of source material.&lt;/p&gt;
    &lt;head rend="h3"&gt;The personalization pipeline&lt;/head&gt;
    &lt;p&gt;The Learn Your Way interface asks the learner to select their grade and interests (e.g., sports, music, food). The original source material is first re-leveled to the learner’s reported grade level, while maintaining the scope of its content. This is followed by the strategic replacement of generic examples with ones that are personalized to the learner’s reported interests. The resulting text serves as the basis for the generation of all the other representations, effectively propagating the personalization effect and setting up a pipeline for further personalization.&lt;/p&gt;
    &lt;head rend="h3"&gt;Multiple representations of content&lt;/head&gt;
    &lt;p&gt;Following the source personalization, we generate multiple representations of the content. For some content representations, such as mind maps and timelines, Gemini’s broad capabilities are used directly. Other features such as narrated slides, require more elaborate pipelines that weave together multiple specialized AI agents and tools to achieve an effective pedagogical result. Finally, specialized tasks, such as generating effective educational visuals, proved too challenging even for state-of-the-art general-purpose image models. To overcome this, we fine-tuned a dedicated model specifically for generating educational illustrations. The combination of a powerful base model, multi-step agentic workflows, and fine-tuned components allows us to generate a wide range of high-quality multimodal representations for learning.&lt;/p&gt;
    &lt;head rend="h2"&gt;The Learn Your Way experience&lt;/head&gt;
    &lt;p&gt;Our research comes to life in Learn Your Way. The interface brings together multiple, personalized representations of content including: (1) immersive text, (2) section-level quizzes, (3) slides &amp;amp; narration, (4) audio lessons, and (5) mind maps.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Immersive text: Breaks the content up into digestible sections that are augmented with generated images and embedded questions. Put together, these transform passive reading into an active multimodal experience that follows learning science principles.&lt;/item&gt;
      &lt;item&gt;Section-level quizzes: Promote active learning by allowing a user to interactively assess their learning, and uncover existing knowledge gaps.&lt;/item&gt;
      &lt;item&gt;Slides &amp;amp; narration: Offers presentations that span the entire source material and include engaging activities like fill-in-the-blanks, as well as a narrated version, mimicking a recorded lesson.&lt;/item&gt;
      &lt;item&gt;Audio lesson: Provides simulated conversations, coupled with visual aids, between an AI-powered teacher and a student that models how a real learner might engage with the material, including the expression of misconceptions, which are clarified by the teacher.&lt;/item&gt;
      &lt;item&gt;Mind map: Organizes the knowledge hierarchically and allows learners to zoom in and out from the big picture to the details.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The above representations give learners choice and are all adapted to their selected grade level and personal interests. Throughout the experience, the interactive quizzes provide dynamic feedback, guiding students to revisit specific content areas where they struggled. This marks our first steps towards true personalization.&lt;/p&gt;
    &lt;head rend="h2"&gt;Pedagogical evaluation&lt;/head&gt;
    &lt;p&gt;To evaluate Learn You Way's pedagogical performance, we transformed ten varied source materials from OpenStax (a provider of free educational textbooks) to three different personalization settings. The source materials covered various subjects from history to physics. Three pedagogical subject matter experts then evaluated the transformed materials using pedagogical criteria, such as accuracy, coverage, and the LearnLM learning science principles.&lt;/p&gt;
    &lt;p&gt;The results were highly positive, with an average expert rating of 0.85 or higher across all pedagogical criteria. See the tech report for more evaluation details.&lt;/p&gt;
    &lt;head rend="h2"&gt;Efficacy study&lt;/head&gt;
    &lt;p&gt;An AI-powered learning tool is only valuable if it both effectively improves learning outcomes and students want to use it. Learn Your Way now serves as a research platform for us to conduct studies with partners around the world to explore how AI-powered transformations and personalization affects outcomes, and to ensure that what we build is effective and locally relevant.&lt;/p&gt;
    &lt;p&gt;Recently, we conducted a randomized controlled study with 60 students from the Chicago area, ages 15–18 and with similar reading levels. Participants were given up to 40 minutes to learn about adolescent brain development from a textbook, and randomly assigned to learn using Learn Your Way or a traditional digital PDF reader.&lt;/p&gt;
    &lt;p&gt;We assessed students with a quiz immediately after the study session, and with a retention test 3–5 days later, using assessments designed by pedagogical experts to be a good measure of content comprehension. We also surveyed them about the learning experience, and to gain deeper insights beyond these quantitative metrics, each student participated in a 30-minute qualitative interview where they could share more nuanced feedback about their experience.&lt;/p&gt;
    &lt;p&gt;The results were compelling and statistically significant. Here are the highlights. See the tech report for more details.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Positive learning outcomes: The Learn Your Way group scored, on average, 9% higher on the immediate assessment following the study session.&lt;/item&gt;
      &lt;item&gt;Better long-term retention: Similarly, the Learn Your Way group scored 11% higher on the retention assessment 3-5 days later (78% vs. 67%).&lt;/item&gt;
      &lt;item&gt;Positive user sentiment: 100% of students who used Learn Your Way reported that they felt the tool made them more comfortable taking the assessment, compared to 70% in the digital reader control group. 93% said they would want to use Learn Your Way for future learning, compared to just 67% for the digital reader.&lt;/item&gt;
      &lt;item&gt;Valuable experience: Insights from the qualitative interviews revealed that students found great value in Learn Your Way.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Experience Learn Your Way&lt;/head&gt;
    &lt;p&gt;To give a concrete feel for the Learn Your Way interactive experience, today we are releasing example experiences on Google Labs, including:&lt;/p&gt;
    &lt;head rend="h2"&gt;The path forward&lt;/head&gt;
    &lt;p&gt;Our findings suggest that generative AI can be used to build learning experiences that are not only more effective but also more empowering. By evolving the static textbook into an interactive artifact and giving students greater agency over how they learn, we saw learning retention improve.&lt;/p&gt;
    &lt;p&gt;This work is just the beginning of our exploration. We envision many more ways to tailor content, moving towards systems that continuously adapt to each learner's unique needs and progress. As we take our next steps towards personalized education, we will continue to ground our research in pedagogical principles, measuring the impact of AI on learning efficacy, so that in the future every student might have access to a high-quality, engaging learning experience that is custom built for them.&lt;/p&gt;
    &lt;head rend="h2"&gt;Acknowledgements&lt;/head&gt;
    &lt;p&gt;Shout out to our Google Research LearnLM team who have contributed to this work: Alicia Martín, Amir Globerson, Amy Wang, Anirudh Shekhawat, Anisha Choudhury, Anna Iurchenko, Avinatan Hassidim, Ayça Çakmakli, Ayelet Shasha Evron, Charlie Yang, Courtney Heldreth, Dana Oria, Diana Akrong, Hairong Mu, Ian Li, Ido Cohen, Komal Singh, Lev Borovoi, Lidan Hackmon, Lior Belinsky, Michael Fink, Preeti Singh, Rena Levitt, Shashank Agarwal, Shay Sharon, Sophie Allweis, Tracey Lee-Joe, Xiaohong Hao, Yael Gold-Zamir, Yishay Mor, and Yoav Bar Sinai. Special thanks to our executive champions: Niv Efron, Avinatan Hassidim, Yossi Matias and Ben Gomes.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://research.google/blog/learn-your-way-reimagining-textbooks-with-generative-ai/"/><published>2025-09-18T17:42:56+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45292694</id><title>This map is not upside down</title><updated>2025-09-19T09:13:47.364144+00:00</updated><content>&lt;doc fingerprint="f00ca5471275de50"&gt;
  &lt;main&gt;
    &lt;p&gt;If you were to close your eyes and picture a map of the world, chances are you would imagine a conventional image: North America (including Greenland) and Europe at the top, Africa somewhere in the middle, and South America, Australia, and Antarctica at the bottom. But it does not have to be so, and it was not always so.&lt;/p&gt;
    &lt;p&gt;It’s not that our planet underwent change—it did, of course, but long before maps. Our conventions as map readers and makers have converged over time to a north-up default. What happens when that convention is challenged? Robert Simmon, a cartographer who previously developed maps for Planet Labs and NASA Earth Observatory, designed a map to address that question.&lt;/p&gt;
    &lt;p&gt;Simmon’s map includes countries, major lakes, oceans, gulfs, seas, roads, and cities. It also features inset maps depicting Earth’s biosphere, global land cover, and bathymetry. All of these are familiar to most map readers. Yet the map may seem disorienting to many. Simmon’s map is geographically correct, yet purposely—and literally—turns convention on its head. What was once familiar becomes alien, challenging readers to look at Earth anew. It also encourages us to think more deeply about such conventions: Why is north almost always at the top of maps? And must it always be that way? Simmon’s map reminds us that it doesn’t have to be.&lt;/p&gt;
    &lt;p&gt;Simmon is not the first to create a south-up map. Others have made these maps to challenge conventions and norms. And it was only rather recently that north-up maps became so commonplace. Centuries ago, cartographers drew maps with the top being south, east, or other orientations. These alternatives reflected the limited tools, knowledge, and practices of the time. The basic idea behind a compass (which most today recognize as a device that points north) was known to the Han and Tang dynasties of China more than 2,000 years ago. Early Chinese navigators used magnetized devices as a compass, but for them south was the dominant position from which bearings were derived.&lt;/p&gt;
    &lt;p&gt;Deciding to put south, or north, at the top of maps is a decision of consequence. Psychologically, we tend to view things nearer the top as ‘good’ and those lower as ‘bad.’ This can influence our interpretation of maps at both global and local scales. Still, the prominence of north-up maps did not arrive deliberately to elevate the status of some areas or their rulers. It is in part a consequence of the work of Ptolemey, who first labeled his maps with calculated lines of latitude and longitude. This made it easy for others to copy, extend, and derive new maps. Each map drawn in this way would adopt Ptolemy’s orientation.&lt;/p&gt;
    &lt;p&gt;Regardless of the reasons for a given orientation and the implications that follow, Simmon’s map reminds us to challenge tradition and consider its influence. As both a map and a philosophical prompt, this example hits the mark beautifully.&lt;/p&gt;
    &lt;head rend="h2"&gt;About This Map&lt;/head&gt;
    &lt;list rend="dl"&gt;
      &lt;item rend="dt-1"&gt;Title&lt;/item&gt;
      &lt;item rend="dd-1"&gt;The World, South Up&lt;/item&gt;
      &lt;item rend="dt-2"&gt;Creator&lt;/item&gt;
      &lt;item rend="dd-2"&gt;Robert simmon&lt;/item&gt;
      &lt;item rend="dt-3"&gt;Data Sources&lt;/item&gt;
      &lt;item rend="dd-3"&gt;
        &lt;list rend="ul"&gt;
          &lt;item&gt;Natural Earth, GEBCO&lt;/item&gt;
          &lt;item&gt;NASA/USGS MODIS Land Cover Classification&lt;/item&gt;
          &lt;item&gt;NOAA VIIRS NDVI&lt;/item&gt;
          &lt;item&gt;NOAA VIIRS Ocean Color&lt;/item&gt;
        &lt;/list&gt;
      &lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This map was contributed through the Maps.com submission program. If you’d like your map to be featured, submit it for consideration.&lt;/p&gt;
    &lt;list rend="dl"&gt;
      &lt;item rend="dt-1"&gt;Tags&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.maps.com/this-map-is-not-upside-down/"/><published>2025-09-18T17:47:19+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45294058</id><title>U.S. already has the critical minerals it needs, according to new analysis</title><updated>2025-09-19T09:13:47.132206+00:00</updated><content>&lt;doc fingerprint="e9780551b293659e"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;U.S. already has the critical minerals it needs – but they're being thrown away, new analysis shows&lt;/head&gt;
    &lt;p&gt;In new Science article, Colorado School of Mines researchers call for more research, development and policy to increase critical mineral recovery&lt;/p&gt;
    &lt;p&gt;All the critical minerals the U.S. needs annually for energy, defense and technology applications are already being mined at existing U.S. facilities, according to a new analysis published today in the journal Science.&lt;/p&gt;
    &lt;p&gt;The catch? These minerals, such as cobalt, lithium, gallium and rare earth elements like neodymium and yttrium, are currently being discarded as tailings of other mineral streams like gold and zinc, said Elizabeth Holley, associate professor of mining engineering at Colorado School of Mines and lead author of the new paper.&lt;/p&gt;
    &lt;p&gt;"The challenge lies in recovery," Holley said. "It's like getting salt out of bread dough – we need to do a lot more research, development and policy to make the recovery of these critical minerals economically feasible."&lt;/p&gt;
    &lt;p&gt;To conduct the analysis, Holley and her team built a database of annual production from federally permitted metal mines in the U.S. They used a statistical resampling technique to pair these data with the geochemical concentrations of critical minerals in ores, recently compiled by the U.S. Geological Survey, Geoscience Australia and the Geologic Survey of Canada.&lt;/p&gt;
    &lt;p&gt;Using this approach, Holley’s team was able to estimate the quantities of critical minerals being mined and processed every year at U.S. metal mines but not being recovered. Instead, these valuable minerals are ending up as discarded tailings that must be stored and monitored to prevent environmental contamination.&lt;/p&gt;
    &lt;p&gt;“This is a brand-new view of ‘low hanging fruit’ – we show where each critical mineral exists and the sites at which even 1 percent recovery of a particular critical mineral could make a huge difference, in many cases dramatically reducing or even eliminating the need to import that mineral,” Holley said.&lt;/p&gt;
    &lt;p&gt;The analysis in Science looks at a total of 70 elements used in applications ranging from consumer electronics like cell phones to medical devices to satellites to renewable energy to fighter jets and shows that unrecovered byproducts from other U.S. mines could meet the demand for all but two – platinum and palladium.&lt;/p&gt;
    &lt;p&gt;Among the elements included in the analysis are:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Cobalt (Co): The lustrous bluish-gray metal, a key component in electric car batteries, is a byproduct of nickel and copper mining. Recovering less than 10 percent of the cobalt currently being mined and processed but not recovered would be more than enough to fuel the entire U.S. battery market.&lt;/item&gt;
      &lt;item&gt;Germanium (Ge): The brittle silvery-white semi-metal used for electronics and infrared optics, including sensors on missiles and defense satellites, is present in zinc and molybdenum mines. If the U.S. recovered less than 1 percent of the germanium currently mined and processed but not recovered from U.S. mines, it would not have to import any germanium to meet industry needs.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;The benefits of enhanced recovery are not only economic and geopolitical but also environmental, Holley said – recovering these critical minerals instead of sending them to tailings piles would reduce the environmental impact of mine waste and open more opportunities for reuse in construction and other industries.&lt;/p&gt;
    &lt;p&gt;“Now that we know which sites are low-hanging fruit, we need to conduct detailed analyses of the minerals in which these chemical elements reside and then test the technologies suitable for recovery of those elements from those specific minerals,” Holley said. “We also need policies that incentivize mine operators to incorporate additional processing infrastructure. Although these elements are needed, their market value may not be sufficient to motivate operators to invest in new equipment and processes without the right policies in place.”&lt;/p&gt;
    &lt;p&gt;Co-authors on the paper are Karlie Hadden, PhD candidate in geology; Dorit Hammerling, associate professor of applied mathematics and statistics; Rod Eggert, research professor of economics and business; Erik Spiller, research professor of mining engineering; and Priscilla Nelson, professor of mining engineering.&lt;/p&gt;
    &lt;p&gt;Read the full paper, "Byproduct recovery from US metal mines could reduce import reliance for critical minerals," on the Science website. To access the data and figures before the paper appears in print, contact Mines Media Relations Specialist Erich Kirshner at erich.kirshner@mines.edu.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.minesnewsroom.com/news/us-already-has-critical-minerals-it-needs-theyre-being-thrown-away-new-analysis-shows"/><published>2025-09-18T19:41:50+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45294440</id><title>Apple: SSH and FileVault</title><updated>2025-09-19T09:13:46.987651+00:00</updated><content>&lt;doc fingerprint="201543195f03b8c1"&gt;
  &lt;main&gt;
    &lt;table&gt;
      &lt;row&gt;
        &lt;cell&gt;apple_ssh_and_filevault(7)&lt;/cell&gt;
        &lt;cell&gt;Miscellaneous Information Manual&lt;/cell&gt;
        &lt;cell&gt;apple_ssh_and_filevault(7)&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;&lt;code&gt;apple_ssh_and_filevault&lt;/code&gt; —
    SSH and FileVault&lt;/p&gt;
    &lt;p&gt;When FileVault is enabled, the data volume is locked and unavailable during and after booting, until an account has been authenticated using a password. The macOS version of OpenSSH stores all of its configuration files, both system-wide and per-account, in the data volume. Therefore, the usually configured authentication methods and shell access are not available during this time. However, when Remote Login is enabled, it is possible to perform password authentication using SSH even in this situation. This can be used to unlock the data volume remotely over the network. However, it does not immediately permit an SSH session. Instead, once the data volume has been unlocked using this method, macOS will disconnect SSH briefly while it completes mounting the data volume and starting the remaining services dependent on it. Thereafter, SSH (and other enabled services) are fully available.&lt;/p&gt;
    &lt;p&gt;The capability to unlock the data volume over SSH appeared in macOS 26 Tahoe.&lt;/p&gt;
    &lt;table&gt;
      &lt;row&gt;
        &lt;cell&gt;1 July, 2025&lt;/cell&gt;
        &lt;cell&gt;Darwin&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://keith.github.io/xcode-man-pages/apple_ssh_and_filevault.7.html"/><published>2025-09-18T20:15:45+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45295794</id><title>AI tools are making the world look weird</title><updated>2025-09-19T09:13:45.620580+00:00</updated><content>&lt;doc fingerprint="7adbb9070d4782bc"&gt;
  &lt;main&gt;
    &lt;quote&gt;&lt;p&gt;The images arrive already complete; there is no communication between them and myself, no reciprocal exchange. As much as we like to say that the world is opening up to us, since we can see every part of it, we can also say that the world is closing itself off – in all its openness.&lt;/p&gt;Karl Ove Knausgård&lt;/quote&gt;
    &lt;p&gt;In academia and the media, AI is often described as mirroring human psychology with humanlike reasoning, human-level performance, human-like communication. In these comparisons, “humans” are treated as the benchmark.&lt;/p&gt;
    &lt;p&gt;In a provocative 2023 paper, researchers at Harvard University asked – which humans?&lt;/p&gt;
    &lt;p&gt;The diversity of human psychologies has been a hot topic since 2010, when researchers found that many accepted psychological “truths” were often confined to so-called “WEIRD people”: Western, Educated, Industrialised, Rich, Democratic. What feel like universal beliefs for people like me and no doubt many of the readers of this blog, e.g. that I am an automonous individual, are instead only true for a thin slice of humanity.&lt;/p&gt;
    &lt;p&gt;So when we say AI tools are “human-like”, what we mean is that AI is WEIRD.&lt;/p&gt;
    &lt;p&gt;In fact, this paper found that more than that, it thinks American. The greater the cultural distance between a country and the USA, the less accurate ChatGPT got at simulating peoples’ values. For countries like Libya and Pakistan, AI results are little better than a coin toss.&lt;/p&gt;
    &lt;p&gt;This paper showed this through an ingenious method – administering the World Values Survey (WVS) 1,000 times to ChatGPT and then comparing it to real data from other countries. The WVS measures everything from self-reported cultural values to moral principles, attitudes towards family, religion, poverty and so on.[1]&lt;lb/&gt;In this simple chart, they plotted two variables:&lt;/p&gt;
    &lt;p&gt;The eagle-eyed reader may note that ChatGPT responses are slightly more correlated to smaller Western countries such as New Zealand than the US. This likely reflects the USA’s greater cultural diversity, and the fact that ChatGPT was developed in California.&lt;/p&gt;
    &lt;p&gt;Marketers and researchers in non-WEIRD countries have often struggled for budget and bandwidth. AI tools’ poorer accuracy in their markets therefore introduce a double jeopardy: the non-WEIRD countries least likely to secure research budgets also have the worst accuracy from “off the shelf” AI tools.&lt;/p&gt;
    &lt;p&gt;These biases could show up throughout the research process, for example:&lt;/p&gt;
    &lt;p&gt;There is a real risk that increasing use of AI tools in international research will flatten out and devalue insights, as highly diverse peoples’ individual spoken and unspoken responses are fed into text-processing machines and emerge looking and sounding vaguely Californian. What looks like a living, breathing forest to us may end up being processed as just so much wood.&lt;/p&gt;
    &lt;p&gt;This doesn’t mean we should ignore AI tools when working cross-culturally. They’re simply too useful. Instead, I’d suggest that we need to invest in the cultural fitness of our thinking and processes. Just as you don’t have to lose physical stamina when you start driving a car, your projects do not have to atrophy cultural meaning when you introduce elements of automation.&lt;/p&gt;
    &lt;p&gt;As researchers we can deepen the cultural layer in our international work by:&lt;/p&gt;
    &lt;p&gt;And as AI product owners or users, it’s more a question of how we minimise the loss of cultural meaning. I remain to be convinced that AI moderation will achieve that for as long as the “moderator” is powered by an American LLM with deep-coded cultural biases. When using AI for analysis or to design research, however, there is likely to be marginal value in:&lt;/p&gt;
    &lt;p&gt;LLMs process information in a WEIRD way, are psychologically WEIRD, and assume the average human is too. At the same time, the LLM space is getting ever more concentrated with US companies dominating. There is a real risk that as researchers we could get pulled into ways of working and thinking that make the world feel smaller, and much less wondrous. We must build our cultural fitness to ensure that we can introduce automation without losing sight of the many ways of being human. &lt;lb/&gt;Here at STRAT7 (and for me personally), we want to explore further:&lt;/p&gt;
    &lt;p&gt;We’re going to conduct a few experiments of our own with LLMs from different continents – comment below if you have any thoughts on what to look out for.&lt;/p&gt;
    &lt;p&gt;[1] Separately, I recommend checking out the WVS website – it is old school but has some great data and insights.&lt;/p&gt;
    &lt;p&gt;[2] The researchers released an interactive tool to compare cultural distance across a range of dimensions, worth a play around&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://strat7.com/blogs/weird-in-weird-out/"/><published>2025-09-18T22:27:17+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45295898</id><title>Want to piss off your IT department? Are the links not malicious looking enough?</title><updated>2025-09-19T09:13:45.296252+00:00</updated><content>&lt;doc fingerprint="1ee9dc214d0432b1"&gt;
  &lt;main&gt;
    &lt;p&gt;This tool is guaranteed to help with that!&lt;/p&gt;
    &lt;p&gt;This is a tool that takes any link and makes it look malicious. It works on the idea of a redirect. Much like https://tinyurl.com/ for example. Where tinyurl makes an url shorter, this site makes it look malicious.&lt;/p&gt;
    &lt;p&gt;Place any link in the below input, press the button and get back a fishy(phishy, heh...get, it?) looking link. The fishy link doesn't actually do anything, it will just redirect you to the original link you provided.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://phishyurl.com/"/><published>2025-09-18T22:40:06+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45296403</id><title>Llama-Factory: Unified, Efficient Fine-Tuning for 100 Open LLMs</title><updated>2025-09-19T09:13:44.334481+00:00</updated><content>&lt;doc fingerprint="bd11b258ad3a99da"&gt;
  &lt;main&gt;
    &lt;p&gt;👋 Join our WeChat, NPU, Lab4AI, LLaMA Factory Online user group.&lt;/p&gt;
    &lt;p&gt;[ English | 中文 ]&lt;/p&gt;
    &lt;p&gt;Fine-tuning a large language model can be easy as...&lt;/p&gt;
    &lt;head class="px-3 py-2"&gt;train_en.mp4&lt;/head&gt;
    &lt;p&gt;Choose your path:&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Documentation (WIP): https://llamafactory.readthedocs.io/en/latest/&lt;/item&gt;
      &lt;item&gt;Documentation (AMD GPU): https://rocm.docs.amd.com/projects/ai-developer-hub/en/latest/notebooks/fine_tune/llama_factory_llama3.html&lt;/item&gt;
      &lt;item&gt;Colab (free): https://colab.research.google.com/drive/1eRTPn37ltBbYsISy9Aw2NuI2Aq5CQrD9?usp=sharing&lt;/item&gt;
      &lt;item&gt;Local machine: Please refer to usage&lt;/item&gt;
      &lt;item&gt;PAI-DSW (free trial): https://gallery.pai-ml.com/#/preview/deepLearning/nlp/llama_factory&lt;/item&gt;
      &lt;item&gt;Alaya NeW (cloud GPU deal): https://docs.alayanew.com/docs/documents/useGuide/LLaMAFactory/mutiple/?utm_source=LLaMA-Factory&lt;/item&gt;
      &lt;item&gt;Official Course: https://www.lab4ai.cn/course/detail?id=7c13e60f6137474eb40f6fd3983c0f46&amp;amp;utm_source=LLaMA-Factory&lt;/item&gt;
      &lt;item&gt;LLaMA Factory Online: https://www.llamafactory.com.cn/?utm_source=LLaMA-Factory&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Note&lt;/p&gt;
    &lt;p&gt;Except for the above links, all other websites are unauthorized third-party websites. Please carefully use them.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Features&lt;/item&gt;
      &lt;item&gt;Blogs&lt;/item&gt;
      &lt;item&gt;Changelog&lt;/item&gt;
      &lt;item&gt;Supported Models&lt;/item&gt;
      &lt;item&gt;Supported Training Approaches&lt;/item&gt;
      &lt;item&gt;Provided Datasets&lt;/item&gt;
      &lt;item&gt;Requirement&lt;/item&gt;
      &lt;item&gt;Getting Started&lt;/item&gt;
      &lt;item&gt;Projects using LLaMA Factory&lt;/item&gt;
      &lt;item&gt;License&lt;/item&gt;
      &lt;item&gt;Citation&lt;/item&gt;
      &lt;item&gt;Acknowledgement&lt;/item&gt;
    &lt;/list&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Various models: LLaMA, LLaVA, Mistral, Mixtral-MoE, Qwen, Qwen2-VL, DeepSeek, Yi, Gemma, ChatGLM, Phi, etc.&lt;/item&gt;
      &lt;item&gt;Integrated methods: (Continuous) pre-training, (multimodal) supervised fine-tuning, reward modeling, PPO, DPO, KTO, ORPO, etc.&lt;/item&gt;
      &lt;item&gt;Scalable resources: 16-bit full-tuning, freeze-tuning, LoRA and 2/3/4/5/6/8-bit QLoRA via AQLM/AWQ/GPTQ/LLM.int8/HQQ/EETQ.&lt;/item&gt;
      &lt;item&gt;Advanced algorithms: GaLore, BAdam, APOLLO, Adam-mini, Muon, OFT, DoRA, LongLoRA, LLaMA Pro, Mixture-of-Depths, LoRA+, LoftQ and PiSSA.&lt;/item&gt;
      &lt;item&gt;Practical tricks: FlashAttention-2, Unsloth, Liger Kernel, RoPE scaling, NEFTune and rsLoRA.&lt;/item&gt;
      &lt;item&gt;Wide tasks: Multi-turn dialogue, tool using, image understanding, visual grounding, video recognition, audio understanding, etc.&lt;/item&gt;
      &lt;item&gt;Experiment monitors: LlamaBoard, TensorBoard, Wandb, MLflow, SwanLab, etc.&lt;/item&gt;
      &lt;item&gt;Faster inference: OpenAI-style API, Gradio UI and CLI with vLLM worker or SGLang worker.&lt;/item&gt;
    &lt;/list&gt;
    &lt;table&gt;
      &lt;row span="2"&gt;
        &lt;cell role="head"&gt;Support Date&lt;/cell&gt;
        &lt;cell role="head"&gt;Model Name&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="2"&gt;
        &lt;cell&gt;Day 0&lt;/cell&gt;
        &lt;cell&gt;Qwen3 / Qwen2.5-VL / Gemma 3 / GLM-4.1V / InternLM 3 / MiniCPM-o-2.6&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Day 1&lt;/cell&gt;
        &lt;cell&gt;Llama 3 / GLM-4 / Mistral Small / PaliGemma2 / Llama 4&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;💡 Easy Dataset × LLaMA Factory: Enabling LLMs to Efficiently Learn Domain Knowledge (English)&lt;/item&gt;
      &lt;item&gt;Fine-tune a mental health LLM using LLaMA-Factory (Chinese)&lt;/item&gt;
      &lt;item&gt;Fine-tune GPT-OSS for Role-Playing using LLaMA-Factory (Chinese)&lt;/item&gt;
      &lt;item&gt;A One-Stop Code-Free Model Reinforcement Learning and Deployment Platform based on LLaMA-Factory and EasyR1 (Chinese)&lt;/item&gt;
      &lt;item&gt;How Apoidea Group enhances visual information extraction from banking documents with multimodal models using LLaMA-Factory on Amazon SageMaker HyperPod (English)&lt;/item&gt;
    &lt;/list&gt;
    &lt;head&gt;All Blogs&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Fine-tune Llama3.1-70B for Medical Diagnosis using LLaMA-Factory (Chinese)&lt;/item&gt;
      &lt;item&gt;Fine-tune Qwen2.5-VL for Autonomous Driving using LLaMA-Factory (Chinese)&lt;/item&gt;
      &lt;item&gt;LLaMA Factory: Fine-tuning the DeepSeek-R1-Distill-Qwen-7B Model for News Classifier (Chinese)&lt;/item&gt;
      &lt;item&gt;A One-Stop Code-Free Model Fine-Tuning &amp;amp; Deployment Platform based on SageMaker and LLaMA-Factory (Chinese)&lt;/item&gt;
      &lt;item&gt;LLaMA Factory Multi-Modal Fine-Tuning Practice: Fine-Tuning Qwen2-VL for Personal Tourist Guide (Chinese)&lt;/item&gt;
      &lt;item&gt;LLaMA Factory: Fine-tuning Llama3 for Role-Playing (Chinese)&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;[25/08/22] We supported OFT and OFTv2. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[25/08/20] We supported fine-tuning the Intern-S1-mini models. See PR #8976 to get started.&lt;/p&gt;
    &lt;p&gt;[25/08/06] We supported fine-tuning the GPT-OSS models. See PR #8826 to get started.&lt;/p&gt;
    &lt;head&gt;Full Changelog&lt;/head&gt;
    &lt;p&gt;[25/07/02] We supported fine-tuning the GLM-4.1V-9B-Thinking model.&lt;/p&gt;
    &lt;p&gt;[25/04/28] We supported fine-tuning the Qwen3 model family.&lt;/p&gt;
    &lt;p&gt;[25/04/21] We supported the Muon optimizer. See examples for usage. Thank @tianshijing's PR.&lt;/p&gt;
    &lt;p&gt;[25/04/16] We supported fine-tuning the InternVL3 model. See PR #7258 to get started.&lt;/p&gt;
    &lt;p&gt;[25/04/14] We supported fine-tuning the GLM-Z1 and Kimi-VL models.&lt;/p&gt;
    &lt;p&gt;[25/04/06] We supported fine-tuning the Llama 4 model. See PR #7611 to get started.&lt;/p&gt;
    &lt;p&gt;[25/03/31] We supported fine-tuning the Qwen2.5 Omni model. See PR #7537 to get started.&lt;/p&gt;
    &lt;p&gt;[25/03/15] We supported SGLang as inference backend. Try &lt;code&gt;infer_backend: sglang&lt;/code&gt; to accelerate inference.&lt;/p&gt;
    &lt;p&gt;[25/03/12] We supported fine-tuning the Gemma 3 model.&lt;/p&gt;
    &lt;p&gt;[25/02/24] Announcing EasyR1, an efficient, scalable and multi-modality RL training framework for efficient GRPO training.&lt;/p&gt;
    &lt;p&gt;[25/02/11] We supported saving the Ollama modelfile when exporting the model checkpoints. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[25/02/05] We supported fine-tuning the Qwen2-Audio and MiniCPM-o-2.6 on audio understanding tasks.&lt;/p&gt;
    &lt;p&gt;[25/01/31] We supported fine-tuning the DeepSeek-R1 and Qwen2.5-VL models.&lt;/p&gt;
    &lt;p&gt;[25/01/15] We supported APOLLO optimizer. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[25/01/14] We supported fine-tuning the MiniCPM-o-2.6 and MiniCPM-V-2.6 models. Thank @BUAADreamer's PR.&lt;/p&gt;
    &lt;p&gt;[25/01/14] We supported fine-tuning the InternLM 3 models. Thank @hhaAndroid's PR.&lt;/p&gt;
    &lt;p&gt;[25/01/10] We supported fine-tuning the Phi-4 model.&lt;/p&gt;
    &lt;p&gt;[24/12/21] We supported using SwanLab for experiment tracking and visualization. See this section for details.&lt;/p&gt;
    &lt;p&gt;[24/11/27] We supported fine-tuning the Skywork-o1 model and the OpenO1 dataset.&lt;/p&gt;
    &lt;p&gt;[24/10/09] We supported downloading pre-trained models and datasets from the Modelers Hub. See this tutorial for usage.&lt;/p&gt;
    &lt;p&gt;[24/09/19] We supported fine-tuning the Qwen2.5 models.&lt;/p&gt;
    &lt;p&gt;[24/08/30] We supported fine-tuning the Qwen2-VL models. Thank @simonJJJ's PR.&lt;/p&gt;
    &lt;p&gt;[24/08/27] We supported Liger Kernel. Try &lt;code&gt;enable_liger_kernel: true&lt;/code&gt; for efficient training.&lt;/p&gt;
    &lt;p&gt;[24/08/09] We supported Adam-mini optimizer. See examples for usage. Thank @relic-yuexi's PR.&lt;/p&gt;
    &lt;p&gt;[24/07/04] We supported contamination-free packed training. Use &lt;code&gt;neat_packing: true&lt;/code&gt; to activate it. Thank @chuan298's PR.&lt;/p&gt;
    &lt;p&gt;[24/06/16] We supported PiSSA algorithm. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/06/07] We supported fine-tuning the Qwen2 and GLM-4 models.&lt;/p&gt;
    &lt;p&gt;[24/05/26] We supported SimPO algorithm for preference learning. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/05/20] We supported fine-tuning the PaliGemma series models. Note that the PaliGemma models are pre-trained models, you need to fine-tune them with &lt;code&gt;paligemma&lt;/code&gt; template for chat completion.&lt;/p&gt;
    &lt;p&gt;[24/05/18] We supported KTO algorithm for preference learning. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/05/14] We supported training and inference on the Ascend NPU devices. Check installation section for details.&lt;/p&gt;
    &lt;p&gt;[24/04/26] We supported fine-tuning the LLaVA-1.5 multimodal LLMs. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/04/22] We provided a Colab notebook for fine-tuning the Llama-3 model on a free T4 GPU. Two Llama-3-derived models fine-tuned using LLaMA Factory are available at Hugging Face, check Llama3-8B-Chinese-Chat and Llama3-Chinese for details.&lt;/p&gt;
    &lt;p&gt;[24/04/21] We supported Mixture-of-Depths according to AstraMindAI's implementation. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/04/16] We supported BAdam optimizer. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/04/16] We supported unsloth's long-sequence training (Llama-2-7B-56k within 24GB). It achieves 117% speed and 50% memory compared with FlashAttention-2, more benchmarks can be found in this page.&lt;/p&gt;
    &lt;p&gt;[24/03/31] We supported ORPO. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/03/21] Our paper "LlamaFactory: Unified Efficient Fine-Tuning of 100+ Language Models" is available at arXiv!&lt;/p&gt;
    &lt;p&gt;[24/03/20] We supported FSDP+QLoRA that fine-tunes a 70B model on 2x24GB GPUs. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/03/13] We supported LoRA+. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/03/07] We supported GaLore optimizer. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/03/07] We integrated vLLM for faster and concurrent inference. Try &lt;code&gt;infer_backend: vllm&lt;/code&gt; to enjoy 270% inference speed.&lt;/p&gt;
    &lt;p&gt;[24/02/28] We supported weight-decomposed LoRA (DoRA). Try &lt;code&gt;use_dora: true&lt;/code&gt; to activate DoRA training.&lt;/p&gt;
    &lt;p&gt;[24/02/15] We supported block expansion proposed by LLaMA Pro. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[24/02/05] Qwen1.5 (Qwen2 beta version) series models are supported in LLaMA-Factory. Check this blog post for details.&lt;/p&gt;
    &lt;p&gt;[24/01/18] We supported agent tuning for most models, equipping model with tool using abilities by fine-tuning with &lt;code&gt;dataset: glaive_toolcall_en&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;[23/12/23] We supported unsloth's implementation to boost LoRA tuning for the LLaMA, Mistral and Yi models. Try &lt;code&gt;use_unsloth: true&lt;/code&gt; argument to activate unsloth patch. It achieves 170% speed in our benchmark, check this page for details.&lt;/p&gt;
    &lt;p&gt;[23/12/12] We supported fine-tuning the latest MoE model Mixtral 8x7B in our framework. See hardware requirement here.&lt;/p&gt;
    &lt;p&gt;[23/12/01] We supported downloading pre-trained models and datasets from the ModelScope Hub. See this tutorial for usage.&lt;/p&gt;
    &lt;p&gt;[23/10/21] We supported NEFTune trick for fine-tuning. Try &lt;code&gt;neftune_noise_alpha: 5&lt;/code&gt; argument to activate NEFTune.&lt;/p&gt;
    &lt;p&gt;[23/09/27] We supported &lt;code&gt;shift_attn: true&lt;/code&gt; argument to enable shift short attention.&lt;/p&gt;
    &lt;p&gt;[23/09/23] We integrated MMLU, C-Eval and CMMLU benchmarks in this repo. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[23/09/10] We supported FlashAttention-2. Try &lt;code&gt;flash_attn: fa2&lt;/code&gt; argument to enable FlashAttention-2 if you are using RTX4090, A100 or H100 GPUs.&lt;/p&gt;
    &lt;p&gt;[23/08/12] We supported RoPE scaling to extend the context length of the LLaMA models. Try &lt;code&gt;rope_scaling: linear&lt;/code&gt; argument in training and &lt;code&gt;rope_scaling: dynamic&lt;/code&gt; argument at inference to extrapolate the position embeddings.&lt;/p&gt;
    &lt;p&gt;[23/08/11] We supported DPO training for instruction-tuned models. See examples for usage.&lt;/p&gt;
    &lt;p&gt;[23/07/31] We supported dataset streaming. Try &lt;code&gt;streaming: true&lt;/code&gt; and &lt;code&gt;max_steps: 10000&lt;/code&gt; arguments to load your dataset in streaming mode.&lt;/p&gt;
    &lt;p&gt;[23/07/29] We released two instruction-tuned 13B models at Hugging Face. See these Hugging Face Repos (LLaMA-2 / Baichuan) for details.&lt;/p&gt;
    &lt;p&gt;[23/07/18] We developed an all-in-one Web UI for training, evaluation and inference. Try &lt;code&gt;train_web.py&lt;/code&gt; to fine-tune models in your Web browser. Thank @KanadeSiina and @codemayq for their efforts in the development.&lt;/p&gt;
    &lt;p&gt;[23/07/09] We released FastEdit ⚡🩹, an easy-to-use package for editing the factual knowledge of large language models efficiently. Please follow FastEdit if you are interested.&lt;/p&gt;
    &lt;p&gt;[23/06/29] We provided a reproducible example of training a chat model using instruction-following datasets, see Baichuan-7B-sft for details.&lt;/p&gt;
    &lt;p&gt;[23/06/22] We aligned the demo API with the OpenAI's format where you can insert the fine-tuned model in arbitrary ChatGPT-based applications.&lt;/p&gt;
    &lt;p&gt;[23/06/03] We supported quantized training and inference (aka QLoRA). See examples for usage.&lt;/p&gt;
    &lt;p&gt;Tip&lt;/p&gt;
    &lt;p&gt;If you cannot use the latest feature, please pull the latest code and install LLaMA-Factory again.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Model&lt;/cell&gt;
        &lt;cell role="head"&gt;Model size&lt;/cell&gt;
        &lt;cell role="head"&gt;Template&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Baichuan 2&lt;/cell&gt;
        &lt;cell&gt;7B/13B&lt;/cell&gt;
        &lt;cell&gt;baichuan2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;BLOOM/BLOOMZ&lt;/cell&gt;
        &lt;cell&gt;560M/1.1B/1.7B/3B/7.1B/176B&lt;/cell&gt;
        &lt;cell&gt;-&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;ChatGLM3&lt;/cell&gt;
        &lt;cell&gt;6B&lt;/cell&gt;
        &lt;cell&gt;chatglm3&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Command R&lt;/cell&gt;
        &lt;cell&gt;35B/104B&lt;/cell&gt;
        &lt;cell&gt;cohere&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;DeepSeek (Code/MoE)&lt;/cell&gt;
        &lt;cell&gt;7B/16B/67B/236B&lt;/cell&gt;
        &lt;cell&gt;deepseek&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;DeepSeek 2.5/3&lt;/cell&gt;
        &lt;cell&gt;236B/671B&lt;/cell&gt;
        &lt;cell&gt;deepseek3&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;DeepSeek R1 (Distill)&lt;/cell&gt;
        &lt;cell&gt;1.5B/7B/8B/14B/32B/70B/671B&lt;/cell&gt;
        &lt;cell&gt;deepseekr1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Falcon&lt;/cell&gt;
        &lt;cell&gt;7B/11B/40B/180B&lt;/cell&gt;
        &lt;cell&gt;falcon&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Falcon-H1&lt;/cell&gt;
        &lt;cell&gt;0.5B/1.5B/3B/7B/34B&lt;/cell&gt;
        &lt;cell&gt;falcon_h1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Gemma/Gemma 2/CodeGemma&lt;/cell&gt;
        &lt;cell&gt;2B/7B/9B/27B&lt;/cell&gt;
        &lt;cell&gt;gemma/gemma2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Gemma 3/Gemma 3n&lt;/cell&gt;
        &lt;cell&gt;270M/1B/4B/6B/8B/12B/27B&lt;/cell&gt;
        &lt;cell&gt;gemma3/gemma3n&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;GLM-4/GLM-4-0414/GLM-Z1&lt;/cell&gt;
        &lt;cell&gt;9B/32B&lt;/cell&gt;
        &lt;cell&gt;glm4/glmz1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;GLM-4.1V&lt;/cell&gt;
        &lt;cell&gt;9B&lt;/cell&gt;
        &lt;cell&gt;glm4v&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;GLM-4.5/GLM-4.5V&lt;/cell&gt;
        &lt;cell&gt;106B/355B&lt;/cell&gt;
        &lt;cell&gt;glm4_moe/glm4v_moe&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;GPT-2&lt;/cell&gt;
        &lt;cell&gt;0.1B/0.4B/0.8B/1.5B&lt;/cell&gt;
        &lt;cell&gt;-&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;GPT-OSS&lt;/cell&gt;
        &lt;cell&gt;20B/120B&lt;/cell&gt;
        &lt;cell&gt;gpt&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Granite 3.0-3.3&lt;/cell&gt;
        &lt;cell&gt;1B/2B/3B/8B&lt;/cell&gt;
        &lt;cell&gt;granite3&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Granite 4&lt;/cell&gt;
        &lt;cell&gt;7B&lt;/cell&gt;
        &lt;cell&gt;granite4&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Hunyuan&lt;/cell&gt;
        &lt;cell&gt;7B&lt;/cell&gt;
        &lt;cell&gt;hunyuan&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Index&lt;/cell&gt;
        &lt;cell&gt;1.9B&lt;/cell&gt;
        &lt;cell&gt;index&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;InternLM 2-3&lt;/cell&gt;
        &lt;cell&gt;7B/8B/20B&lt;/cell&gt;
        &lt;cell&gt;intern2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;InternVL 2.5-3.5&lt;/cell&gt;
        &lt;cell&gt;1B/2B/4B/8B/14B/30B/38B/78B/241B&lt;/cell&gt;
        &lt;cell&gt;intern_vl&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;InternLM/Intern-S1-mini&lt;/cell&gt;
        &lt;cell&gt;8B&lt;/cell&gt;
        &lt;cell&gt;intern_s1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Kimi-VL&lt;/cell&gt;
        &lt;cell&gt;16B&lt;/cell&gt;
        &lt;cell&gt;kimi_vl&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Llama&lt;/cell&gt;
        &lt;cell&gt;7B/13B/33B/65B&lt;/cell&gt;
        &lt;cell&gt;-&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Llama 2&lt;/cell&gt;
        &lt;cell&gt;7B/13B/70B&lt;/cell&gt;
        &lt;cell&gt;llama2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Llama 3-3.3&lt;/cell&gt;
        &lt;cell&gt;1B/3B/8B/70B&lt;/cell&gt;
        &lt;cell&gt;llama3&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Llama 4&lt;/cell&gt;
        &lt;cell&gt;109B/402B&lt;/cell&gt;
        &lt;cell&gt;llama4&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Llama 3.2 Vision&lt;/cell&gt;
        &lt;cell&gt;11B/90B&lt;/cell&gt;
        &lt;cell&gt;mllama&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;LLaVA-1.5&lt;/cell&gt;
        &lt;cell&gt;7B/13B&lt;/cell&gt;
        &lt;cell&gt;llava&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;LLaVA-NeXT&lt;/cell&gt;
        &lt;cell&gt;7B/8B/13B/34B/72B/110B&lt;/cell&gt;
        &lt;cell&gt;llava_next&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;LLaVA-NeXT-Video&lt;/cell&gt;
        &lt;cell&gt;7B/34B&lt;/cell&gt;
        &lt;cell&gt;llava_next_video&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;MiMo&lt;/cell&gt;
        &lt;cell&gt;7B&lt;/cell&gt;
        &lt;cell&gt;mimo&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;MiniCPM 1-4.1&lt;/cell&gt;
        &lt;cell&gt;0.5B/1B/2B/4B/8B&lt;/cell&gt;
        &lt;cell&gt;cpm/cpm3/cpm4&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;MiniCPM-o-2.6/MiniCPM-V-2.6&lt;/cell&gt;
        &lt;cell&gt;8B&lt;/cell&gt;
        &lt;cell&gt;minicpm_o/minicpm_v&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Ministral/Mistral-Nemo&lt;/cell&gt;
        &lt;cell&gt;8B/12B&lt;/cell&gt;
        &lt;cell&gt;ministral&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Mistral/Mixtral&lt;/cell&gt;
        &lt;cell&gt;7B/8x7B/8x22B&lt;/cell&gt;
        &lt;cell&gt;mistral&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Mistral Small&lt;/cell&gt;
        &lt;cell&gt;24B&lt;/cell&gt;
        &lt;cell&gt;mistral_small&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;OLMo&lt;/cell&gt;
        &lt;cell&gt;1B/7B&lt;/cell&gt;
        &lt;cell&gt;-&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;PaliGemma/PaliGemma2&lt;/cell&gt;
        &lt;cell&gt;3B/10B/28B&lt;/cell&gt;
        &lt;cell&gt;paligemma&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Phi-1.5/Phi-2&lt;/cell&gt;
        &lt;cell&gt;1.3B/2.7B&lt;/cell&gt;
        &lt;cell&gt;-&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Phi-3/Phi-3.5&lt;/cell&gt;
        &lt;cell&gt;4B/14B&lt;/cell&gt;
        &lt;cell&gt;phi&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Phi-3-small&lt;/cell&gt;
        &lt;cell&gt;7B&lt;/cell&gt;
        &lt;cell&gt;phi_small&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Phi-4&lt;/cell&gt;
        &lt;cell&gt;14B&lt;/cell&gt;
        &lt;cell&gt;phi4&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Pixtral&lt;/cell&gt;
        &lt;cell&gt;12B&lt;/cell&gt;
        &lt;cell&gt;pixtral&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Qwen (1-2.5) (Code/Math/MoE/QwQ)&lt;/cell&gt;
        &lt;cell&gt;0.5B/1.5B/3B/7B/14B/32B/72B/110B&lt;/cell&gt;
        &lt;cell&gt;qwen&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Qwen3 (MoE/Instruct/Thinking/Next)&lt;/cell&gt;
        &lt;cell&gt;0.6B/1.7B/4B/8B/14B/32B/80B/235B&lt;/cell&gt;
        &lt;cell&gt;qwen3/qwen3_nothink&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Qwen2-Audio&lt;/cell&gt;
        &lt;cell&gt;7B&lt;/cell&gt;
        &lt;cell&gt;qwen2_audio&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Qwen2.5-Omni&lt;/cell&gt;
        &lt;cell&gt;3B/7B&lt;/cell&gt;
        &lt;cell&gt;qwen2_omni&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Qwen2-VL/Qwen2.5-VL/QVQ&lt;/cell&gt;
        &lt;cell&gt;2B/3B/7B/32B/72B&lt;/cell&gt;
        &lt;cell&gt;qwen2_vl&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Seed (OSS/Coder)&lt;/cell&gt;
        &lt;cell&gt;8B/36B&lt;/cell&gt;
        &lt;cell&gt;seed_oss/seed_coder&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Skywork o1&lt;/cell&gt;
        &lt;cell&gt;8B&lt;/cell&gt;
        &lt;cell&gt;skywork_o1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;StarCoder 2&lt;/cell&gt;
        &lt;cell&gt;3B/7B/15B&lt;/cell&gt;
        &lt;cell&gt;-&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;TeleChat2&lt;/cell&gt;
        &lt;cell&gt;3B/7B/35B/115B&lt;/cell&gt;
        &lt;cell&gt;telechat2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;XVERSE&lt;/cell&gt;
        &lt;cell&gt;7B/13B/65B&lt;/cell&gt;
        &lt;cell&gt;xverse&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Yi/Yi-1.5 (Code)&lt;/cell&gt;
        &lt;cell&gt;1.5B/6B/9B/34B&lt;/cell&gt;
        &lt;cell&gt;yi&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;Yi-VL&lt;/cell&gt;
        &lt;cell&gt;6B/34B&lt;/cell&gt;
        &lt;cell&gt;yi_vl&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;Yuan 2&lt;/cell&gt;
        &lt;cell&gt;2B/51B/102B&lt;/cell&gt;
        &lt;cell&gt;yuan&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Note&lt;/p&gt;
    &lt;p&gt;For the "base" models, the &lt;code&gt;template&lt;/code&gt; argument can be chosen from &lt;code&gt;default&lt;/code&gt;, &lt;code&gt;alpaca&lt;/code&gt;, &lt;code&gt;vicuna&lt;/code&gt; etc. But make sure to use the corresponding template for the "instruct/chat" models.&lt;/p&gt;
    &lt;p&gt;Remember to use the SAME template in training and inference.&lt;/p&gt;
    &lt;p&gt;*: You should install the &lt;code&gt;transformers&lt;/code&gt; from main branch and use &lt;code&gt;DISABLE_VERSION_CHECK=1&lt;/code&gt; to skip version check.&lt;/p&gt;
    &lt;p&gt;**: You need to install a specific version of &lt;code&gt;transformers&lt;/code&gt; to use the corresponding model.&lt;/p&gt;
    &lt;p&gt;Please refer to constants.py for a full list of models we supported.&lt;/p&gt;
    &lt;p&gt;You also can add a custom chat template to template.py.&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="7"&gt;
        &lt;cell role="head"&gt;Approach&lt;/cell&gt;
        &lt;cell role="head"&gt;Full-tuning&lt;/cell&gt;
        &lt;cell role="head"&gt;Freeze-tuning&lt;/cell&gt;
        &lt;cell role="head"&gt;LoRA&lt;/cell&gt;
        &lt;cell role="head"&gt;QLoRA&lt;/cell&gt;
        &lt;cell role="head"&gt;OFT&lt;/cell&gt;
        &lt;cell role="head"&gt;QOFT&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;Pre-Training&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;Supervised Fine-Tuning&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;Reward Modeling&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;PPO Training&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;DPO Training&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;KTO Training&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;ORPO Training&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;SimPO Training&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
        &lt;cell&gt;✅&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Tip&lt;/p&gt;
    &lt;p&gt;The implementation details of PPO can be found in this blog.&lt;/p&gt;
    &lt;head&gt;Pre-training datasets&lt;/head&gt;
    &lt;head&gt;Supervised fine-tuning datasets&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Identity (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;Stanford Alpaca (en)&lt;/item&gt;
      &lt;item&gt;Stanford Alpaca (zh)&lt;/item&gt;
      &lt;item&gt;Alpaca GPT4 (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;Glaive Function Calling V2 (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;LIMA (en)&lt;/item&gt;
      &lt;item&gt;Guanaco Dataset (multilingual)&lt;/item&gt;
      &lt;item&gt;BELLE 2M (zh)&lt;/item&gt;
      &lt;item&gt;BELLE 1M (zh)&lt;/item&gt;
      &lt;item&gt;BELLE 0.5M (zh)&lt;/item&gt;
      &lt;item&gt;BELLE Dialogue 0.4M (zh)&lt;/item&gt;
      &lt;item&gt;BELLE School Math 0.25M (zh)&lt;/item&gt;
      &lt;item&gt;BELLE Multiturn Chat 0.8M (zh)&lt;/item&gt;
      &lt;item&gt;UltraChat (en)&lt;/item&gt;
      &lt;item&gt;OpenPlatypus (en)&lt;/item&gt;
      &lt;item&gt;CodeAlpaca 20k (en)&lt;/item&gt;
      &lt;item&gt;Alpaca CoT (multilingual)&lt;/item&gt;
      &lt;item&gt;OpenOrca (en)&lt;/item&gt;
      &lt;item&gt;SlimOrca (en)&lt;/item&gt;
      &lt;item&gt;MathInstruct (en)&lt;/item&gt;
      &lt;item&gt;Firefly 1.1M (zh)&lt;/item&gt;
      &lt;item&gt;Wiki QA (en)&lt;/item&gt;
      &lt;item&gt;Web QA (zh)&lt;/item&gt;
      &lt;item&gt;WebNovel (zh)&lt;/item&gt;
      &lt;item&gt;Nectar (en)&lt;/item&gt;
      &lt;item&gt;deepctrl (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;Advertise Generating (zh)&lt;/item&gt;
      &lt;item&gt;ShareGPT Hyperfiltered (en)&lt;/item&gt;
      &lt;item&gt;ShareGPT4 (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;UltraChat 200k (en)&lt;/item&gt;
      &lt;item&gt;Infinity Instruct (zh)&lt;/item&gt;
      &lt;item&gt;AgentInstruct (en)&lt;/item&gt;
      &lt;item&gt;LMSYS Chat 1M (en)&lt;/item&gt;
      &lt;item&gt;Evol Instruct V2 (en)&lt;/item&gt;
      &lt;item&gt;Cosmopedia (en)&lt;/item&gt;
      &lt;item&gt;STEM (zh)&lt;/item&gt;
      &lt;item&gt;Ruozhiba (zh)&lt;/item&gt;
      &lt;item&gt;Neo-sft (zh)&lt;/item&gt;
      &lt;item&gt;Magpie-Pro-300K-Filtered (en)&lt;/item&gt;
      &lt;item&gt;Magpie-ultra-v0.1 (en)&lt;/item&gt;
      &lt;item&gt;WebInstructSub (en)&lt;/item&gt;
      &lt;item&gt;OpenO1-SFT (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;Open-Thoughts (en)&lt;/item&gt;
      &lt;item&gt;Open-R1-Math (en)&lt;/item&gt;
      &lt;item&gt;Chinese-DeepSeek-R1-Distill (zh)&lt;/item&gt;
      &lt;item&gt;LLaVA mixed (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;Pokemon-gpt4o-captions (en&amp;amp;zh)&lt;/item&gt;
      &lt;item&gt;Open Assistant (de)&lt;/item&gt;
      &lt;item&gt;Dolly 15k (de)&lt;/item&gt;
      &lt;item&gt;Alpaca GPT4 (de)&lt;/item&gt;
      &lt;item&gt;OpenSchnabeltier (de)&lt;/item&gt;
      &lt;item&gt;Evol Instruct (de)&lt;/item&gt;
      &lt;item&gt;Dolphin (de)&lt;/item&gt;
      &lt;item&gt;Booksum (de)&lt;/item&gt;
      &lt;item&gt;Airoboros (de)&lt;/item&gt;
      &lt;item&gt;Ultrachat (de)&lt;/item&gt;
    &lt;/list&gt;
    &lt;head&gt;Preference datasets&lt;/head&gt;
    &lt;p&gt;Some datasets require confirmation before using them, so we recommend logging in with your Hugging Face account using these commands.&lt;/p&gt;
    &lt;code&gt;pip install --upgrade huggingface_hub
huggingface-cli login&lt;/code&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Mandatory&lt;/cell&gt;
        &lt;cell role="head"&gt;Minimum&lt;/cell&gt;
        &lt;cell role="head"&gt;Recommend&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;python&lt;/cell&gt;
        &lt;cell&gt;3.9&lt;/cell&gt;
        &lt;cell&gt;3.10&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;torch&lt;/cell&gt;
        &lt;cell&gt;2.0.0&lt;/cell&gt;
        &lt;cell&gt;2.6.0&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;torchvision&lt;/cell&gt;
        &lt;cell&gt;0.15.0&lt;/cell&gt;
        &lt;cell&gt;0.21.0&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;transformers&lt;/cell&gt;
        &lt;cell&gt;4.49.0&lt;/cell&gt;
        &lt;cell&gt;4.50.0&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;datasets&lt;/cell&gt;
        &lt;cell&gt;2.16.0&lt;/cell&gt;
        &lt;cell&gt;3.2.0&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;accelerate&lt;/cell&gt;
        &lt;cell&gt;0.34.0&lt;/cell&gt;
        &lt;cell&gt;1.2.1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;peft&lt;/cell&gt;
        &lt;cell&gt;0.14.0&lt;/cell&gt;
        &lt;cell&gt;0.15.1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;trl&lt;/cell&gt;
        &lt;cell&gt;0.8.6&lt;/cell&gt;
        &lt;cell&gt;0.9.6&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Optional&lt;/cell&gt;
        &lt;cell role="head"&gt;Minimum&lt;/cell&gt;
        &lt;cell role="head"&gt;Recommend&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;CUDA&lt;/cell&gt;
        &lt;cell&gt;11.6&lt;/cell&gt;
        &lt;cell&gt;12.2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;deepspeed&lt;/cell&gt;
        &lt;cell&gt;0.10.0&lt;/cell&gt;
        &lt;cell&gt;0.16.4&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;bitsandbytes&lt;/cell&gt;
        &lt;cell&gt;0.39.0&lt;/cell&gt;
        &lt;cell&gt;0.43.1&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;vllm&lt;/cell&gt;
        &lt;cell&gt;0.4.3&lt;/cell&gt;
        &lt;cell&gt;0.8.2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;flash-attn&lt;/cell&gt;
        &lt;cell&gt;2.5.6&lt;/cell&gt;
        &lt;cell&gt;2.7.2&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;* estimated&lt;/p&gt;
    &lt;table&gt;
      &lt;row span="7"&gt;
        &lt;cell role="head"&gt;Method&lt;/cell&gt;
        &lt;cell role="head"&gt;Bits&lt;/cell&gt;
        &lt;cell role="head"&gt;7B&lt;/cell&gt;
        &lt;cell role="head"&gt;14B&lt;/cell&gt;
        &lt;cell role="head"&gt;30B&lt;/cell&gt;
        &lt;cell role="head"&gt;70B&lt;/cell&gt;
        &lt;cell role="head"&gt;&lt;code&gt;x&lt;/code&gt;B&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;Full (&lt;code&gt;bf16&lt;/code&gt; or &lt;code&gt;fp16&lt;/code&gt;)&lt;/cell&gt;
        &lt;cell&gt;32&lt;/cell&gt;
        &lt;cell&gt;120GB&lt;/cell&gt;
        &lt;cell&gt;240GB&lt;/cell&gt;
        &lt;cell&gt;600GB&lt;/cell&gt;
        &lt;cell&gt;1200GB&lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;18x&lt;/code&gt;GB&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;Full (&lt;code&gt;pure_bf16&lt;/code&gt;)&lt;/cell&gt;
        &lt;cell&gt;16&lt;/cell&gt;
        &lt;cell&gt;60GB&lt;/cell&gt;
        &lt;cell&gt;120GB&lt;/cell&gt;
        &lt;cell&gt;300GB&lt;/cell&gt;
        &lt;cell&gt;600GB&lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;8x&lt;/code&gt;GB&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;Freeze/LoRA/GaLore/APOLLO/BAdam/OFT&lt;/cell&gt;
        &lt;cell&gt;16&lt;/cell&gt;
        &lt;cell&gt;16GB&lt;/cell&gt;
        &lt;cell&gt;32GB&lt;/cell&gt;
        &lt;cell&gt;64GB&lt;/cell&gt;
        &lt;cell&gt;160GB&lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;2x&lt;/code&gt;GB&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;QLoRA / QOFT&lt;/cell&gt;
        &lt;cell&gt;8&lt;/cell&gt;
        &lt;cell&gt;10GB&lt;/cell&gt;
        &lt;cell&gt;20GB&lt;/cell&gt;
        &lt;cell&gt;40GB&lt;/cell&gt;
        &lt;cell&gt;80GB&lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;x&lt;/code&gt;GB&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="7"&gt;
        &lt;cell&gt;QLoRA / QOFT&lt;/cell&gt;
        &lt;cell&gt;4&lt;/cell&gt;
        &lt;cell&gt;6GB&lt;/cell&gt;
        &lt;cell&gt;12GB&lt;/cell&gt;
        &lt;cell&gt;24GB&lt;/cell&gt;
        &lt;cell&gt;48GB&lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;x/2&lt;/code&gt;GB&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;QLoRA / QOFT&lt;/cell&gt;
        &lt;cell&gt;2&lt;/cell&gt;
        &lt;cell&gt;4GB&lt;/cell&gt;
        &lt;cell&gt;8GB&lt;/cell&gt;
        &lt;cell&gt;16GB&lt;/cell&gt;
        &lt;cell&gt;24GB&lt;/cell&gt;
        &lt;cell&gt;&lt;code&gt;x/4&lt;/code&gt;GB&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Important&lt;/p&gt;
    &lt;p&gt;Installation is mandatory.&lt;/p&gt;
    &lt;code&gt;git clone --depth 1 https://github.com/hiyouga/LLaMA-Factory.git
cd LLaMA-Factory
pip install -e ".[torch,metrics]" --no-build-isolation&lt;/code&gt;
    &lt;p&gt;Extra dependencies available: torch, torch-npu, metrics, deepspeed, liger-kernel, bitsandbytes, hqq, eetq, gptq, aqlm, vllm, sglang, galore, apollo, badam, adam-mini, qwen, minicpm_v, openmind, swanlab, dev&lt;/p&gt;
    &lt;code&gt;docker run -it --rm --gpus=all --ipc=host hiyouga/llamafactory:latest&lt;/code&gt;
    &lt;p&gt;This image is built on Ubuntu 22.04 (x86_64), CUDA 12.4, Python 3.11, PyTorch 2.6.0, and Flash-attn 2.7.4.&lt;/p&gt;
    &lt;p&gt;Find the pre-built images: https://hub.docker.com/r/hiyouga/llamafactory/tags&lt;/p&gt;
    &lt;p&gt;Please refer to build docker to build the image yourself.&lt;/p&gt;
    &lt;head&gt;Setting up a virtual environment with uv&lt;/head&gt;
    &lt;p&gt;Create an isolated Python environment with uv:&lt;/p&gt;
    &lt;code&gt;uv sync --extra torch --extra metrics --prerelease=allow&lt;/code&gt;
    &lt;p&gt;Run LLaMA-Factory in the isolated environment:&lt;/p&gt;
    &lt;code&gt;uv run --prerelease=allow llamafactory-cli train examples/train_lora/llama3_lora_pretrain.yaml&lt;/code&gt;
    &lt;head&gt;For Windows users&lt;/head&gt;
    &lt;p&gt;You need to manually install the GPU version of PyTorch on the Windows platform. Please refer to the official website and the following command to install PyTorch with CUDA support:&lt;/p&gt;
    &lt;code&gt;pip uninstall torch torchvision torchaudio
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu126
python -c "import torch; print(torch.cuda.is_available())"&lt;/code&gt;
    &lt;p&gt;If you see &lt;code&gt;True&lt;/code&gt; then you have successfully installed PyTorch with CUDA support.&lt;/p&gt;
    &lt;p&gt;Try &lt;code&gt;dataloader_num_workers: 0&lt;/code&gt; if you encounter &lt;code&gt;Can't pickle local object&lt;/code&gt; error.&lt;/p&gt;
    &lt;p&gt;If you want to enable the quantized LoRA (QLoRA) on the Windows platform, you need to install a pre-built version of &lt;code&gt;bitsandbytes&lt;/code&gt; library, which supports CUDA 11.1 to 12.2, please select the appropriate release version based on your CUDA version.&lt;/p&gt;
    &lt;code&gt;pip install https://github.com/jllllll/bitsandbytes-windows-webui/releases/download/wheels/bitsandbytes-0.41.2.post2-py3-none-win_amd64.whl&lt;/code&gt;
    &lt;p&gt;To enable FlashAttention-2 on the Windows platform, please use the script from flash-attention-windows-wheel to compile and install it by yourself.&lt;/p&gt;
    &lt;head&gt;For Ascend NPU users&lt;/head&gt;
    &lt;p&gt;To install LLaMA Factory on Ascend NPU devices, please upgrade Python to version 3.10 or higher and specify extra dependencies: &lt;code&gt;pip install -e ".[torch-npu,metrics]"&lt;/code&gt;. Additionally, you need to install the Ascend CANN Toolkit and Kernels. Please follow the installation tutorial or use the following commands:&lt;/p&gt;
    &lt;code&gt;# replace the url according to your CANN version and devices
# install CANN Toolkit
wget https://ascend-repo.obs.cn-east-2.myhuaweicloud.com/Milan-ASL/Milan-ASL%20V100R001C20SPC702/Ascend-cann-toolkit_8.0.0.alpha002_linux-"$(uname -i)".run
bash Ascend-cann-toolkit_8.0.0.alpha002_linux-"$(uname -i)".run --install

# install CANN Kernels
wget https://ascend-repo.obs.cn-east-2.myhuaweicloud.com/Milan-ASL/Milan-ASL%20V100R001C20SPC702/Ascend-cann-kernels-910b_8.0.0.alpha002_linux-"$(uname -i)".run
bash Ascend-cann-kernels-910b_8.0.0.alpha002_linux-"$(uname -i)".run --install

# set env variables
source /usr/local/Ascend/ascend-toolkit/set_env.sh&lt;/code&gt;
    &lt;table&gt;
      &lt;row span="3"&gt;
        &lt;cell role="head"&gt;Requirement&lt;/cell&gt;
        &lt;cell role="head"&gt;Minimum&lt;/cell&gt;
        &lt;cell role="head"&gt;Recommend&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;CANN&lt;/cell&gt;
        &lt;cell&gt;8.0.RC1&lt;/cell&gt;
        &lt;cell&gt;8.0.0.alpha002&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;torch&lt;/cell&gt;
        &lt;cell&gt;2.1.0&lt;/cell&gt;
        &lt;cell&gt;2.4.0&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;torch-npu&lt;/cell&gt;
        &lt;cell&gt;2.1.0&lt;/cell&gt;
        &lt;cell&gt;2.4.0.post2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row span="3"&gt;
        &lt;cell&gt;deepspeed&lt;/cell&gt;
        &lt;cell&gt;0.13.2&lt;/cell&gt;
        &lt;cell&gt;0.13.2&lt;/cell&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;cell&gt;vllm-ascend&lt;/cell&gt;
        &lt;cell&gt;-&lt;/cell&gt;
        &lt;cell&gt;0.7.3&lt;/cell&gt;
      &lt;/row&gt;
    &lt;/table&gt;
    &lt;p&gt;Remember to use &lt;code&gt;ASCEND_RT_VISIBLE_DEVICES&lt;/code&gt; instead of &lt;code&gt;CUDA_VISIBLE_DEVICES&lt;/code&gt; to specify the device to use.&lt;/p&gt;
    &lt;p&gt;If you cannot infer model on NPU devices, try setting &lt;code&gt;do_sample: false&lt;/code&gt; in the configurations.&lt;/p&gt;
    &lt;p&gt;Download the pre-built Docker images: 32GB | 64GB&lt;/p&gt;
    &lt;head rend="h4"&gt;Install BitsAndBytes&lt;/head&gt;
    &lt;p&gt;To use QLoRA based on bitsandbytes on Ascend NPU, please follow these 3 steps:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Manually compile bitsandbytes: Refer to the installation documentation for the NPU version of bitsandbytes to complete the compilation and installation. The compilation requires a cmake version of at least 3.22.1 and a g++ version of at least 12.x.&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;# Install bitsandbytes from source
# Clone bitsandbytes repo, Ascend NPU backend is currently enabled on multi-backend-refactor branch
git clone -b multi-backend-refactor https://github.com/bitsandbytes-foundation/bitsandbytes.git
cd bitsandbytes/

# Install dependencies
pip install -r requirements-dev.txt

# Install the dependencies for the compilation tools. Note that the commands for this step may vary depending on the operating system. The following are provided for reference
apt-get install -y build-essential cmake

# Compile &amp;amp; install  
cmake -DCOMPUTE_BACKEND=npu -S .
make
pip install .&lt;/code&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Install transformers from the main branch.&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;git clone -b main https://github.com/huggingface/transformers.git
cd transformers
pip install .&lt;/code&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Set &lt;code&gt;double_quantization: false&lt;/code&gt;in the configuration. You can refer to the example.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Please refer to data/README.md for checking the details about the format of dataset files. You can use datasets on HuggingFace / ModelScope / Modelers hub, load the dataset in local disk, or specify a path to s3/gcs cloud storage.&lt;/p&gt;
    &lt;p&gt;Note&lt;/p&gt;
    &lt;p&gt;Please update &lt;code&gt;data/dataset_info.json&lt;/code&gt; to use your custom dataset.&lt;/p&gt;
    &lt;p&gt;You can also use Easy Dataset, DataFlow and GraphGen to create synthetic data for fine-tuning.&lt;/p&gt;
    &lt;p&gt;Use the following 3 commands to run LoRA fine-tuning, inference and merging of the Llama3-8B-Instruct model, respectively.&lt;/p&gt;
    &lt;code&gt;llamafactory-cli train examples/train_lora/llama3_lora_sft.yaml
llamafactory-cli chat examples/inference/llama3_lora_sft.yaml
llamafactory-cli export examples/merge_lora/llama3_lora_sft.yaml&lt;/code&gt;
    &lt;p&gt;See examples/README.md for advanced usage (including distributed training).&lt;/p&gt;
    &lt;p&gt;Tip&lt;/p&gt;
    &lt;p&gt;Use &lt;code&gt;llamafactory-cli help&lt;/code&gt; to show help information.&lt;/p&gt;
    &lt;p&gt;Read FAQs first if you encounter any problems.&lt;/p&gt;
    &lt;head rend="h3"&gt;Fine-Tuning with LLaMA Board GUI (powered by Gradio)&lt;/head&gt;
    &lt;code&gt;llamafactory-cli webui&lt;/code&gt;
    &lt;p&gt;Read our documentation.&lt;/p&gt;
    &lt;p&gt;For CUDA users:&lt;/p&gt;
    &lt;code&gt;cd docker/docker-cuda/
docker compose up -d
docker compose exec llamafactory bash&lt;/code&gt;
    &lt;p&gt;For Ascend NPU users:&lt;/p&gt;
    &lt;code&gt;cd docker/docker-npu/
docker compose up -d
docker compose exec llamafactory bash&lt;/code&gt;
    &lt;p&gt;For AMD ROCm users:&lt;/p&gt;
    &lt;code&gt;cd docker/docker-rocm/
docker compose up -d
docker compose exec llamafactory bash&lt;/code&gt;
    &lt;head&gt;Build without Docker Compose&lt;/head&gt;
    &lt;p&gt;For CUDA users:&lt;/p&gt;
    &lt;code&gt;docker build -f ./docker/docker-cuda/Dockerfile \
    --build-arg PIP_INDEX=https://pypi.org/simple \
    --build-arg EXTRAS=metrics \
    -t llamafactory:latest .

docker run -dit --ipc=host --gpus=all \
    -p 7860:7860 \
    -p 8000:8000 \
    --name llamafactory \
    llamafactory:latest

docker exec -it llamafactory bash&lt;/code&gt;
    &lt;p&gt;For Ascend NPU users:&lt;/p&gt;
    &lt;code&gt;docker build -f ./docker/docker-npu/Dockerfile \
    --build-arg PIP_INDEX=https://pypi.org/simple \
    --build-arg EXTRAS=torch-npu,metrics \
    -t llamafactory:latest .

docker run -dit --ipc=host \
    -v /usr/local/dcmi:/usr/local/dcmi \
    -v /usr/local/bin/npu-smi:/usr/local/bin/npu-smi \
    -v /usr/local/Ascend/driver:/usr/local/Ascend/driver \
    -v /etc/ascend_install.info:/etc/ascend_install.info \
    -p 7860:7860 \
    -p 8000:8000 \
    --device /dev/davinci0 \
    --device /dev/davinci_manager \
    --device /dev/devmm_svm \
    --device /dev/hisi_hdc \
    --name llamafactory \
    llamafactory:latest

docker exec -it llamafactory bash&lt;/code&gt;
    &lt;p&gt;For AMD ROCm users:&lt;/p&gt;
    &lt;code&gt;docker build -f ./docker/docker-rocm/Dockerfile \
    --build-arg PIP_INDEX=https://pypi.org/simple \
    --build-arg EXTRAS=metrics \
    -t llamafactory:latest .

docker run -dit --ipc=host \
    -p 7860:7860 \
    -p 8000:8000 \
    --device /dev/kfd \
    --device /dev/dri \
    --name llamafactory \
    llamafactory:latest

docker exec -it llamafactory bash&lt;/code&gt;
    &lt;head&gt;Use Docker volumes&lt;/head&gt;
    &lt;p&gt;You can uncomment &lt;code&gt;VOLUME [ "/root/.cache/huggingface", "/app/shared_data", "/app/output" ]&lt;/code&gt; in the Dockerfile to use data volumes.&lt;/p&gt;
    &lt;p&gt;When building the Docker image, use &lt;code&gt;-v ./hf_cache:/root/.cache/huggingface&lt;/code&gt; argument to mount the local directory to the container. The following data volumes are available.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;&lt;code&gt;hf_cache&lt;/code&gt;: Utilize Hugging Face cache on the host machine.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;shared_data&lt;/code&gt;: The directionary to store datasets on the host machine.&lt;/item&gt;
      &lt;item&gt;&lt;code&gt;output&lt;/code&gt;: Set export dir to this location so that the merged result can be accessed directly on the host machine.&lt;/item&gt;
    &lt;/list&gt;
    &lt;code&gt;API_PORT=8000 llamafactory-cli api examples/inference/llama3.yaml infer_backend=vllm vllm_enforce_eager=true&lt;/code&gt;
    &lt;p&gt;If you have trouble with downloading models and datasets from Hugging Face, you can use ModelScope.&lt;/p&gt;
    &lt;code&gt;export USE_MODELSCOPE_HUB=1 # `set USE_MODELSCOPE_HUB=1` for Windows&lt;/code&gt;
    &lt;p&gt;Train the model by specifying a model ID of the ModelScope Hub as the &lt;code&gt;model_name_or_path&lt;/code&gt;. You can find a full list of model IDs at ModelScope Hub, e.g., &lt;code&gt;LLM-Research/Meta-Llama-3-8B-Instruct&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;You can also use Modelers Hub to download models and datasets.&lt;/p&gt;
    &lt;code&gt;export USE_OPENMIND_HUB=1 # `set USE_OPENMIND_HUB=1` for Windows&lt;/code&gt;
    &lt;p&gt;Train the model by specifying a model ID of the Modelers Hub as the &lt;code&gt;model_name_or_path&lt;/code&gt;. You can find a full list of model IDs at Modelers Hub, e.g., &lt;code&gt;TeleAI/TeleChat-7B-pt&lt;/code&gt;.&lt;/p&gt;
    &lt;p&gt;To use Weights &amp;amp; Biases for logging experimental results, you need to add the following arguments to yaml files.&lt;/p&gt;
    &lt;code&gt;report_to: wandb
run_name: test_run # optional&lt;/code&gt;
    &lt;p&gt;Set &lt;code&gt;WANDB_API_KEY&lt;/code&gt; to your key when launching training tasks to log in with your W&amp;amp;B account.&lt;/p&gt;
    &lt;p&gt;To use SwanLab for logging experimental results, you need to add the following arguments to yaml files.&lt;/p&gt;
    &lt;code&gt;use_swanlab: true
swanlab_run_name: test_run # optional&lt;/code&gt;
    &lt;p&gt;When launching training tasks, you can log in to SwanLab in three ways:&lt;/p&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Add &lt;code&gt;swanlab_api_key=&amp;lt;your_api_key&amp;gt;&lt;/code&gt;to the yaml file, and set it to your API key.&lt;/item&gt;
      &lt;item&gt;Set the environment variable &lt;code&gt;SWANLAB_API_KEY&lt;/code&gt;to your API key.&lt;/item&gt;
      &lt;item&gt;Use the &lt;code&gt;swanlab login&lt;/code&gt;command to complete the login.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;If you have a project that should be incorporated, please contact via email or create a pull request.&lt;/p&gt;
    &lt;head&gt;Click to show&lt;/head&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Wang et al. ESRL: Efficient Sampling-based Reinforcement Learning for Sequence Generation. 2023. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yu et al. Open, Closed, or Small Language Models for Text Classification? 2023. [arxiv]&lt;/item&gt;
      &lt;item&gt;Wang et al. UbiPhysio: Support Daily Functioning, Fitness, and Rehabilitation with Action Understanding and Feedback in Natural Language. 2023. [arxiv]&lt;/item&gt;
      &lt;item&gt;Luceri et al. Leveraging Large Language Models to Detect Influence Campaigns in Social Media. 2023. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhang et al. Alleviating Hallucinations of Large Language Models through Induced Hallucinations. 2023. [arxiv]&lt;/item&gt;
      &lt;item&gt;Wang et al. Know Your Needs Better: Towards Structured Understanding of Marketer Demands with Analogical Reasoning Augmented LLMs. KDD 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Wang et al. CANDLE: Iterative Conceptualization and Instantiation Distillation from Large Language Models for Commonsense Reasoning. ACL 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Choi et al. FACT-GPT: Fact-Checking Augmentation via Claim Matching with LLMs. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhang et al. AutoMathText: Autonomous Data Selection with Language Models for Mathematical Texts. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Lyu et al. KnowTuning: Knowledge-aware Fine-tuning for Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yang et al. LaCo: Large Language Model Pruning via Layer Collaps. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Bhardwaj et al. Language Models are Homer Simpson! Safety Re-Alignment of Fine-tuned Language Models through Task Arithmetic. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yang et al. Enhancing Empathetic Response Generation by Augmenting LLMs with Small-scale Empathetic Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yi et al. Generation Meets Verification: Accelerating Large Language Model Inference with Smart Parallel Auto-Correct Decoding. ACL 2024 Findings. [arxiv]&lt;/item&gt;
      &lt;item&gt;Cao et al. Head-wise Shareable Attention for Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhang et al. Enhancing Multilingual Capabilities of Large Language Models through Self-Distillation from Resource-Rich Languages. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Kim et al. Efficient and Effective Vocabulary Expansion Towards Multilingual Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yu et al. KIEval: A Knowledge-grounded Interactive Evaluation Framework for Large Language Models. ACL 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Huang et al. Key-Point-Driven Data Synthesis with its Enhancement on Mathematical Reasoning. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Duan et al. Negating Negatives: Alignment without Human Positive Samples via Distributional Dispreference Optimization. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Xie and Schwertfeger. Empowering Robotics with Large Language Models: osmAG Map Comprehension with LLMs. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Wu et al. Large Language Models are Parallel Multilingual Learners. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhang et al. EDT: Improving Large Language Models' Generation by Entropy-based Dynamic Temperature Sampling. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Weller et al. FollowIR: Evaluating and Teaching Information Retrieval Models to Follow Instructions. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Hongbin Na. CBT-LLM: A Chinese Large Language Model for Cognitive Behavioral Therapy-based Mental Health Question Answering. COLING 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zan et al. CodeS: Natural Language to Code Repository via Multi-Layer Sketch. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Liu et al. Extensive Self-Contrast Enables Feedback-Free Language Model Alignment. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Luo et al. BAdam: A Memory Efficient Full Parameter Training Method for Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Du et al. Chinese Tiny LLM: Pretraining a Chinese-Centric Large Language Model. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Ma et al. Parameter Efficient Quasi-Orthogonal Fine-Tuning via Givens Rotation. ICML 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Liu et al. Dynamic Generation of Personalities with Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Shang et al. How Far Have We Gone in Stripped Binary Code Understanding Using Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Huang et al. LLMTune: Accelerate Database Knob Tuning with Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Deng et al. Text-Tuple-Table: Towards Information Integration in Text-to-Table Generation via Global Tuple Extraction. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Acikgoz et al. Hippocrates: An Open-Source Framework for Advancing Large Language Models in Healthcare. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhang et al. Small Language Models Need Strong Verifiers to Self-Correct Reasoning. ACL 2024 Findings. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhou et al. FREB-TQA: A Fine-Grained Robustness Evaluation Benchmark for Table Question Answering. NAACL 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Xu et al. Large Language Models for Cyber Security: A Systematic Literature Review. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Dammu et al. "They are uncultured": Unveiling Covert Harms and Social Threats in LLM Generated Conversations. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yi et al. A safety realignment framework via subspace-oriented model fusion for large language models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Lou et al. SPO: Multi-Dimensional Preference Sequential Alignment With Implicit Reward Modeling. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhang et al. Getting More from Less: Large Language Models are Good Spontaneous Multilingual Learners. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhang et al. TS-Align: A Teacher-Student Collaborative Framework for Scalable Iterative Finetuning of Large Language Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zihong Chen. Sentence Segmentation and Sentence Punctuation Based on XunziALLM. 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Gao et al. The Best of Both Worlds: Toward an Honest and Helpful Large Language Model. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Wang and Song. MARS: Benchmarking the Metaphysical Reasoning Abilities of Language Models with a Multi-task Evaluation Dataset. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Hu et al. Computational Limits of Low-Rank Adaptation (LoRA) for Transformer-Based Models. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Ge et al. Time Sensitive Knowledge Editing through Efficient Finetuning. ACL 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Tan et al. Peer Review as A Multi-Turn and Long-Context Dialogue with Role-Based Interactions. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Song et al. Turbo Sparse: Achieving LLM SOTA Performance with Minimal Activated Parameters. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Gu et al. RWKV-CLIP: A Robust Vision-Language Representation Learner. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Chen et al. Advancing Tool-Augmented Large Language Models: Integrating Insights from Errors in Inference Trees. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhu et al. Are Large Language Models Good Statisticians?. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Li et al. Know the Unknown: An Uncertainty-Sensitive Method for LLM Instruction Tuning. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Ding et al. IntentionQA: A Benchmark for Evaluating Purchase Intention Comprehension Abilities of Language Models in E-commerce. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;He et al. COMMUNITY-CROSS-INSTRUCT: Unsupervised Instruction Generation for Aligning Large Language Models to Online Communities. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Lin et al. FVEL: Interactive Formal Verification Environment with Large Language Models via Theorem Proving. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Treutlein et al. Connecting the Dots: LLMs can Infer and Verbalize Latent Structure from Disparate Training Data. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Feng et al. SS-Bench: A Benchmark for Social Story Generation and Evaluation. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Feng et al. Self-Constructed Context Decompilation with Fined-grained Alignment Enhancement. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Liu et al. Large Language Models for Cuffless Blood Pressure Measurement From Wearable Biosignals. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Iyer et al. Exploring Very Low-Resource Translation with LLMs: The University of Edinburgh's Submission to AmericasNLP 2024 Translation Task. AmericasNLP 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Li et al. Calibrating LLMs with Preference Optimization on Thought Trees for Generating Rationale in Science Question Scoring. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yang et al. Financial Knowledge Large Language Model. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Lin et al. DogeRM: Equipping Reward Models with Domain Knowledge through Model Merging. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Bako et al. Evaluating the Semantic Profiling Abilities of LLMs for Natural Language Utterances in Data Visualization. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Huang et al. RoLoRA: Fine-tuning Rotated Outlier-free LLMs for Effective Weight-Activation Quantization. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Jiang et al. LLM-Collaboration on Automatic Science Journalism for the General Audience. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Inouye et al. Applied Auto-tuning on LoRA Hyperparameters. 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Qi et al. Research on Tibetan Tourism Viewpoints information generation system based on LLM. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Xu et al. Course-Correction: Safety Alignment Using Synthetic Preferences. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Sun et al. LAMBDA: A Large Model Based Data Agent. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zhu et al. CollectiveSFT: Scaling Large Language Models for Chinese Medical Benchmark with Collective Instructions in Healthcare. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Yu et al. Correcting Negative Bias in Large Language Models through Negative Attention Score Alignment. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Xie et al. The Power of Personalized Datasets: Advancing Chinese Composition Writing for Elementary School through Targeted Model Fine-Tuning. IALP 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Liu et al. Instruct-Code-Llama: Improving Capabilities of Language Model in Competition Level Code Generation by Online Judge Feedback. ICIC 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Wang et al. Cybernetic Sentinels: Unveiling the Impact of Safety Data Selection on Model Security in Supervised Fine-Tuning. ICIC 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Xia et al. Understanding the Performance and Estimating the Cost of LLM Fine-Tuning. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Zeng et al. Perceive, Reflect, and Plan: Designing LLM Agent for Goal-Directed City Navigation without Instructions. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Xia et al. Using Pre-trained Language Model for Accurate ESG Prediction. FinNLP 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Liang et al. I-SHEEP: Self-Alignment of LLM from Scratch through an Iterative Self-Enhancement Paradigm. 2024. [arxiv]&lt;/item&gt;
      &lt;item&gt;Bai et al. Aligning Large Language Model with Direct Multi-Preference Optimization for Recommendation. CIKM 2024. [paper]&lt;/item&gt;
      &lt;item&gt;Zhang et al. CPsyCoun: A Report-based Multi-turn Dialogue Reconstruction and Evaluation Framework for Chinese Psychological Counseling. ACL 2024. [paper]&lt;/item&gt;
      &lt;item&gt;StarWhisper: A large language model for Astronomy, based on ChatGLM2-6B and Qwen-14B.&lt;/item&gt;
      &lt;item&gt;DISC-LawLLM: A large language model specialized in Chinese legal domain, based on Baichuan-13B, is capable of retrieving and reasoning on legal knowledge.&lt;/item&gt;
      &lt;item&gt;Sunsimiao: A large language model specialized in Chinese medical domain, based on Baichuan-7B and ChatGLM-6B.&lt;/item&gt;
      &lt;item&gt;CareGPT: A series of large language models for Chinese medical domain, based on LLaMA2-7B and Baichuan-13B.&lt;/item&gt;
      &lt;item&gt;MachineMindset: A series of MBTI Personality large language models, capable of giving any LLM 16 different personality types based on different datasets and training methods.&lt;/item&gt;
      &lt;item&gt;Luminia-13B-v3: A large language model specialized in generate metadata for stable diffusion. [demo]&lt;/item&gt;
      &lt;item&gt;Chinese-LLaVA-Med: A multimodal large language model specialized in Chinese medical domain, based on LLaVA-1.5-7B.&lt;/item&gt;
      &lt;item&gt;AutoRE: A document-level relation extraction system based on large language models.&lt;/item&gt;
      &lt;item&gt;NVIDIA RTX AI Toolkit: SDKs for fine-tuning LLMs on Windows PC for NVIDIA RTX.&lt;/item&gt;
      &lt;item&gt;LazyLLM: An easy and lazy way for building multi-agent LLMs applications and supports model fine-tuning via LLaMA Factory.&lt;/item&gt;
      &lt;item&gt;RAG-Retrieval: A full pipeline for RAG retrieval model fine-tuning, inference, and distillation. [blog]&lt;/item&gt;
      &lt;item&gt;360-LLaMA-Factory: A modified library that supports long sequence SFT &amp;amp; DPO using ring attention.&lt;/item&gt;
      &lt;item&gt;Sky-T1: An o1-like model fine-tuned by NovaSky AI with very small cost.&lt;/item&gt;
      &lt;item&gt;WeClone: One-stop solution for creating your digital avatar from chat logs.&lt;/item&gt;
      &lt;item&gt;EmoLLM: A project about large language models (LLMs) and mental health.&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;This repository is licensed under the Apache-2.0 License.&lt;/p&gt;
    &lt;p&gt;Please follow the model licenses to use the corresponding model weights: Baichuan 2 / BLOOM / ChatGLM3 / Command R / DeepSeek / Falcon / Gemma / GLM-4 / GPT-2 / Granite / Index / InternLM / Llama / Llama 2 / Llama 3 / Llama 4 / MiniCPM / Mistral/Mixtral/Pixtral / OLMo / Phi-1.5/Phi-2 / Phi-3/Phi-4 / Qwen / Skywork / StarCoder 2 / TeleChat2 / XVERSE / Yi / Yi-1.5 / Yuan 2&lt;/p&gt;
    &lt;p&gt;If this work is helpful, please kindly cite as:&lt;/p&gt;
    &lt;code&gt;@inproceedings{zheng2024llamafactory,
  title={LlamaFactory: Unified Efficient Fine-Tuning of 100+ Language Models},
  author={Yaowei Zheng and Richong Zhang and Junhao Zhang and Yanhan Ye and Zheyan Luo and Zhangchi Feng and Yongqiang Ma},
  booktitle={Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 3: System Demonstrations)},
  address={Bangkok, Thailand},
  publisher={Association for Computational Linguistics},
  year={2024},
  url={http://arxiv.org/abs/2403.13372}
}&lt;/code&gt;
    &lt;p&gt;This repo benefits from PEFT, TRL, QLoRA and FastChat. Thanks for their wonderful works.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://github.com/hiyouga/LLaMA-Factory"/><published>2025-09-18T23:48:48+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45296638</id><title>David Lynch LA House</title><updated>2025-09-19T09:13:44.201290+00:00</updated><content>&lt;doc fingerprint="3a0002d17f174be5"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Tour David Lynch's house as it hits the market&lt;/head&gt;
    &lt;p&gt;David Lynch's LA estate is for sale at $15m, and the listing pictures offer a glimpse into the late filmmaker's aesthetic and creative universe&lt;/p&gt;
    &lt;p&gt;David Lynch, the visionary American filmmaker behind Twin Peaks, Blue Velvet and Mulholland Dr, passed away this January, yet his creative universe endures in objects, spaces and ideas.&lt;/p&gt;
    &lt;p&gt;Among the most striking of these relics is his larger-than-life, meticulously designed Hollywood Hills home; a cinematic setting in its own right. Perched on a sweeping 2.3-acre hillside, David Lynch’s private compound, which is now listed for $15 million by Marc Silver of The Agency, unfolds like one of his own intricately plotted storylines. A showcase of Mid-Century modern architecture, the estate was conceived with the same care and cinematic precision that defined his work.&lt;/p&gt;
    &lt;head rend="h2"&gt;Inside David Lynch's Los Angeles estate&lt;/head&gt;
    &lt;p&gt;The property, set across five contiguous parcels, reads like a storyboard in relief: three main residences and several ancillary structures stepping down the hillside, each capturing a different note in Lynch’s creative oeuvre.&lt;/p&gt;
    &lt;p&gt;The story behind this compound started in 1987, when he acquired the pink-hued Beverly Johnson House designed in the early 1960s by Lloyd Wright, son of Frank Lloyd Wright. The home, in fact, was recognised by Historic Places LA as an exemplary work of Mid-Century Modern residential design. Then in 1991, he commissioned Eric Lloyd Wright (Lloyd Wright’s son) to add a pool and pool house, extending the Wright imprint on his property with a new generation.&lt;/p&gt;
    &lt;p&gt;Across the years, Lynch kept expanding the plotline: in 1989, he purchased an adjoining two-bedroom Brutalist house; in 1995, a studio building; and later, more pieces of land, ultimately shaping a seven-structure sanctuary with 10 bedrooms and 11 bathrooms spread over roughly 11,000 square feet. The result was a creative campus perched above the city.&lt;/p&gt;
    &lt;p&gt;At the heart of the compound lies the architectural crescendo – the approximately 2,000 square feet home where light pours through generous windows and skylights to rake across organic textures and bold geometries. The facade’s cement chevrons catch the sun; inside, simple metalwork and natural woods are drenched in material honesty that often surfaced in Lynch’s films.&lt;/p&gt;
    &lt;p&gt;Two neighbouring addresses deepen the lore: 7029 Senalda served as the home of Asymmetrical Productions, while 7035 Senalda attained near-mythic status as both the Madison residence in the movie Lost Highway and Lynch’s own studio, complete with a library, screening room and editing suite – spaces where he refined major works, including Mulholland Drive.&lt;/p&gt;
    &lt;p&gt;Receive our daily digest of inspiration, escapism and design stories from around the world direct to your inbox.&lt;/p&gt;
    &lt;p&gt;Beyond the exemplary structures, Lynch left a personal handprint, collaborating on additional buildings: a sculptural two-storey guest house and a one-bedroom retreat finished in his favoured smooth grey plaster. Outdoors the terraces, courtyards and planted walkways offer a counterpoint to the intensity of production and everyday life.&lt;/p&gt;
    &lt;p&gt;As a listing note from The Agency suggests, this is a 'creative sanctuary and architectural landmark,' with provenance unlike any other in Los Angeles. For admirers of Lynch, it reads as both home and archive: a lived-in factory of ideas, meticulously composed and, at last, ready for its next act.&lt;/p&gt;
    &lt;p&gt;Aditi Sharma is a content specialist with 14 years of experience in the design and lifestyle space. She specialises in producing content that resonates with diverse audiences, bridging global trends with local stories, and translating complex ideas into engaging, accessible narratives.&lt;/p&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt; Here’s what to order (and admire) at Carbone London&lt;p&gt;New York’s favourite, and buzziest, Italian restaurant arrives in the British capital, marking the brand’s first expansion into Europe&lt;/p&gt;&lt;/item&gt;
      &lt;item&gt; Griffin Frazen on conceiving the cinematic runway sets for New York label Khaite: ‘If people feel moved we’ve succeeded’&lt;p&gt;The architectural designer – who helped conceive the sets for ‘The Brutalist’ – collaborates with his wife Catherine Holstein on the scenography for her Khaite runway shows, the latest of which took place in NYFW this past weekend&lt;/p&gt;&lt;/item&gt;
      &lt;item&gt; How to travel meaningfully in an increasingly generic world&lt;p&gt;Lauren Ho explores the need for resonance, not reach, in the way we choose to make journeys of discovery&lt;/p&gt;&lt;/item&gt;
    &lt;/list&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.wallpaper.com/design-interiors/david-lynch-house-los-angeles-for-sale"/><published>2025-09-19T00:30:14+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45297258</id><title>Playing “Minecraft” without Minecraft (2024)</title><updated>2025-09-19T09:11:30.290661+00:00</updated><content>&lt;doc fingerprint="f852a98b3bb793b5"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Meet Gemini in Chrome&lt;/head&gt;
    &lt;head rend="h2"&gt;AI assistance, right in your browser.&lt;/head&gt;
    &lt;head rend="h2"&gt;Intelligence that works with you, right where you are.&lt;/head&gt;
    &lt;p&gt;Get key takeaways, clarify concepts, and find answers based on the context of your open tabs.&lt;/p&gt;
    &lt;p&gt;Need to quickly grasp the essentials? Gemini delivers concise summaries of articles, pages, or threads directly in your browser, so you quickly grasp the main points.&lt;/p&gt;
    &lt;p&gt;Have a question about what you're reading? Ask Gemini. It uses the context of your open tabs to provide relevant answers and explanations, keeping you focused.&lt;/p&gt;
    &lt;p&gt;Go beyond simple explanations. When you’re tackling dense topics or new concepts, ask Gemini to not only clarify confusing parts but also help you actively engage with the material.&lt;/p&gt;
    &lt;p&gt;Researching products or weighing choices? Ask Gemini to pull key information, specs, or pros and cons from the page, helping you make informed choices with clarity and ease.&lt;/p&gt;
    &lt;p&gt;Want to brainstorm, organize thoughts, or dive deeper into a topic? Chat naturally with Gemini Live and get spoken answers, all within Chrome.&lt;/p&gt;
    &lt;p&gt;Just like on your computer, Gemini on mobile is there to answer questions about what you’re reading. On Android it works with anything on your screen—including Chrome. And coming soon to iOS, Gemini will be built right into the Chrome app.&lt;/p&gt;
    &lt;head rend="h2"&gt;Your web, your control&lt;/head&gt;
    &lt;p&gt;Gemini in Chrome works with you, on your terms. It assists only when you ask, putting you in control.&lt;/p&gt;
    &lt;head rend="h3"&gt;Ready when you are&lt;/head&gt;
    &lt;p&gt;Gemini in Chrome activates only when you choose to use it via clicking on the Gemini icon or the keyboard shortcut you set up. It assists on your terms, stepping in only when you ask.&lt;/p&gt;
    &lt;head rend="h3"&gt;Get help, your way&lt;/head&gt;
    &lt;p&gt;Get help your way with Gemini in Chrome. Talk or type your question naturally, and Gemini can use the page's content to help you quickly understand content or complete tedious tasks.&lt;/p&gt;
    &lt;head rend="h3"&gt;Manage your activity easily&lt;/head&gt;
    &lt;p&gt;You can access your Gemini Apps Activity anytime to manage, delete and turn off your activity.&lt;/p&gt;
    &lt;head rend="h2"&gt;The web, reimagined.&lt;/head&gt;
    &lt;p&gt;With Gemini in Chrome, no tab switching is needed with AI assistance right in your browser, helping you quickly understand content or get tasks done using the context of your open tabs.&lt;/p&gt;
    &lt;head rend="h2"&gt;Frequently asked questions&lt;/head&gt;
    &lt;p&gt;With the Gemini in Chrome feature, you can get AI assistance from your browser to do things easily like get key takeaways, clarify concepts, find answers and more. To provide the most relevant responses, Gemini in Chrome uses the context of your open tabs.&lt;/p&gt;
    &lt;p&gt;Gemini in Chrome is part of the Chrome browser on desktop, and is different from visiting Gemini in any browser at gemini.google.com or starting a chat with the Gemini web app by typing @gemini in the address bar in Chrome. You can use the Gemini web app in other browsers (or the content area of Chrome), but you won’t be able to share page content or use Live mode like you can with Gemini in Chrome.&lt;/p&gt;
    &lt;p&gt;You can access Gemini in Chrome through the Gemini icon in the Chrome toolbar or via a keyboard shortcut that you set up on a Windows or Mac desktop.&lt;/p&gt;
    &lt;p&gt;You can also activate Gemini when using Chrome on Android, and other apps, by holding the power button. And starting soon, on iOS Gemini in Chrome will be built into the app, with access through the Chrome omnibox.&lt;/p&gt;
    &lt;p&gt;Gemini in Chrome is rolling out to all eligible Mac and Windows users in the US who have their Chrome language set to English. We look forward to bringing this feature to more people and additional languages soon.&lt;/p&gt;
    &lt;p&gt;Gemini in Chrome on iOS is coming soon to eligible iPhone users in the US who have their Chrome language set to English.&lt;/p&gt;
    &lt;p&gt;Check responses. Setup required. Compatibility and availability varies. 18+&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://lenowo.org/viewtopic.php?t=5"/><published>2025-09-19T02:13:05+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45297331</id><title>Gemini in Chrome</title><updated>2025-09-19T09:11:29.845559+00:00</updated><content>&lt;doc fingerprint="f852a98b3bb793b5"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Meet Gemini in Chrome&lt;/head&gt;
    &lt;head rend="h2"&gt;AI assistance, right in your browser.&lt;/head&gt;
    &lt;head rend="h2"&gt;Intelligence that works with you, right where you are.&lt;/head&gt;
    &lt;p&gt;Get key takeaways, clarify concepts, and find answers based on the context of your open tabs.&lt;/p&gt;
    &lt;p&gt;Need to quickly grasp the essentials? Gemini delivers concise summaries of articles, pages, or threads directly in your browser, so you quickly grasp the main points.&lt;/p&gt;
    &lt;p&gt;Have a question about what you're reading? Ask Gemini. It uses the context of your open tabs to provide relevant answers and explanations, keeping you focused.&lt;/p&gt;
    &lt;p&gt;Go beyond simple explanations. When you’re tackling dense topics or new concepts, ask Gemini to not only clarify confusing parts but also help you actively engage with the material.&lt;/p&gt;
    &lt;p&gt;Researching products or weighing choices? Ask Gemini to pull key information, specs, or pros and cons from the page, helping you make informed choices with clarity and ease.&lt;/p&gt;
    &lt;p&gt;Want to brainstorm, organize thoughts, or dive deeper into a topic? Chat naturally with Gemini Live and get spoken answers, all within Chrome.&lt;/p&gt;
    &lt;p&gt;Just like on your computer, Gemini on mobile is there to answer questions about what you’re reading. On Android it works with anything on your screen—including Chrome. And coming soon to iOS, Gemini will be built right into the Chrome app.&lt;/p&gt;
    &lt;head rend="h2"&gt;Your web, your control&lt;/head&gt;
    &lt;p&gt;Gemini in Chrome works with you, on your terms. It assists only when you ask, putting you in control.&lt;/p&gt;
    &lt;head rend="h3"&gt;Ready when you are&lt;/head&gt;
    &lt;p&gt;Gemini in Chrome activates only when you choose to use it via clicking on the Gemini icon or the keyboard shortcut you set up. It assists on your terms, stepping in only when you ask.&lt;/p&gt;
    &lt;head rend="h3"&gt;Get help, your way&lt;/head&gt;
    &lt;p&gt;Get help your way with Gemini in Chrome. Talk or type your question naturally, and Gemini can use the page's content to help you quickly understand content or complete tedious tasks.&lt;/p&gt;
    &lt;head rend="h3"&gt;Manage your activity easily&lt;/head&gt;
    &lt;p&gt;You can access your Gemini Apps Activity anytime to manage, delete and turn off your activity.&lt;/p&gt;
    &lt;head rend="h2"&gt;The web, reimagined.&lt;/head&gt;
    &lt;p&gt;With Gemini in Chrome, no tab switching is needed with AI assistance right in your browser, helping you quickly understand content or get tasks done using the context of your open tabs.&lt;/p&gt;
    &lt;head rend="h2"&gt;Frequently asked questions&lt;/head&gt;
    &lt;p&gt;With the Gemini in Chrome feature, you can get AI assistance from your browser to do things easily like get key takeaways, clarify concepts, find answers and more. To provide the most relevant responses, Gemini in Chrome uses the context of your open tabs.&lt;/p&gt;
    &lt;p&gt;Gemini in Chrome is part of the Chrome browser on desktop, and is different from visiting Gemini in any browser at gemini.google.com or starting a chat with the Gemini web app by typing @gemini in the address bar in Chrome. You can use the Gemini web app in other browsers (or the content area of Chrome), but you won’t be able to share page content or use Live mode like you can with Gemini in Chrome.&lt;/p&gt;
    &lt;p&gt;You can access Gemini in Chrome through the Gemini icon in the Chrome toolbar or via a keyboard shortcut that you set up on a Windows or Mac desktop.&lt;/p&gt;
    &lt;p&gt;You can also activate Gemini when using Chrome on Android, and other apps, by holding the power button. And starting soon, on iOS Gemini in Chrome will be built into the app, with access through the Chrome omnibox.&lt;/p&gt;
    &lt;p&gt;Gemini in Chrome is rolling out to all eligible Mac and Windows users in the US who have their Chrome language set to English. We look forward to bringing this feature to more people and additional languages soon.&lt;/p&gt;
    &lt;p&gt;Gemini in Chrome on iOS is coming soon to eligible iPhone users in the US who have their Chrome language set to English.&lt;/p&gt;
    &lt;p&gt;Check responses. Setup required. Compatibility and availability varies. 18+&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://gemini.google/overview/gemini-in-chrome/"/><published>2025-09-19T02:25:34+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45298336</id><title>Nostr</title><updated>2025-09-19T09:11:29.471458+00:00</updated><content>&lt;doc fingerprint="4738d95838432210"&gt;
  &lt;main&gt;&lt;p&gt;Nostr is an apolitical communication commons. A simple standard that defines a scalable architecture of clients and servers that can be used to spread information freely. Not controlled by any corporation or government, anyone can build on Nostr and anyone can use it.&lt;/p&gt;&lt;p&gt;Nostr embraces the chaos of the early internet—multiple kinds of data, diverse forms of user interaction and different clients providing their own perspectives over the same underlying information.&lt;/p&gt;&lt;p&gt;The client is the app that is running on your computer or phone, the server is whatever is running on a cloud somewhere with a domain name. In centralized platforms and other protocols, one client talks to a single server. In Nostr clients connect to many.&lt;/p&gt;&lt;p&gt;Nostr's single unit of information is a cryptographically signed note, these are created by users in their client software and published to one or more relays.&lt;/p&gt;&lt;p&gt;Clients are smart and act as agents for the users who install them. They decide which relays to connect to and when and what data to request according to the circumstance and user preferences.&lt;/p&gt;&lt;p&gt;These are the servers that notes are published to and read from. They cannot change the contents of notes (that would invalidate the signature), but they can decide what to store and for how long.&lt;/p&gt;&lt;p&gt;In Nostr, every user is represented by a secret number called a "key" and every message carries a digital "signature" that proves its authorship authorship and authenticity without the need for any authority to say so. This foundation of trust enables the decentralized broadcasting of information.&lt;/p&gt;&lt;p&gt;Nostr doesn't subscribe to political ideals of "free speech" — it simply recognizes that different people have different morals and preferences and each server, being privately owned, can follow their own criteria for rejecting content as they please and users are free to choose what to read and from where.&lt;/p&gt;&lt;p&gt;When the network effect is not tied to a single organization a group of users cannot harm others.&lt;/p&gt;Watch ›&lt;p&gt;If you are a programmer or know how to run servers it is trivial to run your own relay with your own rules.&lt;/p&gt;Write code ›&lt;p&gt;Besides being a natural medium for a Twitter-like microblogging social network, Nostr can also be used for other purposes. And not only similar things like sharing videos, longform articles, pictures or voice notes. There are initiatives on Nostr for the development of sub-protocols that power closed groups, decentralized wikipedia, couchsurfing, marketplaces or web annotations; as well as protocols that don't use Nostr for the core data but as a coordination and discovery mechanism, such as decentralized code collaboration using git, file hosting, torrent sharing and video livestreaming.&lt;/p&gt;Browse the NIPs&lt;p&gt;Nostr is an idea with a lot of open-source software around it and a large userbase, but not a finished, polished product that you can buy without stress. We're still pretty much in the phase where new programmers and early adopters are needed to help us refine the protocol flows and the user experience.&lt;/p&gt;&lt;p&gt;The so-called "outbox model" is the canonical way of implementing a censorship-resistant client, but its parameters are fluid.&lt;/p&gt;Learn about it ›&lt;p&gt;NIP-29 describes a way to do closed groups for forums or chat that can be very efficient by relying on a relay but are still censorship-resistant.&lt;/p&gt;Read the guide ›&lt;p&gt;Nostr enables true freedom by allowing users to stay connected to their audience even in adverse scenarios.&lt;/p&gt;&lt;p&gt;Patricia publishes a special event announcing which servers she will use as her "outbox relay" for publishing notes. She then starts sending all her posts to these chosen relays, creating a predictable place where others can find her content.&lt;/p&gt;&lt;p&gt;When Florian wants to read Patricia's posts, his client looks up her announcement and connects directly to her announced outbox relays.&lt;/p&gt;&lt;p&gt;This targeted approach is simple and efficient.&lt;/p&gt;&lt;p&gt;If Patricia's current relay bans her or shuts down, she can easily switch to different relays — perhaps some run by friends, a paid service, or her own server.&lt;/p&gt;&lt;p&gt;She simply publishes a new announcement and continues to post without losing her audience.&lt;/p&gt;&lt;p&gt;Florian's client continuously monitors for updates to Patricia's relay list.&lt;/p&gt;&lt;p&gt;When she switches relays, his client eventually starts querying her new locations, ensuring he never misses her posts even as the network topology changes.&lt;/p&gt;&lt;p&gt;From the publisher side to the follower side clients behave smartly, keeping a local state and reacting to new information in order to ensure that the flow of information continues.&lt;/p&gt;&lt;p&gt;After all, these notes are important, it would be sad to miss too many of them.&lt;/p&gt;&lt;p&gt;It may sound like Nostr is very good, but what about these hard issues?&lt;/p&gt;&lt;p&gt;A protocol is like a common language that multiple different software can use to talk to each other, it's like e-mail, HTML or HTTP.&lt;/p&gt;&lt;p&gt;When we say "protocol" we mean that there is no need to use a specific app in order to be in Nostr: there are many apps that talk the same language and can be used (mostly) interchangeably — and each has its own take on how to do and display things.&lt;/p&gt;&lt;p&gt;In the default feed you never see any spam, because clients will only fetch information from people that you follow. In that sense no one can "push" spam into you.&lt;/p&gt;&lt;p&gt;It's trickier when you want to see, for example, replies to your posts, in that case a client might be programmed to fetch anything that claims to be a reply from anyone, which might include spam.&lt;/p&gt;&lt;p&gt;The way we can deal with it on Nostr is by restricting our area of contact with the spam: for example, some clients may easily decide to only display replies that come from people followed by people you follow. More refined strategies involve announcing and then only reading notes from relays known to be "safe" according to your criteria (could be relays that require payment, relays that do screening for humans, relays that only accept members of certain communities or political affiliations etc).&lt;/p&gt;&lt;p&gt;There are no perfect solutions. But these do not exist anywhere, centralized platforms are also full of spam. Nostr at least isn't naïve and tries to build resiliency from the start.&lt;/p&gt;&lt;p&gt;Yes, Nostr is just a basic client-server architecture. And the fact that users can naturally spread among hundreds of different relays while clients can query dozens of relays that they're interested in at the same time means the network has a natural load balancer (which doesn't prevent a single relay from having its own internal load balancer either).&lt;/p&gt;&lt;p&gt;Another (almost the opposite) concern that may be raised is with problems arising from clients having to connect to too many relays if the profiles being followed for whatever reason decide to spread way too much, but this shouldn't be a problem either because people tend to follow many accounts with similar content and these will tend to share relays. Still, if it happens, it's cheap for native apps to open many hundreds of WebSocket connections simultaneously (as they will be getting very few data in each of those). For web apps that isn't so hard, but we can still go up to a few hundreds without big problems. Regardless of any of that, in any complete enough app that wants to display a "following feed" it's already necessary to store events in a local database, and that will make all these issues easy to deal with as you can do the event requests in batches instead of all at once.&lt;/p&gt;&lt;p&gt;Harassment is similar to spam in the sense that anyone can still create the undesired content and publish to the relays that accept them. All the techniques mentioned in avoiding spam can also be applied in this case, but if we're talking about specific individuals with a permanent identity and not only an army of bots in this case the problem becomes easier, as those individuals can just be blocked by their target and their content will vanish. Presumably friends of such target will also block, and creative solutions involving shared blocklists can be created such that some people don't even have to click the block button directly.&lt;/p&gt;&lt;p&gt;Other approaches involving, for example, relays with restricted read (that can emulate "protected account"/"only friends" features seen in centralized platforms) can further improve this.&lt;/p&gt;&lt;p&gt;There are many problems with Mastodon, mostly due to the fact that it doesn't rely on any cryptography. Because it cannot do the multi-master approach of Nostr due to lack of cryptography, identities are assumed to be "owned" by the server, which is fully trusted by its tenants. Mastodon server owners can do all the harm centralized platforms can do to their underlings, which are completely helpless in case of misbehavior or even in the normal case where a server owner loses their server or decides to shut down for whatever reason.&lt;/p&gt;&lt;p&gt;Worse than that, for many of its purported features, such as blocking or direct messages, users have to also trust owners of the other servers.&lt;/p&gt;&lt;p&gt;There are also problems with reliance on the DNS system, but we don't have to talk about those.&lt;/p&gt;&lt;p&gt;The most interesting feature of Mastodon is that by its nature it creates communities with shared values that grow in each of its servers. Or, should I say, that should be a feature if it actually worked like that. In fact these are not really communities, but a mashup of users that may share some interests among each other, but also have other interests and those other interests end up polluting the supposed "community" with things that do not interest the other users.&lt;/p&gt;&lt;p&gt;Nostr, on the other hand, can create real communities around relays, specifically because users don't have to fully belong to those relays, but can go to them only for some of their needs and go to other relays for other needs.&lt;/p&gt;&lt;p&gt;Bluesky has many problems, the two most pronounced are:&lt;/p&gt;&lt;code&gt;Relay-AppView-Client&lt;/code&gt; flow assumes only
                one canonical source of data at each step (unlike Nostr multi-master architecture)
                that source is always a server that has power to censor, shadowban, reorder data and
                so on.
              &lt;p&gt;&lt;code&gt;Clients&lt;/code&gt; are assumed to be dumb and trust the &lt;code&gt;AppView&lt;/code&gt;, and
              here you have room for all sorts of undesired shenanigans. Then AppViews also assume
              to source their data from a single &lt;code&gt;Relay&lt;/code&gt;, and here you have room for the
              same effect.
            &lt;/p&gt;&lt;p&gt; You could argue that Bluesky &lt;code&gt;Clients&lt;/code&gt; could become smart and start
              sourcing data from multiple &lt;code&gt;AppViews&lt;/code&gt;, or from multiple Relays, or that
              the &lt;code&gt;AppViews&lt;/code&gt; could rely on multiple &lt;code&gt;Relays&lt;/code&gt;, or that the
              &lt;code&gt;Clients&lt;/code&gt; could talk directly to the &lt;code&gt;PDSes&lt;/code&gt; — and all of that
              is possible and would indeed bring solutions, but notice that if those things started
              happening Bluesky would end up becoming Nostr, except with more steps.
            &lt;/p&gt;&lt;p&gt;Yes, this clip answers it well.&lt;/p&gt;&lt;p&gt;But basically the answer is the same as the question about scale: if users can go to whatever relay they want we'll see relays ran by all sorts of people and entities. Running servers is very cheap, and a relay can run on a $5/mo server and house at least a few thousand users. It's not hard to imagine relays ran by communities, individuals who just want to be useful to others, big organizations wanting to gain good will with some parts of the public, but also companies, client makers, and, of course, dedicated entities who sell relay hosting for very cheap.&lt;/p&gt;&lt;p&gt;It's not a feature of the world at large to be able to see or hear everything that is happening everywhere at all times. Nostr inherits that property from the world, making it so that you can only see what you focus your attention on (and you're allowed to see by the relay that hosts that information).&lt;/p&gt;&lt;p&gt;It's only possible to search on what you have seen, so search engines will always have to crawl some parts of the network they chose to and index those to enable public search. The word "chose" is employed because, as we know, there can't be a "global" view of the network (and no one would want such a thing anyway as it would be full of spam), so indexers have to choose. This is not different from Google deciding what websites to index.&lt;/p&gt;&lt;p&gt;On the other hand, it's surprisingly doable for clients to store all the posts from people you follow, or all the posts you have seen or interacted with over time (since it's just text, a huge amount of notes can fit in the same space that would otherwise be required to store a single photo, for example) then provide local search over that. That kind of search will be sufficient for most of the cases you would reach out for a search bar in a centralized platform (which is to search for things that you have seen before), and perhaps even more useful since it would naturally filter out all the unrelated garbage.&lt;/p&gt;&lt;p&gt;Last, niche or community-oriented relays can also provide very useful search capabilities by just indexing the notes they have stored locally, already filtered and scoped to that relay's topic or cohort (imagine searching over a Discord, Slack or Telegram group, for example).&lt;/p&gt;&lt;p&gt;The most basic way to do that is by following the natural habits used by most centralized social platforms users since a long time ago: by looking at the people you follow and whom they're interacting with.&lt;/p&gt;&lt;p&gt;But also it's not true that Nostr doesn't have algorithms. Nostr can have algorithms of all kinds: manual, automatic, AI-powered or rule-based. Some of these algorithms can be run entirely locally on clients (for example, surfacing posts from the times when you were not online, or from people that make fewer posts), while other algorithms can be provided by all sorts of relays, either by naturally surfacing posts from a community of people you don't follow or by dedicated relays that have the stated purpose of curating content desirable for a target audience or even by targeting specific users.&lt;/p&gt;&lt;p&gt;Nostr uses the same cryptographic principles of Bitcoin and was kickstarted mostly by a community of Bitcoiners, so it has disproportionately attracted the attention of Bitcoiners at the start, but aside from that it doesn't have any relationship with Bitcoin. It doesn't depend on Bitcoin for anything and you don't have to know or have or care about any Bitcoin in order to use Nostr.&lt;/p&gt;&lt;p&gt;What about "zaps"? Zaps are a standard for tipping Nostr content using Bitcoin that is implemented by some Nostr clients, but it's fully and completely optional and if you don't care about Bitcoin you don't have to bother about it.&lt;/p&gt;&lt;p&gt;Quotes from those who know better and decided to like Nostr.&lt;/p&gt;&lt;quote&gt;No one owns Nostr, no one can own Nostr, it's an open-source protocol. No one can build a fence to stop the flow of information.— Uncle Bob&lt;/quote&gt;&lt;quote&gt;Nostr is an open protocol.— Edward SnowdenIf a platform is a silo, a protocol is a river: no one owns it, and everyone is free to swim.&lt;/quote&gt;&lt;quote&gt;I want to claim that Nostr has discovered a new fundamental architecture for distributed protocols. Not federated, not P2P.— Gordon Brander&lt;/quote&gt;&lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://nostr.com/"/><published>2025-09-19T05:49:08+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45298489</id><title>Count Folke Bernadotte: Sweden's Servant of Peace (2010)</title><updated>2025-09-19T09:11:28.980929+00:00</updated><content>&lt;doc fingerprint="b2e99a41b323c3ba"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Count Folke Bernadotte: Sweden’s Servant of Peace&lt;/head&gt;
    &lt;p&gt;Folke Bernadotte was a great humanitarian who navigated the perilous path between warring parties, a mission that was to cost him his life.&lt;/p&gt;
    &lt;p&gt;On 17 September 1948 Count Folke Bernadotte, the first of many United Nations mediators assigned the thankless task of attempting to find a peaceful solution to the seemingly intractable problem of hostility in the Middle East, was assassinated in Jerusalem. He had arrived in the city on a mission to establish a ceasefire between the Arabs and the newly proclaimed state of Israel. His killers were members of the extremist Jewish group Lehi – often called ‘the Stern Gang’ – who had already murdered several British officials and soldiers administering the mandated territory of Palestine before the birth of Israel.&lt;/p&gt;
    &lt;p&gt;The hopelessness of Bernadotte’s peacemaking efforts was underlined by the fact that his murder was the second attempt on his life that day, the first being carried out by the ‘other side’ in the conflict: a young Arab had shot at his car as he drove from the airport, the bullet passing harmlessly through the vehicle’s bumper. The Stern Gang’s ambush was typically more lethal and efficient. An apparently broken-down jeep was slewed across the road along which Bernadotte’s convoy was travelling, forcing it to halt. Three gunmen emerged, dressed in the army uniforms of the new Jewish state’s defence forces. Two shot out the tyres of Bernadotte’s car, while the third, later identified as Yehoshua Cohen (1922-86), poked a machine gun through the car window and opened fire, killing Bernadotte and his French military aide, André Serot. No one was ever brought to trial for the killing, though after Cohen’s death, two fellow members of the gang admitted responsibility. One of the chief organisers of the assassination was Yitzhak Shamir, who became Israel’s prime minister in 1984.&lt;/p&gt;
    &lt;p&gt;The death of Bernadotte at the hands of Jewish gunmen was a supreme irony given the Swedish statesman’s leading role in one of the most remarkable humanitarian achievements of the Second World War: the rescue of more than 17,000 people, including many Jews, from Nazi concentration camps in the last days of the war. This Scarlet Pimpernel operation, known as the ‘White Buses’, after the whitewashed Red Cross vehicles used to snatch the captives to safety in neutral Sweden, was carried out with the permission of SS overlord Heinrich Himmler. He was desperately seeking to build up credit with the Allies as a man of mercy and possible future leader of a post-Hitler Germany, rather than the mass-murdering master of terror that he was.&lt;/p&gt;
    &lt;p&gt;Born in 1895, Count Bernadotte was a member of Sweden’s royal family, the nephew of King Gustav V. He received a military education thought suitable for a descendant of the first Bernadotte to sit on Sweden’s throne – Napoleon’s Marshal Jean-Baptiste – and became active in Swedish voluntary organisations, especially the Red Cross, of which he became vice-chairman. As a neutral ‘Nordic’ nation with close historic ties to both Germany and the western Allies and a humanitarian reputation, Sweden was the focus throughout the war of peace ‘feelers’ put out by both sides. In 1943 Bernadotte organised his first humanitarian mission: exchanging disabled prisoners of war through the Swedish port of Gothenburg.&lt;/p&gt;
    &lt;p&gt;In March 1945, with the end of the war in Europe weeks away, Bernadotte led his first Red Cross rescue expedition into the Third Reich itself. The original convoy, staffed by Swedish army officers with Red Cross doctors and nurses, plucked some 8,000 Norwegian and Danish prisoners, both their countries having been occupied by the Germans, from Nazi hands. Gradually, Bernadotte expanded the scope of the White Buses. Later convoys rescued 6,000 Poles, two thirds of whom were Jews bound for the gas chambers, including a large contingent liberated from Ravensbrück, the concentration camp for women located near Berlin. Other camps visited by the White Buses included Dachau, Mauthausen, Theresienstadt and Flossenbürg. The convoys, painted bright white and emblazoned with huge red crosses to deter the Allied planes then ravaging Germany, made their perilous journeys bearing their often sick and starving human cargoes to freedom in Sweden.&lt;/p&gt;
    &lt;p&gt;Naturally, Himmler had not authorised this mass rescue from the kindness of his flinty heart. His aim was to use the prisoners as human bargaining chips with the Allied leaders Churchill and Roosevelt and, after the latter’s death, with the new US President Truman. In head-to-head negotiations, sometimes carried out by candlelight in tents in the grounds of Friedrichsruh Castle, the Swedish Red Cross’s HQ in Germany, Himmler attempted to use Bernadotte as an envoy to carry his ‘peace offer’ to the Allied leaders. In essence, he was proposing that Germany should surrender to the Western Allies – with the proviso that it should continue fighting a ‘defensive’ war against the Russians.&lt;/p&gt;
    &lt;p&gt;Bernadotte was in a dilemma. He knew that the Allies, publicly committed to their alliance with the Soviet Union and sworn to fighting Germany until she surrendered unconditionally, would reject such an offer out of hand – especially coming from Himmler. But Bernadotte also realised that if Himmler knew how he was regarded in the West the camp gates would slam shut, the White Buses would stop running and the inmates would be left to their fate. So Bernadotte strung Himmler along, promising to convey his olive branch to the West, while his White Buses continued their life-saving work. They did so up to and after the Allied liberation of the concentration camps, the German surrender and Himmler’s suicide following his capture by the British.&lt;/p&gt;
    &lt;p&gt;After Bernadotte’s murder, his reputation was attacked by Felix Kersten, Himmler’s personal masseur. Kersten had conceived a grudge against Bernadotte who, rightly regarding the masseur as a Nazi, had blocked his application for Swedish citizenship. Kersten’s revenge had been to forge a letter from Bernadotte to Himmler on his own typewriter in which the Swede allegedly informed the SS chief that Jews freed from the camps would be unwelcome in Sweden. Sadly, this forgery was swallowed by the British historian Hugh Trevor-Roper – not the last time the historian would be fooled by a Nazi fake – who used it in a 1953 magazine article to blacken Bernadotte’s reputation.&lt;/p&gt;
    &lt;p&gt;Now, a Swedish historian, Sune Persson of Gothenburg University, claims to have established the truth about Bernadotte and his heroic humanitarian efforts. Persson has tracked down survivors, comparing and evaluating their accounts of a chaotic and traumatic time. Sir Brian Urquhart, a Second World War intelligence veteran and subsequently UN under-secretary, describes Persson’s work, in his introduction to the English edition of the book, Escape from the Third Reich (Frontline Books), ‘as a major contribution to the history of the Second World War and particularly to the involvement of the Scandinavian countries’.&lt;/p&gt;
    &lt;p&gt;Persson’s investigations, Urquhart adds, have vindicated Bernadotte’s role in a great humanitarian enterprise and his conclusions, ‘backed up by years of tireless research and study’, will lay to rest the calumnies thrown at Bernadotte by those seeking to justify his murder. As a result, his own country, after years of silence, is at last honouring Bernadotte’s achievements. In the words of his surviving sons, Count Folke junior and Count Bertil Bernadotte:&lt;/p&gt;
    &lt;quote&gt;
      &lt;p&gt;‘If these criticisms had been made during his lifetime, it is certain that he himself would have explained the circumstances … but this opportunity was denied him by an assassin’s bullet.’&lt;/p&gt;
    &lt;/quote&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://www.historytoday.com/archive/feature/count-folke-bernadotte-swedens-servant-peace"/><published>2025-09-19T06:21:04+00:00</published></entry><entry><id>https://news.ycombinator.com/item?id=45298793</id><title>iTerm2 Web Browser</title><updated>2025-09-19T09:11:28.755737+00:00</updated><content>&lt;doc fingerprint="c62227c41243249"&gt;
  &lt;main&gt;
    &lt;head rend="h1"&gt;Web Browser&lt;/head&gt;
    &lt;head rend="h2"&gt;Overview&lt;/head&gt;
    &lt;p&gt;iTerm2 includes built-in web browsing capabilities. Web browser sessions fit into iTerm2's existing window &amp;gt; tab &amp;gt; split pane hierarchy just like terminal sessions, allowing you to browse the web alongside your terminal work.&lt;/p&gt;
    &lt;head rend="h2"&gt;Getting Started&lt;/head&gt;
    &lt;head rend="h3"&gt;Enabling the Browser&lt;/head&gt;
    &lt;list rend="ol"&gt;
      &lt;item&gt;Install the browser plugin to enable full functionality&lt;/item&gt;
      &lt;item&gt;Create a new profile&lt;/item&gt;
      &lt;item&gt;Go to Settings &amp;gt; Profiles &amp;gt; General&lt;/item&gt;
      &lt;item&gt;Set Profile Type to Web Browser&lt;/item&gt;
    &lt;/list&gt;
    &lt;p&gt;Note for Enterprise Users: Administrators can block the browser plugin by restricting bundle ID &lt;code&gt;com.googlecode.iterm2.iTermBrowserPlugin&lt;/code&gt;.&lt;/p&gt;
    &lt;head rend="h3"&gt;Disabling Browser Features&lt;/head&gt;
    &lt;p&gt;If you prefer not to use browser features, you can completely hide them by setting Settings &amp;gt; Advanced &amp;gt; Enable browser-style profiles to No.&lt;/p&gt;
    &lt;head rend="h2"&gt;Core Features&lt;/head&gt;
    &lt;head rend="h3"&gt;Navigation and Window Management&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Browser profiles work within iTerm2's standard window/tab/split pane hierarchy.&lt;/item&gt;
      &lt;item&gt;Use hotkey windows, Open Quickly, navigation shortcuts, and per-session hotkeys as with terminal sessions.&lt;/item&gt;
      &lt;item&gt;Exception: â-[ and â-] perform Back/Forward navigation instead of pane switching in browser sessions.&lt;/item&gt;
      &lt;item&gt;Cmd+click opens links in new tabs.&lt;/item&gt;
      &lt;item&gt;Cmd+Shift+click opens links in new vertical split panes.&lt;/item&gt;
      &lt;item&gt;Cmd+Shift+Option+click opens links in new horizontal split panes.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Text and Selection&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Copy on selection works identically to terminal windows.&lt;/item&gt;
      &lt;item&gt;Smart Selection works identically to terminal windows. Smart Selection Actions appear in the context menu.&lt;/item&gt;
      &lt;item&gt;Copy Mode uses the same keystrokes as terminal sessions.&lt;/item&gt;
      &lt;item&gt;Jump to Selection functions as in terminal sessions.&lt;/item&gt;
      &lt;item&gt;Find supports regular expressions and case-sensitive search, just like in a terminal.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;AI Integration&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Link browser sessions to AI chat to discuss web pages.&lt;/item&gt;
      &lt;item&gt;Click hamburger menu â Ask AI to create a new AI chat with the reader-mode content of the current page attached.&lt;/item&gt;
      &lt;item&gt;Summarize, analyze, or ask questions about the current page.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Privacy and Security&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;/dev/null mode is a mode for browsing privately that prevents any data from being saved to disk.&lt;/item&gt;
      &lt;item&gt;Built-in popup blocking blocks popups not initiated by user action.&lt;/item&gt;
      &lt;item&gt;Simple ad blocking using WebKit content blocker rules (configure via hamburger menu â Settings).&lt;/item&gt;
      &lt;item&gt;CONNECT proxy support for proxy-based adblockers.&lt;/item&gt;
      &lt;item&gt;The existing password manager has been integrated. Browser passwords are stored separately from terminal passwords.&lt;/item&gt;
      &lt;item&gt;Password manager integration for 1Password, and LastPass will use your existing web passwords.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Remote Access&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;View files on remote hosts via SSH Integration using URLs like: &lt;code&gt;iterm2-ssh://example.com/home/user/file.jpg&lt;/code&gt;&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Advanced Features&lt;/head&gt;
    &lt;head rend="h3"&gt;Bookmarks and Organization&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Named Marks act as bookmarks for specific page sections (right-click â Add Named Mark).&lt;/item&gt;
      &lt;item&gt;Standard bookmarks available via hamburger menu.&lt;/item&gt;
      &lt;item&gt;Named Marks and Bookmarks work with Open Quickly and the Named Marks Toolbelt tool.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Recording and History&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Instant Replay captures browser sessions using macOS Screen Capture API.&lt;/item&gt;
      &lt;item&gt;Like instant replay in terminal windows, the RAM limit is respected.&lt;/item&gt;
      &lt;item&gt;Global Search can search across browser sessions.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Automation and Customization&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Key Bindings work in browser profiles (some terminal-specific actions are unavailable).&lt;/item&gt;
      &lt;item&gt;Triggers match when pages finish loading with web-specific actions.&lt;/item&gt;
      &lt;item&gt;Pointer bindings and Actions available, minus some terminal-specific options.&lt;/item&gt;
      &lt;item&gt;Snippets insert text into a focused form field.&lt;/item&gt;
      &lt;item&gt;Broadcast Input works across browser sessions.&lt;/item&gt;
      &lt;item&gt;Advanced Paste available, minus some terminal-specific features.&lt;/item&gt;
      &lt;item&gt;Composer functions in browser sessions.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h3"&gt;Content Management&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Reader Mode is avilable in the hamburger menu.&lt;/item&gt;
      &lt;item&gt;Distraction removal mode similar to Safari's is also in the hamburger menu.&lt;/item&gt;
      &lt;item&gt;Right-click â Remove Element to hide cookie panels or other unwanted elements.&lt;/item&gt;
      &lt;item&gt;Shell &amp;gt; Save Contents saves web pages with resources.&lt;/item&gt;
      &lt;item&gt;Basic auto-fill of form fields is available, using your contact card information.&lt;/item&gt;
      &lt;item&gt;Search suggestions in URL bar.&lt;/item&gt;
      &lt;item&gt;Automatic audio detection and muting.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;Technical Details&lt;/head&gt;
    &lt;p&gt;The browser is built on WKWebView and identifies as Safari to ensure compatibility with most websites.&lt;/p&gt;
    &lt;head rend="h2"&gt;Limitations&lt;/head&gt;
    &lt;list rend="ul"&gt;
      &lt;item&gt;Python API No browser-specific APIs yet. File a feature request if you have ideas.&lt;/item&gt;
      &lt;item&gt;Passkeys Not supported due to Apple-imposed WKWebView restrictions.&lt;/item&gt;
      &lt;item&gt;Advanced ad blocking: Limited by Apple's resource fetching API restrictions.&lt;/item&gt;
    &lt;/list&gt;
    &lt;head rend="h2"&gt;About This Feature&lt;/head&gt;
    &lt;p&gt;This feature exists because: - Many iTerm2 features translate well to web browsing - It provides a unified terminal and browser experience - A former colleague suggested this idea in 2014 and I haven't been able to stop thinking about it. - I am maybe having a midlife crisis and this is cheaper than a sports car.&lt;/p&gt;
    &lt;p&gt;While not intended as a primary browser, iTerm2's web capabilities provide a useful tool for integrated terminal and web workflows.&lt;/p&gt;
  &lt;/main&gt;
  &lt;comments/&gt;
&lt;/doc&gt;</content><link href="https://iterm2.com/documentation-web.html"/><published>2025-09-19T07:14:34+00:00</published></entry></feed>